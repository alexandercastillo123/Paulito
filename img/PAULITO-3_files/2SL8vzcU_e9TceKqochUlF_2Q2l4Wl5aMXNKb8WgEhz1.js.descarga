;/*FB_PKG_DELIM*/

__d("AutoplayRulesEngine",[],(function(a,b,c,d,e,f){"use strict";var g=-2,h=-1;a=function(){function a(a){this.$1=g,this.$2=a}var b=a.prototype;b.evaluateAutoplay=function(a,b){b=b();var c=h;if(a)for(var d=0;d<this.$2.length;d++){var e=this.$2[d](a);if(e!=="SKIP"){b=e;c=d;break}}this.$1=c;return b};b.getIndexOfLastWinningRule=function(){return this.$1};b.getRules=function(){return this.$2};return a}();f["default"]=a}),66);
__d("CVCv3DisabledPlayerOrigins",[],(function(a,b,c,d,e,f){a=Object.freeze({BEEPER:"beeper",FB_STORIES:"fb_stories"});f["default"]=a}),66);
__d("CVCv3DisabledPlayerSubOrigins",[],(function(a,b,c,d,e,f){a=Object.freeze({LIVE_BEEPER:"live_beeper"});f["default"]=a}),66);
__d("CvcV3HttpEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1856513");b=d("FalcoLoggerInternal").create("cvc_v3_http_event",a);e=b;g["default"]=e}),98);
__d("CVCv3SubscriptionHelper",["CvcV3HttpEventFalcoEvent","DateConsts","guid"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d){this.$1=a;this.$2=c("guid")();this.$3=((a=b)!=null?a:"null")+"::"+((b=d)!=null?b:"null");this.$4=null;this.$5=null}var b=a.prototype;b.isValidSubscription=function(){return!!this.$1};b.makeCVCv3StateUpdate=function(a,b,c,e){var f=null;a!=null&&!Number.isNaN(a)&&b!=null&&!Number.isNaN(b)&&(f={m:e,pf:Math.floor((b-a)*d("DateConsts").MS_PER_SEC),s:c,sa:Math.floor(a*d("DateConsts").MS_PER_SEC)});e={pps:this.$4,ps:f,si:this.$2,so:this.$3,vi:this.$1};this.$4=f;return e};b.makeUnifiedVideoCVCUpdate=function(a,b,c,d,e){a=this.makeCVCv3StateUpdate(a,b,c,d);this.$5!=null&&(a.tk=this.$5);return babelHelpers["extends"]({},a,e)};b.processUnifiedResponse=function(a){a=a;this.$5=a.tk;return a};b.clearAnyPreviousContext=function(){this.$4=null};b.logHttpRequestSuccess=function(a){var b=this;c("CvcV3HttpEventFalcoEvent").log(function(){return{name:"http_request_success",duration_ms:a!=null?a.toString():null,countable_id:b.$1}})};b.logHttpRequestFailure=function(a,b){var d=this;c("CvcV3HttpEventFalcoEvent").log(function(){return{name:"http_request_failed",error_msg:a,duration_ms:b!=null?b.toString():null,countable_id:d.$1}})};b.logHttpRequestTimeout=function(a){var b=this;c("CvcV3HttpEventFalcoEvent").log(function(){return{name:"http_request_timeout",duration_ms:a!=null?a.toString():null,countable_id:b.$1}})};b.logHttpResponseBad=function(a,b){var d=this;c("CvcV3HttpEventFalcoEvent").log(function(){return{name:"http_response_bad",error_msg:a,duration_ms:b!=null?b.toString():null,countable_id:d.$1}})};b.logDebugInfo=function(a){var b=this;c("CvcV3HttpEventFalcoEvent").log(function(){return{name:a,countable_id:b.$1}})};return a}();g["default"]=a}),98);
__d("CappedListItemContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext();g["default"]=b}),98);
__d("CometAudioManagerHooks",["CometAudioManagerContexts","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){var a=i(d("CometAudioManagerContexts").AudioApiContext);return a}g.useAudioApi=a}),98);
__d("makeAudioSymbol",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return b+"::"+a}f["default"]=a}),66);
__d("CoreVideoPlayerAudioClient.react",["CometAudioManagerContexts","CometAudioManagerHooks","CometThrottle","VideoPlayerHooks","VideoPlayerPortalingPlaceInfoProvider.react","createVideoStateHook","makeAudioSymbol","react","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useContext,k=b.useEffect,l=b.useId,m=b.useMemo,n=b.useRef,o=b.useState;e=d("createVideoStateHook").createVideoStateHook();var p=e.valueHook;function a(){var a=p({isVolumeInitialized:!1}),b=l(),e=(i||(i=d("VideoPlayerHooks"))).useInstanceKey(),f=m(function(){return c("makeAudioSymbol")(b,e)},[b,e]),g=d("CometAudioManagerHooks").useAudioApi(),h=n(g);k(function(){h.current=g},[g]);var q=i.useController(),r=200,s=i.useLastPlayReason(),t=i.useLastMuteReason(),u=i.useMuted();r=c("CometThrottle")(i.useVolume,r,{trailing:!0});var v=r(),w=c("usePrevious")(v),x=i.usePaused(),y=j(d("CometAudioManagerContexts").CometAudioLocalScopeContext),z=j(d("CometAudioManagerContexts").CometAudioGroupContext),A=d("VideoPlayerPortalingPlaceInfoProvider.react").useVideoPlayerPortalingPlaceInfo(),B=i.useVolumeSetting(),C=m(function(){return(z==null?void 0:z.groupID)||d("CometAudioManagerContexts").makeAudioGroupID()},[z==null?void 0:z.groupID]);r=o(!0);var D=r[0];r=r[1];var E=m(function(){return{audioLocalScope:y,controller:q,groupID:C,instanceKey:e,lastMuteReason:t,lastPlayReason:s,muted:u,paused:x,previousVolume:w,symbol:f,videoPlayerPortalingPlaceInfo:A,volume:v}},[y,q,C,e,t,s,u,x,w,f,A,v]);k(function(){B!=null&&a.isVolumeInitialized!==!0&&(q.setVolume(B),a.isVolumeInitialized=!0)},[q,a,!0,B]);r=z||{allowSound:D,groupID:C,setAllowSound:r};var F=n(r);k(function(){g&&g.register(E,F.current);return function(){g&&g.unregister(f,C)}},[g,E,C,f]);k(function(){g&&g.update(E)},[g,E]);k(function(){!D&&h.current&&q.setMuted(!0,"audio_manager_initiated")},[D,h,q]);return null}g["default"]=a}),98);
__d("VideoPlayerAutoplayHooks",["VideoPlayerAutoplayContexts","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){var a=i(d("VideoPlayerAutoplayContexts").AutoplayApiContext);if(a==null)throw c("unrecoverableViolation")("Empty AutoplayApiContext. Are you rendering useAutoplayApi outside of VideoAutoplayManagerX?","comet_video_player");return a}function b(){return i(d("VideoPlayerAutoplayContexts").VideoAutoplayLocalScopeContext)}g.useAutoplayApi=a;g.useVideoAutoplayLocalScope=b}),98);
__d("evaluateVideoAutoplayDefaultAllowRule",[],(function(a,b,c,d,e,f){"use strict";function a(){return"ALLOW"}a.displayName="evaluateVideoAutoplayDefaultRule";f["default"]=a}),66);
__d("makeSelectedAutoplayVideoSymbol",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return b+"::"+a}f["default"]=a}),66);
__d("useAutoplayRulesEngine",["AutoplayRulesEngine","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef,k=b.useState;function a(a){var b=j(a),d=k(function(){return new(c("AutoplayRulesEngine"))(a)}),e=d[0],f=d[1];i(function(){b.current!==a&&f(function(){return new(c("AutoplayRulesEngine"))(a)})},[a]);i(function(){b.current=e.getRules()},[e]);return e}g["default"]=a}),98);
__d("useConcurrentAutoplayManagementAPI",["react","removeFromArray"],(function(a,b,c,d,e,f,g){"use strict";var h;e=h||d("react");var i=e.useId,j=e.useState;function a(){return i()}function k(){var a=[];return{isControllingComponent:function(b){var c=a.length;return a[c-1]===b},registerControllingComponent:function(b){c("removeFromArray")(a,b),a.push(b)},unregisterControllingComponent:function(b){var d=a.length;d>1&&c("removeFromArray")(a,b);return d>1}}}function b(){var a=j(function(){return k()});a=a[0];return a}g.useAutoplayControlID=a;g.createConcurrentAutoplayManagementAPI=k;g.useConcurrentAutoplayManagementAPI=b}),98);
__d("VideoPlayerContextSensitiveConfigUtils",[],(function(a,b,c,d,e,f){"use strict";var g=function(a,b){return b.every(function(b){return a[b.name]===b.value})};a=function(a,b){return b.find(function(b){return g(a,b.contexts)})};f.getFirstMatchingValueAndContextTargets=a}),66);
__d("VideoPlayerContextSensitiveConfigResolver",["VideoPlayerContextSensitiveConfigPayload","VideoPlayerContextSensitiveConfigUtils","cr:1724253"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1={},this.$2={},a==null?(this.$3=c("VideoPlayerContextSensitiveConfigPayload").static_values,this.$4=c("VideoPlayerContextSensitiveConfigPayload").context_sensitive_values):(this.$3=a.staticValues,this.$4=a.contextSensitiveValues)}var e=a.prototype;e.setContexts=function(a){this.$1=a,this.$2=this.$5(a)};e.getValue=function(a){if(this.$2[a]!=null)return this.$2[a];return this.$3[a]!=null?this.$3[a]:null};e.$5=function(a){var b=this;return Object.keys(this.$4).reduce(function(c,e){var f=b.$4[e];if(f!=null){f=d("VideoPlayerContextSensitiveConfigUtils").getFirstMatchingValueAndContextTargets(a,f);f!=null&&(c[e]=f.value)}return c},{})};a.getPayload=function(){return c("VideoPlayerContextSensitiveConfigPayload")};a.getSources=function(){return b("cr:1724253")};return a}();g["default"]=a}),98);
__d("VideoPlayerShakaGlobalConfig",["VideoPlayerContextSensitiveConfigResolver"],(function(a,b,c,d,e,f,g){var h=new(c("VideoPlayerContextSensitiveConfigResolver"))(),i={};a=function(a){i=a};b=function(a,b){if(!!i&&typeof i[a]==="boolean")return i[a];a=h.getValue(a);return a!=null&&typeof a==="boolean"?a:b};d=function(a,b){if(!!i&&typeof i[a]==="number")return i[a];a=h.getValue(a);return a!=null&&typeof a==="number"?a:b};e=function(a,b){if(!!i&&typeof i[a]==="string")return i[a];a=h.getValue(a);return a!=null&&typeof a==="string"?a:b};g.setGlobalOverrideConfig=a;g.getBool=b;g.getNumber=d;g.getString=e}),98);
__d("VideoPlayerViewabilityHooks",["VideoPlayerHooks"],(function(a,b,c,d,e,f,g){"use strict";var h;g.useVideoPlayerExtendedPassiveViewabilityInfo=(h||(h=d("VideoPlayerHooks"))).useVideoPlayerExtendedPassiveViewabilityInfo;g.useVideoPlayerPassiveViewabilityInfo=h.useVideoPlayerPassiveViewabilityInfo;g.useVideoPlayerViewabilityInfo=h.useVideoPlayerViewabilityInfo}),98);
__d("useEventCallbackOn",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a,b,c){i(function(){a.addEventListener(b,c);return function(){a.removeEventListener(b,c)}},[a,b,c])}g["default"]=a}),98);
__d("useIsBackgrounded",["emptyFunction","react","useEventCallbackOn"],(function(a,b,c,d,e,f,g){"use strict";var h;f=h||d("react");var i=f.useCallback,j=f.useState;function b(){var b=a.document;if(typeof b.hidden!=="undefined")return"visibilitychange";else if(typeof b.mozHidden!=="undefined")return"mozvisibilitychange";else if(typeof b.msHidden!=="undefined")return"msvisibilitychange";else if(typeof b.webkitHidden!=="undefined")return"webkitvisibilitychange";return"visibilitychange"}function k(){var b=a.document;if(typeof b.hidden!=="undefined")return b.hidden;else if(typeof b.mozHidden!=="undefined")return b.mozHidden;else if(typeof b.msHidden!=="undefined")return b.msHidden;else if(typeof b.webkitHidden!=="undefined")return b.webkitHidden;return!1}var l=b();function m(b){var c=a.document.hasFocus?a.document.hasFocus():!0,d=k();return d||(b?!1:!c)}function n(){return k()}function e(b){var d=(b==null?void 0:b.noPauseOnBlurOrFocus)===!0,e=j(function(){return m(d)}),f=e[0],g=e[1];e=j(function(){return n()});var h=e[0],k=e[1],o=!!b&&b.scrollTerminatesHiddenOrBlurred===!0;e=i(function(){g(m(d)),k(n())},[g,d]);b=e;var p=i(function(){var a=m(d);a&&o&&f&&g(!1)},[f,d,o]);d&&(b=c("emptyFunction"));c("useEventCallbackOn")(a.window,"blur",b);c("useEventCallbackOn")(a.window,"focus",b);c("useEventCallbackOn")(a.document,l,e);c("useEventCallbackOn")(a.window,"scroll",p);return{isDocumentHidden:h,isDocumentHiddenOrBlurred:f}}g["default"]=e}),98);
__d("VideoPlayerOzWWWGlobalConfig",["VideoPlayerShakaGlobalConfig"],(function(a,b,c,d,e,f,g){"use strict";var h="oz_www_";a={getBool:function(a,b){return d("VideoPlayerShakaGlobalConfig").getBool(h+a,b)},getNumber:function(a,b){return d("VideoPlayerShakaGlobalConfig").getNumber(h+a,b)},getString:function(a,b){return d("VideoPlayerShakaGlobalConfig").getString(h+a,b)}};b=a;g["default"]=b}),98);
__d("useVideoPlayerBandwidthEstimate",["VideoPlayerOzWWWGlobalConfig","oz-player/networks/OzBandwidthEstimator","react","useInterval"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useState,j=5e3;function a(){var a=function(){return c("oz-player/networks/OzBandwidthEstimator").getBandwidth(c("VideoPlayerOzWWWGlobalConfig"))},b=i(a()),d=b[0],e=b[1];c("useInterval")(function(){return e(a())},j);return d}g["default"]=a}),98);
__d("useVideoAutoplayState",["HiddenSubtreePassiveContext","VideoPlayerHooks","VideoPlayerShakaGlobalConfig","VideoPlayerViewabilityHooks","react","useIsBackgrounded","useVideoPlayerBandwidthEstimate"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.startTransition,k=b.useContext,l=b.useEffect,m=b.useMemo,n=b.useRef,o=b.useState;function a(a){var b=(i||(i=d("VideoPlayerHooks"))).useAdClientToken(),e=i.useAutoplayGatingResult(),f=i.useBroadcastStatus(),g=i.useEnded(),h=i.useIsFrozenPassive(),p=i.useLastPauseReason(),q=i.useLastPlayReason(),r=i.useMuted(),s=i.usePaused(),t=k(c("HiddenSubtreePassiveContext")),u=!b;a=(a==null?void 0:a.noPauseOnBlurOrFocus)===!0||d("VideoPlayerShakaGlobalConfig").getBool("comet_www_no_pause_on_blur_or_focus_events",!1);a=c("useIsBackgrounded")({noPauseOnBlurOrFocus:a,scrollTerminatesHiddenOrBlurred:u});var v=a.isDocumentHidden,w=a.isDocumentHiddenOrBlurred,x=c("useVideoPlayerBandwidthEstimate")(),y=d("VideoPlayerViewabilityHooks").useVideoPlayerPassiveViewabilityInfo(),z=d("VideoPlayerViewabilityHooks").useVideoPlayerExtendedPassiveViewabilityInfo();u=o(t.getCurrentState().backgrounded);var A=u[0],B=u[1];a=o(t.getCurrentState().hidden);var C=a[0],D=a[1];l(function(){var a=function(){j(function(){var a=t.getCurrentState();D(a.hidden);B(a.backgrounded)})},b=t.subscribeToChanges(a);a();return function(){b.remove()}},[t,B,D]);u=o(function(){return h.getCurrentState()});var E=u[0],F=u[1];l(function(){var a=h.subscribeToChanges(function(a){F(a)}),b=h.getCurrentState();F(b);return function(){a.remove()}},[h,F]);var G=m(function(){return{adClientToken:b,autoplayGatingResult:e,bandwidthEstimate:x,broadcastStatus:f,controllerIsFrozen:E,currentSubtreeIsBackgrounded:A,currentSubtreeIsHidden:C,ended:g,hiddenSubtreePassive:t,isDocumentHidden:v,isDocumentHiddenOrBlurred:w,isFrozenPassive:h,lastPauseReason:p,lastPlayReason:q,muted:r,paused:s,videoPlayerExtendedPassiveViewabilityInfo:z,videoPlayerPassiveViewabilityInfo:y}},[b,e,x,f,E,A,C,g,t,v,w,h,p,q,r,s,z,y]);a=o(G);var H=a[0],I=a[1],J=n(H);l(function(){J.current=H},[H]);l(function(){var a=!1;for(var b in G)if(Object.prototype.hasOwnProperty.call(G,b)&&G[b]!==J.current[b]){a=!0;break}a&&I(G)},[G,I]);return H}g["default"]=a}),98);
__d("CoreVideoPlayerAutoplayClient.react",["CoreVideoPlayerAutoplayClientUtils","HiddenSubtreePassiveContext","VideoPlayerAutoplayHooks","VideoPlayerDebugAutoplayAPI","VideoPlayerHooks","VideoPlayerViewabilityConstants","WwwCometVideoAutoplayFalcoEvent","evaluateVideoAutoplayDefaultAllowRule","evaluateVideoAutoplayDefaultIgnoreRule","makeSelectedAutoplayVideoSymbol","react","useAutoplayRulesEngine","useConcurrentAutoplayManagementAPI","useVideoAutoplayState"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useCallback,k=b.useContext,l=b.useEffect,m=b.useId,n=b.useMemo,o=b.useRef,p=b.useState;function a(){var a=m(),b=(i||(i=d("VideoPlayerHooks"))).useCanAutoplay(),e=i.useInstanceKey(),f=n(function(){return c("makeSelectedAutoplayVideoSymbol")(a,e)},[a,e]),g=o(f);l(function(){g.current=f},[f]);var h=k(c("HiddenSubtreePassiveContext")),q=i.useController(),r=o(!1),s=d("useConcurrentAutoplayManagementAPI").useAutoplayControlID();l(function(){d("CoreVideoPlayerAutoplayClientUtils").log(g.current,"[ASSUME CONTROL] "+s),q.registerControllingComponent(s)},[q,s]);var t=i.useVideoPlayerPassiveViewabilityInfo(),u=q.getCurrentState();u=u.paused;var v=o(u),w=d("VideoPlayerAutoplayHooks").useVideoAutoplayLocalScope(),x=o(w);l(function(){x.current=w},[w]);var y=j(function(){var a=q.getCurrentState(),b=a.lastPlayReason;a=a.paused;var d=v.current;v.current=a;var e=t==null?void 0:t.getCurrent();if(e){e=e.visiblePercentage;a=!a&&a!==d;d=e<c("VideoPlayerViewabilityConstants").DEFAULT_VIEWABILITY_PERCENTAGE_FOR_PAUSE&&e>0;x.current.disableScrollBeforePlayWhenOffscreen!==!0&&a&&b==="user_initiated"&&d&&(r.current=!0)}},[q,t]),z=o(y);l(function(){z.current=y},[y]);l(function(){var a=q.subscribe(function(){y()});return function(){a.remove()}},[q,y]);var A=c("useVideoAutoplayState")({noPauseOnBlurOrFocus:w.noPauseOnBlurOrFocus}),B=c("useAutoplayRulesEngine")(w.autoplayLocalRules),C=b==="allow"?c("evaluateVideoAutoplayDefaultAllowRule"):c("evaluateVideoAutoplayDefaultIgnoreRule");u=p(function(){return C});var D=u[0],E=u[1];u=p(null);var F=u[0],G=u[1];u=p(function(){return B.evaluateAutoplay(A,C)});var H=u[0],I=u[1];u=p(null);var J=u[0],K=u[1],L=o(H),M=d("VideoPlayerAutoplayHooks").useAutoplayApi(),N=o(M);l(function(){N.current=M},[M]);var O=b!=="dangerously_disable_autoplay_management";l(function(){M.register(f,e,w,q,h,O);c("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"register",autoplay_scope_id:x.current.autoplayScopeID,event_creation_time:Date.now(),initiator:g.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:M.getAutoplayManagerDebugInfo(x.current).selectedAutoplayVideoSymbol,target:g.current,target_current_autoplay_decision:L.current}});return function(){M.unregister(f),c("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"unregister",autoplay_scope_id:x.current.autoplayScopeID,event_creation_time:Date.now(),initiator:g.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:M.getAutoplayManagerDebugInfo(x.current).selectedAutoplayVideoSymbol,target:g.current,target_current_autoplay_decision:L.current}})}},[M,w,q,h,e,O,f]);l(function(){var a=function(){var b=B.evaluateAutoplay(A,C);L.current=b;var e=B.getRules(),h=B.getIndexOfLastWinningRule(),a=h>=0?e[h]:C;e=t&&t.getCurrent();h=q.getCurrentState();h=h.paused;(J===null||J!==b)&&(I(b),K(b));if(b==="PAUSE"&&!h&&q.isControllingComponent(s)){h=!0;z.current();if(r.current){r.current=!1;var i=e==null?void 0:e.positionToViewport;i&&q.scrollIntoView(i.top<0);h=!1}if(h){i="[PAUSE] via short-circuit on "+a.name+".";d("CoreVideoPlayerAutoplayClientUtils").log(g.current,i);q.pause("autoplay_initiated");c("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"pause",autoplay_scope_id:x.current.autoplayScopeID,event_creation_time:Date.now(),initiator:g.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:M.getAutoplayManagerDebugInfo(x.current).selectedAutoplayVideoSymbol,target:g.current,target_current_autoplay_decision:b}})}}(F===null||F!==a)&&(E(function(){return a}),G(function(){return a}),c("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"rule_changed",autoplay_scope_id:x.current.autoplayScopeID,event_creation_time:Date.now(),initiator:g.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:M.getAutoplayManagerDebugInfo(x.current).selectedAutoplayVideoSymbol,target:g.current,target_current_autoplay_decision:b}}));d("CoreVideoPlayerAutoplayClientUtils").log(g.current,"[DECISION: "+b+"] from "+a.name);e&&M.update(f,b,e)},b=h.subscribeToChanges(function(a){h.getCurrentState().hidden||h.getCurrentState().backgrounded?q.isControllingComponent(s)||q.unregisterControllingComponent(s):q.registerControllingComponent(s)}),e=t?t.subscribe(function(){h.getCurrentState().hidden||h.getCurrentState().backgrounded?q.isControllingComponent(s)||q.unregisterControllingComponent(s):q.registerControllingComponent(s),a()}):null;a();return function(){b.remove(),e&&e.remove()}},[M,s,B,q,C,h,F,J,E,I,G,K,f,A,t]);l(function(){var a=q.isControllingComponent(s),b=q.getCurrentState();b=b.paused;d("CoreVideoPlayerAutoplayClientUtils").componentShouldPause(H,L.current,b,a)&&(d("CoreVideoPlayerAutoplayClientUtils").log(g.current,"[PAUSE] the video for "+H),q.pause("autoplay_initiated"),c("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"pause",autoplay_scope_id:x.current.autoplayScopeID,event_creation_time:Date.now(),initiator:g.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:N.current.getAutoplayManagerDebugInfo(x.current).selectedAutoplayVideoSymbol,target:g.current,target_current_autoplay_decision:H}}))},[H,q,s]);l(function(){return function(){d("CoreVideoPlayerAutoplayClientUtils").log(g.current,"[RELEASE CONTROL] "+s),q.unregisterControllingComponent(s)}},[q,s]);c("VideoPlayerDebugAutoplayAPI").useVideoPlayerDebugAPIDefinition({applicableRule:D,autoplayApiRef:N,autoplayDecision:H,autoplayLocalScope:w,symbol:f});return null}g["default"]=a}),98);
__d("VideoPlayerViewabilityProvider.react",["VideoPlayerViewabilityContexts","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children,c=a.isDesktopPictureInPicture,e=a.isFullscreen;a=a.videoPlayerPassiveViewabilityInfo;return i.jsx(d("VideoPlayerViewabilityContexts").VideoPlayerPassiveViewabilityInfoContext.Provider,{value:a,children:i.jsx(d("VideoPlayerViewabilityContexts").VideoPlayerDesktopPictureInPictureContext.Provider,{value:c,children:i.jsx(d("VideoPlayerViewabilityContexts").VideoPlayerFullscreenContext.Provider,{value:e,children:b})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useBlockCappedListItemWhenPlayingVideo",["CappedListItemContext","err","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useEffect;function a(a,b){var d=(b=i(c("CappedListItemContext")))==null?void 0:b.registerBlocker;j(function(){if(!d)return;var b=null,c=null,e=function(){var e=a.getCurrentState().playing;if(e!==b){b=e;c&&(c(),c=null);if(e){e="playing_video";var f;c=d({reason:e,source:f})}}};e();var f=a.subscribe(e);return function(){f.remove(),c&&(c(),c=null)}},[a,d])}g["default"]=a}),98);
__d("useDisableVirtualizationWhenPlayingVideo",["VirtualizationContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useEffect;function a(a,b){var d=i(c("VirtualizationContext"));j(function(){if(d==null)return;var c=d.createFlag,e=d.createPin,f=null,g=null,h=function(){g==null&&(g=c("HAS_PLAYER","playerInstanceKey: "+b));var d=a.getCurrentState();d.playing||d.stalling?f||(f=e("player "+b+" is playing")):d.isFullscreen?f||(f=e("player "+b+" is fullscreen")):(f==null?void 0:f(),f=null)};h();var i=a.subscribe(h);return function(){i.remove(),g==null?void 0:g(),g=null,f==null?void 0:f(),f=null}},[a,b,d])}g["default"]=a}),98);
__d("wrapWithContextProviders",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a,b){return b.reduceRight(function(a,b){return b(a)},a)}a.displayName=a.name+" [from "+f.id+"]";function b(a,b){return function(c){return i.jsx(a.Provider,{value:b,children:c})}}g.wrapWithContextProviders=a;g.makeRenderProviderFn=b}),98);
__d("VideoPlayerComponentContainer.react",["CometVisualCompletionAttributes","VideoPlayerContexts","VideoPlayerHooks","VideoPlayerViewabilityProvider.react","clearTimeout","cr:6094","react","setTimeout","stylex","useBlockCappedListItemWhenPlayingVideo","useDisableVirtualizationWhenPlayingVideo","wrapWithContextProviders"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react"));e=i;var m=e.useCallback,n=e.useEffect,o=e.useRef,p=e.useState,q={"default":{height:"x5yr21d",position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",$$css:!0},hiddenCursor:{cursor:"xjfk50j",$$css:!0}};function r(a){var b=o(a);n(function(){b.current=a},[a]);var d=p(!1),e=d[0],f=d[1];d=p(function(){var a=null;return{cleanup:function(){a&&a()},pingNotIdle:function(){a&&a();f(!1);var d=c("setTimeout")(function(){f(!0)},b.current);a=function(){c("clearTimeout")(d),a=null}}}});d=d[0];var g=d.cleanup;d=d.pingNotIdle;n(function(){return g},[g]);return{isIdle:e,pingNotIdle:d}}function s(){var a=p(!1),b=a[0],c=a[1];a=3e3;a=r(a);var d=a.isIdle,e=a.pingNotIdle;a=m(function(){c(!0),e()},[e]);var f=m(function(){c(!1),e()},[e]),g=m(function(){c(!0),e()},[e]),h=m(function(){e()},[e]),i=m(function(){e()},[e]);return{isHovering:b,isIdle:d,onMouseDown:h,onMouseEnter:a,onMouseLeave:f,onMouseMove:g,onMouseUp:i}}function t(a){a=a.children;var b=s(),e=b.isHovering,f=b.isIdle,g=b.onMouseDown,i=b.onMouseEnter,m=b.onMouseLeave,n=b.onMouseMove;b=b.onMouseUp;var o=(k||(k=d("VideoPlayerHooks"))).useIsFullscreen();return l.jsx("div",babelHelpers["extends"]({className:(h||(h=c("stylex")))(q["default"],o&&f&&q.hiddenCursor)},c("CometVisualCompletionAttributes").IGNORE,{onMouseDown:g,onMouseEnter:i,onMouseLeave:m,onMouseMove:n,onMouseUp:b,children:l.jsx((j||(j=d("VideoPlayerContexts"))).VideoPlayerMouseHoverContext.Provider,{value:e,children:l.jsx(j.VideoPlayerMouseIdleContext.Provider,{value:f,children:a})})}))}t.displayName=t.name+" [from "+f.id+"]";function a(a){var e=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,["children"]);var f=a.adClientToken,g=a.audioAvailabilityInfo,h=a.autoplayGatingResult,i=a.broadcastStatus,k=a.canAutoplay,m=a.controller,n=a.dimensions,o=a.initialTracePolicy,p=a.instanceKey,q=a.isDesktopPictureInPicture,r=a.isFullscreen,s=a.isNCSR,u=a.isPremiumMusicVideo,v=a.lastMuteReason,w=a.lastPauseReason,x=a.lastPlayReason,y=a.videoFBID,z=a.videoPixelsAspectRatio,A=a.videoPlayerPassiveViewabilityInfo,B=a.videoState,C=a.volumeSetting,D=B.activeCaptions,E=B.activeEmsgBoxes,F=B.availableAudioTracks,G=B.availableVideoQualities,H=B.availableVideoTracks,I=B.bufferEnd,J=B.captionDisplayStyle,K=B.captionsLoaded,L=B.captionsVisible,M=B.currentAudioTrackID,N=B.currentVideoQuality,O=B.duration,P=B.ended,Q=B.error,R=B.inbandCaptionsAutogenerated,S=B.inPlayStalling,T=B.isAbrEnabled,U=B.isLiveRewindActive,V=B.isLiveRewindAvailable,W=B.lastPlayedTimeMs,X=B.latencyLevel,Y=B.loopCount,Z=B.loopCurrent,$=B.muted,aa=B.paused,ba=B.playerVersion,ca=B.playing,da=B.seekableRanges,ea=B.seeking,fa=B.selectedVideoQuality,ga=B.stalling,ha=B.streamInterrupted,ia=B.targetAudioTrack,ja=B.targetPlaybackRate,ka=B.targetVideoQuality,la=B.volume;B=B.watchTimeMs;e=l.jsx(t,{children:e});b("cr:6094")(p,{controller:m,coreVideoStates:a,videoPlayerPassiveViewabilityInfo:A});a=(a=d("wrapWithContextProviders")).wrapWithContextProviders(e,[a.makeRenderProviderFn((j||(j=d("VideoPlayerContexts"))).VideoFBIDContext,y),d("wrapWithContextProviders").makeRenderProviderFn(j.StallingContext,ga),d("wrapWithContextProviders").makeRenderProviderFn(j.PlayingContext,ca),d("wrapWithContextProviders").makeRenderProviderFn(j.InPlayStallingContext,S),d("wrapWithContextProviders").makeRenderProviderFn(j.BufferEndContext,I),d("wrapWithContextProviders").makeRenderProviderFn(j.LastMuteReasonContext,v),d("wrapWithContextProviders").makeRenderProviderFn(j.LastPlayReasonContext,x),d("wrapWithContextProviders").makeRenderProviderFn(j.LastPauseReasonContext,w),d("wrapWithContextProviders").makeRenderProviderFn(j.PausedContext,aa),d("wrapWithContextProviders").makeRenderProviderFn(j.CurrentAudioTrackIDContext,M),d("wrapWithContextProviders").makeRenderProviderFn(j.CurrentVideoQualityContext,N),d("wrapWithContextProviders").makeRenderProviderFn(j.MutedContext,$),d("wrapWithContextProviders").makeRenderProviderFn(j.TargetAudioTrackContext,ia),d("wrapWithContextProviders").makeRenderProviderFn(j.VolumeContext,la),d("wrapWithContextProviders").makeRenderProviderFn(j.SelectedVideoQualityContext,fa),d("wrapWithContextProviders").makeRenderProviderFn(j.SeekingContext,ea),d("wrapWithContextProviders").makeRenderProviderFn(j.DurationContext,O),d("wrapWithContextProviders").makeRenderProviderFn(j.EndedContext,P),d("wrapWithContextProviders").makeRenderProviderFn(j.ErrorContext,Q),d("wrapWithContextProviders").makeRenderProviderFn(j.DimensionsContext,n||null),d("wrapWithContextProviders").makeRenderProviderFn(j.InstanceKeyContext,p),d("wrapWithContextProviders").makeRenderProviderFn(j.ControllerContext,m),d("wrapWithContextProviders").makeRenderProviderFn(j.AvailableAudioTracksContext,F),d("wrapWithContextProviders").makeRenderProviderFn(j.AvailableVideoQualitiesContext,G),d("wrapWithContextProviders").makeRenderProviderFn(j.AvailableVideoTracksContext,H),d("wrapWithContextProviders").makeRenderProviderFn(j.PlayerVersionContext,ba),d("wrapWithContextProviders").makeRenderProviderFn(j.IsAbrEnabledContext,T),d("wrapWithContextProviders").makeRenderProviderFn(j.TargetVideoQualityContext,ka),d("wrapWithContextProviders").makeRenderProviderFn(j.PlaybackRateContext,ja),d("wrapWithContextProviders").makeRenderProviderFn(j.CanAutoplayContext,k),d("wrapWithContextProviders").makeRenderProviderFn(j.VolumeSettingContext,C),d("wrapWithContextProviders").makeRenderProviderFn(j.AutoplayGatingResultContext,h),d("wrapWithContextProviders").makeRenderProviderFn(j.BroadcastStatusContext,i),d("wrapWithContextProviders").makeRenderProviderFn(j.LoopCountContext,Y),d("wrapWithContextProviders").makeRenderProviderFn(j.LoopCurrentContext,Z),d("wrapWithContextProviders").makeRenderProviderFn(j.AdClientTokenContext,f),d("wrapWithContextProviders").makeRenderProviderFn(j.ActiveCaptionsContext,D),d("wrapWithContextProviders").makeRenderProviderFn(j.CaptionsVisibleContext,L),d("wrapWithContextProviders").makeRenderProviderFn(j.CaptionDisplayStyleContext,J),d("wrapWithContextProviders").makeRenderProviderFn(j.CaptionsLoadedContext,K),d("wrapWithContextProviders").makeRenderProviderFn(j.InbandCaptionsAutogeneratedContext,R),d("wrapWithContextProviders").makeRenderProviderFn(j.StreamInterruptedContext,ha),d("wrapWithContextProviders").makeRenderProviderFn(j.WatchTimeContext,B),d("wrapWithContextProviders").makeRenderProviderFn(j.LastPlayedTimeContext,W),d("wrapWithContextProviders").makeRenderProviderFn(j.SeekableRangesContext,da),d("wrapWithContextProviders").makeRenderProviderFn(j.LatencyLevelContext,X),d("wrapWithContextProviders").makeRenderProviderFn(j.IsLiveRewindActiveContext,U),d("wrapWithContextProviders").makeRenderProviderFn(j.IsLiveRewindAvailableContext,V),d("wrapWithContextProviders").makeRenderProviderFn(j.AudioAvailabilityInfoContext,g),d("wrapWithContextProviders").makeRenderProviderFn(j.IsNCSRContext,s),d("wrapWithContextProviders").makeRenderProviderFn(j.IsPremiumMusicVideoContext,u),d("wrapWithContextProviders").makeRenderProviderFn(j.InitialTracePolicyContext,o),d("wrapWithContextProviders").makeRenderProviderFn(j.ActiveEmsgBoxesContext,E),d("wrapWithContextProviders").makeRenderProviderFn(j.VideoPixelsAspectRatioContext,(e=z)!=null?e:null),function(a){return l.jsx(c("VideoPlayerViewabilityProvider.react"),{isDesktopPictureInPicture:q,isFullscreen:r,videoPlayerPassiveViewabilityInfo:A,children:a})}]);c("useBlockCappedListItemWhenPlayingVideo")(m,p);c("useDisableVirtualizationWhenPlayingVideo")(m,p);return l.jsx("div",{"data-instancekey":p,"data-testid":void 0,children:a})}a.displayName=a.name+" [from "+f.id+"]";e=l.memo(a);g["default"]=e}),98);
__d("GlobalVideoPortsID",["cometUniqueID","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(){return"id-pv-"+c("cometUniqueID")()}function b(a){if(typeof a==="string"){var b="id-pv-";if(a.indexOf(b)===0&&a.length>b.length)return a;else throw c("unrecoverableViolation")('Expected a GlobalVideoPortsVideoID, got a string that does not look like it: "'+a+'"',"comet_video_player")}else return null}function d(){return"id-pp-"+c("cometUniqueID")()}g.makeVideoID=a;g.ensureVideoID=b;g.makePlaceID=d}),98);
__d("VideoPlayerFullscreenController",["CometFullScreen","removeFromArray","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.current!=null&&d("CometFullScreen").getFullScreenElement()===a.current}function a(a){var b=[];function e(){b.forEach(function(a){a()})}var f=null;return{getIsFullscreen:function(){return h(a)},requestSetIsFullscreen:function(b,e){var f=a.current;if(f==null)throw c("unrecoverableViolation")("Requested full screen while the element is not present","comet_video_player");d("CometFullScreen").isSupported()?b!==h(a)&&(b===!0?d("CometFullScreen").requestFullScreen(f):b===!1&&d("CometFullScreen").exitFullScreen()):b&&e!=null&&typeof e.webkitEnterFullScreen==="function"?e.webkitEnterFullScreen():!b&&e!=null&&typeof e.webkitExitFullScreen==="function"&&e.webkitExitFullscreen()},subscribe:function(a){b.length===0&&f==null&&(f=d("CometFullScreen").subscribeToFullScreenChangeEvent(e));b.push(a);return{remove:function(){c("removeFromArray")(b,a),b.length===0&&f!=null&&(f(),f=null)}}}}}g.createFullscreenController=a}),98);
__d("VideoPlayerPortalingPlaceState",["GlobalVideoPortsContexts","GlobalVideoPortsID","gkx","react","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h;f=h||d("react");var i=f.useEffect,j=f.useState;function a(a,b){var e=c("usePrevious")(a);i(function(){a!==e&&(e!==null&&e&&!a&&b(d("GlobalVideoPortsID").makeVideoID()))},[a,e,b])}function b(a,b){var c=j(null),e=c[0];c=c[1];a!==e&&(e!==null&&e&&!a&&b(d("GlobalVideoPortsID").makeVideoID()),c(a))}var k=c("gkx")("24382")?b:a;function e(a){var b=a.portalingEnabled;a=a.portalingFromVideoID;var c=d("GlobalVideoPortsContexts").useGlobalVideoPortsLoader(),e=d("GlobalVideoPortsContexts").useGlobalVideoPortsManager(),f=d("GlobalVideoPortsContexts").useGlobalVideoPortsState(),g=e!=null&&f!=null,h=(g||c!=null)&&(b||a!=null),l=j(function(){return d("GlobalVideoPortsID").makePlaceID()});l=l[0];var m=j(function(){return d("GlobalVideoPortsID").makeVideoID()}),n=m[0];m=m[1];b=h&&b&&a!=null;a=b&&a!=null?a:n;k(b,m);i(function(){h&&!g&&c&&c()},[g,h,c]);return{canBecomePortableLater:h,currentVideoID:a,globalVideoPortsManager:e,globalVideoPortsState:f,thisPlaceID:l}}g.useRegenerateUniqueVideoID_exportedForTest=k;g.useVideoPlayerPortalingPlaceState=e}),98);
__d("getOwnObjectValues",[],(function(a,b,c,d,e,f){function a(a){return Object.keys(a).map(function(b){return a[b]})}f["default"]=a}),66);
__d("VideoPlayerPortalingPlaceWithPortaling.react",["BaseContextualLayerAnchorRootContext","CoreVideoPlayerFitParentContainer.react","GlobalVideoPortsRenderers.react","getOwnObjectValues","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.useEffect,l=b.useRef,m=b.useState;function a(a){var b=a.coreVideoPlayerMetaData,e=a.currentPlaceID,f=a.currentVideoID,g=a.fullscreenController,h=a.globalVideoPortsManager,n=a.globalVideoPortsState_DEPRECATED,o=a.implementations,p=a.isFullscreen,q=a.portablePlaceMetaData,r=a.previousPlaceMetaData,s=a.renderComponents,t=a.renderPlaceholder,u=a.thisPlaceID,v=a.trackingDataEncrypted,w=a.trackingNodes,x=a.viewportMarginsForViewability;a=m(function(){return d("CoreVideoPlayerFitParentContainer.react").createFitParentContainerDiv({debugRole:null})});var y=a[0],z=l(null);k(function(){h.addOrUpdatePlace({coreVideoPlayerMetaData:b,fullscreenController:g,implementations:o,injectCoreVideoStatesRef:z,isFullscreen:p,portablePlaceContainer:y,portablePlaceID:u,portablePlaceMetaData:q,portableVideoID:f,renderComponents:s,renderPlaceholder:t,trackingDataEncrypted:v,trackingNodes:w,viewportMarginsForViewability:x})},[].concat(c("getOwnObjectValues")(b),[f,g,p,h,y],c("getOwnObjectValues")(q||{}),[s,t,u,v,w,x]));k(function(){return function(){h.removePlace({portablePlaceID:u})}},[h,u]);a=j(c("BaseContextualLayerAnchorRootContext"));var A=l(null);return i.jsxs(c("BaseContextualLayerAnchorRootContext").Provider,{value:p?A:a,children:[i.jsx(d("CoreVideoPlayerFitParentContainer.react").CoreVideoPlayerFitParentDOMContainer,{debugRole:null,domElement:y},u),i.jsx(d("GlobalVideoPortsRenderers.react").GlobalVideoPortsVideoComponentsRenderer,{currentPlaceID:n!=null?(a=(a=h.getCurrentPlaceStateForVideo(n,f))==null?void 0:a.portablePlaceID)!=null?a:null:e,currentVideoID:f,injectCoreVideoStatesRef:z,previousPlaceMetaData:n!=null?(e=(a=h.getPortableVideoState(n,f))==null?void 0:a.previousPlaceMetaData)!=null?e:null:r,renderComponents:s,thisPlaceID:u}),i.jsx("div",{ref:A})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerPortalingPlace.react",["BaseViewportMarginsContext","CometTrackingCodeContext","CometTrackingNodesContext","CoreVideoPlayer.react","CoreVideoPlayerFitParentContainer.react","GlobalVideoPortsID","GlobalVideoPortsRenderers.react","VideoPlayerFullscreenController","VideoPlayerPortalingPlaceInfoProvider.react","VideoPlayerPortalingPlaceState","VideoPlayerPortalingPlaceWithPortaling.react","react","recoverableViolation","useStable","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useContext,l=b.useEffect,m=b.useState,n={bottom:0,left:0,right:0,top:0},o=j.forwardRef(function(a,b){var c=a.children,e=a.debugRole;a=a.testid;return j.jsx(d("CoreVideoPlayerFitParentContainer.react").CoreVideoPlayerFitParentContainer,{debugRole:e,ref:b,testid:void 0,children:c})});function a(a){var b=a.implementations,e=a.portalingEnabled,f=a.portalingFromVideoID,g=a.portalingPlaceMetaData,i=a.renderComponents,p=a.renderPlaceholder;a=babelHelpers.objectWithoutPropertiesLoose(a,["implementations","portalingEnabled","portalingFromVideoID","portalingPlaceMetaData","renderComponents","renderPlaceholder"]);l(function(){return function(){}},[]);var q=f!=null?d("GlobalVideoPortsID").ensureVideoID(f):null;f!=null&&q==null&&c("recoverableViolation")("The provided portalingFromVideoID ("+String(f)+") does not look like such an ID. The video player will not use portaling until a valid ID is provided","comet_video_player");f=d("VideoPlayerPortalingPlaceState").useVideoPlayerPortalingPlaceState({portalingEnabled:e,portalingFromVideoID:q});e=f.canBecomePortableLater;q=f.currentVideoID;var r=f.globalVideoPortsManager,s=f.globalVideoPortsState;f=f.thisPlaceID;var t=k(c("BaseViewportMarginsContext")),u=(h||(h=c("useUnsafeRef_DEPRECATED")))(null),v=c("useStable")(function(){return d("VideoPlayerFullscreenController").createFullscreenController(u)}),w=m(v.getIsFullscreen()),x=w[0],y=w[1];l(function(){var a=v.subscribe(function(){var a=v.getIsFullscreen();y(a)});y(v.getIsFullscreen());return function(){a.remove()}},[v,y]);w=k(c("CometTrackingNodesContext"));w=w.join("");var z=k(c("CometTrackingCodeContext"));z=(z=z.encrypted_tracking[0])!=null?z:"";t=x?n:t;var A="comet-video-player-place"+(a.videoFBID!=null?"-vid-"+a.videoFBID:"");if(!e)return j.jsx(o,{debugRole:null,ref:u,testid:void 0,children:j.jsx(d("VideoPlayerPortalingPlaceInfoProvider.react").VideoPlayerPortalingPlaceInfoProvider,{currentPlaceID:f,currentVideoID:q,portalingEnabled:!1,previousPlaceMetaData:null,thisPlaceID:f,children:j.jsx(c("CoreVideoPlayer.react"),babelHelpers["extends"]({},a,{fullscreenController:v,implementations:b,isFullscreen:x,renderWithCoreVideoStates:i,trackingDataEncrypted:z,trackingNodes:w,viewportMarginsForViewability:t}))})});if(r&&s){return j.jsx(o,{debugRole:null,ref:u,testid:void 0,children:j.jsx(c("VideoPlayerPortalingPlaceWithPortaling.react"),{coreVideoPlayerMetaData:a,currentPlaceID:(e=(A=r.getCurrentPlaceStateForVideo(s,q))==null?void 0:A.portablePlaceID)!=null?e:null,currentVideoID:q,fullscreenController:v,globalVideoPortsManager:r,globalVideoPortsState_DEPRECATED:null,implementations:b,isFullscreen:x,portablePlaceMetaData:g,previousPlaceMetaData:(e=(A=r.getPortableVideoState(s,q))==null?void 0:A.previousPlaceMetaData)!=null?e:null,renderComponents:i,renderPlaceholder:p,thisPlaceID:f,trackingDataEncrypted:z,trackingNodes:w,viewportMarginsForViewability:t})})}else{return j.jsx(o,{debugRole:null,ref:u,testid:void 0,children:j.jsx(d("GlobalVideoPortsRenderers.react").GlobalVideoPortsPlaceholderRenderer,{currentPlaceID:null,currentVideoID:q,previousPlaceMetaData:null,renderPlaceholder:p,thisPlaceID:f,videoPixelsAspectRatio:(b=a.videoPixelsAspectRatio)!=null?b:null})})}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerTracePolicyContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||(h=d("react"));var i=h.useContext;c={initialTracePolicy:null,routeTracePolicy:null};var j=b.createContext(c);function a(){return i(j)}g.VideoPlayerTracePolicyContext=j;g.useVideoPlayerTracePolicy=a}),98);
__d("VideoPlayerTracePolicyProvider.react",["VideoPlayerTracePolicyContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState;function a(a){var b=a.children,c=a.initialTracePolicy,e=a.routeTracePolicy;a=k(c);var f=a[0],g=a[1];a=k(e);var h=a[0],l=a[1];j(function(){f!==c&&g(c),h!==e&&l(e)},[c,e,f,h]);return i.jsx(d("VideoPlayerTracePolicyContext").VideoPlayerTracePolicyContext.Provider,{value:{initialTracePolicy:f,routeTracePolicy:h},children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CoreVideoPlayerWithComponents.react",["VideoPlayerComponentContainer.react","VideoPlayerPortalingPlace.react","VideoPlayerTracePolicyProvider.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useCallback;function a(a){var b=a.children,d=a.implementations,e=a.portalingEnabled,f=a.portalingFromVideoID,g=a.portalingPlaceMetaData,h=a.portalingRenderPlaceholder;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","implementations","portalingEnabled","portalingFromVideoID","portalingPlaceMetaData","portalingRenderPlaceholder"]);var k=j(function(a){return i.jsx(c("VideoPlayerComponentContainer.react"),babelHelpers["extends"]({},a,{children:b}))},[b]);return i.jsx(c("VideoPlayerTracePolicyProvider.react"),{initialTracePolicy:a.initialTracePolicy,routeTracePolicy:a.routeTracePolicy,children:i.jsx(c("VideoPlayerPortalingPlace.react"),babelHelpers["extends"]({},a,{implementations:d,portalingEnabled:e,portalingFromVideoID:f,portalingPlaceMetaData:g,renderComponents:k,renderPlaceholder:h}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("DataViewReader",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=0,this.$2=a}var b=a.prototype;b.seek=function(a){this.$1=a};b.skip=function(a){var b=this.$1;this.$1+=a;return b};b.readUint8=function(){return this.$2.getUint8(this.skip(8/8))};b.readUint16=function(a){a===void 0&&(a=!1);return this.$2.getUint16(this.skip(16/8),a)};b.readUint32=function(a){a===void 0&&(a=!1);return this.$2.getUint32(this.skip(32/8),a)};b.readUint64=function(a){a===void 0&&(a=!1);var b;a?(a=this.$2.getUint32(this.skip(32/8),!0),b=this.$2.getUint32(this.skip(32/8),!0)):(b=this.$2.getUint32(this.skip(32/8)),a=this.$2.getUint32(this.skip(32/8)));if(b>2097151)throw new RangeError("Overflow reading 64-bit value.");return Math.pow(2,32)*b+a};b.readInt64=function(a){a===void 0&&(a=!1);var b;a?(a=this.$2.getInt32(this.skip(32/8),!0),b=this.$2.getInt32(this.skip(32/8),!0)):(b=this.$2.getInt32(this.skip(32/8)),a=this.$2.getInt32(this.skip(32/8)));if(b>2097151)throw new RangeError("Overflow reading 64-bit value.");return Math.pow(2,32)*(b|0)+a};b.readInt16=function(a){a===void 0&&(a=!1);return this.$2.getInt16(this.skip(16/8),a)};b.readInt32=function(a){a===void 0&&(a=!1);return this.$2.getInt32(this.skip(32/8),a)};b.readZeroTerminatedString=function(a){var b="",c=0,d;while(c++<a&&(d=this.readUint8()))b+=String.fromCharCode(d);return b};b.readChars=function(a){var b="";while(a-->0)b+=String.fromCharCode(this.$2.getUint8(this.skip(8/8)));return b};b.readBytes=function(a){var b=[];while(a-->0)b.push(this.$2.getUint8(this.skip(8/8)));return b};b.getDataView=function(){return this.$2};b.getCursor=function(){return this.$1};b.hasMoreData=function(){return this.$2.byteLength-this.getCursor()>0};return a}();f["default"]=a}),66);
__d("IGDSReelsFilledIcon.react",["IGDSReelsPanoFilledIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(2),d;b[0]!==a?(d=j.jsx(c("IGDSReelsPanoFilledIcon.react"),babelHelpers["extends"]({},a)),b[0]=a,b[1]=d):d=b[1];return d}b=j.memo(a);g["default"]=b}),98);
__d("IGDSVolumeNonePanoFilledIcon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(3),d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("path",{d:"M11.403 1.083a1.001 1.001 0 0 0-1.082.187L5.265 6H2a1 1 0 0 0-1 1v10.003a1 1 0 0 0 1 1h3.265l5.01 4.682.02.021a1 1 0 0 0 1.704-.814L12.005 2a1 1 0 0 0-.602-.917ZM20.704 12l1.94-1.94a1.5 1.5 0 0 0-2.122-2.12l-1.939 1.939-1.94-1.94a1.5 1.5 0 1 0-2.12 2.122L16.461 12l-1.94 1.94a1.5 1.5 0 1 0 2.122 2.12l1.939-1.939 1.94 1.94a1.5 1.5 0 0 0 2.12-2.122Z"}),b[0]=d):d=b[0];b[1]!==a?(d=j.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:d})),b[1]=a,b[2]=d):d=b[2];return d}b=j.memo(a);g["default"]=b}),98);
__d("IGDSVolumeOffFilledIcon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(3),d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("path",{clipRule:"evenodd",d:"M1.5 13.3c-.8 0-1.5.7-1.5 1.5v18.4c0 .8.7 1.5 1.5 1.5h8.7l12.9 12.9c.9.9 2.5.3 2.5-1v-9.8c0-.4-.2-.8-.4-1.1l-22-22c-.3-.3-.7-.4-1.1-.4h-.6zm46.8 31.4-5.5-5.5C44.9 36.6 48 31.4 48 24c0-11.4-7.2-17.4-7.2-17.4-.6-.6-1.6-.6-2.2 0L37.2 8c-.6.6-.6 1.6 0 2.2 0 0 5.7 5 5.7 13.8 0 5.4-2.1 9.3-3.8 11.6L35.5 32c1.1-1.7 2.3-4.4 2.3-8 0-6.8-4.1-10.3-4.1-10.3-.6-.6-1.6-.6-2.2 0l-1.4 1.4c-.6.6-.6 1.6 0 2.2 0 0 2.6 2 2.6 6.7 0 1.8-.4 3.2-.9 4.3L25.5 22V1.4c0-1.3-1.6-1.9-2.5-1L13.5 10 3.3-.3c-.6-.6-1.5-.6-2.1 0L-.2 1.1c-.6.6-.6 1.5 0 2.1L4 7.6l26.8 26.8 13.9 13.9c.6.6 1.5.6 2.1 0l1.4-1.4c.7-.6.7-1.6.1-2.2z",fillRule:"evenodd"}),b[0]=d):d=b[0];b[1]!==a?(d=j.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 48 48",children:d})),b[1]=a,b[2]=d):d=b[2];return d}b=j.memo(a);g["default"]=b}),98);
__d("IGDSVolumePanoFilledIcon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(3),d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("path",{d:"M16.636 7.028a1.5 1.5 0 1 0-2.395 1.807 5.365 5.365 0 0 1 1.103 3.17 5.378 5.378 0 0 1-1.105 3.176 1.5 1.5 0 1 0 2.395 1.806 8.396 8.396 0 0 0 1.71-4.981 8.39 8.39 0 0 0-1.708-4.978Zm3.73-2.332A1.5 1.5 0 1 0 18.04 6.59 8.823 8.823 0 0 1 20 12.007a8.798 8.798 0 0 1-1.96 5.415 1.5 1.5 0 0 0 2.326 1.894 11.672 11.672 0 0 0 2.635-7.31 11.682 11.682 0 0 0-2.635-7.31Zm-8.963-3.613a1.001 1.001 0 0 0-1.082.187L5.265 6H2a1 1 0 0 0-1 1v10.003a1 1 0 0 0 1 1h3.265l5.01 4.682.02.021a1 1 0 0 0 1.704-.814L12.005 2a1 1 0 0 0-.602-.917Z"}),b[0]=d):d=b[0];b[1]!==a?(d=j.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:d})),b[1]=a,b[2]=d):d=b[2];return d}b=j.memo(a);g["default"]=b}),98);
__d("MediaPlaybackCompoundEventUtils",["CometProductAttribution"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if((a==null?void 0:a.v2)&&(a==null?void 0:a.v2.length)>0){a=a==null?void 0:a.v2;a=a[a.length-1];return[a["class"],a.module].map(d("CometProductAttribution").filterEntryValue).join(":")}return""}function b(a){var b=0;switch(a){case"autoplay_initiated":b=1;break;case"loop_initiated":b=7;break;case"product_initiated":b=8;break;case"user_initiated":b=2;break;default:break}return b}function c(a){var b="unknown";switch(a){case"EXCELLENT":b="excellent";break;case"GOOD":b="good";break;case"MODERATE":b="moderate";break;case"POOR":b="poor";break;default:break}return b}g.minifyProductAttributionV2Root=a;g.getMediaPlaybackPlayReason=b;g.getMediaPlaybackDataConnectionQuality=c}),98);
__d("VideoPlayerImplementationErrorNormalization",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.getType(),c=a.getDescription();switch(b){case"OZ_NETWORK":b=(b=(b=a.getExtra())==null?void 0:b.code)!=null?b:"0";b=parseInt(b,10);return b<100||b>599?"NetworkError":"HTTPError";case"OZ_SOURCE_BUFFER_QUOTA_EXCEEDED":a=(b=a.getExtra())==null?void 0:b.mimeType;if(a!=null&&a.indexOf("video")>-1)return"VideoDecodeError";else if(a!=null&&a.indexOf("audio")>-1)return"AudioDecodeError";else return"GenericDecodeError";case"OZ_XML_PARSER":case"OZ_MPD_PARSER":case"OZ_REPRESENTATION_PARSER":return"ManifestParseError";case"OZ_DRM_MANAGER":case"OZ_INITIALIZATION":if(/(OZ_XML_PARSER)|(OZ_MPD_PARSER)|(OZ_REPRESENTATION_PARSER)/.test(c))return"ManifestParseError";else return"RuntimeError";case"OZ_JAVASCRIPT_NATIVE":case"OZ_SOURCE_BUFFER":case"OZ_STREAM_APPEND_QUOTA_EXCEEDED_HANDLER_ERROR":case"OZ_NETWORK_REQUEST_STREAM_RETRY_HANDLER_ERROR":return"RuntimeError"}return null}function b(a,b){switch(a){case"OZ_XML_PARSER":case"OZ_MPD_PARSER":case"OZ_REPRESENTATION_PARSER":return"ManifestParseError";case"OZ_DRM_MANAGER":case"OZ_INITIALIZATION":if(/(OZ_XML_PARSER)|(OZ_MPD_PARSER)|(OZ_REPRESENTATION_PARSER)/.test(b))return"ManifestParseError";else return"RuntimeError";case"OZ_JAVASCRIPT_NATIVE":case"OZ_SOURCE_BUFFER":case"OZ_STREAM_APPEND_QUOTA_EXCEEDED_HANDLER_ERROR":case"OZ_NETWORK_REQUEST_STREAM_RETRY_HANDLER_ERROR":return"RuntimeError";case"BUFFERING_TIMEOUT":return"RuntimeError";default:b=[[["MEDIA_ERR_NETWORK"],"NetworkError"],[["MEDIA_ERR_ABORTED","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_UNKNOWN"],"GenericDecodeError"]];for(var b=b,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;var f=e[0];e=e[1];if(f.some(function(b){return a.includes(b)}))return e}}return null}f.getVideoPlayerNormalizedErrorTypeFromOzError=a;f.getErrorTypeFromErrorName=b}),66);
__d("getPlayerFormatForLogData",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a=a.isFullscreen;return a===!0?"full_screen":b!=null?b:"inline"}f["default"]=a}),66);
__d("IGVideoMetadataProvider",["CometProductAttribution","MediaPlaybackCompoundEventUtils","VideoPlayerImplementationErrorNormalization","getPlayerFormatForLogData","pageID"],(function(a,b,c,d,e,f,g){"use strict";function a(){return{getErrorMetadata:function(a){a=a.videoPlayerError;var b=a.errorMessageFormat,c=a.errorName,e=a.errorType;a=a.errorCode==null||a.errorCode===""?c:a.errorCode;e={code:a,description:b,domain:c,error:c,type:String((a=e)!=null?a:d("VideoPlayerImplementationErrorNormalization").getErrorTypeFromErrorName(c,b))};return e},getRequiredMetadata:function(a){var b,d,e,f=a.logDataAdditions,g=a.loggingMetaData;a=a.state;b=(b=g.coreVideoPlayerMetaData.isLiveStreaming)!=null?b:void 0;d=(d=g.coreVideoPlayerMetaData.videoFBID)!=null?d:"-1";b={author_id:f.author_id,browser_tab_id:c("pageID"),current_watching_module:(e=f.current_watching_module)!=null?e:"",is_live_streaming:b,media_id:d,nav_chain:f.nav_chain,player_suborigin:g.coreVideoPlayerMetaData.subOrigin,player_version:a.playerVersion,tracking_token:f.tracking_token,tracking_type:(e=f.tracking_type)!=null?e:""};return b},getTagMetadata:function(a){var b,e=a.logDataAdditions,f=a.loggingMetaData;a=a.state;var g=f.productAttribution!=null?d("CometProductAttribution").minifyProductAttributionV2(f.productAttribution):void 0;b=c("getPlayerFormatForLogData")({isDesktopPictureInPicture:(b=a.controlledState.isDesktopPictureInPicture)!=null?b:!1,isFullscreen:a.uncontrolledState.isFullscreen},f.coreVideoPlayerMetaData.playerFormat);f=!(a.controlledState.muted||a.controlledState.volume===0);a=a.controlledState.lastPlayReason!=null?d("MediaPlaybackCompoundEventUtils").getMediaPlaybackPlayReason(a.controlledState.lastPlayReason):null;g={attribution_id_v2:g,nav_chain:(g=e.nav_chain)!=null?g:"",player_format:b,player_sound_on:f,story_reel_position:e.story_reel_position,story_reel_size:e.story_reel_size,video_play_reason:a};return g}}}g.createIGVideoMetadataProvider=a}),98);
__d("LatencySensitiveType",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({NORMAL:0,LOW:1,ULTRA_LOW:2});c=a;f["default"]=c}),66);
__d("LiveTraceWwwVideoPlayerFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743810");b=d("FalcoLoggerInternal").create("live_trace_www_video_player",a);e=b;g["default"]=e}),98);
__d("MaybeNativePromise",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;c=a.Promise||g||(g=b("Promise"));(g||b("Promise")).resolve();d=c;f["default"]=d}),66);
__d("MediaPlaybackCompoundFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2074");b=d("FalcoLoggerInternal").create("media_playback_compound",a);e=b;g["default"]=e}),98);
__d("MediaPlaybackCompoundEventLogger",["MediaPlaybackCompoundFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";a={logComet:function(a){c("MediaPlaybackCompoundFalcoEvent").log(function(){return a})},logCometImmediately:function(a){c("MediaPlaybackCompoundFalcoEvent").logImmediately(function(){return a})}};b=a;g["default"]=b}),98);
__d("MediaPlaybackCompoundEventStateMachineLogger",["NetworkStatus","emptyFunction","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=6e4,i=1e3,j=Object.freeze(["paused","completed","cancelled","error","heartbeat"]);d=b=c("emptyFunction");e=b;f=b;d=b;function k(){return{canLogPausedOrFinishedPlaying:!1,canLogPlayingEvent:!0,errorRecoveryAttemptState:{eventsLogged:0},hasPendingRequestedPlaying:!1,isLoggingBufferingSequence:!1,isLoggingScrubbingSequence:!1,lastLoggedError:null,lastLoggedTagMetadata:{},nextHeartbeatTime:null,shouldIgnoreDomPause:!1,shouldIgnoreDomPlay:!1,shouldLogRequestedPlayingForScrub:!1}}function a(a){var b={},d=a.initialLoggingMetaData;d;var e=[],f=k(),g=[],l={};function m(b){var c,f=b.events;b=b.state;var g=babelHelpers["extends"]({},d.coreVideoPlayerMetaData.additionalSNAPLLogData,l);g=(c=(c=a.metadataProvider)==null?void 0:c.getRequiredMetadata({logDataAdditions:g,loggingMetaData:d,state:b}))!=null?c:{current_watching_module:"",media_id:"",tracking_type:""};b={events:f,required_metadata:g};e.push(b)}function n(a){var c=a.event;a=a.state;g.push(c);if(j.includes(c.event_name)){c=[].concat(g);g=[];m({events:c,state:a})}return b}function o(a){var b=a.snaplOverrides;a=a.state;var c="0";(b==null?void 0:b.video_time_position)!=null?c=Math.round(b.video_time_position*1e3).toString():a.uncontrolledState.videoElementPlayheadPosition!=null&&(c=Math.round(a.uncontrolledState.videoElementPlayheadPosition*1e3).toString());return c}function p(a){d;if(a.type==="notify_logging_metadata_change"){a=a.payload.loggingMetaData;d=a}}function q(a,c,d){if(a.controlledState.playbackState!==c.controlledState.playbackState&&c.controlledState.playbackState==="ended"&&f.canLogPausedOrFinishedPlaying){d={client_time_ms:c.uncontrolledState.clockTimestamp.toString(),event_name:"completed",media_time_ms:o({state:c})};n({event:d,state:c});f.canLogPausedOrFinishedPlaying=!1;return b}else return b}function r(a,c){c={client_time_ms:a.uncontrolledState.clockTimestamp.toString(),event_name:"requested_playing",media_time_ms:o({snaplOverrides:c,state:a}),player_instance_key:d.instanceKey};n({event:c,state:a});f.hasPendingRequestedPlaying=!0;f.canLogPausedOrFinishedPlaying=!0;return b}function s(a){if(!f.canLogPausedOrFinishedPlaying)return b;else if(f.hasPendingRequestedPlaying){t(a);f.canLogPausedOrFinishedPlaying=!1;f.hasPendingRequestedPlaying=!1;return b}else{var c={client_time_ms:a.uncontrolledState.clockTimestamp.toString(),event_name:"paused",media_time_ms:o({state:a})};n({event:c,state:a});f.canLogPausedOrFinishedPlaying=!1;f.hasPendingRequestedPlaying=!1;return b}}function t(a){var c={client_time_ms:a.uncontrolledState.clockTimestamp.toString(),event_name:"cancelled",media_time_ms:o({state:a})};n({event:c,state:a});return b}function u(a,c,d){if(d.type==="dom_event_play_promise_rejected"&&f.hasPendingRequestedPlaying){a=d.payload.playPromiseRejectionReason;if(a!=null&&a.name==="NotAllowedError"){t(c);return b}else return b}else return b}function v(a,c,d){if((d.type==="controller_play_requested"||d.type==="dom_event_play"&&!f.shouldIgnoreDomPlay)&&a.controlledState.playbackState!==c.controlledState.playbackState){r(c);return b}else return b}function w(a){var c={client_time_ms:a.uncontrolledState.clockTimestamp.toString(),event_name:"requested_seek",media_time_ms:o({state:a}),player_instance_key:d.instanceKey};n({event:c,state:a});return b}function x(a,c,d){var e=c.controlledState.playbackState,g=a.controlledState.playbackState;if(d.type==="controller_scrub_begin_requested"&&!a.controlledState.scrubbing&&e!=="paused"&&e!=="ended"){s(c);w(c);f.isLoggingScrubbingSequence=!0;return b}else if(!a.controlledState.seeking&&c.controlledState.seeking&&!f.isLoggingScrubbingSequence&&e!=="paused"&&e!=="ended"&&!f.hasPendingRequestedPlaying){s(c);w(c);f.shouldLogRequestedPlayingForScrub=!0;return b}else if(d.type==="controller_scrub_end_requested"&&a.controlledState.scrubbing&&e!=="paused"&&e!=="ended"){r(c,{video_time_position:d.payload.seekTargetPosition});return b}else if(a.controlledState.seeking&&!c.controlledState.seeking){f.shouldLogRequestedPlayingForScrub&&e!=="paused"&&e!=="ended"&&r(c);f.isLoggingScrubbingSequence=!1;f.shouldLogRequestedPlayingForScrub=!1;g!=="paused"&&g!=="ended"&&(f.canLogPlayingEvent=!0);return b}else return b}function y(a,c,e){if(a.controlledState.playbackState==="stalling"&&c.controlledState.playbackState==="playing"&&f.canLogPlayingEvent){e={client_time_ms:c.uncontrolledState.clockTimestamp.toString(),event_name:"started_playing",media_time_ms:o({state:c}),player_instance_key:d.instanceKey};n({event:e,state:c});f.canLogPlayingEvent=!1;f.hasPendingRequestedPlaying=!1;return b}else return b}function z(a,c,d){if((d.type==="controller_pause_requested"||d.type==="dom_event_pause"&&!f.shouldIgnoreDomPause)&&a.controlledState.playbackState!==c.controlledState.playbackState){s(c);return b}else return b}function A(a,c,d){var e=c.controlledState.playbackState;if(e!=="paused"&&e!=="ended"){d.type==="implementation_video_node_unmounted"?s(a):(d.type==="implementation_unmounted"||d.type==="implementation_engine_destroy_requested")&&s(c);return b}else return b}function B(c,d,e){c=d.controlledState.error;if(c!=null&&c!==f.lastLoggedError&&c.errorCode!=="410"){e=babelHelpers["extends"]({},(e=a.metadataProvider)==null?void 0:e.getErrorMetadata({videoPlayerError:c}),{name:"failed_playing"});e={client_time_ms:d.uncontrolledState.clockTimestamp.toString(),error_metadata:e,event_name:"error",media_time_ms:o({state:d})};n({event:e,state:d});f.lastLoggedError=c}return b}function C(d,e,g){if(g.type==="error_recovery_attempt"&&f.errorRecoveryAttemptState.eventsLogged<i){d=g.payload.recoverableError;if(d!=null&&d.errorName==="OZ_NETWORK"&&!c("NetworkStatus").isOnline())return b;g=babelHelpers["extends"]({},(g=a.metadataProvider)==null?void 0:g.getErrorMetadata({videoPlayerError:d}),{name:"error_recovery_attempt"});d={client_time_ms:e.uncontrolledState.clockTimestamp.toString(),error_metadata:g,event_name:"error",media_time_ms:o({state:e})};n({event:d,state:e});f.errorRecoveryAttemptState.eventsLogged++}return b}function D(a,c,d){d=a.controlledState.playbackState;a=c.controlledState.playbackState;if(f.hasPendingRequestedPlaying||f.shouldLogRequestedPlayingForScrub||f.isLoggingBufferingSequence)return b;if(d!=="stalling"&&a==="stalling"){d={client_time_ms:c.uncontrolledState.clockTimestamp.toString(),event_name:"started_buffering",media_time_ms:o({state:c})};n({event:d,state:c});f.isLoggingBufferingSequence=!0;f.shouldIgnoreDomPause=!0;f.shouldIgnoreDomPlay=!0}return b}function E(a,c,d){a=a.controlledState.playbackState;var e=c.controlledState.playbackState;if(!f.isLoggingBufferingSequence)return b;if((d.type==="dom_event_playing"||d.type==="buffering_end_requested")&&a==="stalling"&&e!=="stalling"){a=0;d.payload.domEventPerfTimestamp!=null&&(a=Math.max(c.uncontrolledState.perfTimestamp-d.payload.domEventPerfTimestamp,0));e=c.uncontrolledState.clockTimestamp-a;d={client_time_ms:e.toString(),event_name:"stopped_buffering",media_time_ms:o({state:c})};n({event:d,state:c});f.isLoggingBufferingSequence=!1;f.shouldIgnoreDomPause=!1;f.shouldIgnoreDomPlay=!1}return b}function F(a,c,d){a=c.controlledState.playbackState;a==="paused"||a==="ended"?f.nextHeartbeatTime=null:a!=="stalling"&&f.nextHeartbeatTime==null&&(f.nextHeartbeatTime=c.uncontrolledState.clockTimestamp+h);d=f.nextHeartbeatTime;if(d!=null){var e=c.uncontrolledState.clockTimestamp;if(e>=d){if(a!=="stalling"){d={client_time_ms:c.uncontrolledState.clockTimestamp.toString(),event_name:"heartbeat",media_time_ms:o({state:c})};n({event:d,state:c})}f.nextHeartbeatTime=e+h}}return b}function G(c,e,g){c=babelHelpers["extends"]({},d.coreVideoPlayerMetaData.additionalSNAPLLogData,l);var h=f.lastLoggedTagMetadata,i=(g=a.metadataProvider)==null?void 0:g.getTagMetadata({logDataAdditions:c,loggingMetaData:d,state:e});if(i&&JSON.stringify(i)!==JSON.stringify(h)){var j={};Object.keys(i).forEach(function(a){if(i[a]!==h[a]){var b;j=babelHelpers["extends"]({},j,(b={},b[a]=i[a],b))}});g={client_time_ms:e.uncontrolledState.clockTimestamp.toString(),event_name:"tags_changed",media_time_ms:o({state:e}),tag_metadata:j};n({event:g,state:e});f.lastLoggedTagMetadata=babelHelpers["extends"]({},h,i)}return b}return{consumeLoggerEvents:function(){return e.length>0?e.splice(0):[]},handleStateMachine:function(a,b,c){p(c);var d=b.controlledState.playbackState,e=[G,u,v,x,D,E,y,q,z,A,B,C,F];e.forEach(function(d){d(a,b,c)});(d==="paused"||d==="ended")&&(f.canLogPlayingEvent=!0);c.type==="controller_pause_requested"&&(f.shouldIgnoreDomPause=!0);c.type==="controller_play_requested"&&(f.shouldIgnoreDomPlay=!0);c.type==="dom_event_pause"&&(f.shouldIgnoreDomPause=!1);c.type==="dom_event_play"&&(f.shouldIgnoreDomPlay=!1)},setSNAPLAdditionalLogData:function(a){Object.assign(l,a)}}}g.HEARTBEAT_INTERVAL=h;g.createMediaPlaybackCompoundEventStateMachineLogger=a}),98);
__d("MediaPlaybackLogFlusher",["MediaPlaybackCompoundEventLogger","emptyFunction","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=c("emptyFunction");b=function(){function a(a){this.$1=a}var b=a.prototype;b.flushLogs=function(){var a=this.$1.consumeLoggerEvents();a.forEach(function(a){a.required_metadata.tracking_type==="paid"?c("MediaPlaybackCompoundEventLogger").logCometImmediately(a):c("MediaPlaybackCompoundEventLogger").logComet(a)})};b.discardLogsWithoutFlushing=function(){var a=this.$1.consumeLoggerEvents()};return a}();g["default"]=b}),98);
__d("Mp4Box",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$4=a.getCursor(),this.$1=a.readUint32(),this.$2=a.readChars(4),this.$1===1?this.$1=a.readUint64():this.$1===0&&(this.$1=a.getDataView().byteLength-this.$4),this.$2==="uuid"&&(this.$3=a.readChars(16)),this.$5=a.getCursor()}var b=a.prototype;b.getBodyStart=function(){return this.$5};b.getBodySize=function(){var a=this.$5-this.$4;return this.getSize()-a};b.getSize=function(){return this.$1};b.getType=function(){return this.$2};b.getUuid=function(){return this.$3};b.getStart=function(){return this.$4};b.inspect=function(){return"{ size: "+this.$1+", type: "+this.$2+" }"};return a}();f["default"]=a}),66);
__d("Mp4DASHEventMessageBox",[],(function(a,b,c,d,e,f){a=function(){function a(a,b){this.$1=b,this.$2=null,b.getVersion()==0?this.$2={version:0,schemeIdUri:a.readZeroTerminatedString(this.$4(a,b)),value:a.readZeroTerminatedString(this.$4(a,b)),timescale:a.readUint32(),presentationTimeDelta:a.readUint32(),eventDuration:a.readUint32(),id:a.readUint32()}:b.getVersion()==1&&(this.$2={version:1,timescale:a.readUint32(),presentationTime:a.readUint64(),eventDuration:a.readUint32(),id:a.readUint32(),schemeIdUri:a.readZeroTerminatedString(this.$4(a,b)),value:a.readZeroTerminatedString(this.$4(a,b))}),this.$3=new DataView(a.getDataView().buffer,a.getCursor())}var b=a.prototype;b.getFullBox=function(){return this.$1};b.getEmsgFields=function(){return this.$2};b.getMessageData=function(){return this.$3};b.getStartTime=function(){var a=this.$2;if(a==null)return null;switch(a.version){case 0:return null;case 1:return this.$5(a)}};b.getDuration=function(){var a=this.$2;if(a==null)return null;var b=a.eventDuration;a=a.timescale;return a!==0?b/a:b};b.$5=function(a){var b=a.timescale;a=a.presentationTime;return b!==0?a/b:a};b.$4=function(a,b){return b.getBox().getSize()-(a.getCursor()-b.getBox().getStart())};return a}();a.canonicalType="emsg";f["default"]=a}),66);
__d("Mp4FullBox",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$2=a.readUint8(),this.$1=a.readUint8(),this.$1=a.readUint8()+(this.$1<<8),this.$1=a.readUint8()+(this.$1<<8),this.$3=b}var b=a.prototype;b.getVersion=function(){return this.$2};b.getFlags=function(){return this.$1};b.getBox=function(){return this.$3};return a}();f["default"]=a}),66);
__d("Mp4Demuxer",["DataViewReader","Mp4Box","Mp4FullBox"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=new(c("DataViewReader"))(a)}var b=a.prototype;b.parseBox=function(){return new(c("Mp4Box"))(this.$1)};b.parseFullBox=function(a){return new(c("Mp4FullBox"))(this.$1,a)};b.parseCanonicalBox=function(a,b){return new a(this.$1,b)};b.skipBox=function(a){this.$1.seek(a.getStart()+a.getSize())};b.withinBox=function(a){var b=this.$1.getCursor();return b>=a.getStart()&&b<a.getStart()+a.getSize()};b.atEnd=function(){return this.$1.getCursor()>=this.$1.getDataView().byteLength};b.reset=function(){this.$1.seek(0)};b.readBoxBodyText=function(a){this.$1.seek(a.getBodyStart());var b=new TextDecoder();a=new Uint8Array(this.$1.readBytes(a.getBodySize()));return b.decode(a)};return a}();g["default"]=a}),98);
__d("OzActiveActiveFailoverNetworkRequestStreamHandler",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.onResponse=function(a,b){var c=a.headers;c&&c.has("x-fb-video-replica")&&this.$1(a,b);return null};b.onError=function(a,b){return null};return a}();f["default"]=a}),66);
__d("OzBufferVTTCaptionsVisibleStrategy",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.isActive=function(){return!this.$1()};b.getBufferTarget=function(){return 0};return a}();f["default"]=a}),66);
__d("OzCDNSignedQueryParams",["ConstUriUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1={}}var b=a.prototype;b.$2=function(a,b,c){this.$1[a]==null&&(this.$1[a]={}),this.$1[a][b]=c};b.get=function(a){a=this.$1[a];return a==null?null:a};b.update=function(a){a=d("ConstUriUtils").getUri(a);if(a!=null){var b=a.getQueryParams();a=a.getDomain()+a.getPath();var c=b.get("oe");c!=null&&this.$2(a,"oe",String(b.get("oe")));b.get("oh")!=null&&this.$2(a,"oh",String(b.get("oh")))}};return a}();g["default"]=a}),98);
__d("OzCustomParsers",[],(function(a,b,c,d,e,f){function a(){return new Map([["fbProjection",function(a){try{return a.Period[0].AdaptationSet[0].$.FBProjection||null}catch(a){return null}}],["hasInbandCaptionsFromAccessibility",function(a){a=a.Period[0];a=a&&a.AdaptationSet[0].Accessibility;return a&&a[0]?a[0].$.schemeIdUri==="urn:scte:dash:cc:cea-608:2015":!1}],["hasInbandCaptionsFromUsingASRCaptions",function(a){a=Number.parseInt(a.$.usingASRCaptions,0);return!isNaN(a)&&a!=0}],["hasInbandCaptionsFromIsUsingAsrCaptionsEmployeeDogfooding",function(a){a=Number.parseInt(a.$.isUsingAsrCaptionsEmployeeDogfooding,0);return!isNaN(a)&&a!=0}],["hasVTTRepresentationCaptions",function(a){return a.Period[0].AdaptationSet.find(function(a){var b;return((b=a.$.mimeType)==null?void 0:b.startsWith("application"))&&a.$.lang!=null})!=null}],["isLiveTemplated",function(a){return a.$.FBIsLiveTemplated==="true"}],["isFBMS",function(a){return a.$.FBMS==="true"}],["isFBWasLive",function(a){return a.$.FBWasLive==="true"}],["loapStreamType",function(a){return a.$.loapStreamType?parseInt(a.$.loapStreamType,10):0}],["fbManifestIdentifier",function(a){return(a=a.$.FBManifestIdentifier)!=null?a:""}],["lastVideoFrameTs",function(a){return a.$.lastVideoFrameTs?Number.parseInt(a.$.lastVideoFrameTs,10):null}],["currentServerTimeMs",function(a){return a.$.currentServerTimeMs?Number.parseInt(a.$.currentServerTimeMs,10):null}],["validationErrors",function(a){return(a=a.$.validationErrors)!=null?a:""}]])}f.createOzCustomParser=a}),66);
__d("oz-player/manifests/OzSegmentOptions",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=!1,this.$2=null}var b=a.prototype;b.setSegmentNumDecisionTime=function(a){this.$2=a};b.getSegmentNumDecisionTime=function(){return this.$2};b.setIsDVLEnabled=function(a){this.$1=a};b.isDVLEnabled=function(){return this.$1};return a}();f["default"]=a}),66);
__d("oz-player/shims/www/OzURIWWWImplConstUri",["ConstUriUtils","err"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=a.getQueryParams();var b={};a.forEach(function(a,c){typeof a==="string"||typeof a==="number"?b[c]=a:b[c]=String(a)});return b}a=function(){function a(a){this.$1=d("ConstUriUtils").getUri(a);if(this.$1==null)throw c("err")("Invalid URI passed to OzURI");this.$2=h(this.$1)}var b=a.prototype;b.addQueryData=function(a,b){var c=this.$1;if(typeof a==="string"){var d;c=(d=c)==null?void 0:d.addQueryParam(a,b===void 0?"":b)}else{var e=new Map();Object.keys(a).forEach(function(b){e.set(b,a[b])});c=(d=c)==null?void 0:d.addQueryParams(e)}c!=null&&(this.$1=c,this.$2=h(this.$1))};b.getQueryData=function(){return this.$2};b.getDomain=function(){var a;return(a=(a=this.$1)==null?void 0:a.getDomain())!=null?a:""};b.toString=function(){var a;return(a=(a=this.$1)==null?void 0:a.toString())!=null?a:""};b.getPath=function(){var a;return(a=(a=this.$1)==null?void 0:a.getPath())!=null?a:""};return a}();g["default"]=a}),98);
__d("oz-player/shims/www/OzURIWWW",["oz-player/shims/www/OzURIWWWImplConstUri"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/OzURIWWWImplConstUri")}),98);
__d("oz-player/shims/OzURI",["oz-player/shims/www/OzURIWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/OzURIWWW")}),98);
__d("oz-player/utils/ozConcatUint8Arrays",["oz-player/utils/OzErrorUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=0;for(var c=0;c<a.length;++c)b+=a[c].byteLength;var e,f;try{e=new ArrayBuffer(b),f=new Uint8Array(e)}catch(a){throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_ALLOCATION_FAILURE",description:a.name+": "+a.message})}c=0;for(b=0;b<a.length;++b){var g=a[b];f.set(g,c);c+=g.byteLength}return{buffer:e,view:f}}g["default"]=a}),98);
__d("oz-player/utils/OzReadableStreamUtils",["oz-player/utils/ozConcatUint8Arrays"],(function(a,b,c,d,e,f,g){"use strict";var h=typeof TextDecoder!=="undefined"?function(a){return new TextDecoder("utf-8").decode(new Uint8Array(a))}:function(a){return String.fromCharCode.apply(null,a)};function i(a){var b=[],d=function c(){return a.read().then(function(a){var d=a.value;a=a.done;if(a)return null;if(!d)return null;b.push(d);return c()})};return d().then(function(){var a=c("oz-player/utils/ozConcatUint8Arrays")(b);a=a.view;return a})}function a(a){return i(a).then(function(a){return h(a)})}function b(a){var b=new Uint8Array(a.length);return b.map(function(b,c){return a.charCodeAt(c)})}g.pumpAllData=i;g.pumpString=a;g.stringToUint8Array=b}),98);
__d("OzCustomRepresentationParsers",["oz-player/manifests/OzSegmentOptions","oz-player/shims/OzURI","oz-player/utils/OzReadableStreamUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=a.ozConfig,e=a.startTimestamp;a={timescale:function(a){a=a.SegmentTemplate;if(a&&a.length>0){a=a[0].$;if(a)return Number.parseInt(a.timescale,0)||null}return null}};b.getBool("parse_initialization_binary",!1)&&(a.initializationBinary=function(a){try{a=window.atob(a.FBInitializationBinary[0]._);return d("oz-player/utils/OzReadableStreamUtils").stringToUint8Array(a)}catch(a){return null}});a.playbackResolutionMos=function(a){try{return a.$.FBPlaybackResolutionMos}catch(a){return null}};a.playbackResolutionCsvqm=function(a){try{return a.$.FBPlaybackResolutionCsvqm}catch(a){return null}};a.qualityLabel=function(a){try{return a.$.FBQualityLabel}catch(a){return null}};b.getBool("parse_first_segment",!1)&&(a.firstSegmentParser=function(a){if(e!=null&&e>0)return null;try{var b=a.SegmentBase[0].$.FBFirstSegmentRange.split("-").map(Number),d={startByte:b[0],endByte:b[1]};b=a.BaseURL[0]._;var f=new(c("oz-player/shims/OzURI"))(b),g=new(c("oz-player/manifests/OzSegmentOptions"))();return{getData:function(){return null},getURI:function(){return f},getByteRange:function(){return d},getTimeRange:function(){return{startTime:0,endTime:2}},getSequenceNumber:function(){return null},getOptions:function(){return g}}}catch(a){return null}});return a}g.createOzCustomRepresentationParsers=a}),98);
__d("OzDOMEventListenerImpl",["CometEventListener"],(function(a,b,c,d,e,f,g){"use strict";a={listenDOMEvent:c("CometEventListener").listen,captureDOMEvent:c("CometEventListener").capture,suppressDOMEvent:c("CometEventListener").suppress};b=a;g["default"]=b}),98);
__d("OzMinimumSmallestDimensionRestriction",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.applyRestriction=function(a){var b=this;if(a.length===0)return[];var c=a.filter(function(a){var c=a.getWidth();a=a.getHeight();c=c<a?c:a;return c>=b.$1});return c.length>0?c:[a[a.length-1]]};return a}();f["default"]=a}),66);
__d("OzMosThresholdRestriction",["MosUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$3=new Map(),this.$4=a,this.$1=a.getNumber("mos_upper_threshold",0),this.$2=a.getNumber("mos_lower_threshold",0)}var b=a.prototype;b.$5=function(){return this.$4.getBool("cache_mos_threshold",!1)?{mosUpperThreshold:this.$1,mosLowerThreshold:this.$2}:{mosUpperThreshold:this.$4.getNumber("mos_upper_threshold",0),mosLowerThreshold:this.$4.getNumber("mos_lower_threshold",0)}};b.$6=function(a,b){var c=null;if(this.$3.get(a))c=this.$3.get(a);else{var e=a.getCustomField("playbackResolutionMos");e!=null&&(c=d("MosUtils").parsePlaybackMos(String(e)),c&&this.$3.set(a,c))}return c!=null?d("MosUtils").getMosValue(c,d("MosUtils").getQualityLabel(b.width,b.height)):null};b.$7=function(a,b){var c=this,d=null,e=this.$5(),f=e.mosUpperThreshold;a.forEach(function(a){a=c.$6(a,b);a!=null&&a>f&&(d==null||d>a)&&(d=a)});return d==null?a.slice():a.filter(function(a){a=c.$6(a,b);return a==null?!0:a<=f||a===d})};b.$8=function(a,b){var c=this,d=[],e=this.$5(),f=e.mosLowerThreshold;a.forEach(function(a){var e=c.$6(a,b);e!=null&&e>f&&d.push(a)});d.length===0&&d.push(a[a.length-1]);return d};b.applyRestriction=function(a,b){if(a.length===0)return[];var c=this.$5(),d=c.mosLowerThreshold;c=c.mosUpperThreshold;var e;if(c>0){e=this.$7((c=e)!=null?c:a,b)}if(d>0){e=this.$8((c=e)!=null?c:a,b)}return(d=e)!=null?d:a.slice()};return a}();g["default"]=a}),98);
__d("OzOneSemanticHandlerUtils",["ConstUriUtils","qex","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){b!=null&&(b.indexOf("+RE")>=0&&a.retry()),c!=null&&c()}function a(a,b){var d=b.error;d=d.getExtra();var e=d.code;d=d.headers;var f=null;e==null&&c("recoverableViolation")("A ONE Semantic error response must have an error code.","comet_video_player");d==null&&c("recoverableViolation")("A ONE Semantic error response must contain response Headers.","comet_video_player");if(d!=null){d=d.get("x-fb-one-variant");f=(d=d)!=null?d:null}d=JSON.parse(a.getString("network_retry_intervals_json","{}"));a=d[e];switch(e){case"410":b.endStream();break;case"404":h(b,f,function(){b.retry({behavior:"recover_failed_request"})});break;case"429":b.retry(a);break;case"403":default:}}function i(a){if(a!=null){a=parseInt(a,10);if(3>0)return!isNaN(a)&&a>0&&a<=3}return!1}function j(a,b){if(a!=null&&b!=null){a=parseInt(a,10);b=parseInt(b,10);return!isNaN(a)&&!isNaN(b)&&a>0&&a<=b}return!1}function k(a){if(a!=null){a=d("ConstUriUtils").getUri(a);if(a){a=a.getQueryParam("os_param");return a?String(a).toString():null}}return null}function l(a,b){var d=a!=null;return i(b)||(d||!!c("qex")._("1636"))&&j(b,a)}function b(a){var b=a.getExtra();b=b.headers;b=m(b);a=a.getExtra();var d=a.code;a=a.url;if(b!=null&&d==null){c("recoverableViolation")("A ONE Semantic error response must have an error code.","comet_video_player");return!1}d=k(a);return l(d,b)}function m(a){if(a){a=a.get("x-fb-one");if(a!=null)return parseInt(a,10)>0?a:null}return null}function e(a,b,c){var d=null,e=null;b!=null&&(d=k(b),d!=null&&a.setOneReqWave(parseInt(d,10)));b=c==null?void 0:c.headers;b&&(e=m(b),e!=null&&a.setOneResWave(parseInt(e,10)));a.setOneObserved(l(d,e))}g.maybeRetryForVariant=h;g.evaluateOneSemanticsResponse=a;g.isOneSemanticsForcedForResponseWave=i;g.isOneSemanticsEnabledForWave=j;g.getOneSemanticRequestWave=k;g.shouldRespondWithOneSemantics=b;g.getOneSemanticResponseWave=m;g.setOneSemanticFetchStreamLoggingAttributes=e}),98);
__d("handleOzManifestFetchErrorEvent",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=a.getNumber("initial_manifest_request_retry_count",0),d=JSON.parse(a.getString("network_retry_intervals_json","{}")),e=a.getNumber("live_max_try_attempts_on_404",1),f=["404","503"];a.getBool("live_gracefully_handle_no_network",!1)&&f.push("0");a.getBool("live_gracefully_handle_410",!1)&&f.push("410");a.getBool("live_gracefully_handle_502",!1)&&f.push("502");a.getBool("live_gracefully_handle_429",!1)&&f.push("429");a.getBool("live_gracefully_handle_504",!1)&&f.push("504");a.getBool("normalize_mpd_fetch_errors",!1)&&f.push("20");var g=b.error.getExtra().code;if(a.getBool("no_retry_on_empty_string_error_code",!1)&&g==="")return;a.getBool("handle_mpd_null_error_codes",!1)&&(g=g!=null?g:null);d=d[g];if(b.isInitialRequest)typeof d==="number"&&d>0&&b.retryAttemptCount<c&&b.retry({waitMs:d});else if(g!=null&&f.indexOf(g)>-1)switch(g){case"410":b.endStream();break;case"404":e<b.consecutiveFailuresForErrorCode&&b.retry();break;case"504":case"502":case"503":case"20":case"0":b.retry();break;case"429":typeof d==="number"&&d>0&&b.retry({waitMs:d});break;default:break}else g===null&&a.getBool("handle_mpd_null_error_codes",!1)&&b.retry()}f["default"]=a}),66);
__d("handleOzStreamErrorEvent",[],(function(a,b,c,d,e,f){"use strict";var g=[0,1,1,2,3,5,8,13,21,34];function a(a,b){var c=b.error.getExtra().code;if(a.getBool("no_retry_on_empty_string_error_code",!1)&&c==="")return;if(a.getBool("retry_null_error_code_in_stream",!1)&&c==null){b.retry();return}var d=JSON.parse(a.getString("network_end_broadcasts_json","[]"));if(d.includes(c)){b.endStream();return}d=JSON.parse(a.getString("network_skip_json","[]"));if(d.includes(c)){b.retry();return}d=a.getBool("back_off_pdash_504_retry",!0)?g[b.retryAttemptCount]:0;var e=JSON.parse(a.getString("network_reload_mpd_json","[]")),f=a.getBool("fix_reload_manifest_retry",!1);if(a.getBool("back_off_pdash_504_retry",!0)&&d==null&&(!f||e.includes(c)))return;if(d!=null&&e.includes(c)){a.getBool("network_reload_mpd_json_retry",!1)?b.retry({behavior:"recover_failed_request",waitMs:d*1e3}):b.retry({waitMs:d*1e3});return}f=JSON.parse(a.getString("network_retry_intervals_json",'{"0": 1000, "404": 2000, "502": 1000, "503": 1000, "504": 1000}'));e=c!=null?f[c]:null;if(e!=null){a.getBool("network_retry_intervals_json_retry",!1)?b.retry({behavior:"retry_failed_request",waitMs:e}):b.retry({waitMs:e});return}}f["default"]=a}),66);
__d("OzOneSemanticHandler",["OzOneSemanticHandlerUtils","handleOzManifestFetchErrorEvent","handleOzStreamErrorEvent"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=b.error;d("OzOneSemanticHandlerUtils").shouldRespondWithOneSemantics(e)?d("OzOneSemanticHandlerUtils").evaluateOneSemanticsResponse(a,b):c("handleOzManifestFetchErrorEvent")(a,b)}function b(a,b){var e=b.error;d("OzOneSemanticHandlerUtils").shouldRespondWithOneSemantics(e)?d("OzOneSemanticHandlerUtils").evaluateOneSemanticsResponse(a,b):c("handleOzStreamErrorEvent")(a,b)}g.handleManifestFetchErrorEvent=a;g.handleStreamErrorEvent=b}),98);
__d("oz-player/shims/www/ozvariantWWW",["invariant"],(function(a,b,c,d,e,f,g,h){a=h;g["default"]=a}),98);
__d("oz-player/shims/ozvariant",["oz-player/shims/www/ozvariantWWW"],(function(a,b,c,d,e,f,g){g["default"]=c("oz-player/shims/www/ozvariantWWW")}),98);
__d("oz-player/utils/OzNumericalHelper",[],(function(a,b,c,d,e,f){"use strict";var g=1e-5;function h(a,b,c){c===void 0&&(c=g);return Math.abs(b-a)<=c}function i(a,b,c){c===void 0&&(c=g);return a>b&&!h(a,b,c)}function j(a,b,c){c===void 0&&(c=g);return a<b&&!h(a,b,c)}function a(a,b,c){c===void 0&&(c=g);return j(a,b,c)||h(a,b,c)}function b(a,b,c){c===void 0&&(c=g);return i(a,b,c)||h(a,b,c)}f.equalTo=h;f.greaterThan=i;f.lessThan=j;f.lessThanOrEqual=a;f.greaterThanOrEqual=b}),66);
__d("oz-player/utils/OzNumericalRangeUtil",["oz-player/utils/OzNumericalHelper"],(function(a,b,c,d,e,f,g){"use strict";var h=.01;function i(a,b){b=b.rangeEnd;return b==null?!1:Math.abs(a.rangeStart-b)>h&&a.rangeStart>b}function j(a,b){a=a.rangeEnd;b=b.rangeEnd;if(a==null)return!0;return b==null?!1:Math.abs(a-b)>h&&a>b}function k(a,b,c,d){a=c.rangeEnd;return a==null?!1:b===a||Math.abs(b-a)>((c=d)!=null?c:h)&&b>a}function a(a,b,c){var d=b.rangeEnd;if(d==null)return!1;c=(c=c)!=null?c:h;return a-b.rangeStart>=c&&d-a>=c}function l(a,b){return a>b-h}function b(a){if(!a.length)return[];var b=[],c=a[0];b.push(c);for(var d=1;d<a.length;d++){var e=a[d];if(!j(e,c))continue;else i(e,c)?(c={rangeStart:e.rangeStart,rangeEnd:e.rangeEnd},b.push(c)):c.rangeEnd=e.rangeEnd}return b}function c(a,b,c){return b.reduceRight(function(b,d){k(a,d.rangeStart,c)||k(a,c.rangeStart,d)?b.push(d):(c.rangeEnd!=null&&(d.rangeEnd==null||k(a,d.rangeEnd,c))&&b.push({rangeStart:c.rangeEnd,rangeEnd:d.rangeEnd}),l(c.rangeStart,d.rangeStart)&&b.push({rangeStart:d.rangeStart,rangeEnd:c.rangeStart}));return b},[]).filter(function(a){return a.rangeEnd==null||a.rangeStart<a.rangeEnd}).reverse()}function e(a,b,c,d){d===void 0&&(d=h);for(var e=0;e<c.length;e++){var f=c[e],g=f.rangeStart;if(l(b,g)&&!k(a,b,f,d))return e}return-1}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d=d.rangeStart;if(!l(a,d))return c}return-1}function m(a,b,c){return a>=b?0:c.reduceRight(function(c,d){var e=d.rangeStart;d=d.rangeEnd;if(b<e||d!=null&&a>d)return c;else if(d==null||b<=d)return Math.min(b-e,b-a)+c;else if(a>=e)return Math.min(d-a,b-a)+c;else return d-e+c},0)}function n(a,b){var c;c=a.length==0?(c=b[b.length-1])!=null?c:null:null;for(var e=0;e<a.length;e++){var f=a[e];for(var g=e;g<b.length;g++){var h=b[g];if(d("oz-player/utils/OzNumericalHelper").equalTo(f.rangeStart,h.rangeStart)&&f.rangeEnd!=null&&h.rangeEnd!=null&&d("oz-player/utils/OzNumericalHelper").equalTo(f.rangeEnd,h.rangeEnd))break;else if(h.rangeEnd!=null&&f.rangeEnd!=null&&!d("oz-player/utils/OzNumericalHelper").equalTo(f.rangeStart,h.rangeStart)){c={rangeStart:h.rangeStart,rangeEnd:h.rangeEnd};break}else if(h.rangeEnd!=null&&f.rangeEnd!=null&&d("oz-player/utils/OzNumericalHelper").equalTo(f.rangeStart,h.rangeStart)&&!d("oz-player/utils/OzNumericalHelper").equalTo(f.rangeEnd,h.rangeEnd)){c={rangeStart:f.rangeEnd,rangeEnd:h.rangeEnd};break}}if(c!==null)break}return c}function o(a){var b=[];for(var c=0;c<a.length;c++)b.push({rangeStart:a[c].startTime,rangeEnd:a[c].endTime});return b}g.isAfter=k;g.isWithin=a;g.isLargerThan=l;g.mergeSortedRanges=b;g.diffSortedRanges=c;g.findCurrentRangeIndex=e;g.findNextRangeIndex=f;g.findDiffCoveredByRanges=m;g.firstAddedInSortedRanges=n;g.convertFromTimeRanges=o}),98);
__d("oz-player/manifests/SegmentTemplateSegmentsContainer",["oz-player/manifests/OzSegmentOptions","oz-player/shims/OzEventEmitter","oz-player/shims/OzURI","oz-player/shims/ozvariant","oz-player/utils/OzNumericalHelper","oz-player/utils/OzNumericalRangeUtil"],(function(a,b,c,d,e,f,g){"use strict";var h=1e-4;a=function(){function a(a,b,d,e,f,g){g===void 0&&(g=!1),this.$7=new(c("oz-player/shims/OzEventEmitter"))(),this.$10=null,this.$8=a,this.$2=b,this.$3=d,this.$1=f,this.$4=e,this.$5=this.$11(this.$4),this.$6=g,this.$9=this.$8.getNumber("live_numerical_error_epsilon")}var b=a.prototype;b.getSegmentByTime=function(a){a=this.$12(a);a=a*this.$3;var b=null;for(var c=this.$4.length-1;c>=0;c--){var e=this.$4[c];if(d("oz-player/utils/OzNumericalHelper").lessThanOrEqual(e.t+e.d*(e.r+1),a,this.$9))break;b=e}if(b===null)return null;if(d("oz-player/utils/OzNumericalHelper").greaterThan(b.t,a,this.$9))return null;e=Math.max(0,Math.floor((a-b.t+this.$9)/b.d));return this.$13(b,e)};b.getSegment=function(a){var b=0;a=a;while(a>=0&&b<this.$4.length){var c=this.$4[b];c=c.r;c=c+1;if(a>=c){a-=c;b++;continue}break}c=this.$4[b];return!c?null:this.$13(c,a)};b.getSegmentAfter=function(a){a=a.getTimeRange().endTime;return this.getSegmentByTime(a)};b.getPredictedSegmentAfter=function(a){return null};b.canPredict=function(){return!1};b.canApproximateId=function(){return!1};b.isEndingSegment=function(a){if(!this.$4||!this.$4.length||!this.$6)return!1;var b=this.$4[this.$4.length-1],c=b.r;b=this.$13(b,c);return Math.abs(b.getTimeRange().startTime-a.getTimeRange().startTime)+Math.abs(b.getTimeRange().endTime-a.getTimeRange().endTime)<h};b.updateWith=function(b){b instanceof a||c("oz-player/shims/ozvariant")(0,646),this.$6=b.$6,this.$14(b.$4),this.$15(b.$4),this.$7.emit("segment_updated")};b.getTimeRanges=function(){return this.$10?this.$16(this.$5,this.$10):this.$5};b.blockTimeRange=function(a){this.$10=a};b.$16=function(a,b){return d("oz-player/utils/OzNumericalRangeUtil").diffSortedRanges(this.$8,a.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}),{rangeStart:b.startTime,rangeEnd:b.endTime}).map(function(a){return{startTime:a.rangeStart,endTime:a.rangeEnd==null?Infinity:a.rangeEnd}})};b.addUpdateListener=function(a){return this.$7.addListener("segment_updated",a)};b.$12=function(a){var b=a,c=d("oz-player/utils/OzNumericalRangeUtil").findCurrentRangeIndex(this.$8,a,this.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}));if(c===-1){c=d("oz-player/utils/OzNumericalRangeUtil").findNextRangeIndex(a,this.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}));c!==-1&&(b=this.getTimeRanges()[c].startTime)}return b};b.$14=function(a){var b;(b=this.$4).splice.apply(b,[0,this.$4.length].concat(a));return};b.$15=function(a){a=this.$11(a);a=d("oz-player/utils/OzNumericalRangeUtil").mergeSortedRanges(this.$5.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}).concat(a.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}})));this.$5=a.map(function(a){return{startTime:a.rangeStart,endTime:a.rangeEnd==null?Infinity:a.rangeEnd}})};b.$11=function(a){var b=this;a=d("oz-player/utils/OzNumericalRangeUtil").mergeSortedRanges(this.$4.map(function(a){var c=b.$13(a,0).getTimeRange().startTime;a=b.$13(a,a.r).getTimeRange().endTime;return{rangeStart:c,rangeEnd:a}}));return a.map(function(a){var b=a.rangeStart;a=a.rangeEnd;a=a==null?Infinity:a;return{startTime:b,endTime:a}})};b.$13=function(a,b){var d=this;b===void 0&&(b=0);var e=a.t,f=a.d,g=a.r;a=a.id;var h=e+f*b,i=this.$8.getBool("use_scf_timebased_segments"),j=a!=null?a-(g-b):null,k=new(c("oz-player/manifests/OzSegmentOptions"))();return{getData:function(){return null},getURI:function(){var a="";d.$1!=null&&j!=null?a=d.$1.replace("$Number$",j.toString()):j!=null&&d.$2.indexOf("$Number$")!==-1&&d.$8.getBool("parse_number_templated_uri")?a=d.$2.replace("$Number$",j.toString()):a=d.$2.replace("$Time$",h.toString());a=new(c("oz-player/shims/OzURI"))(a);i&&a.addQueryData("_nc_scf",1);return a},getTimeRange:function(){return{startTime:h/d.$3,endTime:(h+f)/d.$3}},getByteRange:function(){return null},getSequenceNumber:function(){return null},getOptions:function(){return k}}};b.getSegmentGroups=function(){return this.$4};b.getEndingSegment=function(){if(this.$4.length==0)return null;var a=this.$4[this.$4.length-1],b=a.r;return this.$13(a,b)};b.forceParseIfNotParsed=function(){};b.getMaxGopSec=function(){return null};return a}();g["default"]=a}),98);
__d("oz-player/utils/OzUrlHelper",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=a;var b=a.indexOf("://"),c=a.indexOf("/",b+3);c>b&&(a=a.substring(c));return a}function g(a){a=a;var b=a.lastIndexOf("/"),c=a.lastIndexOf("://");b>c+2&&(a=a.substring(0,b+1));return a}function h(a){a=a;a=g(a);return a.endsWith("/")?g(a.substring(0,a.length-1)):a}function i(a,b){a=g(a);b=b;while(b.length)if(b.startsWith("./"))b=b.substring(2);else if(b.startsWith("../"))b=b.substring(3),a=h(a),a.endsWith("/")&&(a=a.substring(0,a.length-1));else if(b.startsWith(".."))b=b.substring(2),a=h(a);else if(b.startsWith("."))b=b.substring(1);else break;b&&b.length&&(a.endsWith("/")||(a+="/"),a+=b);return a}function j(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];if(!b||!b.length)return"";if(b.length===1)return b[0];var d=b.shift();while(b.length>0)d=i(d,b.shift());return d}function b(a,b){return k(b)?b:j(a,b)}function k(a){var b=/^https?:\/\//i;return b.test(a)}f.stripToPathAndQueryOnly=a;f.joinRelativeUrlPaths=j;f.joinUrlPaths=b}),66);
__d("PredictedSegmentTemplateSegmentsContainer",["oz-player/manifests/OzSegmentOptions","oz-player/manifests/SegmentTemplateSegmentsContainer","oz-player/shims/OzURI","oz-player/shims/ozvariant","oz-player/utils/OzNumericalHelper","oz-player/utils/OzNumericalRangeUtil","oz-player/utils/OzUrlHelper"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f,g,h,i,j,k){k===void 0&&(k=!1);c=a.call(this,b,c,e,f,null,k)||this;c.$PredictedSegmentTemplateSegmentsContainer$p_9=0;c.$PredictedSegmentTemplateSegmentsContainer$p_11=null;c.$PredictedSegmentTemplateSegmentsContainer$p_10=d;c.$PredictedSegmentTemplateSegmentsContainer$p_8=k;c.$PredictedSegmentTemplateSegmentsContainer$p_12=f;c.$PredictedSegmentTemplateSegmentsContainer$p_7=b;c.$PredictedSegmentTemplateSegmentsContainer$p_5=e;c.$PredictedSegmentTemplateSegmentsContainer$p_1=g;c.$PredictedSegmentTemplateSegmentsContainer$p_3=i;c.$PredictedSegmentTemplateSegmentsContainer$p_2=h;c.$PredictedSegmentTemplateSegmentsContainer$p_4=j;c.$PredictedSegmentTemplateSegmentsContainer$p_6=b.getNumber("live_numerical_error_epsilon");for(d=0;d<c.$PredictedSegmentTemplateSegmentsContainer$p_12.length;d++)c.$PredictedSegmentTemplateSegmentsContainer$p_9=Math.max(c.$PredictedSegmentTemplateSegmentsContainer$p_12[d].d,c.$PredictedSegmentTemplateSegmentsContainer$p_9);return c}var e=b.prototype;e.$PredictedSegmentTemplateSegmentsContainer$p_13=function(){if(this.$PredictedSegmentTemplateSegmentsContainer$p_2!=null&&this.$PredictedSegmentTemplateSegmentsContainer$p_4!=null)return{predictedAverageDuration:this.$PredictedSegmentTemplateSegmentsContainer$p_4,predictedMediaStartNumber:this.$PredictedSegmentTemplateSegmentsContainer$p_2};else return null};e.$PredictedSegmentTemplateSegmentsContainer$p_14=function(a,b,e){var f=this;Number.isNaN(e)&&c("oz-player/shims/ozvariant")(0,54238);var g=this.$PredictedSegmentTemplateSegmentsContainer$p_1.replace("$Number$",e.toString()),h=this.$PredictedSegmentTemplateSegmentsContainer$p_7.getLegacyConfig().getString("cdn_experiment_id",""),i=this.$PredictedSegmentTemplateSegmentsContainer$p_7.getLegacyConfig().getNumber("use_dvl_with_timeout_ms",0),j=new(c("oz-player/manifests/OzSegmentOptions"))();return{getByteRange:function(){return null},getData:function(){return null},getOptions:function(){return j},getSequenceNumber:function(){return e},getTimeRange:function(){return{endTime:b,startTime:a}},getURI:function(){var a=new(c("oz-player/shims/OzURI"))(g);h.length!==0&&a.addQueryData("_nc_expid",h);var b=j.isDVLEnabled();b&&i>0&&f.$PredictedSegmentTemplateSegmentsContainer$p_10!=null&&(a.addQueryData("_nc_dinfo-manifest-url",d("oz-player/utils/OzUrlHelper").stripToPathAndQueryOnly(f.$PredictedSegmentTemplateSegmentsContainer$p_10)),a.addQueryData("_nc_dinfo-timeout",i));return a}}};e.updateWith=function(d){d instanceof b||c("oz-player/shims/ozvariant")(0,646);this.$PredictedSegmentTemplateSegmentsContainer$p_3=d.$PredictedSegmentTemplateSegmentsContainer$p_3;this.$PredictedSegmentTemplateSegmentsContainer$p_1=d.$PredictedSegmentTemplateSegmentsContainer$p_1;a.prototype.updateWith.call(this,d);this.$PredictedSegmentTemplateSegmentsContainer$p_12=d.$PredictedSegmentTemplateSegmentsContainer$p_12;this.$PredictedSegmentTemplateSegmentsContainer$p_8=d.$PredictedSegmentTemplateSegmentsContainer$p_8;for(d=0;d<this.$PredictedSegmentTemplateSegmentsContainer$p_12.length;d++)this.$PredictedSegmentTemplateSegmentsContainer$p_9=Math.max(this.$PredictedSegmentTemplateSegmentsContainer$p_12[d].d,this.$PredictedSegmentTemplateSegmentsContainer$p_9)};e.getSegmentByTime=function(a){return this.canApproximateId()?this.$PredictedSegmentTemplateSegmentsContainer$p_15(a):this.$PredictedSegmentTemplateSegmentsContainer$p_16(a)};e.getPredictedSegmentAfter=function(a){a=a!=null?a.getSequenceNumber():null;return a!=null&&this.canPredict()?this.$PredictedSegmentTemplateSegmentsContainer$p_14(0,0,a+1):null};e.blockTimeRange=function(b){this.$PredictedSegmentTemplateSegmentsContainer$p_11=b,a.prototype.blockTimeRange.call(this,b)};e.getTimeRanges=function(){var b=this.$PredictedSegmentTemplateSegmentsContainer$p_13();if(b){b=[{endTime:(this.$PredictedSegmentTemplateSegmentsContainer$p_12[this.$PredictedSegmentTemplateSegmentsContainer$p_12.length-1].t+this.$PredictedSegmentTemplateSegmentsContainer$p_12[this.$PredictedSegmentTemplateSegmentsContainer$p_12.length-1].d)/this.$PredictedSegmentTemplateSegmentsContainer$p_5,startTime:(this.$PredictedSegmentTemplateSegmentsContainer$p_12[0].t-b.predictedAverageDuration-(this.$PredictedSegmentTemplateSegmentsContainer$p_3-this.$PredictedSegmentTemplateSegmentsContainer$p_12.length-Number(this.$PredictedSegmentTemplateSegmentsContainer$p_2))*Number(b.predictedAverageDuration))/this.$PredictedSegmentTemplateSegmentsContainer$p_5}];var c=this.$PredictedSegmentTemplateSegmentsContainer$p_11;return c==null?b:d("oz-player/utils/OzNumericalRangeUtil").diffSortedRanges(this.$PredictedSegmentTemplateSegmentsContainer$p_7,b.map(function(a){return{rangeEnd:a.endTime,rangeStart:a.startTime}}),{rangeEnd:c.endTime,rangeStart:c.startTime}).map(function(a){return{endTime:a.rangeEnd==null?Infinity:a.rangeEnd,startTime:a.rangeStart}})}else return a.prototype.getTimeRanges.call(this)};e.canPredict=function(){return!0};e.canApproximateId=function(){var a=this.$PredictedSegmentTemplateSegmentsContainer$p_13();return a!=null};e.$PredictedSegmentTemplateSegmentsContainer$p_16=function(a){var b=null;a=a*this.$PredictedSegmentTemplateSegmentsContainer$p_5;var e=this.$PredictedSegmentTemplateSegmentsContainer$p_12.length>0?this.$PredictedSegmentTemplateSegmentsContainer$p_12[this.$PredictedSegmentTemplateSegmentsContainer$p_12.length-1].t+this.$PredictedSegmentTemplateSegmentsContainer$p_12[this.$PredictedSegmentTemplateSegmentsContainer$p_12.length-1].d:null,f=this.$PredictedSegmentTemplateSegmentsContainer$p_7.getLegacyConfig().getNumber("pdash_future_edgelatency_gops",0);if(e!=null&&e<=a&&f!==0&&a<e+this.$PredictedSegmentTemplateSegmentsContainer$p_9*f){e=a-(this.$PredictedSegmentTemplateSegmentsContainer$p_12[this.$PredictedSegmentTemplateSegmentsContainer$p_12.length-1].t+this.$PredictedSegmentTemplateSegmentsContainer$p_12[this.$PredictedSegmentTemplateSegmentsContainer$p_12.length-1].d);e=this.$PredictedSegmentTemplateSegmentsContainer$p_9?0:Math.floor(e/this.$PredictedSegmentTemplateSegmentsContainer$p_9);return this.$PredictedSegmentTemplateSegmentsContainer$p_14(0,0,this.$PredictedSegmentTemplateSegmentsContainer$p_3+1+e)}e=0;for(var g=0;this.$PredictedSegmentTemplateSegmentsContainer$p_12.length-1-g>=0;g++){var h=this.$PredictedSegmentTemplateSegmentsContainer$p_12[this.$PredictedSegmentTemplateSegmentsContainer$p_12.length-1-g];h.r===0||c("oz-player/shims/ozvariant")(0,18769);if(d("oz-player/utils/OzNumericalHelper").lessThanOrEqual(h.t+h.d*(h.r+1),a,this.$PredictedSegmentTemplateSegmentsContainer$p_6))break;b=h;e=g}if(b===null||f>0&&a<b.t)return null;else return this.$PredictedSegmentTemplateSegmentsContainer$p_14(b.t/this.$PredictedSegmentTemplateSegmentsContainer$p_5,(b.t+b.d)/this.$PredictedSegmentTemplateSegmentsContainer$p_5,this.$PredictedSegmentTemplateSegmentsContainer$p_3-e)};e.$PredictedSegmentTemplateSegmentsContainer$p_15=function(a){var b=a*this.$PredictedSegmentTemplateSegmentsContainer$p_5,c=this.getTimeRanges();if(d("oz-player/utils/OzNumericalHelper").greaterThan(c[0].startTime,a))return null;else if(d("oz-player/utils/OzNumericalHelper").lessThanOrEqual(this.$PredictedSegmentTemplateSegmentsContainer$p_12[0].t,b))return this.$PredictedSegmentTemplateSegmentsContainer$p_16(a);else{c=Math.ceil((this.$PredictedSegmentTemplateSegmentsContainer$p_12[0].t-b)/Number(this.$PredictedSegmentTemplateSegmentsContainer$p_4));b=Math.max(Number(this.$PredictedSegmentTemplateSegmentsContainer$p_2),this.$PredictedSegmentTemplateSegmentsContainer$p_3-this.$PredictedSegmentTemplateSegmentsContainer$p_12.length+1-c);return this.$PredictedSegmentTemplateSegmentsContainer$p_14(a,a+Number(this.$PredictedSegmentTemplateSegmentsContainer$p_4)/this.$PredictedSegmentTemplateSegmentsContainer$p_5,b)}};e.isEndingSegment=function(b){if(!this.$PredictedSegmentTemplateSegmentsContainer$p_8)return!1;var c=b.getSequenceNumber();return c!=null?c>=this.$PredictedSegmentTemplateSegmentsContainer$p_3:a.prototype.isEndingSegment.call(this,b)};e.getEndingSegment=function(){if(this.$PredictedSegmentTemplateSegmentsContainer$p_12.length===0)return null;var a=this.$PredictedSegmentTemplateSegmentsContainer$p_12[this.$PredictedSegmentTemplateSegmentsContainer$p_12.length-1];return this.$PredictedSegmentTemplateSegmentsContainer$p_14(a.t/this.$PredictedSegmentTemplateSegmentsContainer$p_5,(a.t+a.d)/this.$PredictedSegmentTemplateSegmentsContainer$p_5,this.$PredictedSegmentTemplateSegmentsContainer$p_3)};e.getMaxGopSec=function(){return this.$PredictedSegmentTemplateSegmentsContainer$p_9/this.$PredictedSegmentTemplateSegmentsContainer$p_5};return b}(c("oz-player/manifests/SegmentTemplateSegmentsContainer"));g["default"]=a}),98);
__d("oz-player/parsers/OzDefaultSegmentTimelineParser",["oz-player/manifests/SegmentTemplateSegmentsContainer","oz-player/utils/OzUrlHelper"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}a.parseSegments=function(a,b){a=[];b.SegmentTimeline[0].S&&(a=b.SegmentTimeline[0].S.map(function(a){return{t:Number.parseInt(a.$.t,10),d:Number.parseInt(a.$.d,10),r:Number.parseInt(a.$.r||"0",10),id:a.$.id?Number.parseInt(a.$.id,10):void 0}}));return a};var b=a.prototype;b.parseSegmentsContainer=function(b,e,f){return new(c("oz-player/manifests/SegmentTemplateSegmentsContainer"))(b,d("oz-player/utils/OzUrlHelper").joinUrlPaths(e.baseUrl,f.$.media),Number.parseInt(f.$.timescale,10),a.parseSegments(b,f),null,e.isStaticMpd)};return a}();g["default"]=a}),98);
__d("OzPredictedSegmentTimelineParser",["PredictedSegmentTemplateSegmentsContainer","oz-player/manifests/SegmentTemplateSegmentsContainer","oz-player/parsers/OzDefaultSegmentTimelineParser","oz-player/shims/OzURI","oz-player/utils/OzUrlHelper"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.parseSegmentsContainer=function(a,b,e){var f;if(e.SegmentTimeline[0].$.FBPredictedMedia){f=d("oz-player/utils/OzUrlHelper").joinUrlPaths(b.baseUrl,e.SegmentTimeline[0].$.FBPredictedMedia);var g=new(c("oz-player/shims/OzURI"))(f);g.addQueryData("_nc_sc",1);f=g.toString()}var h;e.SegmentTimeline[0].$.FBPredictedMediaStartNumber&&(h=Number.parseInt(e.SegmentTimeline[0].$.FBPredictedMediaStartNumber,0));var i;e.SegmentTimeline[0].$.FBPredictedMediaEndNumber&&(i=Number.parseInt(e.SegmentTimeline[0].$.FBPredictedMediaEndNumber,0));var j;e.SegmentTimeline[0].$.FBAverageDuration&&(j=Number.parseInt(e.SegmentTimeline[0].$.FBAverageDuration,0));g=c("oz-player/parsers/OzDefaultSegmentTimelineParser").parseSegments(a,e);return(b.isTemplatedMpd&&h!=null&&j!=null||!b.isTemplatedMpd)&&f!=null&&i!=null?new(c("PredictedSegmentTemplateSegmentsContainer"))(a,d("oz-player/utils/OzUrlHelper").joinUrlPaths(b.baseUrl,e.$.media),b.mpdUrl,Number.parseInt(e.$.timescale,10),g,f,h,i,j,b.isStaticMpd):new(c("oz-player/manifests/SegmentTemplateSegmentsContainer"))(a,d("oz-player/utils/OzUrlHelper").joinUrlPaths(b.baseUrl,e.$.media),Number.parseInt(e.$.timescale,10),g,f,b.isStaticMpd)};return a}();g["default"]=a}),98);
__d("oz-player/utils/OzAbrUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){if(d.resolutionConstraintFactor===0)return a.slice();var e=a.filter(function(a){var e=a.getWidth()<=b.width*c*d.resolutionConstraintFactor;a=a.getHeight()<=b.height*c*d.resolutionConstraintFactor;return e&&a});return!e.length?[a[0]]:e}function b(a,b,c,d,e,f){b=b?a.getNumber("min_switch_interval"):a.getNumber("initial_switch_interval");d=d>=a.getNumber("abr_min_bandwidth_samples");var g=a.getNumber("abr_eval_buffer_threshold");c=!g||c>=g;g=null;e+a.getNumber("min_eval_interval")>Date.now()?g="min_eval_interval":f+b>Date.now()?g="min_switch_interval":!d?g="min_bandwidth_samples":c||(g="buffer_threshold_not_satisfied");return g}f.excludeLargeRepresentations=a;f.getReasonToPreventEvaluation=b}),66);
__d("oz-player/utils/OzPlaybackRestrictionsUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){if(c.length===0)return[];a=a.reduce(function(a,c){return c.applyRestriction(a,b)},c);return a}f.applyVideoPlaybackRestrictions=a}),66);
__d("OzSystemicRiskABRUtils",["MosUtils","OzSystemicRiskUtils","QualityScoreUtils","gkx","oz-player/utils/OzAbrUtils","oz-player/utils/OzBufferingUtils","oz-player/utils/OzPlaybackRestrictionsUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=c("gkx")("4400"),i=h?30:60,j=h?5e3:2e3;function k(a,b,c){b=b.getQualityScoreCurveString(a);if(h){a=d("QualityScoreUtils").parseQualityScoreCurve(String(b));return a!=null?d("QualityScoreUtils").calculateQualityScore(a,c,!0):null}else{a=d("MosUtils").parsePlaybackMos(String(b));return a!=null?d("MosUtils").getMosValue(a,d("MosUtils").getQualityLabel(c.width,c.height)):null}}function l(a){var b=j;if(a!=null&&a.length>0){var c=a[0].getTimeRange().startTime;a=a[a.length-1].getTimeRange().endTime;a-c>0&&(b=(a-c)*1e3)}return b}function m(a,b,c,e,f){if(!e.shouldApplyRepresentationRestrictions)return f.slice();var g,h=function(){var a;g=d("oz-player/utils/OzAbrUtils").excludeLargeRepresentations((a=g)!=null?a:f,b,c,{resolutionConstraintFactor:e.resolutionConstraintFactor})},i=function(){var c;g=d("oz-player/utils/OzPlaybackRestrictionsUtils").applyVideoPlaybackRestrictions(a,b,(c=g)!=null?c:f)};e.excludeLargeRepresentationsAfterRestrictions||(h(),i());e.excludeLargeRepresentationsAfterRestrictions&&(i(),h());return(i=g)!=null?i:f.slice()}var n={BANDWIDTH:"br",BUFFER:"vb",ENCODING:"er",LOW_MOS:"lm",MULTIPLIER:"m",PREVIOUS_MOS:"pm",PREVIOUS_RESOLUTION:"pr"};function o(a,b,c){if(b==null)return a;a=c.isSystemicRiskABREnabled;var d=c.noRepresentationSelected;c=c.representationCount;b=[[n.LOW_MOS,b.lowMos],[n.ENCODING,b.encoding],[n.BANDWIDTH,b.bandwidth],[n.MULTIPLIER,b.multiplier],[n.BUFFER,b.buffer],[n.PREVIOUS_MOS,b.previousMos],[n.PREVIOUS_RESOLUTION,b.previousResolution]].reduce(function(a,b){var c=b[1],d="";switch(typeof c){case"number":d=c.toFixed(1);break;case"boolean":d=c?"1":"0";break;default:d="null"}return a+(b[0]+": "+d+";")},"");a||(b+="disabled;");d&&(b+="none-selected-of-"+c+";");return b}function a(a){var b=a.videoRepresentations;if(b.length===0)return babelHelpers["extends"]({},a.abrState,{lastEvaluationReason:"no available representations"});var c=d("oz-player/utils/OzBufferingUtils").getBufferAheadFromCurrentTime(a.playheadMediaTimeSec,a.sourceBufferBufferedRangesSec),e=a.mediaDurationSec;e=isNaN(e)||!isFinite(e)?i:e;e=a.durationMode==="static"?(e-a.playheadMediaTimeSec)*1e3:i*1e3;var f=a.systemicRiskConfig.segmentFetchRangeDurationEnabled?l(a.segments):j,g=a.bandwidthDiagnostics;if(g==null)return babelHelpers["extends"]({},a.abrState,{lastEvaluationReason:"missing bandwidth diagnostics"});var n=m(a.videoRepresentationRestrictions,a.playerDimensions,a.devicePixelRatio,a.systemicRiskConfig,b).slice().sort(function(a,b){return a.getBandwidth()-b.getBandwidth()});if(h&&n.length===0)return babelHelpers["extends"]({},a.abrState,{lastEvaluationReason:"no representations after applying restrictions"});var p=null,q=null,r=null;for(var s=0;s<n.length;s++){var t,u,v=n[Math.max(s-1,0)],w=n[s];t=(t=k(a.qualityScoreType,w,a.playerDimensions))!=null?t:0;u=(u=k(a.qualityScoreType,v,a.playerDimensions))!=null?u:0;v=Math.min(v.getHeight(),v.getWidth());v=h?v*a.devicePixelRatio:v;q=d("OzSystemicRiskUtils").getRiskFactorsForRepresentation({bandwidthDiagnostics:g,bitrate:w.getBandwidth(),bufferAheadSec:c,defaultRiskFactor:a.systemicRiskConfig.defaultRiskFactor,documentHiddenRiskFactor:a.systemicRiskConfig.documentHiddenRiskFactor,hasMadeInitialDecision:a.abrState.hasMadeInitialDecision,highEstimateConfidence:a.systemicRiskConfig.highEstimateConfidence,initialRiskFactor:a.systemicRiskConfig.initialRiskFactor,isDocumentHidden:a.isDocumentHidden,lowMosResolution:a.systemicRiskConfig.lowMosResolution,lowMosRiskFactor:a.systemicRiskConfig.lowMosRiskFactor,minWatchableMos:a.systemicRiskConfig.minWatchableMos,previousMos:u,previousResolution:v,remainingVideoDurationMs:e,segmentFetchRangeDurationMs:f});v=q;v=v.multiplier;if(isNaN(v)){r=q;p=a.abrState.bestRepresentation;break}v=d("OzSystemicRiskUtils").isEffectiveBitrateBelowBandwidthEstimate(w.getBandwidth(),q.multiplier,f,g);if(h)if(v&&t>=u)r=q,p=w;else continue;else if(v)r=q,p=w;else break}p==null?t=a.systemicRiskConfig.respectPlaybackRestrictionsInABRFallback&&n.length>0?n[0]:b[0]:t=p;v=o(a.abrState.lastEvaluationReason,(u=r)!=null?u:q,{isSystemicRiskABREnabled:a.systemicRiskConfig.isSystemicRiskABREnabled,noRepresentationSelected:p==null,representationCount:n.length});return{bestRepresentation:t,hasMadeInitialDecision:!0,lastEvaluationReason:v}}g.evaluateSystemicRiskABR=a}),98);
__d("VideoPlayerOzWWWConfig",[],(function(a,b,c,d,e,f){"use strict";var g="oz_www_";a=function(){function a(a){this.$1=a}var b=a.prototype;b.getBool=function(a,b){return this.$1.getBool(g+a,b)};b.getNumber=function(a,b){return this.$1.getNumber(g+a,b)};b.getString=function(a,b){return this.$1.getString(g+a,b)};b.setContext=function(a,b){this.$1.setContext(a,b)};b.getAllContexts=function(){return this.$1.getAllContexts()};return a}();f["default"]=a}),66);
__d("OzSystemicRiskABRManager",["OzSystemicRiskABRUtils","OzSystemicRiskUtils","VideoPlayerOzWWWConfig","oz-player/networks/OzBandwidthEstimator"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c,d,e,f,g,h,i){this.$1=a,this.$2=c,this.$3=d,this.$4=e,this.$6=f,this.$7=g,this.$8=h,this.$9={bestRepresentation:b,hasMadeInitialDecision:!1,lastEvaluationReason:void 0},this.$10=i,this.$1.getBool("enable_abr_logging")&&this.$10.getOperationLogger("abr_initialized").setResult("success").setUserInfo({codecs:c.map(function(a){return a.getCodecs()}).join("|"),displayLabels:c.map(function(a){return a.getDisplayLabel()}).join(","),representationIds:c.map(function(a){return a.getID()}).join(",")}).setRepresentationID(b.getID()).setType("video").setInitiator("OzSystemicRiskABRManager").log()}var b=a.prototype;b.setSourceBuffer=function(a){this.$5=a};b.updateRepresentations=function(a){var b=this,c=this.$2;this.$2=a;var d=this.$9.bestRepresentation,e=this.$2.find(function(a){return a.getDisplayLabel()===b.$9.bestRepresentation.getDisplayLabel()});this.$9=babelHelpers["extends"]({},this.$9,{bestRepresentation:(e=e)!=null?e:this.$2[0]});this.$1.getBool("enable_abr_logging")&&this.$10.getOperationLogger("abr_representations_updated").setResult("success").setRepresentationID(this.$9.bestRepresentation.getID()).setPreviousRepresentationID(d.getID()).setUserInfo({newCodecs:a.map(function(a){return a.getCodecs()}).join("|"),newDisplayLabels:a.map(function(a){return a.getDisplayLabel()}).join(","),previousRepresentationIds:c.map(function(a){return a.getID()}).join(",")}).setType("video").setInitiator("OzSystemicRiskABRManager").log()};b.getBestRepresentation=function(a){var b=this.$1.getLegacyConfig(),e="mos";if(b instanceof c("VideoPlayerOzWWWConfig")){var f=b.getAllContexts();f=String(f.quality_score_type);e=f==="csvqm"?"csvqm":"mos"}f=(f=(f=this.$5)==null?void 0:f.getSourceBufferState().getBufferedRanges())!=null?f:null;var g=this.$4.getCurrentTime(),h=this.$4.getDuration(),i=this.$9.bestRepresentation,j=b.getBool("use_bandwidth_estimate_from_headers_in_abr",!1)?c("oz-player/networks/OzBandwidthEstimator").getBandwidthDiagnosticsFromHeaders(b):c("oz-player/networks/OzBandwidthEstimator").getBandwidthDiagnostics(b);this.$9=d("OzSystemicRiskABRUtils").evaluateSystemicRiskABR({abrState:this.$9,bandwidthDiagnostics:j,devicePixelRatio:this.$6,durationMode:this.$8,isDocumentHidden:document.hidden,mediaDurationSec:h,playerDimensions:this.$7(),playheadMediaTimeSec:g,qualityScoreType:e,segments:a,sourceBufferBufferedRangesSec:f,systemicRiskConfig:d("OzSystemicRiskUtils").getSystemicRiskConfigFromOzPlayerConfig(b),videoRepresentationRestrictions:this.$3,videoRepresentations:this.$2});this.$1.getBool("enable_abr_logging")&&this.$9.bestRepresentation!==i&&this.$10.getOperationLogger("abr_best_representation_selected").setResult("success").setReason(this.$9.lastEvaluationReason).setRepresentationID(this.$9.bestRepresentation.getID()).setPreviousRepresentationID(i==null?void 0:i.getID()).setUserInfo({bandwidthEstimate:String(j==null?void 0:j.bandwidthEstimate),qualityScoreType:e}).setType("video").setInitiator("OzSystemicRiskABRManager").log();return this.$9.bestRepresentation};b.getLastEvaluationReason=function(){return this.$9.lastEvaluationReason};return a}();g["default"]=a}),98);
__d("oz-player/shims/www/OzStreamsWWW",["cr:927622","cr:927623"],(function(a,b,c,d,e,f,g){"use strict";c=Boolean(b("cr:927622"));d=Boolean(b("cr:927623"));e=b("cr:927622")?b("cr:927622").ReadableStream:a.ReadableStream;f=b("cr:927623")?b("cr:927623").WritableStream:a.WritableStream;g.OzReadableStream=e;g.OzReadableStreamIsPolyfilled=c;g.OzWritableStream=f;g.OzWritableStreamIsPolyfilled=d}),98);
__d("oz-player/shims/OzStreams",["oz-player/shims/www/OzStreamsWWW"],(function(a,b,c,d,e,f,g){"use strict";g.OzReadableStream=(a=d("oz-player/shims/www/OzStreamsWWW")).OzReadableStream;g.OzReadableStreamIsPolyfilled=a.OzReadableStreamIsPolyfilled;g.OzWritableStream=a.OzWritableStream;g.OzWritableStreamIsPolyfilled=a.OzWritableStreamIsPolyfilled}),98);
__d("oz-player/networks/OzTransformStream",["oz-player/shims/OzEventEmitter","oz-player/shims/OzStreams","oz-player/utils/OzErrorUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;var e=(b=b==null?void 0:b.errorTransform)!=null?b:function(a){return a},f,g;c.writable=new(d("oz-player/shims/OzStreams").OzWritableStream)({start:function(a){g=a},write:function(a){c.emit("writableWrite",a);try{c.onDataWritten(a)}catch(a){f.error(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_STREAM",description:"Error from write handler: "+c.constructor.name,extra:{code:"OZ_S-0",originalError:a}}))}f.enqueue(a)},close:function(){c.emit("writableClose");try{c.onClose()}catch(a){f.error(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_STREAM",description:"Error from close handler: "+c.constructor.name,extra:{code:"OZ_S-1",originalError:a}}))}f.close()},abort:function(a){a=e(a);f.error(a)}});c.readable=new(d("oz-player/shims/OzStreams").OzReadableStream)({start:function(a){f=a},cancel:function(a){c.emit("readableCancel",a),g.error(a)}});return c}var c=b.prototype;c.onDataWritten=function(a){};c.onClose=function(){};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/shims/www/OzPerformanceWWW",["performance","performanceNow"],(function(a,b,c,d,e,f,g){var h,i;a={now:function(){return(h||(h=c("performanceNow")))()},getEntriesByName:function(a,b){return typeof (i||(i=c("performance"))).getEntriesByName==="function"?(i||(i=c("performance"))).getEntriesByName(a,b):[]}};b=a;g["default"]=b}),98);
__d("oz-player/shims/OzPerformance",["oz-player/shims/www/OzPerformanceWWW"],(function(a,b,c,d,e,f,g){g["default"]=c("oz-player/shims/www/OzPerformanceWWW")}),98);
__d("oz-player/utils/OzResourceTimingUtils",["oz-player/shims/OzPerformance"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){a=c("oz-player/shims/OzPerformance").getEntriesByName(a,"resource");return a.reduce(function(a,b){return a==null?b:b.responseEnd<a.responseEnd?a:b},null)};g.getLatestResourceTimingEntry=a}),98);
__d("OzVideoLiveTraceNetworkRequestStreamHandler",["oz-player/networks/OzTransformStream","oz-player/utils/OzResourceTimingUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){b===void 0&&(b=!1),this.$2=!1,this.$1=a,this.$2=b}var b=a.prototype;b.onResponse=function(a,b){var e=this,f=a.headers,g=null;if(!this.$1)return null;a=new(c("oz-player/networks/OzTransformStream"))();a.addListener("writableClose",function(){var a={},c=d("oz-player/utils/OzResourceTimingUtils").getLatestResourceTimingEntry(b);c&&(a.lat=Math.round(c.responseStart-c.requestStart).toString());e.$1&&f&&e.$1(f,g,a)});this.$2&&a.addListener("writableWrite",function(a){g===null?g=[a]:g.push(a)});return a};b.onError=function(a,b){return null};return a}();g["default"]=a}),98);
__d("oz-player/drm/OzDrmUtils",[],(function(a,b,c,d,e,f){"use strict";a=function(a){return Uint8Array.from(window.atob(a),function(a){return a.charCodeAt(0)})};b=function(a){return window.btoa(String.fromCharCode.apply(null,new Uint8Array(a)))};f.base64ToUint8Array=a;f.arrayBufferToBase64=b}),66);
__d("OzWidevineDrmProvider",["ConstUriUtils","FBLogger","oz-player/drm/OzDrmUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,e,f,g){this.$2=[];this.$4=!0;this.$5=!1;g!=null&&g!==""&&(this.$1=d("oz-player/drm/OzDrmUtils").base64ToUint8Array(g));if(b!=null&&f!=null){b=(g=d("ConstUriUtils").getUri(b))==null?void 0:g.addQueryParam("access_token",f);if(b==null)throw c("FBLogger")("comet_video_player").mustfixThrow("Invalid Graph API license uri for video: %s",a);this.$3=b.toString();this.$5=!0;this.$4=!1}else{g=e["0"];if(g==null){g="/video/drm/getlicense";b=(f=d("ConstUriUtils").getUri(g))==null?void 0:f.addQueryParam("video_id",a);if(b==null)throw c("FBLogger")("comet_video_player").mustfixThrow("Invalid server license uri for video: %s",a);this.$3=b.toString()}else this.$3=g}}var b=a.prototype;b.getKeySystem=function(){return"com.widevine.alpha"};b.getSchemeId=function(){return"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"};b.getInitDatas=function(){return this.$2};b.setInitDatas=function(a){this.$2=a};b.getRequireDistinctiveIdentifier=function(){return"optional"};b.getRequirePersistentState=function(){return"optional"};b.getInitDataTypes=function(){return};b.getDrmSessionTypes=function(){return["temporary"]};b.getAudioRobustness=function(){return""};b.getVideoRobustness=function(){return""};b.getServerCertificate=function(){return this.$1};b.getLicenseRequestInfo=function(a){var b={url:this.$3,method:"POST",body:"",headers:{},credentials:void 0};this.$4&&(b.credentials="include");a=d("oz-player/drm/OzDrmUtils").arrayBufferToBase64(a);if(this.$5){var c={request:a};b.body=JSON.stringify(c);b.headers["Content-Type"]="application/json"}else b.body=a,b.headers["Content-Type"]="application/text";return b};b.parseLicenseResponse=function(a){a=String.fromCharCode.apply(null,a);var b;try{b=JSON.parse(a)}catch(a){b=void 0}var c;if(b!==void 0&&b.data!==void 0&&b.data.length===1){b=b.data[0];b.error!=null||(c=b.license)}else c=a;if(c!=null&&c!=="")try{return d("oz-player/drm/OzDrmUtils").base64ToUint8Array(c)}catch(a){if(a.name==="InvalidCharacterError")throw new Error("Endpoint returned error: "+c);else throw a}return null};return a}();g["default"]=a}),98);
__d("PolarisGenericVirtualFeedConstants",[],(function(a,b,c,d,e,f){"use strict";a=800;b=1;c=5;d=3;e=1;var g=10,h=250;f.FEED_ESTIMATED_HEIGHT=a;f.FEED_INITIAL_RENDER_COUNT=b;f.FEED_INITIAL_RENDER_COUNT_FOR_SEO_CRAWLERS=c;f.FEED_OVERSCAN=d;f.FEED_NEXT_PAGE_THRESHOLD=e;f.PREFETCH_FEED_NEXT_PAGE_THRESHOLD=g;f.FEED_THROTTLE_TIME=h}),66);
__d("PolarisPrioritizedTask",["invariant","Promise","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=1e3,k="LOW_PRIORITY",l="HIGH_PRIORITY";a=function(){function a(a,b){var d=this;this.$2=null;this.$3=null;this.$4=!1;this.$5=!1;this.$8=0;this.$9=function(a){a===void 0&&(a={});d.$5=!0;a={didTimeout:a.didTimeout,priority:d.$6,timeRemaining:a.timeRemaining};c("nullthrows")(d.$2)(d.$1(a))};this.$1=b;this.setOptions(a)}var d=a.prototype;d.$10=function(){var a=this;switch(this.$6){case k:if(typeof window.requestIdleCallback!=="undefined"){var c=window.requestIdleCallback(this.$9,{timeout:this.getTimeout()});this.$3=function(){window.cancelIdleCallback(c)}}else{var d=window.setTimeout(function(){return a.$9({didTimeout:!0})},this.getTimeout()||j);this.$3=function(){window.clearTimeout(d)}}break;case l:var e=!1;(i||(i=b("Promise"))).resolve().then(function(){return!e&&a.$9()});this.$3=function(){e=!0};break}};d.$11=function(){if(!this.$4||this.$5)return;c("nullthrows")(this.$3)();this.$10()};d.commit=function(){this.$4||h(0,51359);if(this.$5)return;this.$9();c("nullthrows")(this.$3)()};d.run=function(){var a=this;this.$4&&h(0,51360);this.$8=Date.now()+this.$7;var c=new(i||(i=b("Promise")))(function(b){a.$2=b});this.$10();this.$4=!0;return c};d.setOptions=function(a){this.$7=Math.max(a.timeout||0,0),this.$8=Date.now()+this.$7,this.$6=a.priority,this.$11()};d.getPriority=function(){return this.$6};d.getTimeout=function(){return!this.$4?this.$7:Math.max(0,this.$8-Date.now())};return a}();g.LOW_PRIORITY=k;g.HIGH_PRIORITY=l;g.PrioritizedTask=a}),98);
__d("PolarisGenericVirtualFeed.react",["cx","IGDSSpinner.react","PolarisGenericVirtualFeedConstants","PolarisPrioritizedTask","PolarisSizeCache","PolarisVirtualizedWithScrollLogging.react","polarisLogAction","react","throttle"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");a=new(c("PolarisSizeCache"))({estimatedSize:d("PolarisGenericVirtualFeedConstants").FEED_ESTIMATED_HEIGHT});b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e,f;for(var g=arguments.length,h=new Array(g),i=0;i<g;i++)h[i]=arguments[i];return(e=f=a.call.apply(a,[this].concat(h))||this,f.$1=j.createRef(),f.$2=(window.matchMedia==null?void 0:(b=window.matchMedia("(prefers-reduced-motion)"))==null?void 0:b.matches)===!0,f.$3=c("throttle")(function(a){var b=a.numItemsFromEnd;a=a.numScreensFromEnd;var e=f.props,g=e.enablePrefetch,h=e.enablePriorityFetching,i=e.hasNextPage,j=e.isFetching,k=e.nextPageThreshold,l=e.onNextPage,m=e.prefetchNextPageThreshold;e=e.prefetchUsingItemDistance;e===!0?e=b:e=a;i&&!j&&(e<=k?(c("polarisLogAction")("loadMoreScroll"),l(h?{priority:d("PolarisPrioritizedTask").HIGH_PRIORITY}:void 0)):g&&e<=m&&(c("polarisLogAction")("loadMoreScroll"),l(h?{priority:d("PolarisPrioritizedTask").LOW_PRIORITY}:void 0)))},d("PolarisGenericVirtualFeedConstants").FEED_THROTTLE_TIME),e)||babelHelpers.assertThisInitialized(f)}var e=b.prototype;e.componentDidUpdate=function(a){var b=this.props,c=b.items;b=b.visibleCount;a.visibleCount===b&&a.items!==c&&this.$1.current&&this.$1.current.forceUpdate()};e.$4=function(){return!this.props.hasNextPage&&!this.props.isFetching?null:j.jsx("div",{className:"_aalg",children:j.jsx(c("IGDSSpinner.react"),{position:"absolute",size:"medium"})})};e.scrollToNextFeedItem=function(){var a;(a=this.$1.current)==null?void 0:a.scrollToItemAfterVisibleStart({scrollBehavior:this.$2?"instant":"smooth",scrollTarget:"window"})};e.scrollToPreviousFeedItem=function(){var a;(a=this.$1.current)==null?void 0:a.scrollToItemBeforeVisibleStart({scrollBehavior:this.$2?"instant":"smooth",scrollTarget:"window"})};e.render=function(){var a=this.props,b=a.allowSampledScrollLogging,c=a.analyticsContext,e=a.className,f=a["data-testid"];f=a.initialRenderCount;var g=a.overscanCount,h=a.overscanCountBeforeScroll,i=a.renderFeedItem,k=a.sizeCache;a=a.visibleCount;return j.jsxs(j.Fragment,{children:[j.jsx(d("PolarisVirtualizedWithScrollLogging.react").IGVirtualListWithLogging,{allowSampledScrollLogging:b,analyticsContext:c,className:e,"data-testid":void 0,estimatedItemSize:d("PolarisGenericVirtualFeedConstants").FEED_ESTIMATED_HEIGHT,initialRenderCount:f,itemCount:a,onScroll:this.$3,overscanCount:g,overscanCountBeforeScroll:h,pageletName:"virtual_feed",ref:this.$1,renderer:i,sizeCache:k}),this.$4()]})};return b}(j.PureComponent);b.defaultProps={allowSampledScrollLogging:!1,initialRenderCount:d("PolarisGenericVirtualFeedConstants").FEED_INITIAL_RENDER_COUNT,nextPageThreshold:d("PolarisGenericVirtualFeedConstants").FEED_NEXT_PAGE_THRESHOLD,overscanCount:d("PolarisGenericVirtualFeedConstants").FEED_OVERSCAN,prefetchNextPageThreshold:d("PolarisGenericVirtualFeedConstants").PREFETCH_FEED_NEXT_PAGE_THRESHOLD,sizeCache:a};g["default"]=b}),98);
__d("PolarisLoggedOutUserTagIndicatorWithSheet.react",["CometRelay","PolarisConfig","PolarisLoggedOutCtaLogger","PolarisNavigationActions","PolarisReactRedux.react","PolarisUA","PolarisUserTagIndicatorWithSheet.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.c;function a(a){var b=j(11),e=a.analyticsContext,f=a.mediaId,g=a.post;a=a.usertags;var h=d("PolarisReactRedux.react").useDispatch(),k=d("CometRelay").useRelayEnvironment(),l;b[0]!==e||b[1]!==h||b[2]!==k?(l=function(){d("PolarisLoggedOutCtaLogger").logLoggedOutCtaEvent({ctaType:"user_action",ctaVersion:"",eventName:"tagged_icon_click",module:e||""}),d("PolarisUA").isDesktop()&&!d("PolarisConfig").isLoggedOutFRXEligible()&&h(d("PolarisNavigationActions").openLoginModal(k,"feature_wall",window.location.href,"post_tagged"))},b[0]=e,b[1]=h,b[2]=k,b[3]=l):l=b[3];l=l;var m;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(m=d("PolarisUA").isDesktop(),b[4]=m):m=b[4];b[5]!==e||b[6]!==f||b[7]!==l||b[8]!==g||b[9]!==a?(m=i.jsx(c("PolarisUserTagIndicatorWithSheet.react"),{analyticsContext:e,disableSheet:m,mediaId:f,onClick:l,post:g,usertags:a}),b[5]=e,b[6]=f,b[7]=l,b[8]=g,b[9]=a,b[10]=m):m=b[10];return m}g["default"]=a}),98);
__d("VideoPlayerSliderNub.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={"default":{backgroundColor:"x14hiurz",borderTopColor:"x1g7gg9k",borderEndColor:"xenha5r",borderBottomColor:"x1eoefnw",borderStartColor:"x124h113",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"xamhcws",borderEndWidth:"xol2nv",borderBottomWidth:"xlxy82",borderStartWidth:"x19p7ews",boxShadow:"x1nqv1ya",display:"x1s85apg",height:"xdk7pt",marginRight:"x1x862rh",marginTop:"x1rdy4ex",position:"x10l6tqk",right:"x3m8u43",width:"x1xc55vz",zIndex:"x1vjfegm",$$css:!0},visible:{display:"x1lliihq",$$css:!0}};function a(a){a=a.isVisible;return j.jsx("div",{className:(h||(h=c("stylex")))(k["default"],a&&k.visible),"data-testid":void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerScrubberBaseContentDefault.react",["CometVisualCompletionAttributes","VideoPlayerSliderNub.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={liveRewindTimePlayed:{backgroundColor:"xh1tjdi",$$css:!0},liveTimePlayed:{backgroundColor:"x1ciooss",$$css:!0},timelineBackground:{backgroundColor:"x1rwy58d",borderTopStartRadius:"xm3z3ea",borderTopEndRadius:"x1x8b98j",borderBottomEndRadius:"x131883w",borderBottomStartRadius:"x16mih1h",boxShadow:"xpdb0fs",height:"xuoj239",textShadow:"xd9u3wd",userSelect:"x87ps6o",$$css:!0},timelineBuffered:{height:"xuoj239",position:"x10l6tqk",$$css:!0},timelineBufferedBackground:{backgroundColor:"x17j41np",$$css:!0},timelinePlayed:{backgroundColor:"x1evw4sf",borderTopStartRadius:"xm3z3ea",borderTopEndRadius:"x1x8b98j",borderBottomEndRadius:"x131883w",borderBottomStartRadius:"x16mih1h",height:"xuoj239",position:"x10l6tqk",userSelect:"x87ps6o",$$css:!0}};function a(a){var b=a.bufferedRatio;a.duration;a.hoveringPositionSec;a.isHovering;var d=a.isLive,e=a.isLiveRewindActive,f=a.isNubVisible,g=a.playedRatio,i=a.timelineBackgroundXStyle,l=a.timelineBufferedXStyle;a=a.timelinePlayedXStyle;return j.jsxs("div",{className:(h||(h=c("stylex")))(k.timelineBackground,i),children:[j.jsx("div",babelHelpers["extends"]({className:h(k.timelineBuffered,!d&&k.timelineBufferedBackground,l)},c("CometVisualCompletionAttributes").IGNORE,{style:{width:(100*b).toFixed(5)+"%"}})),j.jsx("div",babelHelpers["extends"]({className:h(k.timelinePlayed,d&&!e&&k.liveTimePlayed,d&&e&&k.liveRewindTimePlayed,a)},c("CometVisualCompletionAttributes").IGNORE,{style:{width:(100*g).toFixed(5)+"%"},children:j.jsx(c("VideoPlayerSliderNub.react"),{isVisible:f})}))]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerPointerDrag",["react","useResizeObserver","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h;f=h||d("react");var i=f.useEffect,j=f.useRef,k=f.useState;function a(){var a=j(null),b=j(null),d=c("useResizeObserver")(function(c,d){a.current=d.getBoundingClientRect(),b.current=d}),e=c("useStable")(function(){return function(){var c=b.current;c?a.current=c.getBoundingClientRect():a.current=null}});return{invalidateRootRect:e,rootRectRef:a,rootSizeRefCallback:d}}function b(a,b){if(b==null)return null;var c=Math.max(0,Math.min(b.width,a.clientX-b.left));a=Math.max(0,Math.min(b.height,a.clientY-b.top));return{ratioX:b.width>0?c/b.width:0,ratioY:b.height>0?a/b.height:0}}function l(a,b){a=a.changedTouches;if(b==null||!a)return null;for(var c=0;c<a.length;++c){var d=a[c];if(d.identifier===b)return{clientX:d.clientX,clientY:d.clientY}}return null}function m(a,b){var c=a;switch(b.type){case"start":c=babelHelpers["extends"]({},a,{clientX:b.clientX,clientY:b.clientY,dragState:"dragging",lastEffect:a.dragState==="idle"?"start":a.lastEffect});break;case"move":if(a.dragState!=="dragging")break;c={clientX:b.clientX,clientY:b.clientY,dragState:"dragging",lastEffect:a.dragState==="idle"?"start":"move"};break;case"end":if(a.dragState!=="dragging")break;c={clientX:b.clientX,clientY:b.clientY,dragState:"idle",lastEffect:a.dragState==="idle"?a.lastEffect:"end"};break;case"cancel":if(a.dragState!=="dragging")break;c={clientX:a.clientX,clientY:a.clientY,dragState:"idle",lastEffect:a.dragState==="idle"?a.lastEffect:"cancel"};break;default:break}return c.dragState!==a.dragState||c.lastEffect!==a.lastEffect||c.clientX!==a.clientX||c.clientY!==a.clientY?c:a}var n={clientX:0,clientY:0,dragState:"idle",lastEffect:null},o=function(){return window.navigator.userAgent.indexOf("MSIE")>=0};function p(a,b,c){var d=n,e=null,f=null,g=function(b){d=m(d,b),a(d)},h=function(a){g({clientX:a.clientX,clientY:a.clientY,type:"move"});a=b.current.onDragMoveSync;a==null?void 0:a(d)},i=function(a){e&&e();g({clientX:a.clientX,clientY:a.clientY,type:"end"});a=b.current.onDragEndSync;a==null?void 0:a(d)},j=function(){e&&e();g({type:"cancel"});var a=b.current.onDragCancelSync;a==null?void 0:a(d)},k=function(a){a=l(a,c.current);if(a==null)return;g({clientX:a.clientX,clientY:a.clientY,type:"move"});a=b.current.onDragMoveSync;a==null?void 0:a(d)},p=function(a){a=l(a,c.current);if(a==null)return;f&&f();g({clientX:a.clientX,clientY:a.clientY,type:"end"});a=b.current.onDragEndSync;a==null?void 0:a(d)},q=p;return{destroy:function(){e&&e(),f&&f()},onMouseDown:function(a){o()||a.preventDefault();g({clientX:a.clientX,clientY:a.clientY,type:"start"});a=b.current.onDragStartSync;a==null?void 0:a(d);e||(window.addEventListener("mousemove",h),window.addEventListener("mouseup",i),window.addEventListener("blur",j),window.addEventListener("mouseleave",j),e=function(){e=null,window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",i),window.removeEventListener("blur",j),window.removeEventListener("mouseleave",j)})},onTouchStart:function(a){a.preventDefault();var e=a.changedTouches[0];e!=null&&(c.current=e.identifier);e=l(a,c.current);if(e==null)return;g({clientX:e.clientX,clientY:e.clientY,type:"start"});a=b.current.onDragStartSync;a==null?void 0:a(d);f||(window.addEventListener("touchmove",k),window.addEventListener("touchend",p),window.addEventListener("touchcancel",q),window.addEventListener("blur",j),f=function(){f=null,window.removeEventListener("touchmove",k),window.removeEventListener("touchend",p),window.removeEventListener("touchcancel",q),window.removeEventListener("blur",j)})}}}function q(a,b){i(function(){var c=b.current,d=c.onDragCancel,e=c.onDragEnd,f=c.onDragMove;c=c.onDragStart;switch(a.lastEffect){case"start":c(a);return;case"move":f(a);return;case"end":e(a);return;case"cancel":d(a);return}},[a,b])}function r(a,b,d){var e=k(n),f=e[0],g=e[1];e=c("useStable")(function(){return p(g,a,b)});var h=e.destroy,j=e.onMouseDown;e=e.onTouchStart;i(function(){return h},[h]);return{dragState:f,rootProps:{onClick:function(a){a.stopPropagation(),a.preventDefault()},onMouseDown:j,onTouchStart:(d==null?void 0:d.hasTouchEvents)===!0?e:void 0}}}function e(a,b){var c=j(a),d=j(null);i(function(){c.current=a},[a]);d=r(c,d,b);b=d.dragState;d=d.rootProps;q(b,c);return{dragState:b,isDragging:b.dragState==="dragging",rootProps:d}}g.usePointerDragResizeObserver=a;g.computePointerOffsetRatio=b;g.usePointerDrag=e}),98);
__d("useVideoPlayerScrubberState",["VideoPlayerPointerDrag","react","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState;function k(a,b){return Math.min(a>0?b/a:0,1)}function a(a){var b=a.bufferEnd,e=a.currentTime,f=a.duration,g=a.onScrubCancel,h=a.onScrubEnd,l=a.onScrubStart;a=a.supportsTouch;var m=d("VideoPlayerPointerDrag").usePointerDragResizeObserver(),n=m.invalidateRootRect,o=m.rootRectRef;m=m.rootSizeRefCallback;var p=j(0),q=p[0],r=p[1];p=j(!1);var s=p[0],t=p[1],u=c("usePrevious")(e);i(function(){e!==u&&t(!1)},[e,u]);p=d("VideoPlayerPointerDrag").usePointerDrag({onDragCancel:function(a){g()},onDragEnd:function(a){a=d("VideoPlayerPointerDrag").computePointerOffsetRatio(a,o.current);if(!a){g();return}r(a.ratioX);a=a.ratioX*f;h(a)},onDragEndSync:function(){t(!0)},onDragMove:function(a){a=d("VideoPlayerPointerDrag").computePointerOffsetRatio(a,o.current);if(!a)return;r(a.ratioX)},onDragStart:function(a){n();a=d("VideoPlayerPointerDrag").computePointerOffsetRatio(a,o.current);if(!a)return;r(a.ratioX);l()}},{hasTouchEvents:a===!0});a=p.isDragging;p=p.rootProps;b=k(f,b);var v=k(f,e);return{bufferedRatio:b,currentPlayedRatio:v,invalidateRootRect:n,isDragging:a,isWaitingForSeek:s,pointerOffsetRatio:q,rootProps:p,rootRectRef:o,rootSizeRefCallback:m}}g["default"]=a}),98);
__d("VideoPlayerScrubberBase.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","VideoPlayerScrubberBaseContentDefault.react","VideoPlayerUserInteractionCounter","cr:2236","react","stylex","useVideoPlayerScrubberState"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;var l=e.useCallback,m=e.useMemo,n=e.useState,o={root:{cursor:"x1ypdohk",paddingTop:"x1y1aw1k",paddingEnd:"x4uap5",paddingBottom:"xwib8y2",paddingStart:"xkhd6sd",position:"x1n2onr6",userSelect:"x87ps6o",width:"xh8yej3",$$css:!0},rootWithReelsScrubber:{alignItems:"x6s0dn4",bottom:"xq6397w",cursor:"x1ypdohk",display:"x78zum5",paddingTop:"xyamay9",paddingBottom:"x1l90r2v",position:"x1n2onr6",userSelect:"x87ps6o",width:"xh8yej3",$$css:!0},withoutVerticalPadding:{paddingBottom:"x18d9i69",paddingTop:"xexx8yu",$$css:!0}};function a(a){var e=a.bufferEnd,f=a.currentTime,g=a.disableKeyCommands,j=a.duration,p=a.hasReelsScrubber;p=p===void 0?!1:p;var q=a.hideNub;q=q===void 0?!1:q;var r=a.isLive,s=a.isLiveRewindActive,t=a.keyLeftDescription,u=a.keyRightDescription,v=a.onScrubCancel,w=a.onScrubEnd,x=a.onScrubStart,y=a.onUserInteraction,z=a.playFromBeginningImpl,A=a.renderScrubber,B=a.renderTooltip,C=a.skipBackwardImpl,D=a.skipForwardImpl,E=a.skipToEndImpl,F=a.supportsTouch,G=a.timelineBackgroundXStyle,H=a.timelineBufferedXStyle,I=a.timelinePlayedXStyle;a=a.withoutVerticalPadding;a=a===void 0?!1:a;var J=n(!1),K=J[0],L=J[1];J=n(0);var M=J[0],N=J[1];J=n(null);var O=J[0],P=J[1];J=c("useVideoPlayerScrubberState")({bufferEnd:e,currentTime:f,duration:j,onScrubCancel:v,onScrubEnd:w,onScrubStart:x,supportsTouch:F});e=J.bufferedRatio;v=J.currentPlayedRatio;var Q=J.invalidateRootRect;w=J.isDragging;x=J.isWaitingForSeek;F=J.pointerOffsetRatio;var R=J.rootProps,S=J.rootRectRef;J=J.rootSizeRefCallback;var T=l(function(){L(!0)},[]),U=l(function(){L(!1)},[]),V=l(function(a){Q();if(S.current!=null){var b=S.current.left,c=S.current.width,d=Math.max(0,Math.min(c,a.clientX-b));d=c>0?d/c:0;c=Number.isFinite(j)&&j>0?j*d:null;N(a.clientX-b);P(c)}},[j,Q,S]),W=K||w;d("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteraction("video_scrubber",W,y);y=K||w||x;x=w||x?F:r&&!s?1:v;F=m(function(){return g===!0?[]:[{command:{key:c("CometKeys").RIGHT},description:u,handler:D},{command:{key:c("CometKeys").LEFT},description:t,handler:C},{command:{key:c("CometKeys").HOME},description:h._("__JHASH__3cUloDtyzSK__JHASH__"),handler:z},{command:{key:c("CometKeys").END},description:h._("__JHASH__jTksR1FMT97__JHASH__"),handler:E}]},[g,u,D,t,C,z,E]);v={bufferedRatio:e,duration:j,hoveringPositionSec:O,isHovering:K,isLive:r,isLiveRewindActive:s,isNubVisible:!q&&y,playedRatio:x,timelineBackgroundXStyle:G,timelineBufferedXStyle:H,timelinePlayedXStyle:I};return k.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:F,children:k.jsxs("div",babelHelpers["extends"]({},R,{"aria-label":h._("__JHASH__69czi8qDKMx__JHASH__"),"aria-orientation":"horizontal","aria-valuemax":j,"aria-valuemin":"0","aria-valuenow":f,className:(i||(i=c("stylex")))(p&&b("cr:2236")?o.rootWithReelsScrubber:o.root,a&&o.withoutVerticalPadding),"data-testid":void 0,onMouseEnter:T,onMouseLeave:U,onMouseMove:V,ref:J,role:"slider",tabIndex:"0",children:[p&&b("cr:2236")?k.jsx(b("cr:2236"),{bufferedRatio:e,isDragging:w,isInteracting:W,playedRatio:x}):k.jsx(k.Fragment,{children:A!=null?A(v):k.jsx(c("VideoPlayerScrubberBaseContentDefault.react"),babelHelpers["extends"]({},v))}),B!=null&&O!=null&&K&&k.jsx("div",{className:"xfqi8uc x10l6tqk",style:{left:M},children:B(O)})]}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("PolarisPostVideoPlayerScrubber.react",["VideoPlayerHooks","VideoPlayerScrubberBase.react","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));b=h;b.useCallback;var k=b.c,l=5,m={timelineBackgroundXStyle:{backgroundColor:"x1o95745",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"xqu0tyb",$$css:!0},timelineBuffered:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"xqu0tyb",$$css:!0},timelinePlayed:{backgroundColor:"xz3rzyy",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"xqu0tyb",$$css:!0}};function n(){return(i||(i=d("VideoPlayerHooks"))).useCurrentTimeThrottled(200)}function a(a){var b=k(24);a=a.hasReelsScrubber;a=a===void 0?!1:a;var e=n(),f=(i||(i=d("VideoPlayerHooks"))).useBufferEnd(),g=i.useDuration(),h=i.useController(),o;b[0]!==h?(o=function(){h.scrubEnd(null)},b[0]=h,b[1]=o):o=b[1];o=o;var p;b[2]!==h?(p=function(a){h.scrubEnd(a)},b[2]=h,b[3]=p):p=b[3];p=p;var q;b[4]!==h?(q=function(){h.scrubBegin()},b[4]=h,b[5]=q):q=b[5];q=q;var r;b[6]!==h?(r=function(){h.seek(0)},b[6]=h,b[7]=r):r=b[7];r=r;var s;b[8]!==h?(s=function(){var a=h.getPlayheadPosition()-l;a<0?h.seek(0):h.seek(a)},b[8]=h,b[9]=s):s=b[9];s=s;var t;b[10]!==h||b[11]!==g?(t=function(){var a=h.getPlayheadPosition()+l;a>=g?h.seek(g-.01):h.seek(a)},b[10]=h,b[11]=g,b[12]=t):t=b[12];t=t;var u=i.useLastPlayReason();if(!u)return null;b[13]!==f||b[14]!==e||b[15]!==g||b[16]!==a||b[17]!==o||b[18]!==p||b[19]!==q||b[20]!==r||b[21]!==s||b[22]!==t?(u=j.jsx(c("VideoPlayerScrubberBase.react"),{bufferEnd:f,currentTime:e,disableKeyCommands:!0,duration:g,hasReelsScrubber:a,isLive:!1,isLiveRewindActive:!1,keyLeftDescription:"",keyRightDescription:"",onScrubCancel:o,onScrubEnd:p,onScrubStart:q,playFromBeginningImpl:r,skipBackwardImpl:s,skipForwardImpl:t,skipToEndImpl:c("emptyFunction"),supportsTouch:!0,timelineBackgroundXStyle:m.timelineBackgroundXStyle,timelineBufferedXStyle:m.timelineBuffered,timelinePlayedXStyle:m.timelinePlayed}),b[13]=f,b[14]=e,b[15]=g,b[16]=a,b[17]=o,b[18]=p,b[19]=q,b[20]=r,b[21]=s,b[22]=t,b[23]=u):u=b[23];return u}g["default"]=a}),98);
__d("PolarisTimeConverter",["padNumber"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=Math.floor(a/6e4);a=Math.floor(a%6e4/1e3);a=a>9?a.toString():"0"+a;return b+":"+a}function a(a){var b=Math.floor(a/3600),d=Math.floor(a/60%60),e=Math.floor(a%60);if(b)return b+":"+c("padNumber")(d,2)+":"+c("padNumber")(e,2);else return h(a*1e3)}g.convertMillisecondsToMinutesAndSeconds=h;g.convertSecondsToHoursMinutesAndSeconds=a}),98);
__d("PolarisPostVideoPlayerTimestamp.react",["IGDSBox.react","IGDSText.react","PolarisTimeConverter","VideoPlayerHooks","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||(h=d("react"))).c,k=h;function l(){return(i||(i=d("VideoPlayerHooks"))).useCurrentTimeThrottled(200)}function a(){var a=j(4),b=l(),e;a[0]!==b?(e=d("PolarisTimeConverter").convertSecondsToHoursMinutesAndSeconds(Math.round(b)),a[0]=b,a[1]=e):e=a[1];a[2]!==e?(b=k.jsx(c("IGDSBox.react"),{alignItems:"center",display:"flex",marginEnd:2,marginStart:2,width:32,children:k.jsx(c("IGDSText.react"),{color:"webAlwaysWhite",size:"footnote",children:e})}),a[2]=e,a[3]=b):b=a[3];return b}g["default"]=a}),98);
__d("PolarisVideoVolumeControls.react",["fbt","IGDSBox.react","IGDSIconButton.react","IGDSVolumeNonePanoFilledIcon.react","IGDSVolumeOffFilledIcon.react","IGDSVolumePanoFilledIcon.react","PolarisIGCoreButton.react","PolarisIGCoreToast.react","PolarisVideoConstants","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useState,l=b.c,m=1500,n="web-always-white",o=12,p=16,q={iconWrapperColor:{backgroundColor:"x1wunsqr",$$css:!0}},r=h._("__JHASH__sLFgHENJUFu__JHASH__");function s(a){var b=l(25),e=a.audioState,f=a.inPlayerControls,g=a.isStoryVideo;a=a.onClick;var i=g||f===!0?p:o,k;b[0]!==i?(k={color:n,size:i},b[0]=i,b[1]=k):k=b[1];i=k;var m;bb0:switch(e){case d("PolarisVideoConstants").AUDIO_STATES.on:b[2]===Symbol["for"]("react.memo_cache_sentinel")?(k=h._("__JHASH__r6uAailfqgq__JHASH__"),b[2]=k):k=b[2];b[3]!==i?(e=j.jsx(c("IGDSVolumePanoFilledIcon.react"),babelHelpers["extends"]({alt:k},i,{"data-testid":void 0})),b[3]=i,b[4]=e):e=b[4];m=e;break bb0;case d("PolarisVideoConstants").AUDIO_STATES.off:b[5]===Symbol["for"]("react.memo_cache_sentinel")?(k=h._("__JHASH__5mpM2KJQizt__JHASH__"),b[5]=k):k=b[5];b[6]!==i?(e=j.jsx(c("IGDSVolumeOffFilledIcon.react"),babelHelpers["extends"]({alt:k,"data-testid":void 0},i)),b[6]=i,b[7]=e):e=b[7];m=e;break bb0;case d("PolarisVideoConstants").AUDIO_STATES.none:b[8]===Symbol["for"]("react.memo_cache_sentinel")?(k=h._("__JHASH__QVFOACG0yrg__JHASH__"),b[8]=k):k=b[8];b[9]!==i?(e=j.jsx(c("IGDSVolumeNonePanoFilledIcon.react"),babelHelpers["extends"]({alt:k,"data-testid":void 0},i)),b[9]=i,b[10]=e):e=b[10];m=e}if(m==null)return null;if(g===!0){b[11]!==a||b[12]!==m?(k=j.jsx(c("IGDSIconButton.react"),{"aria-label":r,onClick:a,children:m}),b[11]=a,b[12]=m,b[13]=k):k=b[13];return k}b[14]!==f?(i=f===!0?{color:"transparent",marginBottom:0,marginEnd:0,padding:0}:{marginBottom:4,marginEnd:4,padding:2,xstyle:q.iconWrapperColor},b[14]=f,b[15]=i):i=b[15];e=i;g=f===!0?"relative":"absolute";b[16]!==e||b[17]!==m?(k=j.jsx(c("IGDSBox.react"),babelHelpers["extends"]({},e,{shape:"circle",children:m})),b[16]=e,b[17]=m,b[18]=k):k=b[18];b[19]!==a||b[20]!==k?(i=j.jsx(c("PolarisIGCoreButton.react"),{"aria-label":r,borderless:!0,onClick:a,children:k}),b[19]=a,b[20]=k,b[21]=i):i=b[21];b[22]!==g||b[23]!==i?(f=j.jsx(c("IGDSBox.react"),{bottom:!0,position:g,right:!0,children:i}),b[22]=g,b[23]=i,b[24]=f):f=b[24];return f}function a(a){var b=l(16),e=a.absolutePositionToast,f=a.audioState,g=a.forceMuteReason,i=a.inPlayerControls,n=a.isStoryVideo,o=a.onClick;a=e===void 0?!0:e;e=k(!1);var p=e[0],q=e[1];e=!(g==null||g==="");n=(n=n)!=null?n:!1;var r;b[0]!==o||b[1]!==f?(r=function(a){o(a),f===d("PolarisVideoConstants").AUDIO_STATES.none&&q(!0)},b[0]=o,b[1]=f,b[2]=r):r=b[2];var t;b[3]!==f||b[4]!==i||b[5]!==n||b[6]!==r?(t=j.jsx(s,{audioState:f,inPlayerControls:i,isStoryVideo:n,onClick:r}),b[3]=f,b[4]=i,b[5]=n,b[6]=r,b[7]=t):t=b[7];b[8]!==p||b[9]!==e||b[10]!==g||b[11]!==a?(i=p&&j.jsx(c("PolarisIGCoreToast.react"),{absolutePosition:a,duration:m,onClose:function(){return q(!1)},wide:!0,children:e?String(g):h._("__JHASH__W75JnMJmjFS__JHASH__")}),b[8]=p,b[9]=e,b[10]=g,b[11]=a,b[12]=i):i=b[12];b[13]!==t||b[14]!==i?(n=j.jsxs(j.Fragment,{children:[t,i]}),b[13]=t,b[14]=i,b[15]=n):n=b[15];return n}g["default"]=a}),226);
__d("usePolarisVideoVolumeControls",["PolarisVideoConstants","PolarisVolumeControlsManager.react","VideoPlayerHooks","react","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useEffect,k=b.c;function a(a){var b=k(13),e=a.enabled,f=(i||(i=d("VideoPlayerHooks"))).useController(),g=d("PolarisVolumeControlsManager.react").useVolumeControls(),h=i.usePaused(),l=i.useMuted(),m=c("usePrevious")(l),n=i.useLastMuteReason(),o;b[0]!==e||b[1]!==m||b[2]!==l||b[3]!==n||b[4]!==g?(a=function(){e&&m!=null&&m!==l&&n==="user_initiated"&&g.setAudioState(l?d("PolarisVideoConstants").AUDIO_STATES.off:d("PolarisVideoConstants").AUDIO_STATES.on)},o=[e,l,n,m,g],b[0]=e,b[1]=m,b[2]=l,b[3]=n,b[4]=g,b[5]=a,b[6]=o):(a=b[5],o=b[6]);j(a,o);b[7]!==e||b[8]!==h||b[9]!==g.audioState||b[10]!==f?(a=function(){e&&!h&&g.audioState!==d("PolarisVideoConstants").AUDIO_STATES.none&&f.setMuted(g.audioState==="off","product_initiated")},o=[e,f,h,g.audioState],b[7]=e,b[8]=h,b[9]=g.audioState,b[10]=f,b[11]=a,b[12]=o):(a=b[11],o=b[12]);j(a,o);return g.audioState}g["default"]=a}),98);
__d("usePolarisVideoAudioState",["PolarisConfig","PolarisVideoConstants","VideoPlayerHooks","react","usePolarisVideoVolumeControls"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).c;function a(a){var b=j(1);a=a.noAudio;var e=(i||(i=d("VideoPlayerHooks"))).useMuted(),f=!d("PolarisConfig").isIOS(),g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g={enabled:f},b[0]=g):g=b[0];b=c("usePolarisVideoVolumeControls")(g);if(a===!0)return d("PolarisVideoConstants").AUDIO_STATES.none;return!f?e?d("PolarisVideoConstants").AUDIO_STATES.off:d("PolarisVideoConstants").AUDIO_STATES.on:b}g["default"]=a}),98);
__d("usePolarisPostVideoToggleAudio",["PolarisVideoConstants","VideoPlayerHooks","react","usePolarisVideoAudioState"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");b.useCallback;var j=b.c;function a(a){var b=j(10),e=(i||(i=d("VideoPlayerHooks"))).useController(),f=a.clipsMusicAttributionInfo;a=a.hasAudio;var g=a===!1||(f==null?void 0:f.should_mute_audio)===!0,h;b[0]!==g?(h={noAudio:g},b[0]=g,b[1]=h):h=b[1];var k=c("usePolarisVideoAudioState")(h);b[2]!==k||b[3]!==e?(g=function(){if(k!==d("PolarisVideoConstants").AUDIO_STATES.none){var a=e.getCurrentState();a=a.muted;e.setMuted(!a,"user_initiated")}},b[2]=k,b[3]=e,b[4]=g):g=b[4];h=g;b[5]!==k||b[6]!==f||b[7]!==a||b[8]!==h?(g={audioState:k,clipsMusicAttributionInfo:f,hasAudio:a,toggleAudio:h},b[5]=k,b[6]=f,b[7]=a,b[8]=h,b[9]=g):g=b[9];return g}g["default"]=a}),98);
__d("PolarisPostVideoVolumeControls.react",["PolarisVideoConstants","PolarisVideoVolumeControls.react","react","usePolarisPostVideoToggleAudio"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(5),e=a.inPlayerControls;a=a.post;a=c("usePolarisPostVideoToggleAudio")(a);var f=a.audioState,g=a.clipsMusicAttributionInfo;a=a.toggleAudio;g=f===d("PolarisVideoConstants").AUDIO_STATES.none?g==null?void 0:g.should_mute_audio_reason:void 0;var h;b[0]!==f||b[1]!==g||b[2]!==e||b[3]!==a?(h=j.jsx(c("PolarisVideoVolumeControls.react"),{audioState:f,forceMuteReason:g,inPlayerControls:e,onClick:a}),b[0]=f,b[1]=g,b[2]=e,b[3]=a,b[4]=h):h=b[4];return h}g["default"]=a}),98);
__d("VideoControlsContainerFocusedContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(!1);g["default"]=b}),98);
__d("VideoPlayerControlsContainerOverlay.react",["CometErrorBoundary.react","FocusWithinHandler.react","VideoControlsContainerFocusedContext","VideoPlayerControlsBottomRowAddOnContext","VideoPlayerControlsHiddenContext","VideoPlayerHooks","gkx","react","stylex","useResizeObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));b=i;var l=b.useEffect,m=b.useState,n=44,o={backgroundGradient:{backgroundImage:"x11v4dcs",bottom:"x1ey2m1c",position:"x10l6tqk",transitionDuration:"x1d8287x",transitionProperty:"x6o7n8i",transitionTimingFunction:"xl405pv",width:"xh8yej3",zIndex:"x8knxv4",$$css:!0},"default":{bottom:"x1ey2m1c",flexDirection:"x1q0g3np",position:"x10l6tqk",transitionDuration:"x1d8287x",transitionProperty:"x6o7n8i",transitionTimingFunction:"xl405pv",width:"xh8yej3",zIndex:"x11uqc5h",$$css:!0},firstRow:{alignItems:"x6s0dn4",direction:"xzt5al7",display:"x78zum5",flexDirection:"x1q0g3np",$$css:!0},hidden:{opacity:"xg01cxk",pointerEvents:"x47corl",visibility:"xlshs6z",$$css:!0},visible:{opacity:"x1hc1fzr",$$css:!0}};function a(a){var b=a.children,e=a.height,f=a.initialBottomRowAddOn;f=f===void 0?null:f;var g=a.isBackgroundVisible,i=a.isVisible,p=a.xstyle;a=m(0);var q=a[0],r=a[1],s=c("useResizeObserver")(function(a){r(a.height)}),t=d("VideoPlayerControlsBottomRowAddOnContext").useVideoPlayerControlsBottomRowAddOn(f);a=(j||(j=d("VideoPlayerHooks"))).useVideoPlayerCaptionsReservationActions();var u=a.release,v=a.reserve,w=(f=e)!=null?f:n;l(function(){if(Boolean(i)||Boolean(g)){var a=v({location:"bottom",size:w});return function(){u(a)}}},[i,g,v,u,w]);var x=g===!1||i===!1,y=g===!0||i===!0;return k.jsx(c("FocusWithinHandler.react"),{children:function(a,d){return k.jsx(c("VideoControlsContainerFocusedContext").Provider,{value:d,children:k.jsxs("div",{className:(h||(h=c("stylex")))(o["default"],t==null&&o.firstRow,i===!1&&o.hidden,i===!0&&o.visible),"data-testid":void 0,children:[k.jsx("div",{className:h(o.backgroundGradient,x&&o.hidden,y&&o.visible,p),style:{height:w+(c("gkx")("6991")?q:0)}}),k.jsx(c("VideoPlayerControlsHiddenContext").Provider,{value:x,children:t==null?b:k.jsxs(k.Fragment,{children:[k.jsx("div",{className:"x6s0dn4 xzt5al7 x78zum5 x1q0g3np",children:b}),k.jsx(c("CometErrorBoundary.react"),{children:c("gkx")("6991")?k.jsx("div",{ref:s,children:t}):t})]})})]})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerControlsGroups.react",["VideoControlsContainerFocusedContext","VideoPlayerControlsHiddenContext","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useContext,l={contracted:{paddingTop:"xexx8yu",paddingEnd:"x1mpkggp",paddingBottom:"x18d9i69",paddingStart:"x1t2a60a",$$css:!0},"default":{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"x1q0g3np",flexShrink:"x2lah0s",flexWrap:"xozqiw3",$$css:!0},expanded:{flexGrow:"x1iyjqo2",$$css:!0},hidden:{opacity:"x1fmh03i",pointerEvents:"x47corl",$$css:!0},noPaddingEnd:{paddingEnd:"x4uap5",$$css:!0},noPaddingStart:{paddingStart:"xkhd6sd",$$css:!0},visible:{opacity:"x1hc1fzr",$$css:!0}};function a(a){var b=a.children,d=a.isVisible;d=d===void 0?!0:d;var e=a.noPaddingEnd;e=e===void 0?!1:e;a=a.noPaddingStart;a=a===void 0?!1:a;var f=k(c("VideoControlsContainerFocusedContext"));d=d||f;f=k(c("VideoPlayerControlsHiddenContext"));return j.jsx("div",{className:(h||(h=c("stylex")))(l["default"],l.contracted,e&&l.noPaddingEnd,a&&l.noPaddingStart,d?l.visible:l.hidden),children:j.jsx(c("VideoPlayerControlsHiddenContext").Provider,{value:f||!d,children:b})})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.children,d=a.isVisible;d=d===void 0?!0:d;a.noPaddingEnd;a.noPaddingStart;a=k(c("VideoControlsContainerFocusedContext"));d=d||a;a=k(c("VideoPlayerControlsHiddenContext"));return j.jsx("div",{className:(h||(h=c("stylex")))(l["default"],l.expanded,d?l.visible:l.hidden),children:j.jsx(c("VideoPlayerControlsHiddenContext").Provider,{value:a||!d,children:b})})}b.displayName=b.name+" [from "+f.id+"]";g.Contracted=a;g.Expanded=b}),98);
__d("PolarisPostVideoPlayerControls.react",["IGDSBox.react","PolarisPostVideoPlayerScrubber.react","PolarisPostVideoPlayerTimestamp.react","PolarisPostVideoVolumeControls.react","VideoPlayerControlsContainerOverlay.react","VideoPlayerControlsGroups.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(8),e=a.post,f=a.shouldUseVolumeControls;a=a.showVideoControls;if(f===!0){b[0]!==e?(f=j.jsx(c("PolarisPostVideoVolumeControls.react"),{post:e}),b[0]=e,b[1]=f):f=b[1];return f}if(a===!0){b[2]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsx(d("VideoPlayerControlsGroups.react").Expanded,{isVisible:!0,children:j.jsx(c("PolarisPostVideoPlayerScrubber.react"),{})}),b[2]=f):f=b[2];a=f;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:!0,noPaddingEnd:!0,noPaddingStart:!0,children:j.jsx(c("PolarisPostVideoPlayerTimestamp.react"),{})}),b[3]=f):f=b[3];f=f;var g;b[4]!==e?(g=j.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:!0,noPaddingEnd:!0,noPaddingStart:!0,children:j.jsx(c("PolarisPostVideoVolumeControls.react"),{inPlayerControls:!0,post:e})}),b[4]=e,b[5]=g):g=b[5];e=g;b[6]!==e?(g=j.jsx(c("VideoPlayerControlsContainerOverlay.react"),{isBackgroundVisible:!0,children:j.jsxs(c("IGDSBox.react"),{direction:"row",display:"flex",padding:4,width:"100%",children:[a,f,e]})}),b[6]=e,b[7]=g):g=b[7];return g}return null}g["default"]=a}),98);
__d("usePolarisVideoPressInteraction",["fbt","VideoPlayerHooks","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;b=i||d("react");b.useCallback;var k=b.c;function a(a){var b=k(12),c=a.playButtonShowing,e=a.shouldUnmuteOnPlay,f=(j||(j=d("VideoPlayerHooks"))).useController(),g=j.useLastMuteReason();b[0]!==f?(a=function(){f.pause("user_initiated")},b[0]=f,b[1]=a):a=b[1];a=a;var i;b[2]!==f||b[3]!==e||b[4]!==g?(i=function(){f.play("user_initiated"),e&&g!=="user_initiated"&&f.setMuted(!1,"product_initiated")},b[2]=f,b[3]=e,b[4]=g,b[5]=i):i=b[5];i=i;if(c){b[6]===Symbol["for"]("react.memo_cache_sentinel")?(c=h._("__JHASH__JwOWQUoE3fU__JHASH__"),b[6]=c):c=b[6];b[7]!==i?(c={ariaLabel:c,handler:i,overlayLabel:""},b[7]=i,b[8]=c):c=b[8];return c}b[9]===Symbol["for"]("react.memo_cache_sentinel")?(i=h._("__JHASH__9n2Yt6-FC2y__JHASH__"),b[9]=i):i=b[9];b[10]!==a?(c={ariaLabel:i,handler:a,overlayLabel:""},b[10]=a,b[11]=c):c=b[11];return c}g["default"]=a}),226);
__d("usePolarisVideoShowPlayButton",["VideoPlayerHooks"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=(h||(h=d("VideoPlayerHooks"))).usePlaying(),b=h.usePaused(),c=h.useIsTransitioningToNextLoop();return!a&&b&&!c}g["default"]=a}),98);
__d("PolarisPostVideoPlaybackOverlay.react",["PolarisPostVideoPlayerControls.react","VideoPlayerInteractionOverlay.react","react","usePolarisVideoPressInteraction","usePolarisVideoShowPlayButton"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(16),e=a.post,f=a.shouldShowOverlay;a=a.showVideoControls;var g=!a,h=c("usePolarisVideoShowPlayButton")()&&!f,k=!g,l;b[0]!==h||b[1]!==k?(l={playButtonShowing:h,shouldUnmuteOnPlay:k},b[0]=h,b[1]=k,b[2]=l):l=b[2];k=c("usePolarisVideoPressInteraction")(l);b[3]!==h?(l=h&&j.jsx("div",{className:"xtzzx4i xjq0wde xa2bojp x10l6tqk xwa60dl",children:j.jsx("div",{className:"xd0fu7d xiql0sd xi9uto2 x1pqszli xdiogjw x1s7hr1v"})}),b[3]=h,b[4]=l):l=b[4];b[5]!==k||b[6]!==l?(h=j.jsx(d("VideoPlayerInteractionOverlay.react").VideoPlayerInteractionOverlay,{pressInteraction:k,children:l}),b[5]=k,b[6]=l,b[7]=h):h=b[7];b[8]!==f||b[9]!==e||b[10]!==g||b[11]!==a?(k=!f&&j.jsx(c("PolarisPostVideoPlayerControls.react"),{post:e,shouldUseVolumeControls:g,showVideoControls:a}),b[8]=f,b[9]=e,b[10]=g,b[11]=a,b[12]=k):k=b[12];b[13]!==h||b[14]!==k?(l=j.jsxs(j.Fragment,{children:[h,k]}),b[13]=h,b[14]=k,b[15]=l):l=b[15];return l}g["default"]=a}),98);
__d("PolarisVideoIndicatorIcon.react",["PolarisConfig","PolarisLoggedOutUserTagIndicatorWithSheet.react","PolarisUpcomingEventIndicatorWithSheetOrModal.react","PolarisUserTagIndicatorWithSheet.react","nullthrows","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(15),e=a.analyticsContext,f=a.asSidecarChild,g=a.firstSidecarChildSrc,h=a.post;a=a.upcomingEventMediaId;var k=h.id,l=h.src,m=h.upcomingEvent,n=h.usertags;if(m){var o;b[0]!==a?(o=c("nullthrows")(a),b[0]=a,b[1]=o):o=b[1];a=f===!0?g:l;b[2]!==a?(f=c("nullthrows")(a),b[2]=a,b[3]=f):f=b[3];b[4]!==e||b[5]!==o||b[6]!==m||b[7]!==f||b[8]!==n?(g=j.jsx(c("PolarisUpcomingEventIndicatorWithSheetOrModal.react"),{analyticsContext:e,isVideo:!0,mediaId:o,upcomingEvent:m,upcomingEventThumbnailSrc:f,usertags:n}),b[4]=e,b[5]=o,b[6]=m,b[7]=f,b[8]=n,b[9]=g):g=b[9];return g}if(n!=null&&n.length>0&&e!=="reelsTab"){b[10]!==e||b[11]!==k||b[12]!==h||b[13]!==n?(l=d("PolarisConfig").isLoggedIn()?j.jsx(c("PolarisUserTagIndicatorWithSheet.react"),{analyticsContext:e,mediaId:k,post:h,usertags:n}):j.jsx(c("PolarisLoggedOutUserTagIndicatorWithSheet.react"),{analyticsContext:e,mediaId:k,post:h,usertags:n}),b[10]=e,b[11]=k,b[12]=h,b[13]=n,b[14]=l):l=b[14];return l}return null}g["default"]=a}),98);
__d("VideoPlayerSurface.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");function a(a){a=a.children;return a!=null?a:null}a.displayName=a.name+" [from "+f.id+"]";c=b.memo(a);g["default"]=c}),98);
__d("usePolarisShouldFeedMediaBeFullHeight",["usePolarisIsFeedMobileLayout"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.analyticsContext;var b=d("usePolarisIsFeedMobileLayout").usePolarisIsFeedMobileLayout();return a==="feedPageModal"&&!b}g["default"]=a}),98);
__d("usePolarisShouldCenterCropPosterHeight",["PolarisUA","polarisVideoUtils","react","usePolarisIsOnFeedPage","usePolarisShouldFeedMediaBeFullHeight"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).c;function a(a,b){var e,f=i(6),g=c("usePolarisIsOnFeedPage")();e=(e=b.dimensions)==null?void 0:e.height;b=(b=b.dimensions)==null?void 0:b.width;var h;f[0]!==a||f[1]!==e||f[2]!==b?(h={analyticsContext:a,height:e,width:b},f[0]=a,f[1]=e,f[2]=b,f[3]=h):h=f[3];a=c("usePolarisShouldFeedMediaBeFullHeight")(h);if(d("polarisVideoUtils").isIGTVFeedPreview())return!0;e=g&&!a;f[4]!==e?(b=d("PolarisUA").isMobile()||e,f[4]=e,f[5]=b):b=f[5];return b}g["default"]=a}),98);
__d("usePolarisShowVideoThumbnailAndOverlayLoggedOut",["PolarisRoutePropUtils","PolarisUA","VideoPlayerHooks","react","usePolarisAnalyticsContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useContext,k=b.useEffect,l=b.useState,m=b.c;function a(a){var b=m(23),e=c("usePolarisAnalyticsContext")(),f=(i||(i=d("VideoPlayerHooks"))).useVideoPlaybackEnded(),g=i.usePlaying(),h=l(!1),n=h[0],o=h[1];h=l(!1);var p=h[0],q=h[1];h=l(!1);var r=h[0],s=h[1];h=l(!1);var t=h[0],u=h[1],v=i.useSeeking(),w;b[0]!==g?(h=function(){g&&o(!0)},w=[g],b[0]=g,b[1]=h,b[2]=w):(h=b[1],w=b[2]);k(h,w);b[3]!==v?(h=function(){v&&u(!0)},w=[v],b[3]=v,b[4]=h,b[5]=w):(h=b[4],w=b[5]);k(h,w);b[6]!==n||b[7]!==a?(h=function(){n&&!a&&s(!0)},w=[n,a],b[6]=n,b[7]=a,b[8]=h,b[9]=w):(h=b[8],w=b[9]);k(h,w);b[10]!==f?(h=function(){f&&q(!0)},w=[f],b[10]=f,b[11]=h,b[12]=w):(h=b[11],w=b[12]);k(h,w);h=j(d("PolarisRoutePropUtils").PolarisRoutePropContext);bb0:{if(e==="reelsTab"){b[13]!==(h==null?void 0:h.routePropQE)?(w=h==null?void 0:h.routePropQE.getBool("show_reels_end_of_video"),b[13]=h==null?void 0:h.routePropQE,b[14]=w):w=b[14];h=w;break bb0}h=!0}w=h;var x;bb1:switch(e){case"reelsTab":case"unifiedHome":x=!1;break bb1;default:x=!0}h=x;b[15]!==p||b[16]!==r||b[17]!==h||b[18]!==w?(e=d("PolarisUA").isMobile()&&(p||r&&h)&&w,b[15]=p,b[16]=r,b[17]=h,b[18]=w,b[19]=e):e=b[19];r=e;h=!n&&!t||p||r;b[20]!==r||b[21]!==h?(w=[r,h],b[20]=r,b[21]=h,b[22]=w):w=b[22];return w}g["default"]=a}),98);
__d("PolarisPostVideoPlayerLoggedOutSurface.react",["CometImage.react","PolarisPostVideoPlaybackOverlay.react","PolarisUA","PolarisVideoIndicatorIcon.react","VideoPlayerHooks","VideoPlayerSurface.react","cr:1816","react","usePolarisShouldCenterCropPosterHeight","usePolarisShowVideoThumbnailAndOverlayLoggedOut"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));e=h;var k=e.useEffect,l=e.c,m={thumbnail:{height:"x5yr21d",objectFit:"xl1xv1r",width:"xh8yej3",$$css:!0}};function a(a){var e=l(25),f=a.analyticsContext,g=a.asSidecarChild,h=a.firstSidecarChildSrc,n=a.isVisible,o=a.post,p=a.poster;a=a.upcomingEventMediaId;n=n===void 0?!0:n;var q=(i||(i=d("VideoPlayerHooks"))).useController();n=c("usePolarisShowVideoThumbnailAndOverlayLoggedOut")(!!n);var r=n[0];n=n[1];var s=c("usePolarisShouldCenterCropPosterHeight")(f,o),t,u;e[0]!==r||e[1]!==q?(t=function(){r&&(q.pause("product_initiated"),q.freeze())},u=[r,q],e[0]=r,e[1]=q,e[2]=t,e[3]=u):(t=e[2],u=e[3]);k(t,u);if(e[4]!==n||e[5]!==o||e[6]!==p||e[7]!==s){u=n&&o.src!=null&&j.jsx(c("CometImage.react"),{src:(t=p)!=null?t:o.src,xstyle:s||d("PolarisUA").isDesktop()?m.thumbnail:void 0});e[4]=n;e[5]=o;e[6]=p;e[7]=s;e[8]=u}else u=e[8];e[9]!==o||e[10]!==r?(t=j.jsx(c("PolarisPostVideoPlaybackOverlay.react"),{post:o,shouldShowOverlay:r,showVideoControls:!1}),e[9]=o,e[10]=r,e[11]=t):t=e[11];e[12]!==f||e[13]!==g||e[14]!==h||e[15]!==o||e[16]!==a?(n=j.jsx(c("PolarisVideoIndicatorIcon.react"),{analyticsContext:f,asSidecarChild:g,firstSidecarChildSrc:h,post:o,upcomingEventMediaId:a}),e[12]=f,e[13]=g,e[14]=h,e[15]=o,e[16]=a,e[17]=n):n=e[17];e[18]!==r?(p=r&&b("cr:1816")&&j.jsx(b("cr:1816"),{}),e[18]=r,e[19]=p):p=e[19];e[20]!==u||e[21]!==t||e[22]!==n||e[23]!==p?(s=j.jsxs(c("VideoPlayerSurface.react"),{children:[u,t,n,p]}),e[20]=u,e[21]=t,e[22]=n,e[23]=p,e[24]=s):s=e[24];return s}g["default"]=a}),98);
__d("PolarisVideoHelpers",["PolarisMediaTypes","PolarisSizing"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a.dashInfo==null)return null;a=a.dashInfo;var b=a.is_dash_eligible,c=a.number_of_qualities;a=a.video_dash_manifest;return!b||a==null?null:{isDashEligible:b,numberOfQualities:c,videoDashManifest:a}}function h(a,b){return(a=a.videoResources)==null?void 0:a.find(function(a){return a.type===b})}function b(a){var b;return(b=(b=h(a,d("PolarisMediaTypes").MediaVersionType.VIDEO_480_HIGH))==null?void 0:b.src)!=null?b:(b=h(a,d("PolarisMediaTypes").MediaVersionType.VIDEO_480_LOW))==null?void 0:b.src}function c(a){return(a=h(a,d("PolarisMediaTypes").MediaVersionType.VIDEO_640_HIGH))==null?void 0:a.src}function e(a,b){return{autoplayGatingResult:"unknown",autoplaySetting:a===!0?"default_autoplay":"off",canAutoplay:a===!0||b===!0?"allow":"deny"}}function f(a,b){if(a==null)return 100;a=d("PolarisSizing").getHeightPercent(a);return b?Math.min(a,d("PolarisSizing").CAPPED_HEIGHT_PERCENT):a}g.getDashInfoFromPost=a;g.getSDVideoSrcFromPost=b;g.getHDVideoSrcFromPost=c;g.getVideoPlayerAutoplayProps=e;g.getVideoPaddingPercentFromDimensions=f}),98);
__d("PolarisPostVideoPlayerWrapper.react",["PolarisVideoHelpers","react","usePolarisShouldCenterCropPosterHeight"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(9),e=a.analyticsContext,f=a.children;a=a.post;e=c("usePolarisShouldCenterCropPosterHeight")(e,a);a=d("PolarisVideoHelpers").getVideoPaddingPercentFromDimensions(a.dimensions,e);b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e="xg10s4p x1n2onr6 xh8yej3",b[0]=e):e=b[0];a=a+"%";var g;b[1]!==a?(g={paddingBottom:a},b[1]=a,b[2]=g):g=b[2];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a="xyzq4qe x5yr21d x10l6tqk xh8yej3",b[3]=a):a=b[3];b[4]!==f?(a=j.jsx("div",{className:a,children:f}),b[4]=f,b[5]=a):a=b[5];b[6]!==g||b[7]!==a?(f=j.jsx("div",{className:e,style:g,children:a}),b[6]=g,b[7]=a,b[8]=f):f=b[8];return f}g["default"]=a}),98);
__d("VideoPlayerErrorBoundary.react",["FBLogger","getErrorSafe","oz-player/utils/OzErrorUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={error:null},c.suppressReactDefaultErrorLoggingIUnderstandThisWillMakeBugsHarderToFindAndFix=!0,b)||babelHelpers.assertThisInitialized(c)}b.getDerivedStateFromError=function(a){return{error:c("getErrorSafe")(a)}};var e=b.prototype;e.componentDidCatch=function(a,b){b=b.componentStack;var e=c("getErrorSafe")(a);e.componentStack=b;b=this.props;var f=b.description,g=b.onError;b=b.project;a=d("oz-player/utils/OzErrorUtils").isOzError(a)?a.getType():a!=null&&typeof a.name==="string"?a.name:e.name;e.name=a;a="VideoPlayerErrorBoundary caught an "+a;f!=null&&(a=a+" ("+f+")");f=["OZ_NETWORK","BUFFERING_TIMEOUT","MEDIA_ERR_DECODE","OZ_NETWORK_REQUEST_STREAM_RETRY_HANDLER_ERROR"];var h=["Network failure:","Network failure.","HTTP error.","Bad URL timestamp","URL signature expired","No license for com.widevine.alpha","OZ_DRM_MANAGER: Endpoint returned error: DEVICE_CERTIFICATE_REVOKED"];f=f.every(function(a){return e.name!==a})&&h.every(function(a){return!e.message.startsWith(a)});h=c("FBLogger")(b==null?"comet_video_player":b).catching(e);["OZ_DRM_MANAGER","OZ_JAVASCRIPT_NATIVE","OZ_INITIALIZATION"].includes(e.name)&&(h=h.addToCategoryKey(e.message));f?h.fatal(a):h.warn(a);g!=null&&g(e)};e.render=function(){var a=this.props,b=a.children;a=a.fallback;var c=this.state.error;return c?typeof a==="function"?a(c):a:b};return b}(a.PureComponent);g["default"]=b}),98);
__d("VideoPlayerCaptionsAreaDeferred.react",["deferredLoadComponent","react","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");a=c("deferredLoadComponent")(c("requireDeferredForDisplay")("VideoPlayerCaptionsArea.react").__setRef("VideoPlayerCaptionsAreaDeferred.react"));g["default"]=a}),98);
__d("WebSessionExtender",["WebSession","clearInterval","cr:913","setInterval"],(function(a,b,c,d,e,f,g){"use strict";var h=2e4,i=new Set(),j=null;function a(a,e){e===void 0&&(e="extender"),i.add(a),j==null&&(d("WebSession").extend(Date.now()+h+2e3),j=c("setInterval")(function(){d("WebSession").extend(Date.now()+h+2e3),b("cr:913")&&new(b("cr:913"))().setClientTime(Date.now()).setWebsessionID(d("WebSession").getId()).setReason(e).log()},h))}function e(a){i["delete"](a);a=i.size;a===0&&j!=null&&(c("clearInterval")(j),j=null)}g.subscribe=a;g.unsubscribe=e}),98);
__d("VideoPlayerWebSessionExtender.react",["VideoPlayerHooks","WebSessionExtender","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useEffect,k=b.useId;function a(){var a=(i||(i=d("VideoPlayerHooks"))).usePlaying(),b=k();j(function(){if(a){d("WebSessionExtender").subscribe(b,"video");return function(){d("WebSessionExtender").unsubscribe(b)}}},[a,b]);return null}g["default"]=a}),98);
__d("useVideoPlayerDefaultLoadingIndicatorsLogic",["VideoPlayerHooks"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=(h||(h=d("VideoPlayerHooks"))).useStalling(),b=h.useStreamInterrupted(),c=h.useIsLiveRewindActive();b=b&&!c;c=a;a=b?"live_video_interrupted_overlay":c?"spinner":"none";return{liveVideoInterruptedOverlayVisible:b,loadingIndicatorType:a,spinnerVisible:c}}g["default"]=a}),98);
__d("useVideoPlayerDefaultLoadingIndicators",["CometPlaceholder.react","deferredLoadComponent","once","react","requireDeferred","requireDeferredForDisplay","useVideoPlayerDefaultLoadingIndicatorsLogic"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("deferredLoadComponent")(c("requireDeferredForDisplay")("VideoPlayerSpinner.react").__setRef("useVideoPlayerDefaultLoadingIndicators")),k=c("deferredLoadComponent")(c("requireDeferred")("VideoPlayerWithLiveVideoInterruptedOverlay.react").__setRef("useVideoPlayerDefaultLoadingIndicators")),l=c("once")(function(){return i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(k,{})})});function a(){var a=c("useVideoPlayerDefaultLoadingIndicatorsLogic")(),b=a.loadingIndicatorType;a=a.spinnerVisible;a=i.jsx(j,{isVisible:a});var d=null;switch(b){case"spinner":d=a;break;case"live_video_interrupted_overlay":d=l();break;case"none":default:d=a}return{loadingIndicatorElement:d,loadingIndicatorType:b}}g["default"]=a}),98);
__d("XVideoUnifiedCVCControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/video/unified_cvc/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("UnifiedVideoCVCSubscription",["CVCv3DisabledPlayerOrigins","CVCv3DisabledPlayerSubOrigins","CVCv3SubscriptionHelper","DateConsts","XVideoUnifiedCVCControllerRouteBuilder","clearTimeout","cometAsyncFetch","promiseDone","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=Object.values(c("CVCv3DisabledPlayerOrigins")),i=Object.values(c("CVCv3DisabledPlayerSubOrigins")),j=10;a=function(){function a(a,b,d,e,f,g){var j=this;this.$1=new(c("CVCv3SubscriptionHelper"))(a,b,d);this.$5=f;this.$6=null;this.$9=null;this.$10=!this.$1.isValidSubscription();this.$3=null;this.$2=null;a=b!=null?h.includes(b):!1;f=d!=null?i.includes(d):!1;!a&&!f&&(this.$3=e,this.$11=g,this.$4=e.subscribe(function(){if(j.$3==null){j.$1.logDebugInfo("empty_video_controller");return}var a=j.$3.getCurrentState();a.playing?j.$12(a):j.$13()}))}var b=a.prototype;b.$12=function(a){if(this.$3==null){this.$1.logDebugInfo("empty_video_controller");return}if(a.playing){if(this.$2==null){a=this.$3.getPlayheadPosition();a>=0&&(this.$2=a)}}else this.$2=null;this.$14(0)};b.stopUnifiedCVC=function(){this.$13()};b.destroy=function(){this.$13(),this.$4!=null&&this.$4.remove(),this.$4=null,this.$3=null};b.$13=function(){c("clearTimeout")(this.$8),c("clearTimeout")(this.$7),this.$8=null,this.$7=null,this.$2=null,this.$1.clearAnyPreviousContext(),this.$9=null};b.$15=function(){c("clearTimeout")(this.$7),this.$7=null};b.$16=function(){this.$9=null,this.$15(),this.$14(0)};b.$14=function(a){var b=this;if(this.$3==null||this.$8!=null||this.$9!=null||this.$10)return;this.$8=c("setTimeout")(function(){b.$8=null;var a=b.$17();if(a==null){b.$1.logDebugInfo("empty_request");return}b.$9=a;var e=Date.now(),f=!1;c("promiseDone")(a,function(c){if(a!==b.$9)return;b.$9=null;if(c!=null){c=b.$1.processUnifiedResponse(c);b.$18(c,e)}else b.$1.logHttpResponseBad("null payload",Date.now()-e)},function(a){f=!0,b.$1.logHttpRequestFailure(a!=null?JSON.stringify(a):null,Date.now()-e)});b.$7=c("setTimeout")(function(){f||b.$1.logHttpRequestTimeout(Date.now()-e),b.$16()},j*d("DateConsts").MS_PER_SEC)},a)};b.$18=function(a,b){this.$15();b=Date.now()-b;a.d!=null?(this.$1.logHttpRequestSuccess(b),this.$11!=null&&this.$11(a.d)):this.$1.logHttpResponseBad("no data field",b);if(a.a!=null){b=a.a.t;switch(b){case"p":b=a.a.pi;b==null&&(b=j);this.$14(b*d("DateConsts").MS_PER_SEC);break;case"s":this.$10=!0;break}}};b.$17=function(){var a=this.$19();if(a==null)return null;a={d:JSON.stringify(a)};return c("cometAsyncFetch")(c("XVideoUnifiedCVCControllerRouteBuilder").buildURL({}),{data:a,method:"POST"})};b.$19=function(){if(this.$3==null)return null;var a={};this.$6!=null&&(a.lc=this.$6);this.$5&&(a.ls=!0);var b=0,c=0;this.$2!=null&&(b=this.$2,c=this.$3.getPlayheadPosition());var d=this.$3.getCurrentState();b=this.$1.makeUnifiedVideoCVCUpdate(b,c,this.$20(d),d.muted,a);return b};b.$20=function(a){if(a.playing||a.seeking)return"playing";else if(a.ended)return"ended";else if(a.paused)return"paused";else return"unknown"};b.testing_setLastStartPosition=function(a){this.$2=a};b.testing_makeUnifiedStateUpdate=function(){return this.$19()};b.testing_handleUnifiedResponse=function(a){return this.$18(a,Date.now())};return a}();g["default"]=a}),98);
__d("useVideoPlayerUnifiedCVCProvider",["CvcV3HttpEventFalcoEvent","UnifiedVideoCVCSubscription","VideoPlayerHooks","createVideoStateHook","getPlayerFormatForLogData","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useEffect;b=d("createVideoStateHook").createVideoStateHook(null);var k=b.setterHook;e=d("createVideoStateHook").createVideoStateHook(null);var l=e.setterHook;f=e.valueHook;function a(a){var b=a.disableSubscription,e=a.playerFormat,f=a.subOrigin,g=a.videoFBID,h=(i||(i=d("VideoPlayerHooks"))).useIsLive(),m=i.useIsFullscreen(),n=i.useIsDesktopPictureInPicture(),o=i.useController(),p=k(),q=l();j(function(){if(b===!0){c("CvcV3HttpEventFalcoEvent").log(function(){return{countable_id:g,name:"disable_subscription"}});return}var a=new(c("UnifiedVideoCVCSubscription"))(g,c("getPlayerFormatForLogData")({isDesktopPictureInPicture:n,isFullscreen:m},e),f,o,h,function(a){q(a)});p(a);return function(){a.destroy()}},[n,m,h,b,e,q,p,f,o,g])}b=f;g.useVideoPlayerUnifiedCVCProvider=a;g.useVideoPlayerUnifiedCVCData=b}),98);
__d("VideoPlayerXImplSurface.react",["CoreVideoPlayerAudioClient.react","CoreVideoPlayerAutoplayClient.react","VideoPlayerCaptionsAreaDeferred.react","VideoPlayerIMFMetadataContext","VideoPlayerInteractionOverlay.react","VideoPlayerWebSessionExtender.react","cr:1954434","cr:99","gkx","react","useVideoPlayerDefaultLoadingIndicators","useVideoPlayerUnifiedCVCProvider"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var e=a.children,f=a.disableCVCSubscription,g=a.disableLoadingIndicator;g=g===void 0?!1:g;var h=a.disableLogging,j=a.instreamVideoAdBreaksPlayer,k=a.playerFormat,l=a.subOrigin,m=a.videoFBID,n=a.videoPlayerIMFFromVideoMetadata;a=a.videoPlayerSpherical;d("useVideoPlayerUnifiedCVCProvider").useVideoPlayerUnifiedCVCProvider({disableSubscription:h===!0||f,playerFormat:k,subOrigin:l,videoFBID:m});h=c("useVideoPlayerDefaultLoadingIndicators")();f=h.loadingIndicatorElement;return i.jsxs(d("VideoPlayerIMFMetadataContext").VideoPlayerIMFMetadataContextProvider,{value:(k=n)!=null?k:null,children:[a,g?null:f,c("gkx")("24328")?i.jsx(d("VideoPlayerInteractionOverlay.react").VideoPlayerInteractionOverlay,{}):null,i.jsxs(c("VideoPlayerCaptionsAreaDeferred.react"),{children:[e,j]}),i.jsx(c("CoreVideoPlayerAutoplayClient.react"),{}),i.jsx(c("CoreVideoPlayerAudioClient.react"),{}),b("cr:1954434")?i.jsx(b("cr:1954434"),{}):null,b("cr:99")?i.jsx(b("cr:99"),{subOrigin:l}):null,i.jsx(c("VideoPlayerWebSessionExtender.react"),{})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("normalizeVideoPlayerLoopCount",["unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){b===void 0&&(b=null);d===void 0&&(d=null);if(a==null){var e;d=((e=b)!=null?e:!1)?(e=d)!=null?e:0:0;d===-1?e=-1:d<0||!Number.isFinite(d)||Math.floor(d)!==d?e=0:d===0&&b===!0?e=-1:e=d}else if(a===-1||a===Number.POSITIVE_INFINITY)e=-1;else if(a<0||!Number.isFinite(a)||Math.floor(a)!==a)throw c("unrecoverableViolation")("Invalid loopingCount: "+a,"comet_video_player");else e=a;return e}g["default"]=a}),98);
__d("VideoPlayerXImpl.react",["CoreVideoPlayerWithComponents.react","VideoPlayerXImplSurface.react","normalizeVideoPlayerLoopCount","react","usePlayerOriginRouteTracePolicy","useRouteProductAttribution"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children,d=a.disableCVCSubscription;d=d===void 0?!1:d;var e=a.disableLoadingIndicator,f=a.implementations,g=a.instreamVideoAdBreaksPlayer,h=a.portalingEnabled,j=a.portalingFromVideoID,k=a.portalingPlaceMetaData,l=a.portalingRenderPlaceholder,m=a.videoPlayerIMFFromVideoMetadata,n=a.videoPlayerSpherical,o=a.disableLogging,p=a.disableVPLLogging,q=a.enableSNAPL;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","disableCVCSubscription","disableLoadingIndicator","implementations","instreamVideoAdBreaksPlayer","portalingEnabled","portalingFromVideoID","portalingPlaceMetaData","portalingRenderPlaceholder","videoPlayerIMFFromVideoMetadata","videoPlayerSpherical","disableLogging","disableVPLLogging","enableSNAPL"]);var r=c("usePlayerOriginRouteTracePolicy")(),s=c("useRouteProductAttribution")();s||(s=a.productAttribution);var t=a.loopCount,u=a.playerFormat,v=a.subOrigin,w=a.videoFBID;t=c("normalizeVideoPlayerLoopCount")(t);return i.jsx(c("CoreVideoPlayerWithComponents.react"),babelHelpers["extends"]({},a,{disableLogging:o,disableVPLLogging:p,enableSNAPL:q,implementations:f,loopCount:t,portalingEnabled:h,portalingFromVideoID:j,portalingPlaceMetaData:k,portalingRenderPlaceholder:l,productAttribution:s,routeTracePolicy:r,children:i.jsx(c("VideoPlayerXImplSurface.react"),{children:b,disableCVCSubscription:d,disableLoadingIndicator:e,disableLogging:o,instreamVideoAdBreaksPlayer:g,playerFormat:u,subOrigin:v,videoFBID:w,videoPlayerIMFFromVideoMetadata:m,videoPlayerSpherical:n})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerFallbackLearnMoreLink.react",["fbt","CometLink.react","FDSText.react","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){var a=c("gkx")("20836")?"/help/work/1876956335887765/i-cant-view-or-play-videos-on-workplace":"https://www.facebook.com/help/396404120401278/list";return j.jsx(c("FDSText.react"),{color:"primaryOnMedia",type:"headlineEmphasized3",children:j.jsx(c("CometLink.react"),{href:a,target:"_blank",children:h._("__JHASH__GWeGP0j1NWF__JHASH__")})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("VideoPlayerFallbackCoverImplWithoutRetry.react",["FDSText.react","VideoPlayerFallbackLearnMoreLink.react","cr:1672302","cr:4149","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={banner:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"xdt5ytf",width:"x3es6ox",$$css:!0},showOverBackground:{zIndex:"x1vjfegm",$$css:!0}};function a(a){var d=a.background,e=a.debugError,f=a.message,g=a.showDebugWithoutError;g=g===void 0?!0:g;a=a.showLearnMoreLink;a=a===void 0?!0:a;return j.jsxs("div",{className:"x6s0dn4 xatbrnm x9f619 x78zum5 x5yr21d xl56j7k x6ikm8r x10wlt62 x889kno x1iji9kk x1a8lsjc x1sln4lm x1n2onr6 xh8yej3",children:[j.jsxs("div",{className:(h||(h=c("stylex")))([k.banner,d!=null&&k.showOverBackground]),children:[j.jsx("div",{className:"x6s0dn4 x78zum5 xdt5ytf x193iq5w",children:j.jsx(c("FDSText.react"),{align:"center",color:"primaryOnMedia",type:"bodyLink3",children:f})}),a&&j.jsx("div",{className:"x6s0dn4 x78zum5 xdt5ytf xw7yly9 x193iq5w",children:j.jsx(c("VideoPlayerFallbackLearnMoreLink.react"),{})}),(e!=null||g)&&j.jsxs(j.Fragment,{children:[b("cr:4149")?j.jsx(b("cr:4149"),{error:e}):null,b("cr:1672302")?j.jsx(b("cr:1672302"),{error:e}):null]})]}),d!=null&&j.jsx("div",{className:"x1ey2m1c xds687c x17qophe x10l6tqk x13vifvy",children:d})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerFallbackCover.react",["fbt","VideoPlayerFallbackCoverImplWithoutRetry.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.background,d=a.debugError,e=a.message,f=a.showDebugWithoutError;a=a.showLearnMoreLink;e=(e=e)!=null?e:h._("__JHASH__dzG08k88Xfs__JHASH__");return j.jsx(c("VideoPlayerFallbackCoverImplWithoutRetry.react"),{background:b,debugError:d,message:e,showDebugWithoutError:f,showLearnMoreLink:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("getVideoPlayerUserFacingErrorMessageFromError",["fbt","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";function i(a){return c("gkx")("24345")&&a.message.toLowerCase().indexOf("audio_renderer_error")>=0}function j(a){return a.message.indexOf("DEVICE_CERTIFICATE_REVOKED")>=0}function k(a){return a.name.indexOf("VideoImplementationsDashManifestUnsupportedCodecs")>=0||a.name.indexOf("VideoImplementationsMediaSourceUnsupported")>=0}function l(a){return a.name==="OZ_NETWORK"&&a.message.includes("CDN URL expired")}function a(a){var b=null;i(a)?b=h._("__JHASH__32piJ10frlX__JHASH__"):j(a)?b=h._("__JHASH__6MAWOMXczk1__JHASH__"):k(a)?b=h._("__JHASH__EuR8fzpxUQU__JHASH__"):l(a)&&(b=h._("__JHASH__NrJkVWZ6st1__JHASH__"));return b}g["default"]=a}),226);
__d("defaultErrorBoundaryFallback",["VideoPlayerFallbackCover.react","getVideoPlayerUserFacingErrorMessageFromError","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=c("getVideoPlayerUserFacingErrorMessageFromError")(a);return i.jsx(c("VideoPlayerFallbackCover.react"),{debugError:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerX.react",["VideoPlayerErrorBoundary.react","VideoPlayerXImpl.react","defaultErrorBoundaryFallback","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.doNotRenderErrorBoundaryIUnderstandIMustProvideMyOwn;b=b===void 0?!1:b;var d=a.errorBoundaryFallback;a=babelHelpers.objectWithoutPropertiesLoose(a,["doNotRenderErrorBoundaryIUnderstandIMustProvideMyOwn","errorBoundaryFallback"]);a=i.jsx(c("VideoPlayerXImpl.react"),babelHelpers["extends"]({VideoPlayerShakaPerformanceLoggerClass:null},a));return b?a:i.jsx(c("VideoPlayerErrorBoundary.react"),{description:"VideoPlayerX",fallback:(b=d)!=null?b:c("defaultErrorBoundaryFallback"),children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("computeAspectRatio",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a!=null&&b!=null&&a!==0&&b!==0?a/b:null}f["default"]=a}),66);
__d("VideoPlayerProgressiveImplementationData",["err"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return/\.mpd(\?|$)/.test(a)}function a(a){var b=a.hdSrc,d=a.hdSrcPreferred;a=a.sdSrc;if(b==null&&a==null){var e=c("err")("Both HD and SD browser-native URLs are not available");e.name="GotNoBrowserNativeURLs";return e}if(a==null){e=c("err")("Browser-native SD URL is not available");e.name="GotNoBrowserNativeSDURL";return e}e=h(a);var f=b!=null&&h(b);if(e||f){e=c("err")("HD or SD browser-native URL points to a DASH manifest");e.name="GotBrowserNativeURLsPointToDASH";return e}return{hdSrc:b,hdSrcPreferred:d,sdSrc:a}}g.makeProgressiveImplementationData=a}),98);
__d("VideoLiveTrace",["DataViewReader","LiveTraceWwwVideoPlayerFalcoEvent","Mp4DASHEventMessageBox","Mp4Demuxer","throttle"],(function(a,b,c,d,e,f,g){var h="x-fb-video-livetrace-ids",i="x-fb-video-livetrace-parentsource",j="x-fb-video-livetrace-streamtype",k="x-fb-origin-hit",l="x-fb-edge-hit",m="PLY:WWW:",n=m+"DL:",o=m+"DIS:",p=1e3,q=/[\r\n]+/;a=function(){function a(a,b,d){var e=this;this.$6=[];this.$1=a;this.$2=null;a=d+":"+b.substring(0,5);this.$3=m+a;this.$4=n+a;this.$5=o+a;this.$7=c("throttle")(function(a){return e.$8(a)},p)}var b=a.prototype;b.setStreamType=function(a){this.$2=a};b.$9=function(a,b,d,e,f,g){var h,i=this,j=Date.now(),k=(h=this.$2)!=null?h:0;c("LiveTraceWwwVideoPlayerFalcoEvent").log(function(){return{stream_id:i.$1,stream_type:k,event_name:b,event_severity:f,event_creation_time:j,source:a,trace_id:d,parent_source:e,metadata:g}})};b.onUpdateStatus=function(a){this.$7(a)};b.$8=function(a){a=a.position*1e3;for(var b=this.$6.length-1;b>=0;b--){var c=this.$6[b];if(c.presentationTimestamp>a)continue;if(c.displayTimestamp==null)c.displayTimestamp=Date.now();else continue;this.$9(this.$5,"FRAME",c.traceId,this.$4,"SUCCESS",null)}};b.getAndFlushTracedFrames=function(){var a,b={currentTimeMs:Date.now(),streamId:this.$1},c={dl:[],dis:[]},d=[];this.$6.forEach(function(a){a.hasBeenFlushedAsDownloaded||(c.dl.push({id:a.traceId,timeMs:a.downloadTimestamp}),a.hasBeenFlushedAsDownloaded=!0),a.displayTimestamp!=null?c.dis.push({id:a.traceId,timeMs:a.displayTimestamp}):d.push(a)});this.$6=d;b[(a=this.$2)!=null?a:0]=c;return c.dl.length>0||c.dis.length>0?b:null};b.handleHeadersString=function(a,b){a=a.trim().split(q);this.$10(a.map(function(a){a=a.split(": ");return[a.shift().toLowerCase(),a.shift()]}),b)};b.handleHeaders=function(a,b){this.$10(this.$11(a),b)};b.handleHeadersAndBody=function(a,b,c){this.$12(this.$11(a),b,c)};b.$11=function(a){var b=[];for(var a=a.entries(),c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;b.push(e)}return b};b.$13=function(a){var b=Date.now(),d=new Map(),e=a.reduce(function(a,b){return a+b.byteLength},0),f=new Uint8Array(e),g=0;a.forEach(function(a){f.set(a,g),g+=a.byteLength});e=new(c("Mp4Demuxer"))(new DataView(f.buffer,f.byteOffset,f.byteLength));while(!e.atEnd()){a=e.parseBox();if(a.getType()===c("Mp4DASHEventMessageBox").canonicalType){var h=e.parseCanonicalBox(c("Mp4DASHEventMessageBox"),e.parseFullBox(a));if(h instanceof c("Mp4DASHEventMessageBox")){var i;i=(i=h.getEmsgFields())==null?void 0:i.schemeIdUri;if(i==null?void 0:i.startsWith("livedash:trace:")){i=h.getMessageData();h=new(c("DataViewReader"))(i).readZeroTerminatedString(i.byteLength);try{i=JSON.parse(h);Array.isArray(i)&&i.filter(function(a){return Array.isArray(a)&&a.length===2}).forEach(function(a){var c=a[0];a=a[1];d.set(c,{displayTimestamp:null,downloadTimestamp:b,hasBeenFlushedAsDownloaded:!1,presentationTimestamp:a,traceId:c})})}catch(a){}}}}e.skipBox(a)}return d};b.$14=function(a,b){var c=this,d="null",e=Date.now(),f=new Map(),g="";a.forEach(function(a){var b=a[0].toLowerCase();a=a[1];if(b===h&&a){var m=a.split(",");m.forEach(function(a){a=a.split(":");var b=+a[0];a=+a[1];f.set(b,{displayTimestamp:null,downloadTimestamp:e,hasBeenFlushedAsDownloaded:!1,presentationTimestamp:a,traceId:b})})}b===i&&(g=a);c.$2===null&&b===j&&(c.$2=parseInt(a,10));(b===k||b===l)&&parseInt(a,10)&&(d=b===k?"origin":"edge")});a=b||{};a.hit=d;return g!==""?{tracedFrames:f,eventMetaData:a,parentSource:g,streamType:this.$2}:null};b.$12=function(a,b,c){var d=this.$14(a,c);if(d==null||d.parentSource==="")return;if(b==null?void 0:b.length){a=this.$13(b);a.forEach(function(a,b){d.tracedFrames.set(b,a)})}this.$6=this.$6.concat(Array.from(d.tracedFrames.values()));c=d.tracedFrames.keys();for(b=c,a=Array.isArray(b),c=0,b=a?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(a){if(c>=b.length)break;e=b[c++]}else{c=b.next();if(c.done)break;e=c.value}e=e;this.$9(this.$4,"SEGMENT",e,d.parentSource,"SUCCESS",d.eventMetaData)}};b.$10=function(a,b){this.$12(a,null,b)};b.handleXHR=function(a,b){this.handleHeadersString(a.getAllResponseHeaders(),b)};b.getLiveTraceContext=function(){return this.$2!=null?{streamId:this.$1,streamType:this.$2,sourceId:this.$3}:null};return a}();g["default"]=a}),98);
__d("VideoPlayerWwwFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1914651");b=d("FalcoLoggerInternal").create("video_player_www",a);e=b;g["default"]=e}),98);
__d("VideoPlayerWwwLogger",["VideoPlayerWwwFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b,c=a.logData.live_trace_stream_id!==null&&a.logData.live_trace_stream_type!==null;return{access_token:a.logData.access_token,ad_client_token:a.logData.ad_client_token,attribution_id:a.logData.attribution_id,attribution_id_v2:a.logData.attribution_id_v2,attribution_id_v2_root:a.logData.attribution_id_v2_root,audio_only:a.logData.audio_only,audio_representation_id:a.logData.audio_representation_id,autoplay_eligible:a.logData.autoplay_eligible,autoplay_failure_reasons:a.logData.autoplay_failure_reasons,autoplay_setting:a.logData.autoplay_setting,available_qualities:a.logData.available_qualities,broadcaster_origin:a.logData.broadcaster_origin,browser_tab_id:a.logData.browser_tab_id,caption_state:a.logData.caption_state,cast_client_app_id:a.logData.cast_client_app_id,client_latency_setting:a.logData.client_latency_setting,current_playback_speed:a.logData.current_playback_speed,current_viewability_percentage:Number(a.logData.current_viewability_percentage),current_volume:a.logData.current_volume,dash_perf_logging_enabled:a.logData.dash_perf_logging_enabled,data_connection_quality:a.logData.data_connection_quality,debug_reason:a.logData.debug_reason,device_id:a.logData.device_id,device_type:a.logData.device_type,downstream_share_origin_uri:a.logData.downstream_share_origin_uri,downstream_share_start_time:a.logData.downstream_share_start_time,downstream_share_visit_uuid:a.logData.downstream_share_visit_uuid,dropped_frame_count:Number(a.logData.dropped_frame_count),error:a.logData.error,error_code:a.logData.error_code,error_description:a.logData.error_description,error_domain:a.logData.error_domain,error_type:a.logData.error_type,error_user_info:a.logData.error_user_info,event_name:a.eventType,event_seq_num:a.logData.event_seq_num,external_log_id:a.logData.external_log_id,external_log_type:a.logData.external_log_id,fb_manifest_identifier:a.logData.fb_manifest_identifier,feed_aggregation_type:a.logData.feed_aggregation_type,feed_position:a.logData.feed_position,frame_events:a.logData.frame_events,ft:a.logData.ft,imf_emsg_id:a.logData.imf_emsg_id,imf_event_type:a.logData.imf_event_type,imf_topic:a.logData.imf_topic,interrupt_count:a.logData.interrupt_count!==null?Number(a.logData.interrupt_count):null,interrupt_time:Number(a.logData.interrupt_time),is_abr_enabled:a.logData.is_abr_enabled,is_fbms:a.logData.is_fbms,is_live_preview:(b=a.logData.is_live_preview)!=null?b:!1,is_live_video_rewound:a.logData.is_live_video_rewound,is_mixed_codec_manifest:a.logData.is_mixed_codec_manifest,is_p2p_playback:a.logData.is_p2p_playback,is_pip:a.logData.is_pip,is_predictive_playback:a.logData.is_predictive_playback,is_sound_on:a.logData.is_sound_on,is_stalling:a.logData.is_stalling,is_templated_manifest:a.logData.is_templated_manifest,last_viewability_percentage:Number(a.logData.last_viewability_percentage),live_trace_source_id:a.logData.live_trace_source_id,live_trace_stream_id:c?a.logData.live_trace_stream_id:null,live_trace_stream_type:c?a.logData.live_trace_stream_type:null,mpd_validation_errors:a.logData.mpd_validation_errors,network_connected:a.logData.network_connected,next_quality_label:a.logData.next_quality_label,next_representation_id:a.logData.next_representation_id,next_video_codecs:a.logData.next_video_codecs,notification_id:a.logData.notification_id,notification_medium:a.logData.notification_medium,offset_ms:a.logData.offset_ms!=null?String(a.logData.offset_ms):null,permalink_share_id:a.logData.permalink_share_id,playback_caption_format:a.logData.playback_caption_format,playback_caption_locale:a.logData.playback_caption_locale,playback_duration:a.logData.playback_duration,playback_is_broadcast:a.logData.playback_is_broadcast,playback_is_drm:a.logData.playback_is_drm,playback_is_live_streaming:a.logData.playback_is_live_streaming,player_format:a.logData.player_format,player_instance_key:a.logData.player_instance_key,player_mode:a.logData.player_mode,player_origin:a.logData.player_origin,player_state:a.logData.player_state,player_suborigin:a.logData.player_suborigin,player_version:a.logData.player_version,projection:a.logData.projection,quality_label:a.logData.quality_label,reaction_video_channel_type:a.logData.reaction_video_channel_type,representation_id:a.logData.representation_id,resource_url:a.logData.resource_url,routeTracePolicy:a.routeTracePolicy,seq_num:a.logData.seq_num,source:a.source_VPL_LOGGING_HACK,source_VPL_LOGGING_HACK:a.logData.source_VPL_LOGGING_HACK,srt_job_id:a.logData.srt_job_id,srt_job_tracking_id:a.logData.srt_job_tracking_id,stall_count:Number(a.logData.stall_count),stall_count_200_ms:Number(a.logData.stall_count_200_ms),stall_time:Number(a.logData.stall_time),state:a.logData.state,streaming_format:a.logData.streaming_format,time_ms:a.logData.time_ms,total_frame_count:Number(a.logData.total_frame_count),tracking_data_encrypted:a.logData.tracking_data_encrypted,tracking_nodes:a.logData.tracking_nodes,tv_session_id:a.logData.tv_session_id,v2_heart_beat:a.logData.v2_heart_beat,video_bandwidth:a.logData.video_bandwidth,video_buffer_end_position:a.logData.video_buffer_end_position,video_chaining_depth_level:a.logData.video_chaining_depth_level,video_chaining_parent_video_id:a.logData.video_chaining_parent_video_id,video_chaining_session_id:a.logData.video_chaining_session_id,video_channel_id:a.logData.video_channel_id,video_codecs:a.logData.video_codecs,video_id:a.logData.video_id,video_last_start_time_position:a.logData.video_last_start_time_position,video_play_reason:a.logData.video_play_reason,video_player_height:Number(a.logData.video_player_height),video_player_width:Number(a.logData.video_player_width),video_time_position:a.logData.video_time_position,vpts:a.logData.vpts,web_client_revision:a.logData.web_client_revision}}a={logComet:function(a){c("VideoPlayerWwwFalcoEvent").log(function(){return h(a)})},logCometImmediately:function(a){c("VideoPlayerWwwFalcoEvent").logImmediately(function(){return h(a)})}};b=a;g["default"]=b}),98);
__d("VideoPlayerBanzaiLogFlusher",["VideoPlayerWwwLogger","emptyFunction","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=c("emptyFunction"),i=!1;c("gkx")("5551")&&(i=!0,h=function(a,b){try{var c;for(var d=arguments.length,e=new Array(d>2?d-2:0),f=2;f<d;f++)e[f-2]=arguments[f];(c=window.console).info.apply(c,["["+a+"][VideoPlayerBanzaiLogFlusher]"+b].concat(e))}catch(a){}});a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.flushLogs=function(){var a=this,b=this.$2.consumeLoggerEvents();b.forEach(function(b){var d,e={event:b.eventType,logData:b.logData,routeTracePolicy:b.routeTracePolicy,source:b.source_VPL_LOGGING_HACK};if(b.source_VPL_LOGGING_HACK==="animated_image_share"){i&&h(a.$1,"[flushLogs] "+b.eventType+" SKIP ANIMATED_IMAGE_SHARE",{videoPlayerLogData:e});return}d=(d=b.logData)==null?void 0:d.ad_client_token;i&&h(a.$1,"[flushLogs] "+b.eventType,{videoPlayerLogData:e});d!=null?c("VideoPlayerWwwLogger").logCometImmediately(b):c("VideoPlayerWwwLogger").logComet(b)})};b.discardLogsWithoutFlushing=function(){var a=this.$2.consumeLoggerEvents();i&&h(this.$1,"[discardLogsWithoutFlushing] "+a.map(function(a){return a.eventType}).join(","),a)};return a}();g["default"]=a}),98);
__d("VideoPlayerCaptionsController",["JSResourceForInteraction","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=c("JSResourceForInteraction")("VideoPlayerHTML5ApiCea608State").__setRef("VideoPlayerCaptionsController"),i=c("JSResourceForInteraction")("VideoPlayerHTML5ApiWebVttState").__setRef("VideoPlayerCaptionsController");function a(a){var b=a.captionsUrl,d=a.inbandCaptionsExpected,e=a.onCaptionsLoaded,f=null,g=null,j=null,k=null;function l(a){var b=i.load().then(function(c){if(b!==j)return;f=new c({captionsDisplay:null,onCaptionsLoaded:e,onReady:function(b){b.loadFromUrl(a)}})})["catch"](function(a){if(b!==j)return;c("recoverableViolation")("Failed to load the VideoPlayerHTML5ApiWebVttState module: "+a.message,"comet_video_player")});return b}function m(){var a=h.load().then(function(b){if(a!==k)return;g=new b({captionsDisplay:null,onCaptionsLoaded:e,onReady:function(a){a.processQueue()}})})["catch"](function(b){if(a!==k)return;c("recoverableViolation")("Failed to load the VideoPlayerHTML5ApiCea608State module: "+b.message,"comet_video_player")});return a}b!=null?j=l(b):d===!0&&(k=m());return{destroy:function(){f&&(f.destroy(),f=null),g&&(g.destroy(),g=null),j&&(j=null),k&&(k=null)},getCaptionFormat:function(){return f?"webvtt":g?"cea608":null},handleCea608BytesReceived:function(a){g&&g.enqueueBytes(a)},handleTimeUpdate:function(a){if(f){var b;f.source&&f.source.handleTimeUpdate(a);return(b=(b=f)==null?void 0:b.getCurrentScreenRepresentation())!=null?b:null}else if(g){g.source&&g.source.handleTimeUpdate(a);return(a=(b=g)==null?void 0:b.getCurrentScreenRepresentation())!=null?a:null}return null},updateCaptionsUrl:function(a){f&&(f.destroy(),f=null),a!=null&&(j=l(a))},updateInbandCaptionsExpected:function(a){g&&(g.destroy(),g=null),a&&(k=m())}}}g.createCaptionsController=a}),98);
__d("VideoPlayerImplementationReactVideoElement.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.alt,c=a.poster,d=a.seoSrc,e=a.seoWebCrawlerVideoTracks,f=a.videoElementCallbacks,g=a.videoElementPreloadDisabled,h=a.videoElementRefCallback;a=a.videoPixelsFit;d=d!=null?babelHelpers["extends"]({},f,{src:d}):f;return i.jsx("video",babelHelpers["extends"]({"aria-label":(f=b)!=null?f:void 0,className:"x1lliihq x5yr21d xh8yej3",controls:!1,muted:!0,playsInline:!0,preload:g===!0?"none":void 0},d,{poster:c,ref:h,style:a?{objectFit:a.objectFit}:void 0,children:e}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerEmsgForStateMachine",["deepEquals"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var c;return[a.type,a.emsgScheme,(c=a.emsgId)!=null?c:""].concat(b?[(c=a.emsgStartTimeInSec)!=null?c:"",(b=a.emsgDurationInSec)!=null?b:""]:[]).join(":")}function i(a,b){a.set(h(b,!0),b);return a}function a(a,b){return b.reduce(i,new Map(a))}function b(a,b,d){a=b==null?[]:Array.from(a.values()).filter(function(a){var c=a.emsgStartTimeInSec;a=a.emsgDurationInSec||0;return c!=null&&b>=c&&b<c+a}).sort(function(a,b){return(a.emsgStartTimeInSec||0)-(b.emsgStartTimeInSec||0)});a=Array.from(a.reduce(function(a,b){a.set(h(b,!1),b);return a},new Map()).values());return c("deepEquals")(d,a)?d:a}g.makeEmsgBoxDedupKey=h;g.makeUpdatedAllEmsgBoxes=a;g.makeUpdatedActiveEmsgBoxes=b}),98);
__d("getErrorMessageFromMediaErrorCode",[],(function(a,b,c,d,e,f){"use strict";function a(a){switch(a){case 1:return"The fetching process for the media resource was aborted by the user agent at the users request.";case 2:return"A network error of some description caused the user agent to stop fetching the media resource, after the resource was established to be usable.";case 3:return"An error of some description occurred while decoding the media resource, after the resource was established to be usable.";case 4:return"The media resource indicated by the src attribute was not suitable."}return null}f["default"]=a}),66);
__d("getErrorNameFromMediaErrorCode",[],(function(a,b,c,d,e,f){"use strict";function a(a){switch(a){case 1:return"MEDIA_ERR_ABORTED";case 2:return"MEDIA_ERR_NETWORK";case 3:return"MEDIA_ERR_DECODE";case 4:return"MEDIA_ERR_SRC_NOT_SUPPORTED";default:return"MEDIA_ERR_UNKNOWN_"+((a=a)!=null?a:"UNDEFINED")}}f["default"]=a}),66);
__d("VideoPlayerImplementationErrors",["VideoPlayerImplementationErrorNormalization","getErrorMessageFromMediaErrorCode","getErrorNameFromMediaErrorCode","getErrorSafe","oz-player/utils/OzErrorUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b;a=/^([A-Z_]+:)|([A-Z_]+\s+\(0x[0-9A-Fa-f]+\))/.exec(a);a=((b=(b=a==null?void 0:a[1])!=null?b:a==null?void 0:a[2])!=null?b:"").replace(/\s+/,"_").replace(/[^A-Za-z0-9_]/g,"");return a!==""?a:null}function a(a){var b=a.errorLocation,d=a.hostCallError,e=a.videoElementError,f=a.videoElementNetworkState;a=a.videoElementReadyState;var g=e==null?void 0:e.code,h=d!=null&&typeof d.message==="string"?d.message:null;h==null&&(h=e==null?void 0:e.message);h==null&&g!=null&&(h=c("getErrorMessageFromMediaErrorCode")(g));e=c("getErrorNameFromMediaErrorCode")(g);return{createdTimestamp:Date.now(),errorLocation:b,errorMessageFormat:((b=h)!=null?b:"Empty error")+("; code: "+((h=g)!=null?h:"undefined"))+("; readyState: "+a)+("; networkState: "+f),errorMessageParams:[],errorName:e,originalError:d}}function b(a,b){var d=c("getErrorSafe")(a);return{createdTimestamp:Date.now(),errorCode:typeof a==="object"&&a!=null?typeof a.code==="string"?a.code:typeof a.code==="number"?String(a.code):void 0:void 0,errorLocation:b,errorMessageFormat:(a=d.messageFormat)!=null?a:d.message,errorMessageParams:d.messageFormat!=null?(b=d.messageParams)!=null?b:[]:[],errorName:"VideoElementPlayPromiseRejectionReason_"+(d.name||"UnknownError")}}function i(a,b,d,e){e===void 0&&(e=null);b=c("getErrorSafe")(b);return{createdTimestamp:Date.now(),errorCode:null,errorLocation:d,errorMessageFormat:(b.name||"UnknownError")+" "+((d=b.messageFormat)!=null?d:b.message),errorMessageParams:b.messageFormat!=null?(d=b.messageParams)!=null?d:[]:[],errorName:a,stack:b.stack,url:(d=e)!=null?d:null}}function e(a,b){if(d("oz-player/utils/OzErrorUtils").isOzError(a)){var c=a,e=c.getExtra();return{createdTimestamp:Date.now(),errorCode:e.code,errorLocation:b,errorMessageFormat:c.getDescription(),errorMessageParams:[],errorName:c.getType(),errorType:d("VideoPlayerImplementationErrorNormalization").getVideoPlayerNormalizedErrorTypeFromOzError(c),stack:c.stack,url:e.url}}else return i("OZ_JAVASCRIPT_NATIVE",a,b)}function f(a,b){var c=h(a.message);c=c!=null?a.name+"_"+c:a.name;a=a.message;var d=[];return{createdTimestamp:Date.now(),errorLocation:b,errorMessageFormat:a,errorMessageParams:d,errorName:c,errorType:"GenericDecodeError"}}g.getMoreGranularErrorNameFromHTMLVideoElementErrorMessage=h;g.createVideoPlayerErrorFromHTMLVideoElementError=a;g.createVideoPlayerErrorFromVideoElementPlayPromiseRejectionReason=b;g.createVideoPlayerErrorFromGenericError=i;g.createVideoPlayerErrorFromOzImplementationError=e;g.createVideoPlayerErrorFromOzImplementationVideoNodeError=f}),98);
__d("VideoPlayerODS",["ODS","Random"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,b,c){d("Random").coinflip(c)&&(h||(h=d("ODS"))).bumpEntityKey(2079,a,b,c)};g.bumpEntityKey=a}),98);
__d("VideoPlayerImplementationStateMachine",["VideoPlayerEmsgForStateMachine","VideoPlayerImplementationErrors","VideoPlayerODS","gkx","recoverableViolation","shallowEqual","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=a.bufferingDetected,c=a.seeking;a=a.waitingForDomPlaying;return!b&&!c&&!a}function i(a){var b=a.bufferingDetected,d=a.prevPlaybackState,e=a.seeking;a=a.waitingForDomPlaying;b=h({bufferingDetected:b,seeking:e,waitingForDomPlaying:a});e=d;switch(d){case"stalling":e=b?"playing":"stalling";break;case"ended":case"paused":case"playing":break;default:d;c("recoverableViolation")("unexpected playbackState: "+d,"comet_video_player");break}return e}function j(a){return a.loopCount>0&&a.loopCurrent<a.loopCount||a.loopCount===-1}function k(a,b,e){switch(e.type){case"host_call_pause":case"host_call_play":case"host_call_set_current_time":case"host_call_set_volume":case"host_call_set_muted":case"host_call_set_playback_rate":case"host_call_set_video_quality":case"host_call_set_latency_level":return babelHelpers["extends"]({},a,{hostCallQueue:a.hostCallQueue.concat([e])});case"controller_set_latency_level_requested":case"implementation_set_latency_level_requested":return babelHelpers["extends"]({},a,{latencyLevel:e.payload.latencyLevel,ullIneligibilityReason:e.payload.ullIneligibilityReason});case"dom_event_loadedmetadata":return babelHelpers["extends"]({},a,{domEventsLatestPerfMs:babelHelpers["extends"]({},a.domEventsLatestPerfMs,{clockMs:b.clockTimestamp,loadedmetadata:e.payload.domEventPerfTimestamp,perfMs:b.perfTimestamp})});case"dom_event_loadeddata":return babelHelpers["extends"]({},a,{domEventsLatestPerfMs:babelHelpers["extends"]({},a.domEventsLatestPerfMs,{clockMs:b.clockTimestamp,loadeddata:e.payload.domEventPerfTimestamp,perfMs:b.perfTimestamp})});case"dom_event_canplay":return babelHelpers["extends"]({},a,{domEventsLatestPerfMs:babelHelpers["extends"]({},a.domEventsLatestPerfMs,{canplay:e.payload.domEventPerfTimestamp,clockMs:b.clockTimestamp,perfMs:b.perfTimestamp})});case"dom_event_ended":return babelHelpers["extends"]({},a,{playbackState:"ended",waitingForDomPlaying:!1});case"dom_event_pause":if(a.playbackState==="ended")return a;if(b.videoElementEnded===!0)return babelHelpers["extends"]({},a,{playbackState:"ended",waitingForDomPlaying:!1});return a.playbackState==="paused"?a:babelHelpers["extends"]({},a,{playbackState:"paused",waitingForDomPlaying:!1});case"dom_event_play":var f=a.playbackState,g=f;switch(f){case"playing":case"stalling":case"ended":case"paused":g="stalling";break;default:f;c("recoverableViolation")("unexpected playbackState: "+f,"comet_video_player");break}f=!0;return babelHelpers["extends"]({},a,{playbackState:g,waitingForDomPlaying:f});case"dom_event_playing":g=a.bufferingDetected;f=a.seeking;var h=!1,k=a.playbackState;return babelHelpers["extends"]({},a,{playbackState:i({bufferingDetected:g,prevPlaybackState:k,seeking:f,waitingForDomPlaying:h}),waitingForDomPlaying:h});case"dom_event_timeupdate":g=d("VideoPlayerEmsgForStateMachine").makeUpdatedActiveEmsgBoxes(a.allEmsgBoxes,b.videoElementPlayheadPosition,a.activeEmsgBoxes);if(a.waitingForDomTimeUpdateAfterSeeked){k=a.bufferingDetected;f=a.seeking;h=!1;var l=a.playbackState;return babelHelpers["extends"]({},a,{activeEmsgBoxes:g,playbackState:i({bufferingDetected:k,prevPlaybackState:l,seeking:f,waitingForDomPlaying:h}),waitingForDomPlaying:h,waitingForDomTimeUpdateAfterSeeked:!1})}return babelHelpers["extends"]({},a,{activeEmsgBoxes:g});case"dom_event_seeking":k=a.playbackState;l=k;switch(k){case"paused":case"ended":break;case"stalling":case"playing":l="stalling";break;default:k,c("recoverableViolation")("unexpected playbackState: "+k,"comet_video_player")}return babelHelpers["extends"]({},a,{playbackState:l,seeking:!0,waitingForDomPlaying:!0});case"dom_event_seeked":f=a.bufferingDetected;h=a.waitingForDomPlaying;g=!1;k=a.playbackState;return babelHelpers["extends"]({},a,{implementationSeekSourcePosition:null,playbackState:i({bufferingDetected:f,prevPlaybackState:k,seeking:g,waitingForDomPlaying:h}),seeking:g,waitingForDomTimeUpdateAfterSeeked:!0});case"dom_event_error":e.payload.videoElementError==null&&d("VideoPlayerODS").bumpEntityKey("comet_video_player","dom_event_error.error_is_nullish",14);return babelHelpers["extends"]({},a,{playbackState:"paused",waitingForDomPlaying:!1});case"dom_event_play_promise_created":return babelHelpers["extends"]({},a,{hostCallPlayIDLast:e.payload.hostCallPlayID});case"dom_event_play_promise_resolved":return a.hostCallPlayIDLast!==e.payload.hostCallPlayID?a:babelHelpers["extends"]({},a,{hostCallPlayIDLast:null});case"dom_event_play_promise_rejected":if(a.hostCallPlayIDLast!==e.payload.hostCallPlayID)return a;if(c("gkx")("30214")){l=e.payload.playPromiseRejectionReason;return babelHelpers["extends"]({},a,{hostCallPlayIDLast:null},!(l!=null&&l.name==="AbortError")&&a.playbackState==="stalling"?{playbackState:"paused",waitingForDomPlaying:!1}:{})}return babelHelpers["extends"]({},a,{hostCallPlayIDLast:null,playbackState:a.playbackState==="stalling"?"paused":a.playbackState,waitingForDomPlaying:!1});case"dom_event_durationchange":if(c("gkx")("30214")){f=b.videoElementEnded===!0?"ended":b.videoElementPaused===!0?"paused":a.playbackState;if((a.playbackState==="stalling"||a.playbackState==="playing")&&f!==a.playbackState)return babelHelpers["extends"]({},a,{playbackState:f,waitingForDomPlaying:!1})}return a;case"implementation_host_call_queue_flushed":return babelHelpers["extends"]({},a,{hostCallQueue:[]});case"implementation_host_call_failed":k=d("VideoPlayerImplementationErrors").createVideoPlayerErrorFromHTMLVideoElementError({errorLocation:e.payload.errorLocation,hostCallError:e.payload.hostCallError,videoElementError:e.payload.videoElementError,videoElementNetworkState:e.payload.videoElementNetworkState,videoElementReadyState:e.payload.videoElementReadyState});return babelHelpers["extends"]({},a,{error:k,playbackState:"paused",waitingForDomPlaying:!1});case"implementation_mounted":return babelHelpers["extends"]({},a,{mountState:"mounted_onscreen"});case"implementation_unmounted":return babelHelpers["extends"]({},a,{mountState:"unmounted"});case"implementation_onscreen":return babelHelpers["extends"]({},a,{mountState:"mounted_onscreen"});case"implementation_offscreen":return babelHelpers["extends"]({},a,{mountState:"mounted_offscreen"});case"implementation_video_node_unmounted":return babelHelpers["extends"]({},a,{hostCallPlayIDLast:null});case"implementation_engine_initialized":g=(h=e.payload.streamingFormat)!=null?h:a.streamingFormat;return babelHelpers["extends"]({},a,{selectedVideoQuality:e.payload.selectedVideoQuality,streamingFormat:g});case"implementation_engine_qualities_changed":f=(l=e.payload.streamingFormat)!=null?l:a.streamingFormat;return babelHelpers["extends"]({},a,{selectedVideoQuality:e.payload.selectedVideoQuality,streamingFormat:f});case"implementation_engine_destroyed":return babelHelpers["extends"]({},a,{hostCallPlayIDLast:null});case"implementation_fatal_error":return babelHelpers["extends"]({},a,{error:e.payload.fatalError,hostCallPlayIDLast:null,playbackState:"paused",waitingForDomPlaying:!1});case"implementation_seek_requested":return babelHelpers["extends"]({},a,{implementationSeekSourcePosition:e.payload.seekSourcePosition});case"representation_changed":return babelHelpers["extends"]({},a);case"controller_pause_requested":return a.playbackState==="ended"?a:babelHelpers["extends"]({},a,{lastPausedTimeMs:Date.now(),lastPauseReason:e.payload.reason,lastPlayedTimeMs:0,playbackState:"paused",waitingForDomPlaying:!1,watchTimeMs:a.lastPlayedTimeMs>0?a.watchTimeMs+(Date.now()-a.lastPlayedTimeMs):a.watchTimeMs});case"controller_play_requested":return a.playbackState!=="paused"&&a.playbackState!=="ended"?a:babelHelpers["extends"]({},a,{hasPlayEverBeenRequested:!0,lastPlayedTimeMs:a.lastPlayedTimeMs===0?Date.now():a.lastPlayedTimeMs,lastPlayReason:e.payload.reason,loopCurrent:j(a)?e.payload.reason==="loop_initiated"?a.loopCurrent+1:a.loopCurrent:0,playbackState:"stalling",waitingForDomPlaying:!0});case"controller_seek_requested":return babelHelpers["extends"]({},a,{implementationSeekSourcePosition:(k=b.videoElementPlayheadPosition)!=null?k:a.implementationSeekSourcePosition,seeking:!0,seekTargetPosition:e.payload.seekTargetPosition});case"controller_quality_requested":return babelHelpers["extends"]({},a,{selectedVideoQuality:e.payload.selectedVideoQuality});case"controller_video_variant_requested":return babelHelpers["extends"]({},a,{selectedVideoVariant:e.payload.selectedVideoVariant});case"controller_set_caption_display_style_requested":return babelHelpers["extends"]({},a,{captionDisplayStyle:e.payload.captionDisplayStyle});case"controller_set_picture_in_picture_state_requested":return babelHelpers["extends"]({},a,{isDesktopPictureInPicture:e.payload.isInPictureInPictureMode});case"controller_set_caption_format_requested":return babelHelpers["extends"]({},a,{captionFormat:e.payload.captionFormat});case"controller_set_playback_rate":return babelHelpers["extends"]({},a,{targetPlaybackRate:e.payload.playbackRate});case"controller_muted_requested":return babelHelpers["extends"]({},a,{lastMuteReason:e.payload.reason,muted:e.payload.muted});case"controller_volume_requested":return babelHelpers["extends"]({},a,{volume:e.payload.volume});case"controller_scrub_begin_requested":return a.scrubbing?a:babelHelpers["extends"]({},a,{scrubbing:!0,seekTargetPosition:null});case"controller_scrub_end_requested":return!a.scrubbing?a:babelHelpers["extends"]({},a,{implementationSeekSourcePosition:(h=b.videoElementPlayheadPosition)!=null?h:a.implementationSeekSourcePosition,scrubbing:!1,seeking:e.payload.seekTargetPosition!=null,seekTargetPosition:e.payload.seekTargetPosition});case"buffering_begin_requested":g=a.playbackState;l=g;switch(g){case"paused":case"ended":break;case"playing":case"stalling":l="stalling";break;default:g;c("recoverableViolation")("unexpected playbackState: "+g,"comet_video_player");break}f=e.payload.bufferingType;return babelHelpers["extends"]({},a,{bufferingDetected:!0,lastBufferingType:f,playbackState:l});case"buffering_end_requested":k=a.seeking;h=a.waitingForDomPlaying;g=!1;f=a.playbackState;return babelHelpers["extends"]({},a,{bufferingDetected:g,playbackState:i({bufferingDetected:g,prevPlaybackState:f,seeking:k,waitingForDomPlaying:h})});case"controller_set_captions_visible_requested":l=e.payload.captionsVisible;return a.captionsVisible===l?a:babelHelpers["extends"]({},a,{activeCaptions:l?a.activeCaptions:null,captionsLocale:l?a.captionsLocale:null,captionsVisible:l});case"controller_set_active_captions_requested":g=e.payload.activeCaptions;k=(f=g==null?void 0:g.rows)!=null?f:[];h=e.payload.captionsLocale;l=a.activeCaptions;var m=(f=l==null?void 0:l.rows)!=null?f:[];return m.length===k.length&&k.every(function(a,b){return m[b]===a})?a:babelHelpers["extends"]({},a,{activeCaptions:g,captionsLocale:h});case"captions_loaded":return babelHelpers["extends"]({},a,{activeCaptions:a.activeCaptions,captionsLoaded:!0});case"captions_unloaded":return babelHelpers["extends"]({},a,{activeCaptions:null,captionsLoaded:!1,captionsLocale:null});case"inband_captions_autogenerated_changed":l=e.payload.inbandCaptionsAutogenerated;return a.inbandCaptionsAutogenerated===l?a:babelHelpers["extends"]({},a,{inbandCaptionsAutogenerated:l});case"stream_ended":return babelHelpers["extends"]({},a,{streamEnded:!0});case"stream_gone_before_start":return babelHelpers["extends"]({},a,{playbackState:"ended",streamEnded:!0,waitingForDomPlaying:!1});case"stream_interrupted":return babelHelpers["extends"]({},a,{streamInterrupted:!0});case"stream_resumed":return babelHelpers["extends"]({},a,{streamInterrupted:!1});case"seekable_ranges_changed":f=e.payload.seekableRanges;return babelHelpers["extends"]({},a,{seekableRanges:f});case"controller_set_is_live_rewind_active_requested":k=e.payload.isLiveRewindActive;return babelHelpers["extends"]({},a,{isLiveRewindActive:k});case"loop_count_change_requested":g=e.payload.loopCount;return g===a.loopCount?a:babelHelpers["extends"]({},a,{loopCount:g,loopCurrent:0});case"player_dimensions_changed":h=e.payload.dimensions;l=h.height;f=h.width;return f===a.dimensions.width&&l===a.dimensions.height?a:babelHelpers["extends"]({},a,{dimensions:{height:l,width:f}});case"emsg_boxes_parsed":k=d("VideoPlayerEmsgForStateMachine").makeUpdatedAllEmsgBoxes(a.allEmsgBoxes,e.payload.emsgBoxes);g=d("VideoPlayerEmsgForStateMachine").makeUpdatedActiveEmsgBoxes(k,b.videoElementPlayheadPosition,a.activeEmsgBoxes);return babelHelpers["extends"]({},a,{activeEmsgBoxes:g,allEmsgBoxes:k});case"register_emsg_observer":h=new Set(a.emsgObserverTokens);h.add(e.payload.token);return babelHelpers["extends"]({},a,{emsgObserverTokens:h});case"unregister_emsg_observer":l=new Set(a.emsgObserverTokens);l["delete"](e.payload.token);return babelHelpers["extends"]({},a,{emsgObserverTokens:l});default:return a}}function l(a,b,d){var e=b.type!=="dom_seeking";e=e?d:a.uncontrolledState;d=!c("shallowEqual")(e,a.uncontrolledState);b=k(a.controlledState,e,b);var f=!c("shallowEqual")(b,a.controlledState);return d||f?babelHelpers["extends"]({},a,{controlledState:f?b:a.controlledState,uncontrolledState:d?e:a.uncontrolledState}):a}var m,n;function o(a){var b=a.collectUncontrolledState,d=a.debugLogId;d=a.initialState;var e=a.onDispatched,f=a.onFatalError,g=d,h=g,i=0,j=!1,k=!1,m=!0,n=!0;return{dispatch:function(a){if(!n)return;var d=null,g=null;try{++i;if(i>=10)if(!j){j=!0;throw c("unrecoverableViolation")("Video player state machine loop detected","comet_video_player")}else return;var o=h.uncontrolledState;if(m)try{o=b()}catch(a){m=!1,g=a}var p=h;o=l(p,a,o);h=o;e(p,o,a)}catch(a){n=!1,d=a}finally{if(!k&&(d!=null||g!=null)){k=!0;try{f((p=d)!=null?p:g)}catch(a){}}--i}},getCurrentState:function(){return h},getInitialState:function(){return g}}}var p,q;function a(a){var b=a.collectUncontrolledState,c=a.debugLogId,d=a.initialState,e=a.onFatalError,f=a.stateTransitionHandlers;function g(a,b,c){try{var d=!0,e=0;while(d&&e<f.length){var g=f[e];d=g(a,b,c);++e}}finally{}}return o({collectUncontrolledState:b,debugLogId:c,initialState:d,onDispatched:g,onFatalError:e})}function b(a,b){function c(){}function d(a){return a}function e(c){return function(e){var f=d(e.currentTarget);b(f,["reactEvent("+e.type+")"]);a.dispatch(c)}}function f(c){return function(e){var f=d(e.currentTarget);b(f,["reactEvent("+e.type+")"]);a.dispatch(c(e,f))}}return{onAbort:c,onCanPlay:f(function(a){return{payload:{domEventPerfTimestamp:a.timeStamp},type:"dom_event_canplay"}}),onCanPlayThrough:c,onDurationChange:e({type:"dom_event_durationchange"}),onEmptied:c,onEncrypted:c,onEnded:e({type:"dom_event_ended"}),onError:f(function(a,b){return{payload:{videoElementError:b.error,videoElementNetworkState:b.networkState,videoElementReadyState:b.readyState},type:"dom_event_error"}}),onLoadedData:f(function(a){return{payload:{domEventPerfTimestamp:a.timeStamp},type:"dom_event_loadeddata"}}),onLoadedMetadata:f(function(a){return{payload:{domEventPerfTimestamp:a.timeStamp},type:"dom_event_loadedmetadata"}}),onLoadStart:c,onPause:e({type:"dom_event_pause"}),onPlay:e({type:"dom_event_play"}),onPlaying:f(function(a){return{payload:{domEventPerfTimestamp:a.timeStamp},type:"dom_event_playing"}}),onProgress:e({type:"dom_event_progress"}),onRateChange:e({type:"dom_event_ratechange"}),onSeeked:e({type:"dom_event_seeked"}),onSeeking:e({type:"dom_event_seeking"}),onStalled:c,onSuspend:c,onTimeUpdate:e({type:"dom_event_timeupdate"}),onVolumeChange:e({type:"dom_event_volumechange"}),onWaiting:e({type:"dom_event_waiting"})}}g.createVideoPlayerImplementationStateMachine=o;g.createVideoPlayerImplementationStateMachineWithStateTransitionHandlers=a;g.createReactVideoElementCallbacksForStateMachine=b}),98);
__d("VideoPlayerImplementationStateMachineHostCallQueue",["cometUniqueID","emptyFunction","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";b=c("emptyFunction");function h(){return"id-vpdom-"+c("cometUniqueID")()}function i(a){var b=a.engineExtrasAPI,d=a.hostCall,e=a.machine;a=a.videoElementAPI;switch(d.type){case"host_call_play":var f=a.play();f&&(e.dispatch({payload:{hostCallPlayID:d.payload.hostCallID},type:"dom_event_play_promise_created"}),c("promiseDone")(f.then(function(){e.dispatch({payload:{hostCallPlayID:d.payload.hostCallID},type:"dom_event_play_promise_resolved"})},function(a){e.dispatch({payload:{hostCallPlayID:d.payload.hostCallID,playPromiseRejectionReason:a},type:"dom_event_play_promise_rejected"})})));break;case"host_call_pause":a.pause();break;case"host_call_set_playback_rate":a.setPlaybackRate(d.payload.playbackRate);break;case"host_call_set_muted":a.setMuted(d.payload.muted);break;case"host_call_set_volume":a.setVolume(d.payload.volume);break;case"host_call_set_current_time":a.setPlayheadPosition(d.payload.currentTime);break;case"host_call_set_video_quality":b.setUserSelectedVideoQuality(d.payload.selectedVideoQuality);break;case"host_call_set_video_variant":b.setUserSelectedVideoVariant(d.payload.selectedVideoVariant);break;case"host_call_set_latency_level":b.setLatencyLevel(d.payload.latencyLevel);break;case"host_call_picture_in_picture":a.requestPictureInPicture();break;case"host_call_exit_picture_in_picture":a.exitPictureInPicture();break;default:d.type;return!1}return!0}function j(a){var b=a.engineExtrasAPI,c=a.hostCall,d=a.machine;a=a.videoElementAPI;if(!a||!b)d.dispatch(c);else{var e=!1;try{e=i({engineExtrasAPI:b,hostCall:c,machine:d,videoElementAPI:a})}catch(b){d.dispatch({payload:{errorLocation:"apply_host_call_catch",hostCall:c,hostCallError:b,videoElementError:a.getError(),videoElementNetworkState:a.getNetworkState(),videoElementReadyState:a.getReadyState()},type:"implementation_host_call_failed"})}e&&d.dispatch({payload:{hostCall:c},type:"implementation_host_call_applied"})}}function k(a){var b=[];function c(){b=b.filter(function(a){return a.type!=="host_call_play"&&a.type!=="host_call_pause"})}function d(a){b=b.filter(function(b){return b.type!==a})}a.forEach(function(a){switch(a.type){case"host_call_play":c();break;case"host_call_pause":c();break;case"host_call_set_playback_rate":d(a.type);break;case"host_call_set_muted":d(a.type);break;case"host_call_set_volume":d(a.type);break;case"host_call_set_current_time":d(a.type);break;case"host_call_set_video_quality":d(a.type);break;case"host_call_set_video_variant":d(a.type);break;case"host_call_set_latency_level":d(a.type);break;case"host_call_picture_in_picture":d(a.type);break;case"host_call_exit_picture_in_picture":d(a.type);break;default:a.type}b=b.concat([a])});return b}function a(a){var b=a.engineExtrasAPI,c=a.machine,d=a.reason,e=a.state,f=a.videoElementAPI;a=[{payload:{hostCallID:h(),reason:d,volume:e.controlledState.volume},type:"host_call_set_volume"},{payload:{hostCallID:h(),muted:e.controlledState.muted,reason:d},type:"host_call_set_muted"},{payload:{hostCallID:h(),reason:d,selectedVideoQuality:e.controlledState.selectedVideoQuality},type:"host_call_set_video_quality"},{payload:{hostCallID:h(),reason:d,selectedVideoVariant:e.controlledState.selectedVideoVariant},type:"host_call_set_video_variant"}];d=k(e.controlledState.hostCallQueue.concat(a));d.forEach(function(a){j({engineExtrasAPI:b,hostCall:a,machine:c,videoElementAPI:f})});c.dispatch({payload:{hostCallsFlushed:d},type:"implementation_host_call_queue_flushed"})}g.makeHostCallID=h;g.applyOrQueueHostCall=j;g.flushHostCallQueue=a}),98);
__d("VideoMimeTypes",[],(function(a,b,c,d,e,f){function a(a,b,c){return a+'; codecs="'+b+", "+c+'"'}e="mp4a.40.2";function b(a){return"avc1.42E0"+a.toString(16).toUpperCase()}function c(a){return"avc1.4D40"+a.toString(16).toUpperCase()}function d(a){return"avc1.6400"+a.toString(16).toUpperCase()}var g="video/mp4";b=a(g,b(30),e);var h=a(g,c(30),e);c=a(g,c(31),e);var i=a(g,d(50),e);a=a(g,d(51),e);g={h264baseline:b,h264main30avc:h,h264main31avc:c,h264high50avc:i,h264high51avc:a};f["default"]=g}),66);
__d("isSSR",["ExecutionEnvironment","XPlatReactEnvironment"],(function(a,b,c,d,e,f,g){"use strict";var h;a=d("XPlatReactEnvironment").isWeb()&&!(h||(h=c("ExecutionEnvironment"))).canUseDOM;b=a;g["default"]=b}),98);
__d("VideoPlayerConnectionQuality",["isSSR"],(function(a,b,c,d,e,f,g){"use strict";var h={POOR:"POOR",MODERATE:"MODERATE",GOOD:"GOOD",EXCELLENT:"EXCELLENT"},i=[{bandwidth:5e5,connectionQuality:h.POOR},{bandwidth:2e6,connectionQuality:h.MODERATE},{bandwidth:1e7,connectionQuality:h.GOOD}],j=100,k=null,l=null;a=function(a){if(c("isSSR"))return"MODERATE";if(k!==null&&l!==null&&k>=Date.now()-j)return l;a=a();var b=null;if(a!=null)for(var d=0;d<i.length;d++)if(a<i[d].bandwidth){b=i[d].connectionQuality;break}b===null&&(b=h.EXCELLENT);k=Date.now();l=b;return b};g.evaluate=a}),98);
__d("VideoPlayerLoggerPlayerStates",[],(function(a,b,c,d,e,f){a="started";b="unpaused";c={STARTED:a,UNPAUSED:b};f["default"]=c}),66);
__d("VideoPlayerMutedStateChange",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.currMuted,c=a.currVolume,d=a.prevMuted;a=a.prevVolume;b=b||c===0;c=d||a===0;if(c===b)return null;return b?"muted":"unmuted"}f.getVideoPlayerMutedStateChange=a}),66);
__d("getVideoBrowserTabId",["guid"],(function(a,b,c,d,e,f,g){var h=c("guid")().slice(-8);function a(){return h}g["default"]=a}),98);
__d("VideoPlayerImplementationStateMachineLogger",["CometProductAttribution","NetworkStatus","PlaybackSpeedExperiments","SiteData","VideoMimeTypes","VideoPlayerConnectionQuality","VideoPlayerImplementationErrorNormalization","VideoPlayerLoggerPlayerStates","VideoPlayerMutedStateChange","VideoPlayerStateBasedLoggingEvents","emptyFunction","getPlayerFormatForLogData","getVideoBrowserTabId","gkx","justknobx","mapObject","performanceAbsoluteNow","qex","recoverableViolation","removeFromArray"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=6e4,k=(b=c("qex")._("1675"))!=null?b:0,l=1e3,m=null,n=function(a){var b;m=(b=m)!=null?b:document.createElement("video");return!("canPlayType"in m)?"":m.canPlayType(a)},o=c("emptyFunction"),p=c("emptyFunction"),q=c("emptyFunction"),r=c("emptyFunction"),s=!1;c("gkx")("5551")&&(s=!0,o=function(a,b){try{var c;for(var d=arguments.length,e=new Array(d>2?d-2:0),f=2;f<d;f++)e[f-2]=arguments[f];(c=window.console).info.apply(c,["["+a+"][VideoPlayerImplementationStateMachineLogger]"+b].concat(e))}catch(a){}},p=function(a,b,c,d){o(a,"[handleMetaData]",{loggingMetaData:c,loggingMetaDataPrevious:b,trackedChanges:d})},q=function(a,b,c,d){o(a,"[handleStateMachine]",{prevState:b,state:c,action:d})},r=function(a,b,c){o(a,"[setAdditionalLogData]",{key:b,value:c})});var t=(e=d("PlaybackSpeedExperiments").enablePlaybackSpeedLogging())!=null?e:!1;function u(){return{canLogPausedOrFinishedPlaying:!1,canLogPlayingEvent:!0,debugSubscribers:[],dontLogPauseOnUnpausedSeeking:!1,errorRecoveryAttemptState:{currentRecoverableError:null,eventsLogged:0,repeatCount:0},hasLoggedStallData:!1,hasLoggedStartedPlaying:!1,hasPausedOnce:!1,hasPendingRequestedPlaying:!1,initialSuborigin:void 0,inPlayStallCount200ms:0,interruptCount:0,interruptDuration:0,interruptEndTimestamp:0,interruptStartTimestamp:0,isLoggingScrubbingSequence:!1,lastLoggedError:null,lastLoggedFullscreenState:!1,lastLoggedPlaybackSpeed:null,lastLoggedViewabilityPercentage:void 0,lastStartTimePosition:null,lastTrackedAudioRepresentation:null,lastTrackedVideoRepresentation:null,nextHeartbeatTime:null,nextPlayedThreeSecondsPlayheadPosition:null,sequenceNumber:0,shouldIgnoreDomPause:!1,shouldIgnoreDomPlay:!1,shouldLogRequestedPlayingForScrub:!1,stallCount:0,stallCount200ms:0,stallCountTotal:0,stallDuration:0,stallDurationTotal:0,stallStartTimestamp:0,startStallCountTotal:0,startStallDurationTotal:0,vplEventSequenceNumber:0,warningState:{eventsLoggedPerKey:new Map(),eventsLoggedTotal:0,eventsMaxLoggedPerKey:function(){try{return Math.max(0,c("justknobx")._("1831")||0)}catch(a){return 0}}(),eventsMaxLoggedTotal:function(){try{return Math.max(0,c("justknobx")._("1832")||0)}catch(a){return 0}}()}}}function v(a,b){return b==="muted"||b==="unmuted"||b==="started_playing"||b==="caption_change"||b==="unpaused"?a.controlledState.captionsVisible?"on":"off":void 0}function a(a){var b=new Map(),e=a.initialLoggingMetaData,f=e,g=[],m=u(),w=new Set(c("VideoPlayerStateBasedLoggingEvents").StateBasedLoggingEventNames),x=!c("gkx")("646");function y(a){m.debugSubscribers.push(a);return function(){c("removeFromArray")(m.debugSubscribers,a)}}function z(a){m.debugSubscribers.forEach(function(b){return b(a)})}function A(a){var b=m.stallStartTimestamp;if(b>0){m.stallCount+=1;m.stallCountTotal+=1;m.hasPendingRequestedPlaying&&(m.startStallCountTotal+=1);a=a-b;b=a>200;m.stallDurationTotal+=a;m.stallDuration+=a;m.stallCount200ms+=b?1:0;m.inPlayStallCount200ms+=b&&!m.hasPendingRequestedPlaying?1:0;m.hasPendingRequestedPlaying&&(m.startStallDurationTotal+=a)}}function B(a,b){a=a.uncontrolledState.videoElementPlayheadPosition==null?null:a.uncontrolledState.videoElementPlayheadPosition;var c=null;switch(b){case"paused":case"cancelled_requested_playing":case"finished_playing":case"heart_beat":case"playback_speed_changed":case"representation_ended":c=m.lastStartTimePosition;break;case"scrubbed":c=a;break;default:break}switch(b){case"paused":case"cancelled_requested_playing":case"finished_playing":case"scrubbed":m.lastStartTimePosition=null;break;case"started_playing":case"unpaused":case"heart_beat":case"playback_speed_changed":case"representation_ended":m.lastStartTimePosition=a;break;default:break}return{video_last_start_time_position:c}}function C(a,b){var c=b.uncontrolledState.clockTimestamp;a=a.controlledState.streamInterrupted;b=b.controlledState.streamInterrupted;!a&&b?m.interruptStartTimestamp=c:a&&!b&&m.interruptStartTimestamp>0&&(m.interruptEndTimestamp=c,m.interruptCount+=1,m.interruptDuration+=m.interruptEndTimestamp-m.interruptStartTimestamp)}function D(a,b,c){var d=b.uncontrolledState.clockTimestamp;a=a.controlledState.playbackState;var e=b.controlledState.playbackState;a!=="stalling"&&e==="stalling"&&(z("stall_start"),m.stallStartTimestamp=d);if(a==="stalling"&&e!=="stalling"){d=0;(c.type==="dom_event_playing"||c.type==="buffering_end_requested")&&c.payload.domEventPerfTimestamp!=null&&(d=Math.max(b.uncontrolledState.perfTimestamp-c.payload.domEventPerfTimestamp,0));A(b.uncontrolledState.clockTimestamp-d);m.stallStartTimestamp=0;z("stall_end")}}function E(a,b,c){a=b.uncontrolledState;b=a.videoElementPlayheadPosition;switch(c){case"unpaused":case"started_playing":m.nextPlayedThreeSecondsPlayheadPosition=((a=b)!=null?a:0)+3;break;case"paused":case"finished_playing":m.nextPlayedThreeSecondsPlayheadPosition=null;break;default:break}}function F(a,b,c){if(m.interruptCount>0&&m.interruptDuration>0){a={interrupt_count:m.interruptCount,interrupt_time:m.interruptDuration};m.interruptCount=0;m.interruptDuration=0;m.interruptStartTimestamp=0;m.interruptEndTimestamp=0;return a}return{interrupt_count:null,interrupt_time:null}}function G(a,b,c){var d={stall_count:null,stall_count_200_ms:null,stall_time:null},e=b.uncontrolledState.clockTimestamp,f=function(){var a={stall_count:m.stallCount,stall_count_200_ms:m.stallCount200ms,stall_time:m.stallDuration};m.stallCount=0;m.stallCount200ms=0;m.stallDuration=0;m.stallStartTimestamp=0;return a};a=a.controlledState.playbackState;var g=b.controlledState.playbackState;a!=="stalling"&&g==="stalling"&&(m.stallStartTimestamp=e);switch(c){case"started_playing":case"unpaused":case"finished_playing":case"paused":case"cancelled_requested_playing":case"playback_speed_changed":case"representation_ended":A(b.uncontrolledState.clockTimestamp);d=f();break;case"heart_beat":b.controlledState.playbackState!=="stalling"&&(A(b.uncontrolledState.clockTimestamp),d=f());break;default:break}return d}function H(a,b,c){a=b.controlledState.playbackState==="paused"&&a.controlledState.playbackState==="stalling";return c>0&&(b.controlledState.playbackState==="stalling"||a)}function I(a,b){a=a.current;var c=null;switch(b){case"finished_playing":case"paused":case"heart_beat":a&&(c=a.getAndFlushTracedFrames());return c!=null?JSON.stringify(c):null;default:return null}}function J(a){a=a.controlledState.playbackState;switch(a){case"playing":case"stalling":return"playing";case"paused":return"paused";case"ended":return"finished";default:a;return"unknown"}}function K(a){switch(a){case"normal":return"normal";case"low":return"low";case"ultra-low":return"ultra_low";default:return null}}function L(){return{state:m.hasLoggedStartedPlaying?c("VideoPlayerLoggerPlayerStates").UNPAUSED:c("VideoPlayerLoggerPlayerStates").STARTED}}function M(a){if((a==null?void 0:a.v2)&&(a==null?void 0:a.v2.length)>0){var b=a==null?void 0:a.v2;b=b[b.length-1];return[b["class"],b.module].map(d("CometProductAttribution").filterEntryValue).join(":")}return(a=a==null?void 0:(b=a.v2)==null?void 0:b.map(function(a){return[a["class"],a.module].map(d("CometProductAttribution").filterEntryValue).join(":")}).join(";"))!=null?a:""}function N(f){var i,j=f.eventType,k=f.logDataOverrides,l=f.prevState,n=f.state;f=B(n,j);f=f.video_last_start_time_position;var p=G(l,n,j),q=p.stall_count,r=p.stall_count_200_ms;p=p.stall_time;var u=F(l,n,j),y=u.interrupt_count;u=u.interrupt_time;var z=I(a.videoLiveTraceRef,j),A=[],C=a.initialLoggingMetaData.coreVideoPlayerMetaData.autoplayGatingResult;C&&A.push(C);C=j==="entered_fs"?!0:j==="exited_fs"?!1:m.lastLoggedFullscreenState;i=c("getPlayerFormatForLogData")({isDesktopPictureInPicture:(i=n.controlledState.isDesktopPictureInPicture)!=null?i:!1,isFullscreen:C},e.coreVideoPlayerMetaData.playerFormat);var D=n.uncontrolledState.viewabilityPercentage,L=Boolean(n.uncontrolledState.isFBIsLiveTemplated),N=Boolean(n.uncontrolledState.isFBWasLive),O=n.uncontrolledState.videoElementPlaybackRate;O=O==null||O===0?m.lastLoggedPlaybackSpeed:O;var P=a.initialLoggingMetaData.productAttribution;if(i==="watch_scroll"&&P&&P.v2){var Q,R={0:babelHelpers["extends"]({},P["0"]),v2:[babelHelpers["extends"]({},P.v2[0])]};Q=(Q=e.productAttribution)==null?void 0:(Q=Q.v2)==null?void 0:Q[0];if(Q){var S=R.v2[0];S["class"]=Q["class"];S.scope_id=Q.scope_id;S.ts=Q.ts}P=R}S=null;Q=null;S=P!=null?d("CometProductAttribution").minifyProductAttributionV2(P):null;Q=P!=null?M(P):null;R=H(l,n,(R=p)!=null?R:0);S={access_token:a.initialLoggingMetaData.accessToken,ad_client_token:e.coreVideoPlayerMetaData.adClientToken,attribution_id:P!=null&&Object.prototype.hasOwnProperty.call(P,"0")?JSON.stringify({0:P["0"]}):null,attribution_id_v2:S,attribution_id_v2_root:Q,audio_only:e.coreVideoPlayerMetaData.audioOnly,audio_representation_id:n.uncontrolledState.audioRepresentationID,autoplay_eligible:a.initialLoggingMetaData.coreVideoPlayerMetaData.canAutoplay==="allow",autoplay_failure_reasons:JSON.stringify(A),autoplay_setting:a.initialLoggingMetaData.coreVideoPlayerMetaData.autoplaySetting,available_qualities:n.uncontrolledState.availableQualities.length,broadcaster_origin:a.initialLoggingMetaData.coreVideoPlayerMetaData.broadcasterOrigin,browser_tab_id:c("getVideoBrowserTabId")(),caption_state:v(n,j),client_latency_setting:K(n.controlledState.latencyLevel),current_playback_speed:t?O:null,current_viewability_percentage:D,dash_perf_logging_enabled:e.coreVideoPlayerMetaData.VideoPlayerShakaPerformanceLoggerClass!=null&&e.coreVideoPlayerMetaData.VideoPlayerShakaPerformanceLoggerClass.isEnabled(),data_connection_quality:d("VideoPlayerConnectionQuality").evaluate(function(){return n.uncontrolledState.estimatedBandwidth}),downstream_share_origin_uri:(P=e.downstreamShareSignalTracking)==null?void 0:P.downstream_share_session_origin_uri,downstream_share_start_time:(S=e.downstreamShareSignalTracking)==null?void 0:S.downstream_share_session_start_time,downstream_share_visit_uuid:(Q=e.downstreamShareSignalTracking)==null?void 0:Q.downstream_share_session_id,dropped_frame_count:n.uncontrolledState.videoElementDroppedFrameCount,external_log_id:e.coreVideoPlayerMetaData.externalLogID,external_log_type:e.coreVideoPlayerMetaData.externalLogType,fb_manifest_identifier:n.uncontrolledState.manifestIdentifier,frame_events:z,interrupt_count:y,interrupt_time:u,is_abr_enabled:n.isAbrEnabled,is_fbms:n.uncontrolledState.isFBMS,is_live_video_rewound:n.controlledState.isLiveRewindActive,is_mixed_codec_manifest:n.uncontrolledState.isMixedCodecManifest,is_pip:n.controlledState.isDesktopPictureInPicture,is_predictive_playback:n.uncontrolledState.isPredictiveDash,is_sound_on:!n.controlledState.muted,is_stalling:R,is_templated_manifest:L||N,last_viewability_percentage:m.lastLoggedViewabilityPercentage,mpd_validation_errors:n.uncontrolledState.mpdValidationErrors,network_connected:n.uncontrolledState.networkConnected,playback_caption_format:n.controlledState.captionFormat,playback_caption_locale:n.controlledState.captionsLocale,playback_duration:n.uncontrolledState.videoElementDuration,playback_is_broadcast:a.initialLoggingMetaData.coreVideoPlayerMetaData.isVideoBroadcast,playback_is_drm:Boolean(a.initialLoggingMetaData.coreVideoPlayerMetaData.graphQLVideoDRMInfo),playback_is_live_streaming:a.initialLoggingMetaData.coreVideoPlayerMetaData.isLiveStreaming,player_format:i,player_instance_key:e.instanceKey,player_origin:e.coreVideoPlayerMetaData.playerOriginOverride,player_state:J(n),player_suborigin:e.coreVideoPlayerMetaData.subOrigin,player_version:n.playerVersion,projection:n.uncontrolledState.videoProjection,representation_id:n.uncontrolledState.videoRepresentationID,source_VPL_LOGGING_HACK:e.coreVideoPlayerMetaData.source_VPL_LOGGING_HACK,stall_count:q,stall_count_200_ms:r,stall_time:p,streaming_format:n.controlledState.streamingFormat,total_frame_count:n.uncontrolledState.videoElementTotalFrameCount,tracking_data_encrypted:a.initialLoggingMetaData.trackingDataEncrypted,tracking_nodes:a.initialLoggingMetaData.trackingNodes,v2_heart_beat:c("gkx")("24377")&&j==="heart_beat"?!0:null,video_bandwidth:n.uncontrolledState.estimatedBandwidth,video_buffer_end_position:n.uncontrolledState.videoElementLastBufferEndPosition,video_id:e.coreVideoPlayerMetaData.videoFBID,video_last_start_time_position:f,video_play_reason:n.controlledState.lastPlayReason,video_player_height:(A=e.dimensions)==null?void 0:A.height,video_player_width:(P=e.dimensions)==null?void 0:P.width,video_time_position:n.uncontrolledState.videoElementPlayheadPosition,web_client_revision:c("SiteData").client_revision};Q=w.has(j)?++m.sequenceNumber:null;z={event_seq_num:++m.vplEventSequenceNumber,seq_num:Q,time_ms:Date.now(),vpts:(h||(h=c("performanceAbsoluteNow")))()};var T={};b.forEach(function(a,b){T[b]=a});y=e.coreVideoPlayerMetaData.additionalLogData;u=babelHelpers["extends"]({},y,T);R=babelHelpers["extends"]({},u,S,k,z);N=(L=m.initialSuborigin)!=null?L:e.coreVideoPlayerMetaData.subOrigin;q=(i=R.source_VPL_LOGGING_HACK)!=null?i:N;p=(r=e.coreVideoPlayerMetaData.initialTracePolicy)!=null?r:e.coreVideoPlayerMetaData.routeTracePolicy;f={eventType:j,logData:R,routeTracePolicy:p,source_VPL_LOGGING_HACK:q};g.push(f);x&&E(l,n,j);m.initialSuborigin==null&&N!=null&&(m.initialSuborigin=N);m.lastLoggedFullscreenState=C;m.lastLoggedPlaybackSpeed=O;j==="viewability_changed"&&(m.lastLoggedViewabilityPercentage=D);s&&o(a.debugLogId,"[_push] "+j,{loggedEvent:f,loggerEventsLength:g.length,loggingState:JSON.stringify(m)})}var O={};function P(a,b,c){N({eventType:"requested_playing",logDataOverrides:babelHelpers["extends"]({},c,L()),prevState:a,state:b});m.hasPendingRequestedPlaying=!0;m.canLogPausedOrFinishedPlaying=!0;return O}function Q(a,b,c){if(!m.canLogPausedOrFinishedPlaying)return O;else if(m.hasPendingRequestedPlaying){R(a,b,c);m.canLogPausedOrFinishedPlaying=!1;m.hasPendingRequestedPlaying=!1;return O}else{N({eventType:"paused",logDataOverrides:babelHelpers["extends"]({},c,{error_user_info:JSON.stringify({is_document_hidden:b.uncontrolledState.isDocumentHidden})}),prevState:a,state:b});m.canLogPausedOrFinishedPlaying=!1;m.hasPendingRequestedPlaying=!1;return O}}function R(a,b,c){var d=b.uncontrolledState.liveTraceContext;c=babelHelpers["extends"]({},c,L(),{live_trace_source_id:d?d.sourceId:void 0,live_trace_stream_id:d?d.streamId:void 0,live_trace_stream_type:d?d.streamType:void 0});N({eventType:"cancelled_requested_playing",logDataOverrides:c,prevState:a,state:b});return O}function S(a,b,d){if(d.type==="dom_event_play_promise_rejected"&&d.payload.hostCallPlayID===a.controlledState.hostCallPlayIDLast&&b.controlledState.hostCallPlayIDLast==null&&m.hasPendingRequestedPlaying){d=d.payload.playPromiseRejectionReason;if(d!=null&&d.name==="NotAllowedError"){R(a,b,{debug_reason:"not_allowed"});return O}else if(!c("gkx")("30214")&&d!=null&&d.name==="AbortError"){R(a,b,{debug_reason:"aborted"});return O}else return O}else return O}function T(a,b,c){if((c.type==="controller_play_requested"||c.type==="dom_event_play"&&!m.shouldIgnoreDomPlay)&&a.controlledState.playbackState!==b.controlledState.playbackState){c=b.uncontrolledState.liveTraceContext;c=c?{live_trace_source_id:c.sourceId,live_trace_stream_id:c.streamId,live_trace_stream_type:c.streamType}:null;P(a,b,c);return O}else return O}function U(a,b,c){if(a.controlledState.playbackState==="stalling"&&b.controlledState.playbackState==="playing"&&m.canLogPlayingEvent){c=b.uncontrolledState.liveTraceContext;c=c?{live_trace_source_id:c.sourceId,live_trace_stream_id:c.streamId,live_trace_stream_type:c.streamType}:null;N({eventType:m.hasLoggedStartedPlaying?"unpaused":"started_playing",logDataOverrides:c,prevState:a,state:b});m.hasLoggedStartedPlaying=!0;m.canLogPlayingEvent=!1;m.hasPendingRequestedPlaying=!1;return O}else return O}function V(a,b,c){var d=b.controlledState.playbackState,e=a.controlledState.playbackState;if(c.type==="controller_scrub_begin_requested"&&!a.controlledState.scrubbing&&d!=="paused"&&d!=="ended"){Q(a,b);m.isLoggingScrubbingSequence=!0;return O}else if(!a.controlledState.seeking&&b.controlledState.seeking&&!m.isLoggingScrubbingSequence&&d!=="paused"&&d!=="ended"&&!m.hasPendingRequestedPlaying){Q(a,b);m.shouldLogRequestedPlayingForScrub=!0;return O}else if(c.type==="controller_scrub_end_requested"&&a.controlledState.scrubbing&&d!=="paused"&&d!=="ended"){P(a,b,{video_time_position:c.payload.seekTargetPosition});return O}else if(a.controlledState.seeking&&!b.controlledState.seeking){m.shouldLogRequestedPlayingForScrub&&d!=="paused"&&d!=="ended"&&P(a,b);N({eventType:"scrubbed",prevState:a,state:b});m.isLoggingScrubbingSequence=!1;m.shouldLogRequestedPlayingForScrub=!1;e!=="paused"&&e!=="ended"&&(m.canLogPlayingEvent=!0);return O}else return O}function W(a,b,c){if(a.controlledState.playbackState!==b.controlledState.playbackState&&b.controlledState.playbackState==="ended"&&m.canLogPausedOrFinishedPlaying){N({eventType:"finished_playing",prevState:a,state:b});m.canLogPausedOrFinishedPlaying=!1;return O}else return O}function X(a,b,c){if((c.type==="controller_pause_requested"||c.type==="dom_event_pause"&&!m.shouldIgnoreDomPause)&&a.controlledState.playbackState!==b.controlledState.playbackState){Q(a,b,{debug_reason:"paused"});return O}else return O}function aa(a,b,c){var d=b.controlledState.playbackState;if(d!=="paused"&&d!=="ended"){c.type==="implementation_video_node_unmounted"?Q(a,a,{debug_reason:"unloaded"}):(c.type==="implementation_unmounted"||c.type==="implementation_engine_destroy_requested")&&Q(a,b,{debug_reason:"unloaded"});return O}else return O}function ba(a,b,c){if(c.type==="implementation_engine_representation_blocked"){c=c.payload.blockedRepresentationID;N({eventType:"video_playback_fallback",logDataOverrides:{representation_id:c},prevState:a,state:b})}return O}function ca(a,b,e){e=b.controlledState.muted;var f=b.controlledState.volume,g=a.controlledState.muted,h=a.controlledState.volume;e=d("VideoPlayerMutedStateChange").getVideoPlayerMutedStateChange({currMuted:e,currVolume:f,prevMuted:g,prevVolume:h});g={current_volume:Math.round(f*100)};switch(e){case"muted":N({eventType:"muted",logDataOverrides:g,prevState:a,state:b});return O;case"unmuted":N({eventType:"unmuted",logDataOverrides:g,prevState:a,state:b});return O;case null:if(h<f){N({eventType:"volume_increase",logDataOverrides:g,prevState:a,state:b});return O}else if(h>f){N({eventType:"volume_decrease",logDataOverrides:g,prevState:a,state:b});return O}else return O;default:e;c("recoverableViolation")('Unexpected mutedStateChange "'+e+'"',"comet_video_player");return O}}function da(a,b,c){c=b.uncontrolledState.videoRepresentationID;var d=m.lastTrackedVideoRepresentation,e=b.uncontrolledState.audioRepresentationID,f=m.lastTrackedAudioRepresentation,g=b.controlledState.playbackState,h=b.controlledState.seeking;if(!h&&g!=="paused"&&g!=="ended"&&d!=null&&d!==c){var i=b.uncontrolledState.availableVideoTracks.find(function(a){return a.id===b.uncontrolledState.videoRepresentationID}),j=b.uncontrolledState.availableVideoTracks.find(function(a){return a.id===m.lastTrackedVideoRepresentation});N({eventType:"representation_ended",logDataOverrides:{next_quality_label:i==null?void 0:i.qualityLabel,next_representation_id:i==null?void 0:i.id,next_video_codecs:i==null?void 0:i.codec,quality_label:j==null?void 0:j.qualityLabel,representation_id:j==null?void 0:j.id,video_codecs:j==null?void 0:j.codec},prevState:a,state:b});m.lastTrackedVideoRepresentation=c;z("quality_change")}else d==null&&d!==c&&(m.lastTrackedVideoRepresentation=c);!h&&g!=="paused"&&g!=="ended"&&f!=null&&f!==e?(N({eventType:"representation_ended",logDataOverrides:{audio_representation_id:f,next_representation_id:e},prevState:a,state:b}),m.lastTrackedAudioRepresentation=e,z("audio_change")):f==null&&f!==e&&(m.lastTrackedAudioRepresentation=e);return O}function ea(a,b,d){var f=a.controlledState.error===d?babelHelpers["extends"]({},a,{controlledState:babelHelpers["extends"]({},a.controlledState,{error:{$ref:"$.player.lastError"}})}):a;a.uncontrolledState.videoElementError!=null&&(f=babelHelpers["extends"]({},f,{uncontrolledState:babelHelpers["extends"]({},f.uncontrolledState,{videoElementError:{code:a.uncontrolledState.videoElementError.code,message:a.uncontrolledState.videoElementError.message}})}));var g=b,h=typeof b.payload==="object"&&b.payload!=null?b.payload:null;if(h!=null){var j={};Object.keys(h).forEach(function(a){var b=h[a];b===d?j[a]={$ref:"$.player.lastError"}:j[a]=b});g=babelHelpers["extends"]({},b,{payload:j})}return{currentVideo:{audioStreamId:a.uncontrolledState.audioRepresentationID,dashAudioFormat:void 0,hasHD:void 0,hasRateLimit:void 0,hasSubtitles:a.controlledState.captionsLoaded,isDrm:Boolean(e.coreVideoPlayerMetaData.graphQLVideoDRMInfo),isHD:void 0,isLiveStream:e.coreVideoPlayerMetaData.isLiveStreaming,isRateLimited:void 0,liveManifestUrl:void 0,projection:a.uncontrolledState.videoProjection,resourceUrl:void 0,streamId:a.uncontrolledState.videoRepresentationID,streamType:a.controlledState.streamingFormat,tagHD:void 0,tagSD:void 0,videoID:e.coreVideoPlayerMetaData.videoFBID},player:{canPlayType:(i||(i=c("mapObject")))(c("VideoMimeTypes"),n),dimensions:e.dimensions?{height:e.dimensions.height,width:e.dimensions.width}:null,droppedFrames:a.uncontrolledState.videoElementDroppedFrameCount,initializationTime:void 0,initializationTimestamp:void 0,inPlayStallCount:void 0,inPlayStallTime:void 0,interruptCount:void 0,interruptTime:void 0,lastError:d,loggedError:m.lastLoggedError===d?{$ref:"$.player.lastError"}:m.lastLoggedError,stallCount:m.stallCount,stallTime:m.stallDuration,state:J(a),totalFrames:a.uncontrolledState.videoElementTotalFrameCount,version:a.playerVersion,videoSource:void 0,viewabilityPercentage:a.uncontrolledState.viewabilityPercentage},playerStateMachine:{action:g,state:f}}}function fa(a){var b=a.errorMessageFormat,c=a.errorName;a=a.errorCode==null||a.errorCode===""?c:a.errorCode;c=c+"#"+a+": "+ga(b);return c}function Y(a,b,c,e){a=ea(a,b,c);b=c.errorMessageFormat;var f=c.errorName,g=c.errorType,h=c.url;c=c.errorCode==null||c.errorCode===""?f:c.errorCode;return{error:f,error_code:c,error_description:b,error_domain:f,error_type:(c=g)!=null?c:d("VideoPlayerImplementationErrorNormalization").getErrorTypeFromErrorName(f,b),error_user_info:JSON.stringify(babelHelpers["extends"]({},a,e)),resource_url:h}}var ga=function(a){return a.replace(/([0-9]{2,})/g,function(a){var b="";while(b.length<a.length)b+="#";return b})};function ha(a,b,d){if(!c("gkx")("24360"))return O;if(d.type==="implementation_warning"){var e,f=d.payload.warningError,g=fa(f),h=m.warningState.eventsLoggedTotal;e=(e=m.warningState.eventsLoggedPerKey.get(g))!=null?e:0;if(h<m.warningState.eventsMaxLoggedTotal&&e<m.warningState.eventsMaxLoggedPerKey){m.warningState.eventsLoggedTotal++;m.warningState.eventsLoggedPerKey.set(g,e+1);g=Y(b,d,f,{warning:{loggedPerKey:e+1,loggedTotal:h+1}});N({eventType:"player_warning",logDataOverrides:babelHelpers["extends"]({},L(),g),prevState:a,state:b})}}return O}function ia(a,b,c){var d=b.controlledState.error;if(d!=null&&d!==m.lastLoggedError&&d.errorCode!=="410"){c=Y(b,c,d);N({eventType:"error",logDataOverrides:babelHelpers["extends"]({},L(),c),prevState:a,state:b});m.lastLoggedError=d}return O}function Z(a,b,c){var d=m.errorRecoveryAttemptState.currentRecoverableError;if(d!=null){c=Y(b,c,d);m.errorRecoveryAttemptState.eventsLogged++;m.errorRecoveryAttemptState.repeatCount=0;N({eventType:"error_recovery_attempt",logDataOverrides:babelHelpers["extends"]({},c),prevState:a,state:b})}return O}function ja(a,b,d){if(d.type==="error_recovery_attempt"&&m.errorRecoveryAttemptState.eventsLogged<l){var e=m.errorRecoveryAttemptState.currentRecoverableError,f=d.payload.recoverableError;if(f!=null&&f.errorName==="OZ_NETWORK"&&!c("NetworkStatus").isOnline())return O;m.errorRecoveryAttemptState.currentRecoverableError=f;e==null||e.errorName!==f.errorName||e.errorCode!==f.errorCode?Z(a,b,d):(m.errorRecoveryAttemptState.repeatCount++,m.errorRecoveryAttemptState.repeatCount>k&&Z(a,b,d))}return O}function ka(a,b,c){if(!t)return O;var d=b.uncontrolledState.videoElementPlaybackRate;c.type==="dom_event_ratechange"&&m.lastLoggedPlaybackSpeed!=null&&d!==0&&d!==m.lastLoggedPlaybackSpeed&&N({eventType:"playback_speed_changed",prevState:a,state:b});return O}function la(a,b,c){c=b.controlledState.playbackState;c==="paused"||c==="ended"?m.nextHeartbeatTime=null:c!=="stalling"&&m.nextHeartbeatTime==null&&(m.nextHeartbeatTime=Date.now()+j);var d=m.nextHeartbeatTime;if(d!=null){var e=Date.now();e>=d&&(c!=="stalling"&&N({eventType:"heart_beat",prevState:a,state:b}),m.nextHeartbeatTime=e+j)}return O}function ma(a,b,c){if(c.type==="implementation_mounted"){N({eventType:"player_loaded",prevState:a,state:b});return O}else return O}function $(a,b,c){N({eventType:c?"entered_fs":"exited_fs",prevState:a,state:b})}function na(a,b,c){e.coreVideoPlayerMetaData.playerFormat!==f.coreVideoPlayerMetaData.playerFormat&&N({eventType:"player_format_changed",prevState:a,state:b});return O}function oa(a,b,c){if(c.type==="dom_event_timeupdate"){c=m.nextPlayedThreeSecondsPlayheadPosition;if(c!=null){var d=b.uncontrolledState;d=d.videoElementPlayheadPosition;d!=null&&c<=d&&(N({eventType:"played_for_three_seconds",prevState:a,state:b}),m.nextPlayedThreeSecondsPlayheadPosition=null)}}return O}function pa(a,b,c){if(c.type!=="notify_fullscreen_changed")return O;c=m.lastLoggedFullscreenState;var d=b.uncontrolledState.isFullscreen;if(c!==!0&&d===!0){$(a,b,d);return O}else if(c===!0&&d===!1){$(a,b,d);return O}else return O}function qa(a,b,d){d=e.coreVideoPlayerMetaData.adClientToken;if((d==null||d==="")&&c("gkx")("24380"))return O;d=b.controlledState.playbackState;var f=m.lastLoggedViewabilityPercentage,g=b.uncontrolledState.viewabilityPercentage;if(d!=="paused"&&d!=="ended"&&f!=null&&f!==g){N({eventType:"viewability_changed",prevState:a,state:b});return O}else return O}function ra(a,b,c){if(c.type==="controller_set_captions_visible_requested"){N({eventType:"caption_change",prevState:a,state:b});return O}else return O}function sa(b){f=e;if(b.type==="notify_logging_metadata_change"){b=b.payload.loggingMetaData;if(s){var c=b.coreVideoPlayerMetaData.initialTracePolicy!==e.coreVideoPlayerMetaData.initialTracePolicy;p(a.debugLogId,e,b,{initialTracePolicyChanged:c})}e=b}}return{addDebugSubscriber:function(a){return y(a)},consumeLoggerEvents:function(){var b=g.splice(0);s&&(b.length>0&&o(a.debugLogId,"[consumeLoggerEvents] ("+b.length+" events)",b));return b},getLoggerState:function(){return m},handleStateMachine:function(b,c,d){sa(d);var e=c.controlledState.playbackState;D(b,c,d);C(b,c);var f=[na,pa,qa,S,T,V,U,W,X,ba,ca,aa,ma,ra,da,ha,ia,ja,la,ka].concat(x?[oa]:[]);f.forEach(function(a){a(b,c,d)});s&&q(a.debugLogId,b,c,d);(e==="paused"||e==="ended")&&(m.canLogPlayingEvent=!0);d.type==="controller_pause_requested"&&(m.hasPausedOnce=!0,m.shouldIgnoreDomPause=!0);d.type==="controller_play_requested"&&(m.hasPausedOnce=!0,m.shouldIgnoreDomPlay=!0);d.type==="dom_event_pause"&&(m.shouldIgnoreDomPause=!1);d.type==="dom_event_play"&&(m.shouldIgnoreDomPlay=!1,m.lastLoggedViewabilityPercentage=c.uncontrolledState.viewabilityPercentage)},logVPLEvent:function(a){var b=a.eventType,c=a.logDataOverrides;a=a.state;N({eventType:b,logDataOverrides:c,prevState:a,state:a})},setAdditionalLogData:function(a,c){b.set(a,c),s&&r(a,c)}}}g.HEARTBEAT_INTERVAL=j;g.createVideoPlayerImplementationStateMachineLogger=a}),98);
__d("VideoPlayerImplementationStateMachineStateUncontrolledState",["NetworkStatus","convertToViewabilityPercentage","gkx","performance"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b,d=a.engineExtrasAPI,e=a.fullscreenControllerRef,f=a.videoElementAPI,g=a.videoLiveTraceRef;a=a.videoPlayerPassiveViewabilityInfoRef;g=g.current;var i=Date.now(),j=typeof (h||(h=c("performance"))).now==="function"?(h||(h=c("performance"))).now():0;if(f==null){var k;return{audioRepresentationID:void 0,availableAudioTracks:[],availableQualities:[],availableVideoTracks:[],clockTimestamp:i,currentPlayingAudioTrackID:void 0,currentPlayingVideoQuality:void 0,estimatedBandwidth:void 0,isDocumentHidden:document.hidden,isDRM:void 0,isFBIsLiveTemplated:void 0,isFBMS:void 0,isFBWasLive:void 0,isFullscreen:e.current?e.current.getIsFullscreen():void 0,isLiveRewindAvailable:void 0,isMixedCodecManifest:null,isPredictiveDash:void 0,liveTraceContext:g?(k=g.getLiveTraceContext())!=null?k:void 0:void 0,manifestIdentifier:void 0,mpdValidationErrors:void 0,networkConnected:void 0,perfTimestamp:j,targetAudioTrack:null,targetVideoQuality:"",videoElementDebugCurrentSrc:void 0,videoElementDebugSrc:void 0,videoElementDroppedFrameCount:void 0,videoElementDuration:void 0,videoElementEnded:void 0,videoElementError:void 0,videoElementLastBufferEndPosition:void 0,videoElementMuted:void 0,videoElementNetworkState:void 0,videoElementPaused:void 0,videoElementPlaybackRate:void 0,videoElementPlayheadPosition:void 0,videoElementReadyState:void 0,videoElementTotalFrameCount:void 0,videoElementVolume:void 0,videoProjection:void 0,videoRepresentationID:void 0,viewabilityPercentage:void 0}}k=f.getPlayheadPosition();a=a&&a.current;a=a&&a.getCurrent();return{audioRepresentationID:d?d.getCurrentPlayingAudioRepresentationID():void 0,availableAudioTracks:(b=d==null?void 0:d.getAvailableAudioTracks())!=null?b:[],availableQualities:(b=d==null?void 0:d.getAvailableVideoQualities())!=null?b:[],availableVideoTracks:(b=d==null?void 0:d.getAvailableVideoTracks())!=null?b:[],clockTimestamp:i,currentPlayingAudioTrackID:d?d.getCurrentPlayingAudioRepresentationID():void 0,currentPlayingVideoQuality:d?d.getCurrentPlayingVideoQuality():void 0,estimatedBandwidth:d?d.getEstimatedBandwidth():void 0,isDocumentHidden:document.hidden,isDRM:d?d.isDrm():void 0,isFBIsLiveTemplated:d?d.isFBIsLiveTemplated():void 0,isFBMS:d?d.isFBMS():void 0,isFBWasLive:d?d.isFBWasLive():void 0,isFullscreen:e.current?e.current.getIsFullscreen():void 0,isLiveRewindAvailable:d?d.isLiveRewindAvailable():void 0,isMixedCodecManifest:d?d.isMixedCodecManifest():null,isPredictiveDash:d?d.isPredictiveDash():void 0,liveTraceContext:g?(b=g.getLiveTraceContext())!=null?b:void 0:void 0,manifestIdentifier:d?d.getManifestIdentifier():void 0,mpdValidationErrors:d?d.getMpdValidationErrors():void 0,networkConnected:c("NetworkStatus").isOnline(),perfTimestamp:j,targetAudioTrack:(i=d==null?void 0:d.getTargetAudioTrack())!=null?i:null,targetVideoQuality:(e=d==null?void 0:d.getCurrentTargetVideoQuality())!=null?e:"",videoElementDebugCurrentSrc:c("gkx")("24351")?(g=f.getUnderlyingVideoElement())==null?void 0:g.currentSrc:void 0,videoElementDebugSrc:c("gkx")("24351")?(b=f.getUnderlyingVideoElement())==null?void 0:b.src:void 0,videoElementDroppedFrameCount:f.getDroppedFrameCount(),videoElementDuration:f.getDuration(),videoElementEnded:f.getEnded(),videoElementError:f.getError(),videoElementLastBufferEndPosition:f.getLastBufferEndPosition(),videoElementMuted:f.getMuted(),videoElementNetworkState:f.getNetworkState(),videoElementPaused:f.getPaused(),videoElementPlaybackRate:f.getPlaybackRate(),videoElementPlayheadPosition:k,videoElementReadyState:f.getReadyState(),videoElementTotalFrameCount:f.getTotalFrameCount(),videoElementVolume:f.getVolume(),videoProjection:d==null?void 0:d.getVideoProjectionType(),videoRepresentationID:d?d.getCurrentPlayingVideoRepresentationID():void 0,viewabilityPercentage:a?c("convertToViewabilityPercentage")(a.visiblePercentage):void 0}}g.createVideoPlayerImplementationStateMachineStateUncontrolledState=a}),98);
__d("VideoPlayerImplementationStateMachineState",["VideoPlayerImplementationStateMachineStateUncontrolledState"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.alwaysShowCaptions,c=a.areCaptionsAutogenerated,e=a.captionDisplayStyle,f=a.dimensions,g=a.isAbrEnabled,h=a.playerVersion;a=a.streamingFormat;var i=!0,j=1,k=d("VideoPlayerImplementationStateMachineStateUncontrolledState").createVideoPlayerImplementationStateMachineStateUncontrolledState({engineExtrasAPI:null,fullscreenControllerRef:{current:null},videoElementAPI:null,videoLiveTraceRef:{current:null},videoPlayerPassiveViewabilityInfoRef:{current:null}});return{controlledState:{activeCaptions:null,activeEmsgBoxes:[],allEmsgBoxes:new Map(),bufferingDetected:!1,captionDisplayStyle:e,captionFormat:null,captionsLoaded:!1,captionsLocale:null,captionsVisible:b,dimensions:f,domEventsLatestPerfMs:{},emsgObserverTokens:new Set(),error:null,hasPlayEverBeenRequested:!1,hostCallPlayIDLast:null,hostCallQueue:[],implementationSeekSourcePosition:null,inbandCaptionsAutogenerated:c,isDesktopPictureInPicture:!1,isLiveRewindActive:!1,lastBufferingType:null,lastMuteReason:null,lastPausedTimeMs:0,lastPauseReason:null,lastPlayedTimeMs:0,lastPlayReason:null,latencyLevel:"normal",loopCount:0,loopCurrent:0,mountState:"before_mounted",muted:i,playbackState:"paused",scrubbing:!1,seekableRanges:null,seeking:!1,seekTargetPosition:null,selectedVideoQuality:"notselected",selectedVideoVariant:null,streamEnded:!1,streamingFormat:a,streamInterrupted:!1,targetPlaybackRate:1,ullIneligibilityReason:null,volume:j,waitingForDomPlaying:!1,waitingForDomTimeUpdateAfterSeeked:!1,watchTimeMs:0},isAbrEnabled:g,playerVersion:h,uncontrolledState:k}}g.createVideoPlayerImplementationStateMachineInitialState=a}),98);
__d("useSEOLoggedOutWebCrawler",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("23157")}g["default"]=a}),98);
__d("VideoPlayerImplementationEngineAPI",["CometEventListener","CometVideoPictureInPictureManagerContext","CometVisualCompletion","CurrentUser","ErrorMetadata","FBLogger","MediaPlaybackCompoundEventStateMachineLogger","MediaPlaybackLogFlusher","PlaybackSpeedExperiments","RunComet","SubscriptionsHandler","VideoLiveTrace","VideoPlayerBanzaiLogFlusher","VideoPlayerCaptionsController","VideoPlayerImplementationReactVideoElement.react","VideoPlayerImplementationStateMachine","VideoPlayerImplementationStateMachineHostCallQueue","VideoPlayerImplementationStateMachineLogger","VideoPlayerImplementationStateMachineState","VideoPlayerImplementationStateMachineStateUncontrolledState","VideoPlayerVideoPixelsFitContext","clearTimeout","cr:2336","cr:355","cr:4596","cr:506","deepEquals","err","gkx","qex","react","recoverableViolation","removeFromArray","setTimeout","unrecoverableViolation","useConcurrentAutoplayManagementAPI","useSEOLoggedOutWebCrawler","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));f=h;var j=f.useEffect,k=f.useRef,l=f.useState,m=function(){function a(a){var b=a.pauseRequestCallbacks,c=a.playRequestCallbacks,d=a.scrubBeginRequestCallbacks;a=a.scrubEndRequestCallbacks;this.$1=c;this.$2=b;this.$3=d;this.$4=a}var b=a.prototype;b.playRequest=function(a){var b=this;this.$1.push(a);return function(){c("removeFromArray")(b.$1,a)}};b.pauseRequest=function(a){var b=this;this.$2.push(a);return function(){c("removeFromArray")(b.$2,a)}};b.scrubBeginRequest=function(a){var b=this;this.$3.push(a);return function(){c("removeFromArray")(b.$3,a)}};b.scrubEndRequest=function(a){var b=this;this.$4.push(a);return function(){c("removeFromArray")(b.$4,a)}};return a}();function n(a){var b=a.concurrentAutoplayManagementAPI,d=a.debugAPI,e=a.exitPictureInPictureImpl,f=a.fullscreenControllerRef,g=a.getCurrentExposedState,h=a.getCurrentIsDesktopPictureInPicture,i=a.getCurrentIsFullscreen,j=a.getCurrentLiveRewindPlayheadPosition,k=a.getCurrentPlayheadPosition,l=a.internal_getCurrentStateMachineState,n=a.loggerAPI,o=a.pauseImpl,p=a.playImpl,q=a.registerEmsgObserverImpl,r=a.requestPictureInPictureImpl,s=a.scrubBeginImpl,t=a.scrubEndImpl,u=a.seekImpl,v=a.selectVideoQualityImpl,w=a.selectVideoVariantImpl,x=a.setCaptionsDisplayStyleImpl,y=a.setCaptionsUrlImpl,z=a.setCaptionsVisibleImpl,A=a.setIsLiveRewindActiveImpl,B=a.setLatencyLevelImpl,C=a.setMutedImpl,D=a.setPictureInPictureStateImpl,E=a.setPlaybackRateImpl,F=a.setVolumeImpl,G=a.subscribers,H=a.unregisterEmsgObserverImpl,I=a.videoElementAPIRef,J=new Set(),K=!1,L=null,M=[],N=[],O=[],P=[],Q=new m({pauseRequestCallbacks:N,playRequestCallbacks:M,scrubBeginRequestCallbacks:O,scrubEndRequestCallbacks:P}),R={freeze:function(){if(!g().paused)throw c("unrecoverableViolation")("Video player must be paused before the controller freeze","comet_video_player");var a={};try{var b=!1;J.size===0&&(b=!0,L={exposedState:g(),isFullscreen:i(),liveRewindPlayheadPosition:j(),playheadPosition:k(),stateMachineState:l()});J.add(a);b&&(K=!0,G.forEach(function(a){a()}))}finally{K=!1}return a},isFrozen:function(){return L!=null},unfreeze:function(a){if(!J.has(a))throw c("unrecoverableViolation")("Video player controller unfreeze token not found","comet_video_player");J["delete"](a);J.size===0&&(L=null,G.forEach(function(a){a()}))}},S=babelHelpers["extends"]({},b,R,n,{debugAPI:d,exitPictureInPicture:function(){if(R.isFrozen())return;e()},getCurrentState:function(){return L!=null?L.exposedState:g()},getIsDesktopPictureInPicture:function(){return L!=null?L.isFullscreen:h()},getIsFullscreen:function(){return L!=null?L.isFullscreen:i()},getLiveRewindPlayheadPosition:function(){return L!=null?L.liveRewindPlayheadPosition:j()},getPlayheadPosition:function(){return L!=null?L.playheadPosition:k()},internal_getStateMachineState:function(){return L!=null?L.stateMachineState:l()},internal_getVideoElement:function(){var a=I.current;if(a!=null){a=a.getUnderlyingVideoElement();return a}return null},internal_getVideoPixelsDimensions:function(){var a=I.current;return(a=a==null?void 0:a.getVideoPixelsDimensions())!=null?a:null},observeOn:function(){return Q},pause:function(a){if(R.isFrozen())return;N.forEach(function(b){return b(a)});o(a)},play:function(a){if(R.isFrozen())return;M.forEach(function(b){return b(a)});p(a)},registerEmsgObserver:function(){var a={};q(a);return a},requestPictureInPicture:function(){if(R.isFrozen())return;r()},requestSetIsFullscreen:function(a){if(R.isFrozen())return;var b=f.current;if(b){var c=S.internal_getVideoElement();b.requestSetIsFullscreen(a,c)}},scrollIntoView:function(a){var b=S.internal_getVideoElement();b&&b.scrollIntoView(a)},scrubBegin:function(){if(R.isFrozen())return;O.forEach(function(a){return a()});s()},scrubEnd:function(a){if(R.isFrozen())return;P.forEach(function(b){return b(a)});t(a)},seek:function(a){if(R.isFrozen())return;u(a)},selectVideoQuality:function(a){if(R.isFrozen())return;v(a)},selectVideoVariant:function(a){if(R.isFrozen())return;w(a)},setCaptionsDisplayStyle:function(a){if(R.isFrozen())return;x(a)},setCaptionsUrl:function(a){if(R.isFrozen())return;y(a)},setCaptionsVisible:function(a){if(R.isFrozen())return;z(a)},setIsLiveRewindActive:function(a){if(R.isFrozen())return;A(a)},setLatencyLevel:function(a){if(R.isFrozen())return;B(a)},setMuted:function(a,b){if(R.isFrozen())return;C(a,b)},setPictureInPictureState:function(a){if(R.isFrozen())return;D(a)},setPlaybackRate:function(a){if(R.isFrozen())return;E(a)},setVolume:function(a){if(R.isFrozen())return;F(a)},subscribe:function(a){var b=function(){if(R.isFrozen()&&!K)return;a()},d=f.current,e=d?d.subscribe(b):null;G.push(b);return{remove:function(){e&&e.remove(),c("removeFromArray")(G,b)}}},unregisterEmsgObserver:function(a){H(a)},videoElementAPIRef:I});return S}function o(a){var b=a.concurrentAutoplayManagementAPI,c=a.createExposedState,d=a.debugAPI,e=a.fullscreenControllerRef,f=a.logger,g=a.machine,h=a.mediaLogger,i=a.subscribers,j=a.videoElementAPIRef;a={logVPLEvent_DO_NOT_USE:function(a,b){f.logVPLEvent({eventType:a,logDataOverrides:b,state:g.getCurrentState()})},setAdditionalLogData:function(a,b){f.setAdditionalLogData(a,b)},setSNAPLAdditionalLogData:function(a){h==null?void 0:h.setSNAPLAdditionalLogData(a)}};return n({concurrentAutoplayManagementAPI:b,debugAPI:d,exitPictureInPictureImpl:function(){g.dispatch({type:"controller_picture_in_picture_exit_requested"})},fullscreenControllerRef:e,getCurrentExposedState:function(){return c(g.getCurrentState())},getCurrentIsDesktopPictureInPicture:function(){var a;return(a=g.getCurrentState().controlledState.isDesktopPictureInPicture)!=null?a:!1},getCurrentIsFullscreen:function(){var a=e.current;return a?a.getIsFullscreen():!1},getCurrentLiveRewindPlayheadPosition:function(){var a=g.getCurrentState();a=a.controlledState;var b=a.isLiveRewindActive,c=a.seekableRanges;a=a.seekTargetPosition;if(!b||a==null)return null;c=(b=c==null?void 0:c.end(0))!=null?b:0;return a-c},getCurrentPlayheadPosition:function(){var a,b=0;return(a=(a=(a=j.current)==null?void 0:a.getPlayheadPosition())!=null?a:g.getCurrentState().uncontrolledState.videoElementPlayheadPosition)!=null?a:b},internal_getCurrentStateMachineState:function(){return g.getCurrentState()},loggerAPI:a,pauseImpl:function(a){g.dispatch({payload:{reason:a},type:"controller_pause_requested"})},playImpl:function(a){g.dispatch({payload:{reason:a},type:"controller_play_requested"})},registerEmsgObserverImpl:function(a){g.dispatch({payload:{token:a},type:"register_emsg_observer"})},requestPictureInPictureImpl:function(){g.dispatch({type:"controller_picture_in_picture_requested"})},scrubBeginImpl:function(){g.dispatch({type:"controller_scrub_begin_requested"})},scrubEndImpl:function(a){g.dispatch({payload:{seekTargetPosition:a},type:"controller_scrub_end_requested"})},seekImpl:function(a){g.dispatch({payload:{seekTargetPosition:a},type:"controller_seek_requested"})},selectVideoQualityImpl:function(a){g.dispatch({payload:{selectedVideoQuality:a},type:"controller_quality_requested"})},selectVideoVariantImpl:function(a){g.dispatch({payload:{selectedVideoVariant:a},type:"controller_video_variant_requested"})},setCaptionsDisplayStyleImpl:function(a){g.dispatch({payload:{captionDisplayStyle:a},type:"controller_set_caption_display_style_requested"})},setCaptionsUrlImpl:function(a){g.dispatch({payload:{captionsUrl:a},type:"controller_set_captions_url_requested"})},setCaptionsVisibleImpl:function(a){g.dispatch({payload:{captionsVisible:a},type:"controller_set_captions_visible_requested"})},setIsLiveRewindActiveImpl:function(a){g.dispatch({payload:{isLiveRewindActive:a},type:"controller_set_is_live_rewind_active_requested"})},setLatencyLevelImpl:function(a){g.dispatch({payload:{latencyLevel:a},type:"controller_set_latency_level_requested"})},setMutedImpl:function(a,b){g.dispatch({payload:{muted:a,reason:b},type:"controller_muted_requested"})},setPictureInPictureStateImpl:function(a){g.dispatch({payload:{isInPictureInPictureMode:a},type:"controller_set_picture_in_picture_state_requested"})},setPlaybackRateImpl:function(a){g.dispatch({payload:{playbackRate:a},type:"controller_set_playback_rate"})},setVolumeImpl:function(a){g.dispatch({payload:{volume:a},type:"controller_volume_requested"})},subscribers:i,unregisterEmsgObserverImpl:function(a){g.dispatch({payload:{token:a},type:"unregister_emsg_observer"})},videoElementAPIRef:j})}function p(a){a=a.current;if(a==null)throw c("unrecoverableViolation")("Attempted to access VideoElementAPI while it is not available.","comet_video_player");return a}function q(a){var b=a.alwaysShowCaptions,e=a.areCaptionsAutogenerated,f=a.captionDisplayStyle,g=a.captionsControllerRef,h=a.debugLogId,i=a.dimensions,j=a.engineExtrasAPI,k=a.engineMetadata,l=a.fullscreenControllerRef,m=a.handleFatalError,n=a.handleStateMachine,o=a.videoElementAPIRef,q=a.videoLiveTraceRef,s=a.videoPlayerPassiveViewabilityInfoRef;function t(a){d("VideoPlayerImplementationStateMachineHostCallQueue").applyOrQueueHostCall({engineExtrasAPI:j,hostCall:a,machine:v,videoElementAPI:o.current})}var u=null;a=[function(a,b,d){d.type==="implementation_host_call_applied"&&d.payload.hostCall.type==="host_call_play"&&b.controlledState.lastPlayReason==="autoplay_initiated"?c("CometVisualCompletion").addFirstMarkerPoint("firstVideoAutoplayStalling"):b.controlledState.playbackState!==a.controlledState.playbackState&&b.controlledState.playbackState==="playing"&&b.controlledState.lastPlayReason==="autoplay_initiated"&&c("CometVisualCompletion").addFirstMarkerPoint("firstVideoAutoplayPlaying");return!0},function(a,b,c){n(a,b,c);return!0},function(a,b,c){return!0},function(a,b,c){if(a.controlledState.bufferingDetected===!1&&b.controlledState.bufferingDetected===!0||a.controlledState.bufferingDetected===!0&&b.controlledState.bufferingDetected===!1)if(b.controlledState.bufferingDetected){a=(c=b.controlledState.lastBufferingType)!=null?c:"in_play";c=j.getPerfLoggerProvider();u=c?c.getOperationLogger("buffering").setState("buffering").setType(a).start():null}else!b.controlledState.bufferingDetected&&u!=null&&(u.log(),u=null);return!0},function(a,b,c){return c.type!=="implementation_engine_destroy_requested"?!0:!1},function(a,b,c){if(c.type!=="implementation_engine_initialized")return!0;a=p(o);c=c.type;d("VideoPlayerImplementationStateMachineHostCallQueue").flushHostCallQueue({engineExtrasAPI:j,machine:v,reason:c,state:b,videoElementAPI:a});return!1},function(a,b,c){if(c.type!=="dom_event_ended")return!0;a=b.controlledState;(a.loopCount>0&&a.loopCurrent<a.loopCount||a.loopCount===-1)&&v.dispatch({payload:{reason:"loop_initiated"},type:"controller_play_requested"});return!1},function(a,b,c){if(c.type!=="controller_pause_requested")return!0;a=b.controlledState.playbackState;if(a!=="paused")return!1;t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:c.type},type:"host_call_pause"});return!1},function(a,b,c){if(c.type!=="controller_play_requested")return!0;a=b.controlledState.playbackState;if(a!=="stalling")return!1;t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:c.type},type:"host_call_play"});return!1},function(a,b,c){if(c.type!=="controller_seek_requested")return!0;a=b.controlledState;b=a.seeking;a=a.seekTargetPosition;b&&a!=null&&t({payload:{currentTime:a,hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:c.type},type:"host_call_set_current_time"});return!1},function(a,b,c){if(c.type!=="controller_muted_requested")return!0;a=b.controlledState.muted;if(a!==c.payload.muted)return!1;t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),muted:a,reason:c.type},type:"host_call_set_muted"});return!1},function(a,b,c){if(c.type!=="controller_scrub_begin_requested")return!0;t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:0,reason:c.type},type:"host_call_set_playback_rate"});return!1},function(a,b,c){if(c.type!=="controller_scrub_end_requested")return!0;a=b.controlledState;b=a.seeking;var e=a.seekTargetPosition;a=a.targetPlaybackRate;b&&e!=null?(t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:a,reason:c.type+":seek"},type:"host_call_set_playback_rate"}),t({payload:{currentTime:e,hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:c.type+":seek"},type:"host_call_set_current_time"})):t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:a,reason:c.type+":cancel"},type:"host_call_set_playback_rate"});return!1},function(a,b,c){if(c.type!=="buffering_begin_requested")return!0;t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:0,reason:c.type},type:"host_call_set_playback_rate"});return!1},function(a,b,c){if(c.type!=="controller_set_playback_rate")return!0;t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:c.payload.playbackRate,reason:c.type},type:"host_call_set_playback_rate"});return!1},function(a,b,c){if(c.type!=="buffering_end_requested")return!0;t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:b.controlledState.targetPlaybackRate,reason:c.type},type:"host_call_set_playback_rate"});return!1},function(a,b,c){if(c.type!=="controller_volume_requested")return!0;t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:c.type,volume:b.controlledState.volume},type:"host_call_set_volume"});return!1},function(a,b,c){if(c.type!=="controller_video_variant_requested")return!0;t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:c.type,selectedVideoVariant:b.controlledState.selectedVideoVariant},type:"host_call_set_video_variant"});return!1},function(a,b,c){if(c.type!=="controller_quality_requested")return!0;t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:c.type,selectedVideoQuality:b.controlledState.selectedVideoQuality},type:"host_call_set_video_quality"});return!1},function(a,b,c){if(!(c.type==="controller_set_latency_level_requested"||c.type==="implementation_set_latency_level_requested"))return!0;t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),latencyLevel:c.payload.latencyLevel,reason:c.type},type:"host_call_set_latency_level"});return!1},function(a,b,c){if(!(c.type==="dom_event_timeupdate"||c.type==="captions_loaded"))return!0;c=g.current;var e=b.controlledState.captionsVisible,f=o.current;f=f?f.getPlayheadPosition():0;if(d("PlaybackSpeedExperiments").enableCometPlaybackSpeedControl()&&b.controlledState.isLiveRewindActive){var h=b.controlledState.seekableRanges;h=h!=null?(h=h.end(h.length()-1))!=null?h:0:0;f>=h&&v.dispatch({payload:{isLiveRewindActive:!1},type:"controller_set_is_live_rewind_active_requested"})}if(!j.getRepresentationCaptionsExpectedFromManifest()&&c&&e&&b.controlledState.captionsLoaded){h=c.handleTimeUpdate(f);e=c.getCaptionFormat();b=a.controlledState.activeCaptions;c=a.controlledState.captionFormat;e!==c&&v.dispatch({payload:{captionFormat:e},type:"controller_set_caption_format_requested"});r(b,h)&&v.dispatch({payload:{activeCaptions:h,captionsLocale:null},type:"controller_set_active_captions_requested"})}a=q.current;a!=null&&a.onUpdateStatus({position:f});return!1},function(a,b,c){if(c.type!=="cea608_bytes_received")return!0;a=g.current;if(a){b=c.payload;c=b.timescale;b=b.videoBytes;a.handleCea608BytesReceived({timescale:c,videoBytes:b})}return!1},function(a,b,c){if(c.type!=="controller_set_captions_url_requested")return!0;a=g.current;if(a){b=c.payload.captionsUrl;a.updateCaptionsUrl(b)}return!1},function(a,b,c){if(c.type!=="controller_set_is_live_rewind_active_requested")return!0;j.setEnableLiveheadCatchup(!c.payload.isLiveRewindActive);!!d("PlaybackSpeedExperiments").enableCometPlaybackSpeedControl()&&!c.payload.isLiveRewindActive&&v.dispatch({payload:{playbackRate:1},type:"controller_set_playback_rate"});return!1},function(a,b,c){if(c.type!=="controller_picture_in_picture_requested")return!0;t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:c.type},type:"host_call_picture_in_picture"});return!1},function(a,b,c){if(c.type!=="controller_picture_in_picture_exit_requested")return!0;t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:c.type},type:"host_call_exit_picture_in_picture"});return!1}];var v=d("VideoPlayerImplementationStateMachine").createVideoPlayerImplementationStateMachineWithStateTransitionHandlers({collectUncontrolledState:function(){var a=o.current;return d("VideoPlayerImplementationStateMachineStateUncontrolledState").createVideoPlayerImplementationStateMachineStateUncontrolledState({engineExtrasAPI:j,fullscreenControllerRef:l,videoElementAPI:a,videoLiveTraceRef:q,videoPlayerPassiveViewabilityInfoRef:s})},debugLogId:h,initialState:d("VideoPlayerImplementationStateMachineState").createVideoPlayerImplementationStateMachineInitialState({alwaysShowCaptions:b,areCaptionsAutogenerated:e,captionDisplayStyle:f,dimensions:i,isAbrEnabled:k.isAbrEnabled,playerVersion:k.playerVersion,streamingFormat:k.streamingFormat}),onFatalError:m,stateTransitionHandlers:a});return v}function r(a,b){if(a===null&&b===null)return!1;if(a===null||b===null)return!0;var c=(b=b.rows)!=null?b:[];a=(b=a.rows)!=null?b:[];return a.length!==c.length||a.some(function(a,b){return a!==c[b]})}function s(a,b,c,d){a!==b.current&&(c.current&&(c.current.remove(),c.current=null),b.current=a),b.current&&!c.current&&(c.current=b.current.subscribe(function(){d.dispatch({type:"notify_fullscreen_changed"})}))}function t(a,b,c,d){a!==b.current&&(c.current&&(c.current.remove(),c.current=null),b.current=a),b.current&&!c.current&&(c.current=b.current.subscribe(function(){d.dispatch({type:"notify_viewability_changed"})}))}function u(a){var b=a.engineMetadata;a=a.state;var c=a.controlledState,d=c.activeCaptions,e=c.activeEmsgBoxes,f=c.captionDisplayStyle,g=c.captionsLoaded,h=c.captionsVisible,i=c.domEventsLatestPerfMs,j=c.error,k=c.hasPlayEverBeenRequested,l=c.implementationSeekSourcePosition,m=c.inbandCaptionsAutogenerated,n=c.isDesktopPictureInPicture,o=c.isLiveRewindActive,p=c.lastMuteReason,q=c.lastPauseReason,r=c.lastPlayedTimeMs,s=c.lastPlayReason,t=c.latencyLevel,u=c.loopCount,v=c.loopCurrent,w=c.muted,x=c.playbackState,y=c.seekableRanges,z=c.seeking,A=c.seekTargetPosition,B=c.selectedVideoQuality,C=c.streamingFormat,D=c.streamInterrupted,E=c.targetPlaybackRate,F=c.ullIneligibilityReason,G=c.volume;c=c.watchTimeMs;var H=a.uncontrolledState,I=H.availableAudioTracks,J=H.availableQualities,K=H.availableVideoTracks,L=H.currentPlayingAudioTrackID,M=H.currentPlayingVideoQuality,N=H.isDRM,O=H.isFullscreen,P=H.isLiveRewindAvailable,Q=H.targetAudioTrack,R=H.targetVideoQuality,S=H.videoElementDuration,T=H.videoElementLastBufferEndPosition,U=H.videoProjection;H=H.videoRepresentationID;var V=x==="ended",W=x==="paused"||V,X=x==="playing",Y=x==="inPlayStalling";x=x==="stalling"||Y;g={activeCaptions:d,activeEmsgBoxes:e,availableAudioTracks:I,availableVideoQualities:J,availableVideoTracks:K,bufferEnd:(d=T)!=null?d:0,captionDisplayStyle:f,captionsLoaded:g,captionsVisible:h,currentAudioTrackID:(e=L)!=null?e:null,currentVideoQuality:(I=M)!=null?I:"",domEventsLatestPerfMs:i,duration:(J=S)!=null?J:0,ended:V,error:j,hasPlayEverBeenRequested:k,inbandCaptionsAutogenerated:m,inPlayStalling:Y,isAbrEnabled:b.isAbrEnabled,isDesktopPictureInPicture:(K=n)!=null?K:!1,isDRM:(T=N)!=null?T:null,isFullscreen:(d=O)!=null?d:!1,isLiveRewindActive:o,isLiveRewindAvailable:(f=P)!=null?f:!1,lastMuteReason:p,lastPauseReason:q,lastPlayedTimeMs:r,lastPlayReason:s,latencyLevel:t,loopCount:u,loopCurrent:v,muted:w,paused:W,playerVersion:a.playerVersion,playing:X,seekableRanges:y,seeking:z,seekSourcePosition:l,seekTargetPosition:A,selectedVideoQuality:B,stalling:x,streamingFormat:C,streamInterrupted:D,targetAudioTrack:Q,targetPlaybackRate:E,targetVideoQuality:R,ullIneligibilityReason:F,videoProjection:U,videoRepresentationID:H,volume:G,watchTimeMs:c};return g}function a(a){var e=a.checkInDOM,f=a.createDebugAPI,g=a.createVideoPlayerError,h=a.debugLog,i=a.debugLogId,j=a.destroyEngineParts,k=a.engineExtrasAPI,l=a.engineMetadata,m=a.handleFatalError,n=a.handleVideoElementChanged,p=a.handleVideoInfoChange,r=a.initialProps,v=a.setExposedStateInReact,w=r.loggingMetaData.instanceKey;h=r.loggingMetaData.coreVideoPlayerMetaData;a=h.broadcastId;var x=h.isLiveStreaming;h=h.isLiveTraceEnabled;var y={current:Boolean(x)&&Boolean(h)&&a!=null?new(c("VideoLiveTrace"))(a,w,c("CurrentUser").getAccountID()):null},z=d("VideoPlayerImplementationStateMachineLogger").createVideoPlayerImplementationStateMachineLogger({debugLogId:i,initialLoggingMetaData:r.loggingMetaData,videoLiveTraceRef:y}),A=new(c("VideoPlayerBanzaiLogFlusher"))(i,z),B=r.enableSNAPL?d("MediaPlaybackCompoundEventStateMachineLogger").createMediaPlaybackCompoundEventStateMachineLogger({debugLogId:i,initialLoggingMetaData:r.loggingMetaData,metadataProvider:r.createSNAPLMetadataProvider==null?void 0:r.createSNAPLMetadataProvider()}):null,C=B!=null?new(c("MediaPlaybackLogFlusher"))(B):null,D={current:(x=r.videoPlayerPassiveViewabilityInfo)!=null?x:null},E={current:(h=r.fullscreenController)!=null?h:null},F={current:null};a=d("useConcurrentAutoplayManagementAPI").createConcurrentAutoplayManagementAPI();var G=[],H=function(){G.forEach(function(a){a()}),r.disableLogging||r.disableVPLLogging?A.discardLogsWithoutFlushing():A.flushLogs(),!r.enableSNAPL||r.disableLogging?C==null?void 0:C.discardLogsWithoutFlushing():C==null?void 0:C.flushLogs()},I={current:r.onExposedStateChanged},J={current:null},K=null,L={current:{inbandCaptionsAutogeneratedFromManifest:!1,inbandCaptionsExpectedFromManifest:!1,inbandCaptionsExpectedFromProps:r.inbandCaptionsExpected,representationCaptionsExpectedFromManifest:!1,sideLoadCaptionsExpectedFromProps:r.sideLoadCaptionsExpected,sideLoadCaptionsUrlFromProps:(x=r.sideLoadCaptionsUrl)!=null?x:null}},M={current:null},N={current:null},O=new(c("SubscriptionsHandler"))(),P=new(c("SubscriptionsHandler"))(),Q="before_mounted";function R(a){if(c("gkx")("24349"))return a.controlledState.mountState==="mounted_onscreen"||a.controlledState.mountState==="mounted_offscreen";else return Q==="mounted"}var S={current:null},T=function(a){a=u({engineMetadata:l,state:a});return a},U={current:null},V={current:null},W=function(a){if(R(a)){if(a===U.current)return;var b=T(a);if(V.current!=null&&c("deepEquals")(V.current,b))return;U.current=a;V.current=b;v(b);a=I.current;a&&a({implementationController:ma,implementationExposedState:b})}};h=function(a,b,c){z.handleStateMachine(a,b,c),B==null?void 0:B.handleStateMachine(a,b,c),W(b),H()};var X=function(a,b){};x=function(a){X(a,"state_machine_fatal_error")};var Y=q({alwaysShowCaptions:Boolean(r.alwaysShowCaptions),areCaptionsAutogenerated:Boolean(r.areCaptionsAutogenerated),captionDisplayStyle:r.captionDisplayStyle,captionsControllerRef:F,debugLogId:i,dimensions:r.dimensions,engineExtrasAPI:k,engineMetadata:l,fullscreenControllerRef:E,handleFatalError:x,handleStateMachine:h,videoElementAPIRef:S,videoLiveTraceRef:y,videoPlayerPassiveViewabilityInfoRef:D}),aa=!1,Z=function(a){var b=J.current!=null,d=S.current!=null;O.release();Y.dispatch({payload:{reason:a,videoElementAPIExisted:d,videoElementExisted:b},type:"implementation_engine_destroy_requested"});try{aa||(aa=!0,j(["destroyEngine("+a+")"]))}catch(g){try{var e=c("FBLogger")("comet_video_player").catching(g),f=r.videoFBID;f!=null&&(e=e.addMetadata("COMET_VIDEO","VIDEO_ID",f));e=e.addMetadata("COMET_VIDEO","VIDEO_IMPLEMENTATION_DEBUG_DATA",JSON.stringify({destroy_reason:a,player_instance_key:w,player_version:l.playerVersion,video_element_api_existed:d,video_element_existed:b}));e.warn("Error thrown by destroyEngineParts: %s",g.message)}catch(a){}}f=F.current;f!=null&&(Y.getCurrentState().controlledState.captionsLoaded&&Y.dispatch({type:"captions_unloaded"}),F.current=null,f.destroy());s(null,E,M,Y);t(null,D,N,Y);Y.dispatch({payload:{reason:a,videoElementAPIExisted:d,videoElementExisted:b},type:"implementation_engine_destroyed"});b&&c("gkx")("5923")&&ia(null,["destroy",a])};X=function(a,b){a=g(a,b);Y.dispatch({payload:{fatalError:a},type:"implementation_fatal_error"});Z("implementation_fatal_error");m(a)};function ba(a){return a.sideLoadCaptionsExpectedFromProps||a.sideLoadCaptionsUrlFromProps!=null}function ca(a){return a.inbandCaptionsExpectedFromProps&&((a=a.inbandCaptionsExpectedFromManifest)!=null?a:!1)}function da(a){return(a=a.inbandCaptionsAutogeneratedFromManifest)!=null?a:!1}var ea=function(a){var b=ba(a),c=ca(a),e=da(a),f=F.current;e!==da(L.current)&&Y.dispatch({payload:{inbandCaptionsAutogenerated:e},type:"inband_captions_autogenerated_changed"});f!=null?c!==ca(L.current)&&(f.updateInbandCaptionsExpected(c),!c&&Y.getCurrentState().controlledState.captionsLoaded&&Y.dispatch({type:"captions_unloaded"})):(b||c)&&f==null&&(F.current=d("VideoPlayerCaptionsController").createCaptionsController({captionsUrl:b?a.sideLoadCaptionsUrlFromProps:null,inbandCaptionsExpected:c,onCaptionsLoaded:function(){Y.dispatch({type:"captions_loaded"})}}));L.current=a},fa=function(a){k!=null&&a&&a.width>0&&a.height>0&&(k.setDimensions(a),Y.dispatch({payload:{dimensions:{height:a.height,width:a.width}},type:"player_dimensions_changed"}))},ga=function(a){a!==Y.getCurrentState().controlledState.loopCount&&Y.dispatch({payload:{loopCount:a},type:"loop_count_change_requested"})},ha=function(a){"srcObject"in a&&(a.srcObject=null),a.removeAttribute("src"),P.release(),P.engage()},ia=function(a,e){if(J.current===a)return;a!=null&&J.current!=null&&J.current!==a&&c("recoverableViolation")("The video element was recreated","comet_video_player");K!=null&&K();var f=J.current;f&&ha(f);J.current=a;b("cr:506")!=null&&a!=null&&(K=b("cr:506")(a,i));a!=null?(P.addSubscriptions(c("CometEventListener").listen(a,"enterpictureinpicture",function(){var a=d("CometVideoPictureInPictureManagerContext").isInPictureInPictureExp();a&&Y.dispatch({payload:{isInPictureInPictureMode:!0},type:"controller_set_picture_in_picture_state_requested"})}),c("CometEventListener").listen(a,"leavepictureinpicture",function(){var a=d("CometVideoPictureInPictureManagerContext").isInPictureInPictureExp();a&&Y.dispatch({payload:{isInPictureInPictureMode:!1},type:"controller_set_picture_in_picture_state_requested"})})),Y.dispatch({type:"implementation_video_node_mounted"}),n(a,[].concat(e,["handleVideoElement(non-null)"]))):(Y.dispatch({type:"implementation_video_node_unmounted"}),n(null,[].concat(e,["handleVideoElement(null)"])))};x=r.loggingMetaData.instanceKey;h=function(a){var b;I.current=a.onExposedStateChanged;if(!R(Y.getCurrentState()))return;s((b=a.fullscreenController)!=null?b:null,E,M,Y);t((b=a.videoPlayerPassiveViewabilityInfo)!=null?b:null,D,N,Y);if(!p(a)){b={inbandCaptionsAutogeneratedFromManifest:L.current.inbandCaptionsAutogeneratedFromManifest,inbandCaptionsExpectedFromManifest:L.current.inbandCaptionsExpectedFromManifest,inbandCaptionsExpectedFromProps:a.inbandCaptionsExpected,representationCaptionsExpectedFromManifest:L.current.representationCaptionsExpectedFromManifest,sideLoadCaptionsExpectedFromProps:a.sideLoadCaptionsExpected,sideLoadCaptionsUrlFromProps:(b=a.sideLoadCaptionsUrl)!=null?b:null};ea(b);fa(a.dimensions);ga((b=a.loopCount)!=null?b:0)}Y.dispatch({payload:{loggingMetaData:a.loggingMetaData},type:"notify_logging_metadata_change"})};var $=null;x=function(){var a=Y.getCurrentState().controlledState.mountState;switch(a){case"before_mounted":O.addSubscriptions(d("RunComet").onUnload(function(){Z("page_unload")}));Y.dispatch({type:"implementation_mounted"});n(J.current,["handleReactEffectInit(before_mounted)"]);break;case"mounted_onscreen":break;case"mounted_offscreen":c("clearTimeout")($);$=null;Y.dispatch({type:"implementation_onscreen"});break;case"unmounted":break;default:a}};var ja=function(){var a=function a(){c("clearTimeout")($);$=null;if(Y.getCurrentState().controlledState.mountState==="unmounted")return;var b=e();!b?(Y.dispatch({payload:{reason:"react_effect_cleanup"},type:"implementation_unmounted"}),Z("implementation_unmounted:react_effect_cleanup")):$=c("setTimeout")(a,1e3)},b=Y.getCurrentState().controlledState.mountState;switch(b){case"before_mounted":break;case"mounted_onscreen":Y.dispatch({type:"implementation_offscreen"});a();break;case"mounted_offscreen":a();break;case"unmounted":break}},ka=function(){R(Y.getCurrentState())||(Q="mounted",O.addSubscriptions(d("RunComet").onUnload(function(){Z("page_unload")})),Y.dispatch({type:"implementation_mounted"}),n(J.current,["handleReactMount"]))},la=function(){R(Y.getCurrentState())&&(Q="unmounted",Y.dispatch({payload:{reason:"react_effect_cleanup"},type:"implementation_unmounted"}),Z("implementation_unmounted:react_effect_cleanup"))},ma=o({concurrentAutoplayManagementAPI:a,createExposedState:T,debugAPI:f({getVideoElementAPI:function(){return S.current},logger:z}),fullscreenControllerRef:E,logger:z,machine:Y,mediaLogger:B,subscribers:G,videoElementAPIRef:S});a=d("VideoPlayerImplementationStateMachine").createReactVideoElementCallbacksForStateMachine(Y,ia);f=T(Y.getInitialState());ja={handleReactEffectCleanup:c("gkx")("24349")?ja:la,handleReactEffectInit:c("gkx")("24349")?x:ka,handleReactPropsChanged:h,implementationController:ma,initialExposedState:f,logFlusher:A,machine:Y,notifySubscribers:H,videoElementCallbacks:a,videoElementRefCallback:function(a){if(a==null&&c("gkx")("5923"))return;ia(a,["videoElementRefCallback"])}};return{engine:ja,getCaptionsInfo:function(){return L.current},getVideoElement:function(){return J.current},getVideoLiveTrace:function(){return y.current},handleCaptionsInfoChange:ea,handleFatalImplementationError:X,logger:z,machine:Y,videoElementAPIRef:S}}function v(a,b){var d,e=c("err").apply(void 0,[a.errorName+": "+a.errorMessageFormat].concat(a.errorMessageParams));e.name=a.errorName;e.errorName=a.errorName;e.type="error";a.stack!=null&&a.stack!==""&&(e.stack=a.stack);var f=new(c("ErrorMetadata"))();f.addEntries(["COMET_VIDEO","ERROR_LOCATION",a.errorLocation],["COMET_VIDEO","ERROR_CODE",(d=a.errorCode)!=null?d:""],["COMET_VIDEO","ERROR_URL",(d=a.url)!=null?d:""]);b!=null&&f.addEntry("COMET_VIDEO","VIDEO_ID",b);d=a.originalError;d!=null&&(typeof d==="string"?f.addEntry("COMET_VIDEO","ORIGINAL_ERROR",d):d instanceof Error&&d.message!=null&&f.addEntry("COMET_VIDEO","ORIGINAL_ERROR",d.message));e.metadata=f;return e}function e(a,d){var e=l(null),f=e[0],g=e[1];e=l(null);var h=e[0],m=e[1];e=a.wrapVideoPixels_EXPERIMENTAL;var n=k(a),o=k(d),p=k(null),q=c("useStable")(function(){return o.current({checkInDOM:function(){var a=document.body,b=p.current;return a!=null&&b!=null&&a.contains(b)},debugLogId:String(n.current.loggingMetaData.instanceKey),handleFatalError:function(a){m(a)},initialProps:n.current,setExposedStateInReact:g})});f=(d=f)!=null?d:q.initialExposedState;d=(d=f.error)!=null?d:h;if(d!=null){h=a.VideoPlayerShakaPerformanceLoggerClass;h&&(c("gkx")("24350")||c("qex")._("1655"))&&h.flushQueuedLogs();throw v(d,n.current.videoFBID)}j(function(){q.handleReactEffectInit();return function(){q.handleReactEffectCleanup()}},[q]);var r=k(null);j(function(){a!==r.current&&q.handleReactPropsChanged(a),r.current=a});h=c("useSEOLoggedOutWebCrawler")();d=a.renderVideoPixelsFit?a.renderVideoPixelsFit(f):null;h=h?i.jsx(c("VideoPlayerImplementationReactVideoElement.react"),{alt:a.alt,poster:a.poster,seoSrc:a.seoWebCrawlerLookasideUrl,seoWebCrawlerVideoTracks:a.seoWebCrawlerVideoTracks,videoElementCallbacks:null,videoElementPreloadDisabled:a.preloadForProgressiveDisabled,videoElementRefCallback:null,videoPixelsFit:d}):i.jsx(c("VideoPlayerImplementationReactVideoElement.react"),{alt:a.alt,poster:a.poster,videoElementCallbacks:q.videoElementCallbacks,videoElementPreloadDisabled:a.preloadForProgressiveDisabled,videoElementRefCallback:q.videoElementRefCallback,videoPixelsFit:d});var s=a.renderWithExposedState({implementationController:q.implementationController,implementationExposedState:f});e=i.jsxs(i.Fragment,{children:[c("gkx")("24349")?i.jsx("div",{ref:p,style:{display:"none"}}):null,f.isDRM===!0?b("cr:2336")?i.jsx(b("cr:2336"),{controller:q.implementationController}):b("cr:4596")?i.jsx(b("cr:4596"),{controller:q.implementationController}):null:null,e?e(h):h,b("cr:355")!=null&&f.playerVersion==="comet_nextgendash"?i.jsx(b("cr:355"),{}):null,i.jsx(c("VideoPlayerVideoPixelsFitContext").Provider,{value:d,children:s})]});return{engine:q,exposedState:f,reactVideoComponents:s,reactVideoFrame:h,reactVideoFrameAndComponents:e}}g.internal_createVideoPlayerImplementationControllerImpl=n;g.internal_createVideoPlayerImplementationEngineStateMachineWithEffects=q;g.internal_createVideoPlayerImplementationExposedStateFromStateMachineState=u;g.createVideoPlayerImplementationEngine=a;g.internal_makeExpandedErrorFromVideoPlayerError=v;g.useVideoPlayerImplementationEngine=e}),98);
__d("VideoPlayerImplementationEngineVideoElementAPI",["Promise","VideoPlaybackQuality","VideoPlayerOzWWWGlobalConfig"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){return isNaN(a)?0:a}function j(a){return i(a.duration)}function k(a){var b=[];try{a=a.buffered;for(var c=0;c<a.length;++c)b.push({endTime:a.end(c),startTime:a.start(c)})}catch(a){}return b}function l(a){try{a=a.buffered;if(a.length>0)return a.end(a.length-1)}catch(a){}return 0}function m(a){return i(a.currentTime)}function n(a){try{a=a.buffered;if(a.length>0)return a.start(0)}catch(a){}return 0}function a(a){return{exitPictureInPicture:function(){window.document.exitPictureInPicture()},getBufferedRanges:function(){return k(a)},getCanPlayPromise:function(){return new(h||(h=b("Promise")))(function(b,c){a.readyState===4?b():a.addEventListener("canplay",function(){return b()})})},getDOMLoadedMetadataPromise:function(){return new(h||(h=b("Promise")))(function(b,c){a.addEventListener("loadedmetadata",function(){return b()})})},getDroppedFrameCount:function(){return d("VideoPlaybackQuality").getDroppedFrames(a)},getDuration:function(){return j(a)},getEnded:function(){return a.ended},getError:function(){return a.error},getLastBufferEndPosition:function(){return l(a)},getMuted:function(){return a.muted},getNetworkState:function(){return a.networkState},getPaused:function(){return a.paused},getPlaybackRate:function(){return a.playbackRate},getPlayheadPosition:function(){return m(a)},getReadyState:function(){return a.readyState},getTotalFrameCount:function(){return d("VideoPlaybackQuality").getTotalFrames(a)},getUnderlyingVideoElement:function(){return a},getVideoPixelsDimensions:function(){if(a.readyState<a.HAVE_CURRENT_DATA)return null;var b=a.videoWidth,c=a.videoHeight;if(b<=0||c<=0)return null;var d=a.offsetWidth,e=a.offsetHeight;if(d<=0||e<=0)return null;b=b/c;c=d/e;c>b?d=e*b:e=d/b;return{height:e,width:d}},getVolume:function(){return a.volume},pause:function(){a.pause()},play:function(){var c=a.play();c=c&&typeof c.then==="function"?(h||(h=b("Promise"))).resolve(c):null;return c},requestPictureInPicture:function(){typeof a.requestPictureInPicture==="function"&&a.requestPictureInPicture()},setDuration:function(b){a.duration=b},setMuted:function(b){a.muted=b},setPlaybackRate:function(b){a.playbackRate=b},setPlayheadPosition:function(b){var d=b;if(b===0){b=c("VideoPlayerOzWWWGlobalConfig").getNumber("clamp_seek_to_first_buffer_range_epsilon",0);if(b>0){var e=n(a);e>0&&e<=b&&(d=e)}}a.currentTime=d},setVolume:function(b){a.volume=b}}}g.getDurationFromVideoElement=j;g.getBufferedRangesFromVideoElement=k;g.getLastBufferEndPositionFromVideoElement=l;g.getPlayheadPositionFromVideoElement=m;g.createVideoPlayerImplementationEngineVideoElementAPI=a}),98);
__d("VideoPlayerProgressiveImplementationEngineExtrasAPI",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a!==null&&a.indexOf(".m3u8")!==-1}function a(a){var b=a.getPlayingVideoInfo;a=a.setUserSelectedVideoQuality;function d(){var a=b(),c="progressive_SD",d="progressive_HD";return a==null?null:h(a.hdSrc)||h(a.sdSrc)?null:a.hdSrc!=null&&a.playingSrc===a.hdSrc?d:a.sdSrc!=null&&a.playingSrc===a.sdSrc?c:null}return{getApproximateFBLSToPlayerDisplayLatency:function(){return null},getAvailableAudioTracks:function(){var a;return(a=(a=b())==null?void 0:a.availableAudioTracks)!=null?a:[]},getAvailableVideoQualities:function(){var a;return(a=(a=b())==null?void 0:a.availableQualities)!=null?a:[]},getAvailableVideoTracks:function(){var a;return(a=(a=b())==null?void 0:a.availableVideoTracks)!=null?a:[]},getCurrentAudioRepresentation:function(){return null},getCurrentPlayingAudioRepresentationID:function(){if(c("gkx")("440"))return d();else return null},getCurrentPlayingAudioTrackID:function(){var a;return(a=(a=b())==null?void 0:a.playingAudioTrackID)!=null?a:null},getCurrentPlayingVideoQuality:function(){var a;return(a=(a=b())==null?void 0:a.targetQuality)!=null?a:""},getCurrentPlayingVideoRepresentationID:function(){if(c("gkx")("440"))return d();else return"oep_hd"},getCurrentTargetVideoQuality:function(){var a;return(a=(a=b())==null?void 0:a.targetQuality)!=null?a:""},getCurrentVideoRepresentation:function(){return null},getEstimatedBandwidth:function(){return null},getInbandCaptionsAutogeneratedFromManifest:function(){return!1},getInbandCaptionsExpectedFromManifest:function(){return!1},getManifestIdentifier:function(){return null},getMpdValidationErrors:function(){return null},getPerfLoggerProvider:function(){return null},getRepresentationCaptionsExpectedFromManifest:function(){return!1},getStreamType:function(){var a=b();return a==null?"progressive":h(a.hdSrc)||h(a.sdSrc)?"hls":"progressive"},getTargetAudioTrack:function(){return null},getUserSelectedVideoQuality:function(){var a;return(a=(a=b())==null?void 0:a.selectedQuality)!=null?a:"notselected"},getUserSelectedVideoVariant:function(){return null},getVideoProjectionType:function(){return"cubemap"},getVideoRepresentations:function(){return null},isDrm:function(){var a;return((a=b())==null?void 0:a.graphQLVideoDRMInfo)!=null},isFBIsLiveTemplated:function(){return!1},isFBMS:function(){return!1},isFBWasLive:function(){return!1},isLiveRewindAvailable:function(){return!1},isMixedCodecManifest:function(){return!1},isPredictiveDash:function(){return!1},setDimensions:function(a){},setEnableLiveheadCatchup:function(){},setLatencyLevel:function(){},setUserSelectedVideoQuality:a,setUserSelectedVideoVariant:function(a){}}}g.createVideoPlayerProgressiveImplementationEngineExtrasAPI=a}),98);
__d("VideoPlayerProgressiveImplementationEngineUtils",[],(function(a,b,c,d,e,f){"use strict";var g="hd",h="sd";function a(a){var b=[];a.sdSrc!=null&&b.push(h);a.hdSrc!=null&&b.push(g);var c=[],d=[],e=a.hdSrcPreferred&&a.hdSrc!=null?g:h;return babelHelpers["extends"]({},a,{availableAudioTracks:c,availableQualities:b,availableVideoTracks:d,playingAudioTrackID:null,playingQuality:null,playingSrc:null,selectedQuality:e,targetQuality:e,targetSrc:null})}function b(a,b){var c=a.hdSrc,d=a.sdSrc,e,f;b==="notselected"||b==="auto"?(e=d!=null?h:c!=null?g:h,f=d!=null?d:c!=null?c:null):b===g&&c!=null?(e=g,f=c):b===h&&d!=null?(e=h,f=d):(e=h,f=null);f===""&&(f=null);return babelHelpers["extends"]({},a,{selectedQuality:b,targetQuality:e,targetSrc:f})}function c(a,b,c){return babelHelpers["extends"]({},a,{playingQuality:b,playingSrc:c})}f.createResolvedVideoInfoProgressive=a;f.updatePlayingVideoInfoProgressiveWithUserSelectedQuality=b;f.updatePlayingVideoInfoProgressiveWithCurrentPlayingQuality=c}),66);
__d("videoUrlUtils",[],(function(a,b,c,d,e,f){"use strict";b=1<<31;var g=~b,h=b+1;function i(a){a=a|0;return Math.max(h,Math.min(a,g))}function j(a){a=Number.parseInt(a,16);return Number.isFinite(a)?new Date(i(a)*1e3):null}function k(){return i(Date.now()/1e3)}var l={OE:"oe"};function m(a){a=a instanceof URL?a.searchParams:new URL(a).searchParams;a=a.get(l.OE);a=a==null?void 0:j(a);return{expirationDate:a}}function a(a){a=m(a);a=a.expirationDate;return a!=null&&a<=new Date(k()*1e3)}f.DEFAULT_UNIXTIME=b;f.MAX_INT=g;f.parseCdnUrlParams=m;f.isCdnUrlExpired=a}),66);
__d("VideoPlayerProgressiveImplementationEngine",["FBLogger","Promise","UserAgent","VideoPlayerImplementationEngineAPI","VideoPlayerImplementationEngineVideoElementAPI","VideoPlayerImplementationErrors","VideoPlayerODS","VideoPlayerProgressiveImplementationEngineExtrasAPI","VideoPlayerProgressiveImplementationEngineUtils","cr:1473550","cr:1680308","emptyFunction","err","getErrorNameFromMediaErrorCode","getErrorSafe","gkx","promiseDone","unrecoverableViolation","videoUrlUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("emptyFunction");function j(a,b,c){var e=typeof a==="object"&&a!=null&&typeof a.name==="string"?a.name:null;return d("VideoPlayerImplementationErrors").createVideoPlayerErrorFromGenericError(["PROGRESSIVE_JAVASCRIPT_NATIVE",e].filter(Boolean).join("/"),a,b,c)}function a(a){var e=a.checkInDOM,f=a.debugLogId,g=a.handleFatalError,m=a.initialProps;a=a.setExposedStateInReact;var n={current:null},o={current:null},p={current:null},q={current:null},r=function(){var a=x(),e=o.current;if(a==null||e==null)return;a.addEventListener("error",function(){var e=a.error,f=e==null?void 0:e.code,g=c("getErrorNameFromMediaErrorCode")(f);f=e==null?void 0:e.message;var i=f==null||f===""?"Unknown media error":f,j=[],k=f!=null?d("VideoPlayerImplementationErrors").getMoreGranularErrorNameFromHTMLVideoElementErrorMessage(f):null,l=a.src;if(l!==""){var m=null;(h||(h=b("Promise"))).resolve().then(function(){return window.fetch(l)}).then(function(a){var b,c=a.status;b=(b=a.headers.get("Content-Type"))!=null?b:"unknown";i=i+". Fetched video content with Status:"+c+" Content-Type:"+b;m="URL_RESPONSE_HTTP_"+c;if(c<200||c>=300)return a.text().then(function(a){j.push(a.length.toString()),i+=" Body:%s:"+a.substr(0,200)+(a.length>200?"...":"")},function(){})})["catch"](function(a){if(typeof a==="object"&&a!=null&&typeof a.name==="string"&&typeof a.message==="string"){var b;m=(b=m)!=null?b:"URL_RESPONSE_FETCH_FAILED/"+a.name;i=i+". Failed fetching video content with error: "+a.name+" "+a.message}else{m=(b=m)!=null?b:"URL_RESPONSE_FETCH_FAILED";i=i+". Failed fetching video content with unknown error"}})["finally"](function(){var a=c("err").apply(void 0,[i].concat(j));a.name=[g,k,m].filter(Boolean).join("/");z(a,"progressive_implementation_error_with_more_info")})}else{e=c("err").apply(void 0,[i].concat(j));e.name=[g,k,"VIDEO_ELEMENT_SRC_EMPTY"].filter(Boolean).join("/");z(e,"progressive_implementation_error_with_empty_src")}});try{var f=e.audioOnly,g=e.graphQLVideoDRMInfo,i=e.videoFBID;f===!0&&(a.style.display="none");f=g?(f=g.fairplayCert)!=null?f:null:null;if(b("cr:1680308")&&g&&f!=null&&i!=null){q.current=b("cr:1680308").newIfSupported(f,a,i,g.videoLicenseUriMap);if(q.current==null){f=c("err")("Fairplay not supported");z(f,"progressive_player_fairplay_handler_missing")}else q.current.addListener("error",function(a){a=c("err")(a.error);z(a,"progressive_player_fairplay_handler_error")})}var j=d("VideoPlayerImplementationEngineVideoElementAPI").createVideoPlayerImplementationEngineVideoElementAPI(a);B.current=j;p.current=e;i=w();y({inbandCaptionsAutogeneratedFromManifest:u.getInbandCaptionsAutogeneratedFromManifest(),inbandCaptionsExpectedFromManifest:u.getInbandCaptionsExpectedFromManifest(),inbandCaptionsExpectedFromProps:i==null?void 0:i.inbandCaptionsExpectedFromProps,representationCaptionsExpectedFromManifest:u.getRepresentationCaptionsExpectedFromManifest(),sideLoadCaptionsExpectedFromProps:i==null?void 0:i.sideLoadCaptionsExpectedFromProps,sideLoadCaptionsUrlFromProps:i==null?void 0:i.sideLoadCaptionsUrlFromProps});A.dispatch({payload:{selectedVideoQuality:u.getUserSelectedVideoQuality(),streamingFormat:u.getStreamType()},type:"implementation_engine_initialized"});g=function(){j.setPlayheadPosition(m.startTimestamp)};c("UserAgent").isBrowser("IE11")?c("promiseDone")(j.getDOMLoadedMetadataPromise().then(g)):g()}catch(a){z(a,"progressive_player_create_exception")}},s=function(a,b){if(b==null)return!0;else if(a.videoFBID!==b.videoFBID){var c=14;d("VideoPlayerODS").bumpEntityKey("comet_video_player","ProgressiveImplementation.video_fbid_changed",c);return!1}else if(a.hdSrc!==b.hdSrc||a.sdSrc!==b.sdSrc){c=14;d("VideoPlayerODS").bumpEntityKey("comet_video_player","ProgressiveImplementation.src_changed",c);return!1}else return!1},t=function(a){var b;b={audioOnly:a.audioOnly,graphQLVideoDRMInfo:(b=a.graphQLVideoDRMInfo)!=null?b:null,hdSrc:a.hdSrc===""?null:(b=a.hdSrc)!=null?b:null,hdSrcPreferred:a.hdSrcPreferred,sdSrc:a.sdSrc===""?null:(b=a.sdSrc)!=null?b:null,videoFBID:a.videoFBID};if(!s(b,n.current))return!1;if(b.hdSrc==null&&b.sdSrc==null)throw c("unrecoverableViolation")("Empty hdSrc and sdSrc","comet_video_player");n.current=b;o.current=d("VideoPlayerProgressiveImplementationEngineUtils").createResolvedVideoInfoProgressive(b);r();return!0},u=d("VideoPlayerProgressiveImplementationEngineExtrasAPI").createVideoPlayerProgressiveImplementationEngineExtrasAPI({getPlayingVideoInfo:function(){if(c("gkx")("440")){var a,b=p.current;if(!b)return null;a=(a=B.current)==null?void 0:a.getUnderlyingVideoElement().currentSrc;return babelHelpers["extends"]({},b,{playingSrc:a!=null&&a!==""?a:null})}else return p.current},setUserSelectedVideoQuality:function(a){var b=p.current;if(!b)throw c("unrecoverableViolation")("Attempt to switch quality when playingVideoInfo does not exist","comet_video_player");var e=B.current;if(!e)throw c("unrecoverableViolation")("Attempt to switch quality when videoElementAPI does not exist","comet_video_player");p.current=d("VideoPlayerProgressiveImplementationEngineUtils").updatePlayingVideoInfoProgressiveWithUserSelectedQuality(b,a);var f=p.current.targetSrc;if(f===null){c("FBLogger")("comet_video_player").addMetadata("COMET_VIDEO","VIDEO_ID",m.videoFBID==null?"":String(m.videoFBID)).warn("Received null targetSrc from setUserSelectedVideoQuality, selectedQuality: %s",String(a));return}k(f,m.expiredVideoUrlRefreshHandler).then(function(a){var b;if(((b=p.current)==null?void 0:b.targetSrc)!==f)return;l(e.getUnderlyingVideoElement(),{crossOrigin:m.crossOrigin_DO_NOT_USE_UNLESS_YOU_KNOW_WHAT_YOURE_DOING},a);a=(b=A.getCurrentState().uncontrolledState.videoElementPlayheadPosition)!=null?b:0;a>0&&e.setPlayheadPosition(a);A.getCurrentState().controlledState.playbackState==="playing"&&e.play();A.dispatch({payload:{},type:"representation_changed"})})["catch"](function(a){var b;if(((b=p.current)==null?void 0:b.targetSrc)!==f)return;b=c("getErrorSafe")(a);c("FBLogger")("comet_video_player").addMetadata("COMET_VIDEO","VIDEO_ID",m.videoFBID==null?"":String(m.videoFBID)).catching(b).warn("Failed refreshing video URL with original error: %s",String(b))})}}),v=function(){q.current&&(q.current.destroy(),q.current=null)};e=d("VideoPlayerImplementationEngineAPI").createVideoPlayerImplementationEngine({checkInDOM:e,createDebugAPI:function(a){var c=a.getVideoElementAPI;a=a.logger;return b("cr:1473550")?b("cr:1473550").createVideoPlayerImplementationDebugAPI({engineExtrasAPI:u,getVideoElementAPI:c,logger:a}):null},createVideoPlayerError:function(a,b){return j(a,b,(a=p.current)==null?void 0:a.targetSrc)},debugLog:i,debugLogId:f,destroyEngineParts:function(){v()},engineExtrasAPI:u,engineMetadata:{isAbrEnabled:!1,playerVersion:"comet_progressive",streamingFormat:"progressive"},handleFatalError:g,handleVideoElementChanged:function(a){a!=null&&r()},handleVideoInfoChange:t,initialProps:m,setExposedStateInReact:a});f=e.engine;var w=e.getCaptionsInfo,x=e.getVideoElement,y=e.handleCaptionsInfoChange,z=e.handleFatalImplementationError,A=e.machine,B=e.videoElementAPIRef;return f}function k(a,e){if(c("gkx")("4621")&&e&&d("videoUrlUtils").isCdnUrlExpired(a))return e(a).then(function(a){var d;return(d=a.refreshedUrl)!=null?d:(h||(h=b("Promise"))).reject(c("err")("Failed refreshing URL"+(a.reason!==null?" with reason: "+a.reason:"")))});else return(h||(h=b("Promise"))).resolve(a)}function l(a,b,c){b=b.crossOrigin;if(c==null||c==="")a.removeAttribute("src");else{var d=a.playbackRate;a.setAttribute("src",c);var e=null;if(b!=null){try{e=new URL(c).origin}catch(a){}if(e!=null&&location.origin!==e)switch(b){case"anonymous":case"use-credentials":a.setAttribute("crossOrigin",b);break;default:a.removeAttribute("crossOrigin");break}}a.playbackRate=d}}g.createVideoPlayerProgressiveImplementationEngine=a;g.internal_setHTMLVideoElementSrc=l}),98);
__d("VideoPlayerProgressiveImplementationV2.react",["VideoPlayerImplementationEngineAPI","VideoPlayerProgressiveImplementationEngine"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=d("VideoPlayerImplementationEngineAPI").useVideoPlayerImplementationEngine(a,d("VideoPlayerProgressiveImplementationEngine").createVideoPlayerProgressiveImplementationEngine);a=a.reactVideoFrameAndComponents;return a}g["default"]=a}),98);
__d("usePolarisVideoImplementations",["VideoPlayerProgressiveImplementationData","VideoPlayerProgressiveImplementationV2.react","cr:1358","err"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var e=a.dashInfo,f=a.hdSrc,g=a.hdSrcPreferred,i=a.isAd,j=a.isLive;a=a.sdSrc;var k=[];i=(e=b("cr:1358")==null?void 0:b("cr:1358")({dashInfo:e,isAd:i,isLive:j}))!=null?e:[];j=i[0];e=i[1];j!=null&&k.push(j);j=d("VideoPlayerProgressiveImplementationData").makeProgressiveImplementationData({hdSrc:f,hdSrcPreferred:(i=g)!=null?i:!1,sdSrc:a});j instanceof Error||k.push({Component:c("VideoPlayerProgressiveImplementationV2.react"),data:j,typename:"VideoPlayerProgressiveImplementation"});k.length===0&&h(e);return k}function h(a){var b;a!=null?(b=c("err")("Cannot play video: "+a.message+" and no progressive URL is available"),a.name&&(b.name=a.name)):(b=c("err")("Cannot play video: No progressive URL is available"),b.name="VideoImplementationsNoProgressiveURL");b.project="comet_video_player";throw b}g["default"]=a}),98);
__d("PolarisVideo.react",["IGVideoMetadataProvider","PolarisConfig","PolarisContainerModuleUtils","PolarisNavChain","PolarisRoutePropUtils","PolarisVideoHelpers","VideoPlayerErrorBoundary.react","VideoPlayerSurface.react","VideoPlayerX.react","computeAspectRatio","defaultErrorBoundaryFallback","gkx","react","usePolarisAnalyticsContext","usePolarisVideoImplementations","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.c;function l(a){var b=k(39),e=a.adInfo,f=a.alt,g=a.autoplay,h=a.canAutoplay,l=a.children,n=a.dashInfo,o=a.hdSrc,p=a.hdSrcPreferred,q=a.isAd,r=a.isLive,s=a.loopCount,t=a.mediaId,u=a.originalHeight,v=a.originalWidth,w=a.ownerId,x=a.poster,y=a.renderVideoPixelsFit,z=a.sdSrc;a=a.trackingToken;n=c("gkx")("25417")&&n!=null?n:null;var A;b[0]!==n||b[1]!==o||b[2]!==p||b[3]!==q||b[4]!==r||b[5]!==z?(A={dashInfo:n,hdSrc:o,hdSrcPreferred:p,isAd:q,isLive:r,sdSrc:z},b[0]=n,b[1]=o,b[2]=p,b[3]=q,b[4]=r,b[5]=z,b[6]=A):A=b[6];n=c("usePolarisVideoImplementations")(A);b[7]!==g||b[8]!==h?(o=d("PolarisVideoHelpers").getVideoPlayerAutoplayProps(g,h),b[7]=g,b[8]=h,b[9]=o):o=b[9];p=o;b[10]!==v||b[11]!==u?(q=c("computeAspectRatio")(v,u),b[10]=v,b[11]=u,b[12]=q):q=b[12];r=q;A=c("usePolarisAnalyticsContext")();g=c("useStable")(m);h=j(d("PolarisRoutePropUtils").PolarisRoutePropContext);b[13]!==(h==null?void 0:h.routePropQE)?(o=h==null?void 0:h.routePropQE.getBool("is_ssr_enabled"),b[13]=h==null?void 0:h.routePropQE,b[14]=o):o=b[14];v=o;u=h==null?void 0:h.routeProp.getString("general_uuid");b[15]!==A?(q=d("PolarisContainerModuleUtils").getContainerModule(A),b[15]=A,b[16]=q):q=b[16];h=(o=e==null?void 0:e.tracking_token)!=null?o:a;A=e?"paid":"organic";b[17]!==w||b[18]!==q||b[19]!==g||b[20]!==h||b[21]!==A?(o={author_id:w,current_watching_module:q,nav_chain:g,tracking_token:h,tracking_type:A},b[17]=w,b[18]=q,b[19]=g,b[20]=h,b[21]=A,b[22]=o):o=b[22];a=v&&u!=null?t+u:void 0;if(b[23]!==l){w=(e=l)!=null?e:i.jsx(c("VideoPlayerSurface.react"),{});b[23]=l;b[24]=w}else w=b[24];b[25]!==o||b[26]!==f||b[27]!==v||b[28]!==n||b[29]!==s||b[30]!==x||b[31]!==y||b[32]!==z||b[33]!==t||b[34]!==r||b[35]!==a||b[36]!==p||b[37]!==w?(q=i.jsx(c("VideoPlayerX.react"),babelHelpers["extends"]({additionalSNAPLLogData:o,alt:f,bypassUseCometSizeError:v,createSNAPLMetadataProvider:d("IGVideoMetadataProvider").createIGVideoMetadataProvider,disableCVCSubscription:!d("PolarisConfig").isLoggedIn(),disableLoadingIndicator:!0,disableLogging:!1,disableVPLLogging:!0,doNotRenderErrorBoundaryIUnderstandIMustProvideMyOwn:!0,enableSNAPL:c("gkx")("3179"),implementations:n,loopCount:s,portalingEnabled:!1,poster:x,preloadForProgressiveDisabled:!0,renderVideoPixelsFit:y,seoWebCrawlerLookasideUrl:z,subOrigin:"inline",videoFBID:t,videoPixelsAspectRatio:r,videoPlayerUniqueIDOverride:a},p,{children:w})),b[25]=o,b[26]=f,b[27]=v,b[28]=n,b[29]=s,b[30]=x,b[31]=y,b[32]=z,b[33]=t,b[34]=r,b[35]=a,b[36]=p,b[37]=w,b[38]=q):q=b[38];return q}function m(){var a;return(a=c("PolarisNavChain").getInstance())==null?void 0:a.getNavChainForSend()}function a(a){return i.jsx(c("VideoPlayerErrorBoundary.react"),{description:"PolarisVideoX",fallback:c("defaultErrorBoundaryFallback"),children:i.jsx(l,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisLoggedOutVideo.react",["PolarisPostVideoPlayerLoggedOutSurface.react","PolarisPostVideoPlayerWrapper.react","PolarisVideo.react","PolarisVideoHelpers","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b,e,f=i(30),g,h,k,l;f[0]!==a?(h=a.analyticsContext,g=a.post,k=a.poster,l=babelHelpers.objectWithoutPropertiesLoose(a,["analyticsContext","post","poster"]),f[0]=a,f[1]=g,f[2]=h,f[3]=k,f[4]=l):(g=f[1],h=f[2],k=f[3],l=f[4]);if(f[5]!==g){a=(a=d("PolarisVideoHelpers").getSDVideoSrcFromPost(g))!=null?a:g.videoUrl;f[5]=g;f[6]=a}else a=f[6];a=a;var m;f[7]!==g?(m=d("PolarisVideoHelpers").getHDVideoSrcFromPost(g),f[7]=g,f[8]=m):m=f[8];m=m;var n=g.accessibilityCaption,o;f[9]!==g?(o=d("PolarisVideoHelpers").getDashInfoFromPost(g),f[9]=g,f[10]=o):o=f[10];b=(b=g.dimensions)==null?void 0:b.height;e=(e=g.dimensions)==null?void 0:e.width;var p;f[11]!==h||f[12]!==g||f[13]!==k||f[14]!==l?(p=j.jsx(c("PolarisPostVideoPlayerLoggedOutSurface.react"),babelHelpers["extends"]({analyticsContext:h,post:g,poster:k},l)),f[11]=h,f[12]=g,f[13]=k,f[14]=l,f[15]=p):p=f[15];f[16]!==g.accessibilityCaption||f[17]!==g.id||f[18]!==o||f[19]!==m||f[20]!==b||f[21]!==e||f[22]!==k||f[23]!==a||f[24]!==p?(l=j.jsx(c("PolarisVideo.react"),{alt:n,autoplay:!0,dashInfo:o,hdSrc:m,loopCount:0,mediaId:g.id,originalHeight:b,originalWidth:e,poster:k,sdSrc:a,children:p}),f[16]=g.accessibilityCaption,f[17]=g.id,f[18]=o,f[19]=m,f[20]=b,f[21]=e,f[22]=k,f[23]=a,f[24]=p,f[25]=l):l=f[25];f[26]!==h||f[27]!==g||f[28]!==l?(n=j.jsx(c("PolarisPostVideoPlayerWrapper.react"),{analyticsContext:h,post:g,children:l}),f[26]=h,f[27]=g,f[28]=l,f[29]=n):n=f[29];return n}g["default"]=a}),98);
__d("PolarisMobileOzConfigDefaults",[],(function(a,b,c,d,e,f){"use strict";a={oz_www_abr_use_download_time:!1,oz_www_allow_queueing_end_of_stream_when_update:!1,oz_www_append_last_segment_if_beyond_end:!1,oz_www_back_off_pdash_504_retry:!1,oz_www_bandwidth_ignore_on_stream_write_samples:!1,oz_www_bandwidth_use_response_time_adjustment:!1,oz_www_buffer_when_waiting:!1,oz_www_call_end_of_stream_in_quick_starter:!1,oz_www_cancel_tracker_on_append_error:!1,oz_www_check_buffer_range_once_for_playhead_update:!1,oz_www_cleanup_video_node_on_destroy:!1,oz_www_clear_buffer_when_switch_representation_initiator_is_user:!1,oz_www_convert_dom_exception_to_oz_error:!1,oz_www_copy_new_manifest:!1,oz_www_delay_stream_end_for_sourceended:!1,oz_www_detach_media_source_manager:!1,oz_www_disable_audio_scheduler:!1,oz_www_emit_stream_error_event:!1,oz_www_enable_abr_for_first_request:!1,oz_www_enable_adaptation:!0,oz_www_enable_appends_on_wait_update_end_failure:!1,oz_www_enable_network_manager_error:!1,oz_www_enable_quickdashv2:!1,oz_www_estimate_video_bandwidth_only:!1,oz_www_exclude_prefetch_bandwidth_samples:!0,oz_www_fallback_on_append_error:!1,oz_www_fix_abr_default_representation:!1,oz_www_fix_buffer_ahead_priority_strategy:!1,oz_www_fix_prefetch_xhr_http_status:!0,oz_www_fix_prepended_segments_tagging:!1,oz_www_fix_quick_starter_overhead:!0,oz_www_fix_reload_manifest_retry:!1,oz_www_fix_seek_performance:!1,oz_www_fix_setup_video_duration_on_representation_switch:!1,oz_www_fix_source_buffer_error_logging:!1,oz_www_fix_stream_deferred_cancel:!1,oz_www_fix_template_duration_artifact_in_manifest:!1,oz_www_generate_mos_segment_buffer_diff:!1,oz_www_handle_mpd_retries_outside_oz_mpd_updater:!1,oz_www_handle_switch_to_unparsed_representation_sidx:!0,oz_www_ignore_time_to_response_start:!1,oz_www_lazy_parse_sidx:!1,oz_www_listen_for_canplay_in_buffering_detector:!1,oz_www_live_audio_ibr:!0,oz_www_live_catch_up_only_when_paused:!1,oz_www_live_disable_mpd_updates_when_paused:!1,oz_www_live_gracefully_handle_410:!1,oz_www_live_gracefully_handle_mpd_errors:!1,oz_www_live_gracefully_handle_no_network:!1,oz_www_live_no_segment_when_playhead_is_before_first_segment:!1,oz_www_live_playhead_catch_up:!1,oz_www_live_query_time_in_range:!1,oz_www_load_video_node_on_unload:!1,oz_www_log_appended_secs:!1,oz_www_maybe_end_stream_if_prepended_segments:!1,oz_www_mpd_update_cancel_current_request_tracker:!1,oz_www_no_new_loop_body_promise_when_stream_ongoing:!1,oz_www_pausable_stream_throws_error_when_aborted:!1,oz_www_pdash_use_pdash_segmentlocator:!1,oz_www_playhead_manager_handle_timerange_update_on_timeupdate:!1,oz_www_prevent_unnecessary_seek_stream_anchor_reset:!1,oz_www_queue_data_with_error_handling:!1,oz_www_reach_end_only_when_video_ended:!1,oz_www_respect_initial_representation_on_setup:!1,oz_www_retry_fetch_on_prefetch_error:!1,oz_www_sbm_abort_on_readable_stream_error:!1,oz_www_sbm_check_source_buffer_ready_state_on_cancel:!1,oz_www_sbm_recursively_waits_for_update_end:!1,oz_www_sbm_waits_for_update_end:!0,oz_www_seek_ahead_use_native_current_time:!1,oz_www_seek_to_start_quick_starter:!1,oz_www_set_source_buffer_append_window_end:!1,oz_www_set_stream_anchor_only_on_done_status:!1,oz_www_skip_videobuffer_gaps:!0,oz_www_skip_videobuffer_gaps_on_buffer_updated:!1,oz_www_stable_buffered_timeranges_in_observedsourcebufferstate:!1,oz_www_stop_manifest_update_when_static:!1,oz_www_suppress_playing_event_while_buffering:!1,oz_www_throw_network_error_during_stream:!1,oz_www_throw_on_non_zero_r_d_mismatch:!1,oz_www_touch_cb_key:!1,oz_www_update_bandwidth_cache_on_sample:!1,oz_www_update_duration_when_init_appended:!1,oz_www_update_live_video_config_on_representation_switch:!1,oz_www_update_media_source_duration:!0,oz_www_use_abr_for_missing_default_representation:!1,oz_www_use_deferred_streaming_task:!1,oz_www_use_loose_manifest_updates:!1,oz_www_use_performance_entry_on_stream_close:!1,oz_www_use_sc_timebased_segments:!1,oz_www_use_scf_timebased_segments:!1,oz_www_use_scheduler:!0,oz_www_use_segment_request_cache:!1,oz_www_use_stream_end_time_in_segment_locator:!1,oz_www_xmlparser_use_domparser:!1};b={oz_www_abr_confidence_threshold:.9,oz_www_abr_eval_buffer_threshold:0,oz_www_abr_min_bandwidth_samples:0,oz_www_abr_prevent_down_switch_buffer_threshold:11,oz_www_abr_restrict_from_index:0,oz_www_abr_restrict_to_index:0,oz_www_append_byte_target_without_range:0,oz_www_appends_per_segment:3,oz_www_auto_seek_playhead_slack:0,oz_www_bandwidth_boundary_standard_deviation_factor:1,oz_www_bandwidth_estimator_half_life:6,oz_www_bandwidth_estimator_outlier_exclusion_factor:50,oz_www_bandwidth_estimator_std_dev_penalty_factor:0,oz_www_bandwidth_estimator_variance_penalty_down_factor:0,oz_www_bandwidth_estimator_variance_penalty_half_life:0,oz_www_bandwidth_estimator_variance_penalty_up_factor:0,oz_www_bandwidth_penalty_additional_video_start:0,oz_www_bandwidth_penalty_per_additional_video:0,oz_www_bandwidth_response_time_handicap:0,oz_www_buffer_ahead_target:19,oz_www_byte_count_per_sample:6e4,oz_www_default_bandwidth_estimate:5e5,oz_www_download_time_buffer_delta_penalty_factor:0,oz_www_in_play_buffer_overflow_target:1,oz_www_in_play_buffer_underflow_target:.1,oz_www_initial_manifest_request_retry_count:0,oz_www_initial_switch_interval:0,oz_www_live_audio_ibr_bandwidth_percentage:.05,oz_www_live_catch_up_fall_behind_threshold:20,oz_www_live_catch_up_live_head_delta:6,oz_www_live_max_try_attempts_on_404:1,oz_www_live_numerical_error_epsilon:0,oz_www_low_buffer_bandwidth_target_increase_factor:0,oz_www_low_buffer_bandwidth_target_threshold:10,oz_www_low_segment_stream_playhead_threshold:0,oz_www_max_bandwidth_sample_count:30,oz_www_max_start_eme_attempts:-1,oz_www_maximum_bandwidth_sample_bandwidth:2e6,oz_www_min_block_time_range_interval_ms:0,oz_www_min_eval_interval:1e3,oz_www_min_switch_interval:5e3,oz_www_minimum_bandwidth_sample_duration:30,oz_www_minimum_bytes_to_sample_on_close:25e3,oz_www_minimum_download_additional_buffer_ms:0,oz_www_network_seg_timeout_ms:0,oz_www_partial_playback_buffer_overflow:0,oz_www_paused_stream_segments_count:2,oz_www_per_stream_duration_target:0,oz_www_pixels_above_viewport_to_observe:0,oz_www_pixels_below_viewport_to_observe:0,oz_www_playhead_manager_timeupdate_throttle_ms:1e3,oz_www_playhead_nudge_slack:0,oz_www_pre_start_buffer_ahead_target:10,oz_www_prioritize_by_viewport_static_penalty:0,oz_www_resolution_constraint_factor:2,oz_www_sbm_read_timeout_ms:0,oz_www_seconds_to_stream:0,oz_www_seconds_to_stream_near_bandwidth_boundary:0,oz_www_seek_ahead_epsilon:0,oz_www_segments_to_stream:5,oz_www_segments_to_stream_near_bandwidth_boundary:5,oz_www_segments_to_stream_under_playhead_threshold:0,oz_www_skip_videobuffer_gaps_max_gap_size_sec:0,oz_www_start_buffer_underflow_target:.1,oz_www_stream_interrupt_check_mpd_stale_count_threshold:0,oz_www_tagged_time_range_per_append_throttle:0,oz_www_time_to_first_byte_estimate_half_life_ms:500,oz_www_timeline_offset_threshold:0};c={oz_www_bandwidth_cache_key:"bandwidthEstimate",oz_www_block_representation_status_codes_json:"[500]",oz_www_network_end_broadcasts_json:"[]",oz_www_network_reload_mpd_json:"[]",oz_www_network_retry_intervals_json:'{"0": 1000, "404": 2000, "502": 1000, "503": 1000, "504": 1000}',oz_www_network_skip_json:"[]",oz_www_stream_types_eligible_for_partial_playback:""};f.defaultBools=a;f.defaultNumbers=b;f.defaultStrings=c}),66);
__d("PolarisVideoLoggedOutAppUpsellOverlayBackdrop.react",["IGDSBox.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i,l={backdrop:function(a){return[{animationDuration:"x7v9bd0",animationName:"x127lhb5",backgroundColor:a==null?null:"xr5ldyu",containerType:"xpqogu8",height:"x5yr21d",start:"x17qophe",left:null,right:null,position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",$$css:!0},{"--backgroundColor":a!=null?a:void 0}]},blocking:{backgroundImage:"x11v4dcs",zIndex:"x1vjfegm",$$css:!0}};function a(a){var b=j(8),d=a.children,e=a.increaseOpacity;a=a.isBlocking;e=e===void 0?!1:e;a=a===void 0?!1:a;e=e===!0?"rgba(var(--web-always-black), 0.7)":"rgba(var(--web-always-black), 0.5)";var f;b[0]!==e||b[1]!==a?(f=(h||(h=c("stylex"))).props(l.backdrop(e),a&&l.blocking),b[0]=e,b[1]=a,b[2]=f):f=b[2];b[3]!==d?(e=k.jsx(c("IGDSBox.react"),{direction:"column",height:"100%",width:"100%",children:d}),b[3]=d,b[4]=e):e=b[4];b[5]!==f||b[6]!==e?(a=k.jsx("div",babelHelpers["extends"]({},f,{children:e})),b[5]=f,b[6]=e,b[7]=a):a=b[7];return a}g["default"]=a}),98);
__d("PolarisVideoLoggedOutAppUpsellOverlayCard.react",["PolarisIgLiteCarbonUpsellsUtils","PolarisLoggedOutCtaImpressionLogger","PolarisLoggedOutCtaLogger","PolarisRoutePropUtils","PolarisVideoLoggedOutAppUpsellOverlayBackdrop.react","deferredLoadComponent","react","requireDeferredForDisplay","usePolarisPageID"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useContext,k=b.useEffect,l=b.c,m=c("deferredLoadComponent")(c("requireDeferredForDisplay")("PolarisLoggedOutEndOfVideoUpsell.react").__setRef("PolarisVideoLoggedOutAppUpsellOverlayCard.react")),n=c("deferredLoadComponent")(c("requireDeferredForDisplay")("PolarisLoggedOutEndOfVideoUpsellRedesign.react").__setRef("PolarisVideoLoggedOutAppUpsellOverlayCard.react"));function a(a){var b=l(13);a=a.isReelsViewer;var e=a===void 0?!1:a,f=c("usePolarisPageID")();b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=d("PolarisIgLiteCarbonUpsellsUtils").isIgLiteCarbonUpsellsEligible(),b[0]=a):a=b[0];var g=a;a=j(d("PolarisRoutePropUtils").PolarisRoutePropContext);var h=(a==null?void 0:a.routePropQE.getBool("shouldShowEndOfVideoSignup"))===!0&&!e,o;b[1]!==f?(a=function(){d("PolarisLoggedOutCtaLogger").logLoggedOutCtaEvent({ctaType:"end_of_video_app_upsell",ctaVersion:g?"instagramlitecarbon":"",eventName:"impression",module:f}),d("PolarisLoggedOutCtaImpressionLogger").logLoggedOutCtaImpressionEvent("video_end",f)},o=[g,f],b[1]=f,b[2]=a,b[3]=o):(a=b[2],o=b[3]);k(a,o);b[4]!==e||b[5]!==h?(a=function(){return e||h?i.jsx(n,{isReelsViewer:e,shouldShowEndOfVideoSignup:h}):i.jsx(m,{})},b[4]=e,b[5]=h,b[6]=a):a=b[6];o=a;b[7]!==o?(a=o(),b[7]=o,b[8]=a):a=b[8];b[9]!==h||b[10]!==e||b[11]!==a?(o=i.jsx(c("PolarisVideoLoggedOutAppUpsellOverlayBackdrop.react"),{increaseOpacity:h,isBlocking:e,children:a}),b[9]=h,b[10]=e,b[11]=a,b[12]=o):o=b[12];return o}g["default"]=a}),98);
__d("TimeRanges",["invariant"],(function(a,b,c,d,e,f,g,h){a=function(){function a(a){this.$1=[],this.$1=a}var b=a.prototype;b.start=function(a){this.$1[a]||h(0,2205);return this.$1[a].startTime};b.end=function(a){this.$1[a]||h(0,2205);return this.$1[a].endTime};b.length=function(){return this.$1.length};return a}();g["default"]=a}),98);
__d("VideoPlayerCaptionsDisplayConfigContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({liveCaptionsTextAlignment:null,textSizeMapping:null});g["default"]=b}),98);
__d("VideoPlayerCaptionsDisplay.react",["VideoPlayerCaptionsDisplayConfigContext","VideoPlayerControlsBottomRowAddOnContext","VideoPlayerHooks","react","recoverableViolation","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react")),l=i.useContext,m={captionsCenterAlign:{justifyContent:"xl56j7k",textAlign:"x2b8uid",$$css:!0},captionsContainer:{bottom:"xfqi8uc",boxSizing:"x9f619",display:"x78zum5",justifyContent:"xl56j7k",position:"x10l6tqk",textAlign:"x2b8uid",transitionDuration:"xu6gjpd",transitionProperty:"x11xpdln",transitionTimingFunction:"x1r7x56h",width:"xh8yej3",$$css:!0},captionsLeftAlign:{justifyContent:"x1nhvcw1",textAlign:"x1yc453h",$$css:!0},captionsRightAlign:{justifyContent:"x13a6bvl",textAlign:"xp4054r",$$css:!0}},n={BIG:"25px",BIGGER:"30px",BIGGEST:"34px",DEFAULT:"17px",MEDIUM:"21px",SMALL:"13px",SMALLEST:"8px"},o={DARK:.75,DEFAULT:.45,LIGHT:.25,OPAQUE:1,TRANSPARENT:0},p={BLACK:"20, 22, 26",BLUE:"0, 0, 255",CYAN:"0, 255, 255",GREEN:"0, 255, 0",MAGENTA:"255, 0, 255",RED:"255, 0, 0",WHITE:"255, 255, 255",YELLOW:"255, 255, 0"};function q(a){switch(a){case"center":return m.captionsCenterAlign;case"left":return m.captionsLeftAlign;case"right":return m.captionsRightAlign;default:c("recoverableViolation")("Unsupported captions text alignment: "+a,"comet_video_player")}}function r(a,b,c){var d={},e=a.captionsBackgroundColor,f=a.captionsBackgroundOpacity,g=a.captionsTextColor;a=a.captionsTextSize;if(e!==null){f=f!==null?o[f]:1;d.backgroundColor="rgba("+p[e]+","+f+")"}g!==null&&(d.color="rgba("+p[g]+")");a!==null&&(d.fontSize=b!=null?babelHelpers["extends"]({},n,b)[a]:n[a]);c&&(d.marginBottom=35);return d}function a(a){var b=a.activeCaptions,e=a.adjustments;a=a.captionDisplayStyle;var f=b==null?void 0:b.rows,g=l(c("VideoPlayerCaptionsDisplayConfigContext")),i=g.liveCaptionsTextAlignment;g=g.textSizeMapping;var n=l(d("VideoPlayerControlsBottomRowAddOnContext").VideoPlayerControlsBottomRowAddOnContext);n=(n==null?void 0:n.getBottomRowAddOn())!=null;var o={};a&&(o=r(a,g,n));a=(j||(j=d("VideoPlayerHooks"))).useIsLive();b=(n=b==null?void 0:(g=b.styles)==null?void 0:g.textAlignment)!=null?n:"center";if(f!=null&&f.length>0){g=f.map(function(a){return a.trim()}).filter(function(a){return!!a});return g.length>0?k.jsx("div",{className:(h||(h=c("stylex")))(m.captionsContainer,q(a?(n=i)!=null?n:b:b)),style:{paddingLeft:e.left,paddingRight:e.right,transform:"translateY("+-e.bottom+"px)"},children:k.jsx("div",{className:"x18l40ae x14ctfv x1lkfr7t xk50ysn x37zpob xdj266r xv81d3b xat24cr x5jn1jc xulzisn x1msn8f2 x1uwfbks x1qobr7z",style:o,children:g.map(function(a,b){return k.jsxs("span",{children:[a,k.jsx("br",{})]},b)})})}):null}return null}a.displayName=a.name+" [from "+f.id+"]";b=k.memo(a);e=b;g["default"]=e}),98);
__d("useVideoPlayerCaptionsDisplayAdjustments",["VideoPlayerHooks","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useMemo;function a(){var a=(i||(i=d("VideoPlayerHooks"))).useVideoPlayerCaptionsReservations();return j(function(){var b={bottom:0,left:0,right:0,top:0};a.length>0&&a.forEach(function(a){b[a.location]+=a.size});return b},[a])}g["default"]=a}),98);
__d("VideoPlayerCaptions.react",["VideoPlayerCaptionsDisplay.react","VideoPlayerHooks","react","useVideoPlayerCaptionsDisplayAdjustments"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");function a(){var a=(i||(i=d("VideoPlayerHooks"))).useActiveCaptions(),b=c("useVideoPlayerCaptionsDisplayAdjustments")(),e=i.useCaptionDisplayStyle();return j.jsx(c("VideoPlayerCaptionsDisplay.react"),{activeCaptions:a,adjustments:b,captionDisplayStyle:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerCaptionsArea.react",["VideoPlayerCaptions.react","VideoPlayerContexts","VideoPlayerHooks","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react"));b=h;var l=b.useReducer,m=b.useState;function n(a,b){switch(b.type){case"reserve":return a.concat(b.reservation);case"release":return a.filter(function(a){return a!==b.reservation});default:return a}}function a(a){a=a.children;var b=l(n,[]),e=b[0],f=b[1];b=m({release:function(a){f({reservation:a,type:"release"})},reserve:function(a){f({reservation:a,type:"reserve"});return a}});b=b[0];var g=(i||(i=d("VideoPlayerHooks"))).useCaptionsVisible();return k.jsx((j||(j=d("VideoPlayerContexts"))).VideoPlayerCaptionsReservationActionsContext.Provider,{value:b,children:k.jsxs(j.VideoPlayerCaptionsReservationsContext.Provider,{value:e,children:[g?k.jsx(c("VideoPlayerCaptions.react"),{}):null,a]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerImplementationLoadSequenceManager",["setTimeout"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=[],this.$2=[]}var b=a.prototype;b.schedule=function(a,b,d){var e=this,f={load:d,maximumBlockTimeMs:a.getNumber("load_sequence_max_delay_ms",0),sequence:b},g=a.getNumber("load_sequence_only_prioritize_first_count",0);g>0?d=!this.$2.find(function(a){return a.sequence<g}):d=!this.$2.find(function(a){return a.sequence<b});d?this.$3(f):(this.$1.push(f),c("setTimeout")(function(){return e.$4(f)},f.maximumBlockTimeMs));return function(){return e.$5(f)}};b.$4=function(a){var b=this.$1.find(function(b){return b===a});b&&(this.$1=this.$1.filter(function(b){return b!==a}),this.$3(b))};b.$3=function(a){var b=this;this.$2.push(a);a.load().then(function(){return b.$6(a)})["catch"](function(c){b.$6(a);throw c});c("setTimeout")(function(){return b.$6(a)},a.maximumBlockTimeMs)};b.$7=function(){var a=this,b=Math.min.apply(Math,this.$1.map(function(a){return a.sequence})),c=this.$1.filter(function(a){return a.sequence===b});c.forEach(function(b){return a.$4(b)})};b.$5=function(a){this.$1=this.$1.filter(function(b){return b!==a})};b.$6=function(a){if(!this.$2.find(function(b){return b===a}))return;this.$2=this.$2.filter(function(b){return b!==a});var b=!!this.$2.find(function(b){return b.sequence===a.sequence});b&&this.$7()};return a}();b=new a();d=b;g["default"]=d}),98);
__d("getAvailableMimeCodecsFromDashManifest",[],(function(a,b,c,d,e,f){"use strict";function g(a){var b=/^(audio|video)\/.*$/;return b.test(a)}function a(a){var b=[],c=window.MediaSource;if(a!=null){var d=/mimeType=\"([^\"]*)\"[^\>]*codecs=\"([^\"]*)\"/g,e=/codecs=\"([^\"]*)\"[^\>]*mimeType=\"([^\"]*)\"/g,f,h=[];while(f=d.exec(a))h.push([f[1],f[2]]);while(f=e.exec(a))h.push([f[2],f[1]]);for(d=0;d<h.length;d++){f=h[d];a=f[0];e=f[1];f=a+'; codecs="'+e+'"';var i=a.startsWith("audio")?"audio":a.startsWith("video")?"video":"other",j=!0,k=!1;g(f)&&(k=!0,j=c?c.isTypeSupported(f):!1);b.push({codecs:e,isRequiredForPlayback:k,isTypeSupported:j,mimeCodec:f,mimeType:a,representationType:i})}}return b}f["default"]=a}),66);
__d("VideoPlayerOzImplementationData",["err","getAvailableMimeCodecsFromDashManifest"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.canUseOz,d=a.dashManifestUrl,e=a.dashManifestUrlOverride_DO_NOT_USE,f=a.dashManifestXmlString,g=a.experimentationConfig,h=a.initialAudioUserPreferredLanguage;a=a.minQualityPreference;if(b!==!0){var i=c("err")("canUseOz="+String(b));i.name="GotCanUseOz/"+String(b);return i}b=e!=null?null:f==null||f===""?null:f;i=e!=null?e:d==null||d===""?null:d;if(b==null&&i==null){f=c("err")("Got no manifest XML and no URL to it");f.name="GotNoManifestOrURL";return f}if(!window.MediaSource){e=c("err")("window.MediaSource is missing");e.name="GotMissingMediaSourceAPI";return e}if(b!=null){d=c("getAvailableMimeCodecsFromDashManifest")(b).filter(function(a){return a.isRequiredForPlayback});f=d.filter(function(a){return!a.isTypeSupported});if(f.length>0){e=c("err")("%s out of %s codecs in DASH manifest required for playback are unsupported: %s",String(f.length),String(d.length),d.map(function(a){return a.mimeType+"/"+a.codecs+"="+(a.isTypeSupported?"yes":"no")}).join(", "));e.name="GotManifestWithUnsupportedCodecs";return e}}return{experimentationConfig:g,initialAudioUserPreferredLanguage:(f=h)!=null?f:null,initialVideoVariant:{lang:(d=h)!=null?d:null,role:null},manifest:b,manifestUrl:i,minQualityPreference:(e=a)!=null?e:null}}g.makeOzImplementationData=a}),98);
__d("handleVideoPlayerLatencyLevelChange",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){if(a&&b&&c){var e=a.getAllContexts().latency_level;c=[];try{c=JSON.parse(a.getString("seek_on_latency_level_change_allowed","[]"))}catch(a){}c=c.some(function(a){return a.length===2&&a[0]===e&&a[1]===d});a.setContext("latency_level",d);if(!c)return;c=b.getDuration();c=c!=null?c+a.getNumber("live_initial_playback_position",0):null;c!=null&&b.setPlayheadPosition(c)}}f["default"]=a}),66);
__d("VideoPlayerOzImplementationEngineExtrasAPI",["VideoPlayerOzWWWGlobalConfig","emptyFunction","gkx","handleVideoPlayerLatencyLevelChange","oz-player/networks/OzBandwidthEstimator"],(function(a,b,c,d,e,f,g){"use strict";b=c("emptyFunction");function h(a){return(a=a.getSelectedVideoQuality())!=null?a:""}function i(a){a=a.getCurrentPlayingAudioTrackID();return a==null?null:a}function j(a){a=a.getCurrentVideoRepresentation();return a==null?"":a.getDisplayLabel()}function k(a){a=a.getIsVideoQualityAdaptationEnabled()?"auto":(a=a.getSelectedVideoQuality())!=null?a:"auto";return a}function l(a){return a.getTargetAudioTrack()}function m(a){return(a=(a=a.getMpd())==null?void 0:a.getCustomField("fbProjection"))!=null?a:null}function n(a,b){var c=k(a);if(b==="notselected"||b===c)return!1;else if(b==="auto"){a.enableVideoQualityAdaptation();return!0}else if(b!==a.getSelectedVideoQuality()){c=b;a.switchToVideoQuality(c);return!0}else return!1}function o(a,b){b=b;a.switchToVideoVariant(b)}function a(a){var b=a.getConfig,d=a.getOzPlayer,e=a.getVideoElementAPI;a={getApproximateFBLSToPlayerDisplayLatency:function(){var a;return(a=(a=d())==null?void 0:a.getApproximateFBLSToPlayerDisplayLatency())!=null?a:null},getAvailableAudioTracks:function(){var a;a=(a=d())==null?void 0:a.getAudioTracks();if(!a)return[];a=a.map(function(a){return{displayLabel:a.displayLabel,id:a.id,lang:a.lang,role:a.role}});return a},getAvailableVideoQualities:function(){var a;return(a=(a=d())==null?void 0:a.getVideoQualities())!=null?a:[]},getAvailableVideoTracks:function(){var a;a=(a=d())==null?void 0:a.getVideoTracks();if(!a)return[];a=a.map(function(a){return{codec:a.codec,codecFamily:a.codecFamily,displayLabel:a.displayLabel,height:a.height,id:a.id,qualityLabel:a.qualityLabel,width:a.width}});return a},getCurrentAudioRepresentation:function(){var a;return(a=(a=d())==null?void 0:a.getCurrentAudioRepresentation())!=null?a:null},getCurrentPlayingAudioRepresentationID:function(){var a=d();return a?i(a):null},getCurrentPlayingAudioTrackID:function(){var a=d();return a?i(a):null},getCurrentPlayingVideoQuality:function(){var a=d();return a?j(a):""},getCurrentPlayingVideoRepresentationID:function(){var a;return(a=(a=d())==null?void 0:(a=a.getCurrentVideoRepresentation())==null?void 0:a.getID())!=null?a:null},getCurrentTargetVideoQuality:function(){var a=d();return a?h(a):""},getCurrentVideoRepresentation:function(){var a;return(a=(a=d())==null?void 0:a.getCurrentVideoRepresentation())!=null?a:null},getEstimatedBandwidth:function(){return c("oz-player/networks/OzBandwidthEstimator").getBandwidth(c("VideoPlayerOzWWWGlobalConfig"))},getInbandCaptionsAutogeneratedFromManifest:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("hasInbandCaptionsFromUsingASRCaptions"))},getInbandCaptionsExpectedFromManifest:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("hasInbandCaptionsFromUsingASRCaptions"))||Boolean(a==null?void 0:a.getCustomField("hasInbandCaptionsFromAccessibility"))},getManifestIdentifier:function(){var a;a=(a=d())==null?void 0:(a=a.getMpd())==null?void 0:a.getCustomField("fbManifestIdentifier");return a!=null?String(a):null},getMpdValidationErrors:function(){var a;a=(a=d())==null?void 0:(a=a.getMpd())==null?void 0:a.getCustomField("validationErrors");return a!=null?String(a):null},getPerfLoggerProvider:function(){var a=d();return a?a.getPerfLoggerProvider():null},getRepresentationCaptionsExpectedFromManifest:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("hasVTTRepresentationCaptions"))},getStreamType:function(){return"dash"},getTargetAudioTrack:function(){var a=d();return a?l(a):null},getUserSelectedVideoQuality:function(){var a=d();return a?k(a):""},getUserSelectedVideoVariant:function(){var a=d();return(a=a==null?void 0:a.getTargetVideoVariant())!=null?a:null},getVideoProjectionType:function(){var a=d();return a!=null?m(a):null},getVideoRepresentations:function(){var a;return(a=(a=d())==null?void 0:(a=a.getMpd())==null?void 0:a.getVideoRepresentations())!=null?a:null},isDrm:function(){var a;return Boolean((a=d())==null?void 0:a.isDrm())},isFBIsLiveTemplated:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("isLiveTemplated"))},isFBMS:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("isFBMS"))},isFBWasLive:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("isFBWasLive"))},isLiveRewindAvailable:function(){var a;a=(a=(a=d())==null?void 0:a.getMpdUrl())!=null?a:"";try{return(a=(a=new URL(a).searchParams.get("ms"))==null?void 0:a.includes("m_CT"))!=null?a:!1}catch(a){}return!1},isMixedCodecManifest:function(){var a,b;a=(a=d())==null?void 0:a.getMpd();if(a==null)return null;a=(a=a.getVideoRepresentations())!=null?a:[];a=new Set(a.map(function(a){return/codecs=\"([^\".]+)/i.exec(a.getMimeCodecs())}));b=(b=(b=d())==null?void 0:(b=b.getMpd())==null?void 0:b.getAudioRepresentations())!=null?b:[];b=new Set(b.map(function(a){return/codecs=\"([^\".]+)/i.exec(a.getMimeCodecs())}));return a.size>1||b.size>1},isPredictiveDash:function(){var a;a=(a=(a=d())==null?void 0:(a=a.getMpd())==null?void 0:a.getVideoRepresentations()[0])!=null?a:null;return a!==null&&a.canPredict()},setDimensions:function(a){},setEnableLiveheadCatchup:function(a){var b=d();b!=null&&b.setEnableLiveheadCatchup(a)},setLatencyLevel:function(a){c("handleVideoPlayerLatencyLevelChange")(b(),e(),d(),a)},setUserSelectedVideoQuality:function(a){var b=d();b!=null&&n(b,a)},setUserSelectedVideoVariant:function(a){var b=d();b!=null&&a!=null&&o(b,a)}};return a}g.createVideoPlayerOzImplementationEngineExtrasAPI=a}),98);
__d("oz-player/shims/www/OzDOMEventListenerWWW",["OzDOMEventListenerImpl"],(function(a,b,c,d,e,f){"use strict";a=b("OzDOMEventListenerImpl");f["default"]=a}),66);
__d("oz-player/shims/OzDOMEventListener",["oz-player/shims/www/OzDOMEventListenerWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/OzDOMEventListenerWWW")}),98);
__d("oz-player/shims/www/OzSubscriptionsHandlerWWW",["SubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("SubscriptionsHandler")}),98);
__d("oz-player/shims/OzSubscriptionsHandler",["oz-player/shims/www/OzSubscriptionsHandlerWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/OzSubscriptionsHandlerWWW")}),98);
__d("oz-player/shims/www/ozThrottleWWW",["throttle"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("throttle")}),98);
__d("oz-player/shims/ozThrottle",["oz-player/shims/www/ozThrottleWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/ozThrottleWWW")}),98);
__d("oz-player/strategies/OzBufferingDetectorStates",["oz-player/utils/OzBufferingUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){function a(a,b,c){this.$1=a,this.$2=b,this.$3=c}var b=a.prototype;b.handleEvent=function(a,b,c){if(a.type==="pause"||b.paused)return new i(this.$1,this.$2);a=this.$3 instanceof j?this.$1.getInPlayBufferOverflowTarget():this.$1.getStartBufferUnderflowTarget();return d("oz-player/utils/OzBufferingUtils").hasEnoughBuffer(b,a,c)?new j(this.$1,this.$2):this};return a}(),i=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.handleEvent=function(a,b,c){return a.type==="play"||a.type==="playing"||!b.paused?d("oz-player/utils/OzBufferingUtils").hasEnoughBuffer(b,this.$1.getStartBufferUnderflowTarget(),c)?new j(this.$1,this.$2):new h(this.$1,this.$2,this):this};return a}(),j=function(){function a(a,b){this.$1=a,this.$2=b,this.$3=b.getString("stream_types_eligible_for_partial_playback","").split(",")}var b=a.prototype;b.handleEvent=function(a,b,c,e){e===void 0&&(e=new Map());if(a.type==="pause"||b.paused)return new i(this.$1,this.$2);return!d("oz-player/utils/OzBufferingUtils").hasEnoughBuffer(b,this.$1.getInPlayBufferUnderflowTarget(),c)&&!this.$4(a,b.currentTime,e)?new h(this.$1,this.$2,this):this};b.$4=function(a,b,c){return a.type==="waiting"?!1:d("oz-player/utils/OzBufferingUtils").hasEnoughPartialBuffer(b,c,this.$3,this.$2.getNumber("partial_playback_buffer_overflow",0))};return a}();g.OzVideoBufferingState=h;g.OzVideoPausedState=i;g.OzVideoPlayingState=j}),98);
__d("oz-player/strategies/OzBufferingStateThresholdManager",["oz-player/shims/OzPerformance","oz-player/utils/OzBufferingUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$2=!1,this.$3=-Infinity,this.$4=-Infinity,this.$1=a}var b=a.prototype;b.getInPlayBufferUnderflowTarget=function(){return this.$1.getNumber("in_play_buffer_underflow_target",d("oz-player/utils/OzBufferingUtils").BUFFER_UNDERFLOW_THRESHOLD)};b.getInPlayBufferOverflowTarget=function(){if(this.$5())return this.$1.getNumber("stream_interrupt_in_play_buffer_overflow_target",d("oz-player/utils/OzBufferingUtils").BUFFER_UNDERFLOW_THRESHOLD);return c("oz-player/shims/OzPerformance").now()-this.$4<this.$1.getNumber("recent_buffer_timeout_ms",0)?this.$1.getNumber("recent_buffer_in_play_buffer_overflow_target",d("oz-player/utils/OzBufferingUtils").BUFFER_UNDERFLOW_THRESHOLD):this.$1.getNumber("in_play_buffer_overflow_target",d("oz-player/utils/OzBufferingUtils").BUFFER_OVERFLOW_THRESHOLD)};b.getStartBufferUnderflowTarget=function(){return this.$1.getNumber("start_buffer_underflow_target",d("oz-player/utils/OzBufferingUtils").BUFFER_UNDERFLOW_THRESHOLD)};b.notifyBufferingEnd=function(){this.$4=c("oz-player/shims/OzPerformance").now()};b.notifyStreamInterrupted=function(){this.$2=!0};b.notifyStreamResumed=function(){this.$2=!1,this.$3=c("oz-player/shims/OzPerformance").now()};b.$5=function(){var a=this.$1.getNumber("stream_interrupt_buffer_target_timeout_ms",0);return a===0?!1:this.$2||c("oz-player/shims/OzPerformance").now()-this.$3<a};return a}();g["default"]=a}),98);
__d("oz-player/strategies/OzBufferingDetector",["oz-player/shims/OzDOMEventListener","oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozThrottle","oz-player/strategies/OzBufferingDetectorStates","oz-player/strategies/OzBufferingStateThresholdManager","oz-player/utils/OzBufferingUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=150;a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,e,f){var g;g=a.call(this)||this;g.$OzBufferingDetector$p_3=new(c("oz-player/shims/OzSubscriptionsHandler"))();g.$OzBufferingDetector$p_6=new Map();g.$OzBufferingDetector$p_8=null;g.$OzBufferingDetector$p_9=function(a){g.$OzBufferingDetector$p_11(a)};g.$OzBufferingDetector$p_2=b;g.$OzBufferingDetector$p_4=e;g.$OzBufferingDetector$p_5=f;g.$OzBufferingDetector$p_7=new(c("oz-player/strategies/OzBufferingStateThresholdManager"))(e);g.$OzBufferingDetector$p_2.paused?g.$OzBufferingDetector$p_1=new(d("oz-player/strategies/OzBufferingDetectorStates").OzVideoPausedState)(g.$OzBufferingDetector$p_7,g.$OzBufferingDetector$p_4):g.$OzBufferingDetector$p_1=d("oz-player/utils/OzBufferingUtils").hasEnoughBuffer(g.$OzBufferingDetector$p_2,g.$OzBufferingDetector$p_7.getInPlayBufferUnderflowTarget(),g.$OzBufferingDetector$p_5())?new(d("oz-player/strategies/OzBufferingDetectorStates").OzVideoPlayingState)(g.$OzBufferingDetector$p_7,g.$OzBufferingDetector$p_4):new(d("oz-player/strategies/OzBufferingDetectorStates").OzVideoBufferingState)(g.$OzBufferingDetector$p_7,g.$OzBufferingDetector$p_4,null);g.$OzBufferingDetector$p_3.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector$p_2,"pause",g.$OzBufferingDetector$p_9),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector$p_2,"play",g.$OzBufferingDetector$p_9),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector$p_2,"progress",c("oz-player/shims/ozThrottle")(g.$OzBufferingDetector$p_9,h)),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector$p_2,"timeupdate",c("oz-player/shims/ozThrottle")(g.$OzBufferingDetector$p_9,h)),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector$p_2,"seeked",g.$OzBufferingDetector$p_9),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector$p_2,"seeking",g.$OzBufferingDetector$p_9),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector$p_2,"waiting",g.$OzBufferingDetector$p_9));g.$OzBufferingDetector$p_3.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector$p_2,"canplay",g.$OzBufferingDetector$p_9),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector$p_2,"canplaythrough",g.$OzBufferingDetector$p_9));return g}var e=b.prototype;e.$OzBufferingDetector$p_10=function(){var a=this,b="unavailable",c=this.$OzBufferingDetector$p_7.getInPlayBufferUnderflowTarget();this.$OzBufferingDetector$p_6.forEach(function(e,f){var g=a.$OzBufferingDetector$p_2.currentTime;d("oz-player/utils/OzBufferingUtils").hasBuffer(g,c,e)||(b=b==="unavailable"?f:"audio/video")});return b};e.setSourceBufferState=function(a,b){this.$OzBufferingDetector$p_6.set(a,b)};e.$OzBufferingDetector$p_11=function(a){var b=this.$OzBufferingDetector$p_1.handleEvent(a,this.$OzBufferingDetector$p_2,this.$OzBufferingDetector$p_5(),this.$OzBufferingDetector$p_6),c=this.$OzBufferingDetector$p_1;this.$OzBufferingDetector$p_1=b;var e=b instanceof d("oz-player/strategies/OzBufferingDetectorStates").OzVideoBufferingState,f=c instanceof d("oz-player/strategies/OzBufferingDetectorStates").OzVideoBufferingState;if(b===c){e&&this.$OzBufferingDetector$p_8&&this.$OzBufferingDetector$p_8.cloneContext().getOperationLogger("buffering_handle_event").setInitiator(a.type).log();return b}if(e){e=c instanceof d("oz-player/strategies/OzBufferingDetectorStates").OzVideoPlayingState?"in_play":"start/unpause";this.$OzBufferingDetector$p_8&&this.$OzBufferingDetector$p_8.cloneContext().getOperationLogger("enter_buffering").setState("buffering").setType(e).setReason(this.$OzBufferingDetector$p_10()).setInitiator(a.type).log();this.emit("enterBuffering",e)}else f&&(this.$OzBufferingDetector$p_8&&this.$OzBufferingDetector$p_8.cloneContext().getOperationLogger("leave_buffering").setInitiator(a.type).log(),this.$OzBufferingDetector$p_7.notifyBufferingEnd(),this.emit("leaveBuffering",{domEventPerfTimestamp:a.timeStamp}));return b};e.notifyStreamInterrupted=function(){this.$OzBufferingDetector$p_7.notifyStreamInterrupted()};e.notifyStreamResumed=function(){this.$OzBufferingDetector$p_7.notifyStreamResumed()};e.attachPerfLoggerProvider=function(a){this.$OzBufferingDetector$p_8=a};e.destroy=function(){this.$OzBufferingDetector$p_3.release()};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("VideoPlayerOzImplementationEnginePartsImplUtils",["OzSystemicRiskABRManager","OzWidevineDrmProvider","cr:9984","gkx","justknobx","oz-player/networks/OzBandwidthEstimator","oz-player/strategies/OzBufferingDetector"],(function(a,b,c,d,e,f,g){"use strict";var h=/(livestream-)?lookaside\.(facebook|workplace)\.com$/;function a(a){return h.test(a.getDomain())}function d(a,b,d,e,f,g){if(f.current!=null)return;var h=!0,i=function(){if(h)return!1;f.current!==j;return!1},j=new(c("oz-player/strategies/OzBufferingDetector"))(a,d,function(){var a=e.getCurrentState();a=a.controlledState;return a.streamEnded?b.getDuration():Infinity});f.current=j;h=!1;a=function(a){if(i())return;e.dispatch({payload:{bufferingType:a},type:"buffering_begin_requested"});a=d.getNumber("ull_fallback_stall_count",0);if(a>0){var b=g.getLoggerState().stallCountTotal;d.getBool("fix_ull_fallback_stall_count",!1)&&(b=g.getLoggerState().inPlayStallCount200ms);e.getCurrentState().controlledState.latencyLevel==="ultra-low"&&b>a&&e.dispatch({payload:{latencyLevel:"low",ullIneligibilityReason:null},type:"implementation_set_latency_level_requested"})}};var k=function(a){if(i())return;e.dispatch({payload:{domEventPerfTimestamp:a.domEventPerfTimestamp},type:"buffering_end_requested"})};j.addListener("enterBuffering",a);j.addListener("leaveBuffering",k)}function e(a){var b=a.accessToken,d=a.graphQLVideoDRMInfo;a=a.videoFBID;var e=[];if(d&&a!=null){var f=c("justknobx")._("717")?null:d.widevineCert;e.push(new(c("OzWidevineDrmProvider"))(a,d.graphApiVideoLicenseUri,d.videoLicenseUriMap,b,(a=f)!=null?a:null))}return e}function f(a){var b=a.VideoPlayerShakaPerformanceLoggerClass,c=a.accessToken,d=a.disableLogging,e=a.getApproximateFBLSToPlayerDisplayLatency,f=a.getBandwidthEstimate,g=a.getPlayerDimensions,h=a.getPlayerFormat,i=a.playbackIsLiveStreaming,j=a.playerInstanceCount,k=a.playerInstanceKey,l=a.playerSuborigin,m=a.playerVersion,n=a.videoElement,o=a.videoFBID;a=a.videoPlayerShakaPerformanceLoggerBuilder;if(d||!a&&(!b||!b.shouldInitialize()))return[];c={accessToken:c,getApproximateFBLSToPlayerDisplayLatency:e,getBandwidthEstimate:f,getPlayerDimensions:g,getPlayerFormat:h,isLive:i,isServableViaFbms:!1,playerInstanceCount:j,playerOrigin:null,playerSuborigin:l,playerVersion:m,representationId:null,uniqueID:k,video:n,videoID:(d=o)!=null?d:""};return a!=null?[a.build(c)]:b?[new b(c)]:[]}function i(a,b){return b>0?b/1e3*-1:a.getNumber("live_initial_playback_position",0)}function j(a,b,c){return b>0&&c>0?(b+c)/1e3:a.getNumber("livehead_fall_behind_block_threshold",0)}function k(a,b){return b>0?b/2/1e3:a.getNumber("live_time_range_block_margin",0)}function l(a){return function(d,e,f,g,h,i,j,k,l){return!a&&b("cr:9984")!=null?new(b("cr:9984"))(d,e,f,g,h,i,j,k,l):d.getLegacyConfig().getBool("use_systemic_risk_abr",!1)?new(c("OzSystemicRiskABRManager"))(d,e,f,g,h,i,j,k,l):null}}function m(a,b){var d=b.experimentationConfig,e=b.getCurrentVideoRepresentation,f=b.getOzCDNSignedQueryParams,g=b.isClientTriggeredTraceEnabled,h=b.playbackIsLiveStreaming,i=b.playbackSessionId;b=b.shouldRefresh403;var j=a.getQueryData(),k;if(h){k={};if(d.getBool("server_side_abr_send_client_estimates",!1)){var l=c("oz-player/networks/OzBandwidthEstimator").getBandwidthDiagnostics(d);l&&(k=babelHelpers["extends"]({},k,{_nc_bwe:String(l.bandwidthEstimate),_nc_bwe_std:String(l.bandwidthStandardDeviation),_nc_ttfb:String(l.timeToFirstByteMsEstimate),_nc_ttfb_std:String(l.timeToFirstByteMsStandardDeviation)}));l=e();l&&(k=babelHelpers["extends"]({},k,{_nc_abr_bitrate:String(l.getBandwidth()),_nc_abr_qlabel:l.getDisplayLabel()}))}}e=d.getNumber("live_video_chunk_duration",0);l=d.getBool("use_bandwidth_estimate_from_headers_in_abr",!1);d=l?c("oz-player/networks/OzBandwidthEstimator").hasRecentBandwidthEstimateFromHeader():!1;h&&e>0&&d&&(k=babelHelpers["extends"]({},k,{chk_dur:e.toString(10)}));c("gkx")("24354")&&(j.uss!=null&&j.odm!=null&&(k=babelHelpers["extends"]({},k,{manual_redirect:"1"})));g&&(k=babelHelpers["extends"]({},k,{_nc_psid:i}));if(b){l=f();if(l!=null){h=a.getDomain()+a.getPath();d=l.get(h);if(d!=null)for(e in d){k=babelHelpers["extends"]({},k,(j={},j[e]=d[e],j))}}}return k}g.checkShouldIncludeCredentials=a;g.createOzBufferingDetector=d;g.createOzDrmProviders=e;g.createOzPerfLoggerProviders=f;g.calculateInitialPlaybackPositionForDynamicMpd=i;g.calculateLiveheadFallBehindBlockThreshold=j;g.calculateLiveheadFallBehindBlockMargin=k;g.getVideoAbrManagerFactory=l;g.getCustomRequestParametersForURI=m}),98);
__d("getOzPlaybackRestrictions",["OzMinimumSmallestDimensionRestriction","OzMosThresholdRestriction","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=[];switch(a){case"HD":d.push(new(c("OzMinimumSmallestDimensionRestriction"))(720));break;case"UHD":c("gkx")("24263")&&d.push(new(c("OzMinimumSmallestDimensionRestriction"))(1080));break;default:break}a=b.getNumber("mos_upper_threshold",0);var e=b.getNumber("mos_lower_threshold",0);(a>0||e>0)&&d.push(new(c("OzMosThresholdRestriction"))(b));return d}g["default"]=a}),98);
__d("str2rstr",[],(function(a,b,c,d,e,f){function a(a){var b="",c,d;for(var e=0;e<a.length;e++)c=a.charCodeAt(e),d=e+1<a.length?a.charCodeAt(e+1):0,55296<=c&&c<=56319&&56320<=d&&d<=57343&&(c=65536+((c&1023)<<10)+(d&1023),e++),c<=127?b+=String.fromCharCode(c):c<=2047?b+=String.fromCharCode(192|c>>>6&31,128|c&63):c<=65535?b+=String.fromCharCode(224|c>>>12&15,128|c>>>6&63,128|c&63):c<=2097151&&(b+=String.fromCharCode(240|c>>>18&7,128|c>>>12&63,128|c>>>6&63,128|c&63));return b}f["default"]=a}),66);
__d("md5",["str2rstr"],(function(a,b,c,d,e,f,g){function h(a,b){var c=a[0],d=a[1],e=a[2],f=a[3];c=j(c,d,e,f,b[0],7,-680876936);f=j(f,c,d,e,b[1],12,-389564586);e=j(e,f,c,d,b[2],17,606105819);d=j(d,e,f,c,b[3],22,-1044525330);c=j(c,d,e,f,b[4],7,-176418897);f=j(f,c,d,e,b[5],12,1200080426);e=j(e,f,c,d,b[6],17,-1473231341);d=j(d,e,f,c,b[7],22,-45705983);c=j(c,d,e,f,b[8],7,1770035416);f=j(f,c,d,e,b[9],12,-1958414417);e=j(e,f,c,d,b[10],17,-42063);d=j(d,e,f,c,b[11],22,-1990404162);c=j(c,d,e,f,b[12],7,1804603682);f=j(f,c,d,e,b[13],12,-40341101);e=j(e,f,c,d,b[14],17,-1502002290);d=j(d,e,f,c,b[15],22,1236535329);c=k(c,d,e,f,b[1],5,-165796510);f=k(f,c,d,e,b[6],9,-1069501632);e=k(e,f,c,d,b[11],14,643717713);d=k(d,e,f,c,b[0],20,-373897302);c=k(c,d,e,f,b[5],5,-701558691);f=k(f,c,d,e,b[10],9,38016083);e=k(e,f,c,d,b[15],14,-660478335);d=k(d,e,f,c,b[4],20,-405537848);c=k(c,d,e,f,b[9],5,568446438);f=k(f,c,d,e,b[14],9,-1019803690);e=k(e,f,c,d,b[3],14,-187363961);d=k(d,e,f,c,b[8],20,1163531501);c=k(c,d,e,f,b[13],5,-1444681467);f=k(f,c,d,e,b[2],9,-51403784);e=k(e,f,c,d,b[7],14,1735328473);d=k(d,e,f,c,b[12],20,-1926607734);c=l(c,d,e,f,b[5],4,-378558);f=l(f,c,d,e,b[8],11,-2022574463);e=l(e,f,c,d,b[11],16,1839030562);d=l(d,e,f,c,b[14],23,-35309556);c=l(c,d,e,f,b[1],4,-1530992060);f=l(f,c,d,e,b[4],11,1272893353);e=l(e,f,c,d,b[7],16,-155497632);d=l(d,e,f,c,b[10],23,-1094730640);c=l(c,d,e,f,b[13],4,681279174);f=l(f,c,d,e,b[0],11,-358537222);e=l(e,f,c,d,b[3],16,-722521979);d=l(d,e,f,c,b[6],23,76029189);c=l(c,d,e,f,b[9],4,-640364487);f=l(f,c,d,e,b[12],11,-421815835);e=l(e,f,c,d,b[15],16,530742520);d=l(d,e,f,c,b[2],23,-995338651);c=m(c,d,e,f,b[0],6,-198630844);f=m(f,c,d,e,b[7],10,1126891415);e=m(e,f,c,d,b[14],15,-1416354905);d=m(d,e,f,c,b[5],21,-57434055);c=m(c,d,e,f,b[12],6,1700485571);f=m(f,c,d,e,b[3],10,-1894986606);e=m(e,f,c,d,b[10],15,-1051523);d=m(d,e,f,c,b[1],21,-2054922799);c=m(c,d,e,f,b[8],6,1873313359);f=m(f,c,d,e,b[15],10,-30611744);e=m(e,f,c,d,b[6],15,-1560198380);d=m(d,e,f,c,b[13],21,1309151649);c=m(c,d,e,f,b[4],6,-145523070);f=m(f,c,d,e,b[11],10,-1120210379);e=m(e,f,c,d,b[2],15,718787259);d=m(d,e,f,c,b[9],21,-343485551);a[0]=s(c,a[0]);a[1]=s(d,a[1]);a[2]=s(e,a[2]);a[3]=s(f,a[3])}function i(a,b,c,d,e,f){b=s(s(b,a),s(d,f));return s(b<<e|b>>>32-e,c)}function j(a,b,c,d,e,f,g){return i(b&c|~b&d,a,b,e,f,g)}function k(a,b,c,d,e,f,g){return i(b&d|c&~d,a,b,e,f,g)}function l(a,b,c,d,e,f,g){return i(b^c^d,a,b,e,f,g)}function m(a,b,c,d,e,f,g){return i(c^(b|~d),a,b,e,f,g)}function n(a){var b=a.length,c=[1732584193,-271733879,-1732584194,271733878],d;for(d=64;d<=a.length;d+=64)h(c,o(a.substring(d-64,d)));a=a.substring(d-64);var e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(d=0;d<a.length;d++)e[d>>2]|=a.charCodeAt(d)<<((d&3)<<3);e[d>>2]|=128<<((d&3)<<3);if(d>55){h(c,e);for(d=0;d<16;d++)e[d]=0}e[14]=b*8;h(c,e);return c}function o(a){var b=[],c=0;while(c<64)b[c>>2]=a.charCodeAt(c++)|a.charCodeAt(c++)<<8|a.charCodeAt(c++)<<16|a.charCodeAt(c++)<<24;return b}var p="0123456789abcdef".split("");function q(a){var b="",c=0;for(;c<4;c++)b+=p[a>>(c<<3)+4&15]+p[a>>(c<<3)&15];return b}function r(a){var b=[];for(var c=0;c<a.length;c++)b[c]=q(a[c]);return b.join("")}var s=function(a,b){return a+b&4294967295};function a(a){if(a==null)return null;a=a;for(var b=0;b<a.length;b++)if(a[b]>"\x7f"){a=c("str2rstr")(a);break}return r(n(a))}a("hello")!="5d41402abc4b2a76b9719d911017c592"&&(s=function(a,b){var c=(a&65535)+(b&65535);a=(a>>16)+(b>>16)+(c>>16);return a<<16|c&65535});g["default"]=a}),98);
__d("oz-player/configs/OzPlayerConfigDefaults",[],(function(a,b,c,d,e,f){a={bandwidth_ignore_on_stream_write_samples:!1,bandwidth_use_response_time_adjustment:!1,catchup_use_timeline_range_end_time_as_end:!1,clear_on_seek:!0,debug_live_replay:!1,do_not_end_stream:!1,emit_caption_parse_errors_as_warning:!0,enable_abr_logging:!1,enable_alternative_audio_tracks:!1,enable_lip_sync_abr_select_quality:!1,enable_revoke_object_url_on_destroy:!1,fix_live_rewind_user_selected_playback_speed:!0,ignore_reset_after_seek_if_bufferahead:!1,latencymanager_stalled_edgelatency_sec_on:!1,msm_refactor_wait_for_sourceopen:!1,ms_promise_for_null:!1,normalize_mpd_fetch_errors:!0,parse_number_templated_uri:!0,pdash_use_pdash_segmentlocator:!1,playback_speed_latency_adjustment_disabled:!1,player_emit_mpdparsed_early:!1,playhead_manager_buffered_timerange_update_on_timeupdate:!0,playhead_manager_clamp_initial_playback_position:!1,reset_catchup_timeout_after_play_sec_on_overwrite:!0,retry_video_element_error:!0,sidx_parser_memory_optimization:!0,skip_videobuffer_gaps:!0,skip_videobuffer_gaps_on_buffer_updated:!0,use_live_latency_manager:!1,use_scf_timebased_segments:!1,video_cdn_url_refresh:!1,vtt_caption_representation:!0};b={abr_confidence_threshold:.9,abr_eval_buffer_threshold:0,abr_min_bandwidth_samples:0,abr_prevent_down_switch_buffer_threshold:11,abr_restrict_from_index:0,abr_restrict_to_index:0,append_byte_target_without_range:1e5,appends_per_segment:6,auto_seek_playhead_slack:.5,bandwidth_boundary_standard_deviation_factor:1,bandwidth_estimator_half_life:6,bandwidth_estimator_outlier_exclusion_factor:50,bandwidth_estimator_std_dev_penalty_factor:0,bandwidth_header_expire_threshold:0,bandwidth_response_time_handicap:0,bandwidth_ttfb_samples_to_save:5,buffer_ahead_target:22,buffer_target_constraint_append_succeeded_reward:.2,buffer_target_constraint_minimum_sec:2,buffer_target_constraint_quota_exceeded_penalty:.3,byte_count_per_sample:2e5,catchup_timeout_after_buffering_sec:0,catchup_timeout_after_play_sec:0,clear_buffer_around_playhead_boundary_ms:5e3,clear_buffer_on_seek_epsilon_s:0,clear_buffer_on_seek_nudge_s:0,default_bandwidth_estimate:1e6,download_cursor_buffer_ahead_time_max_sec:0,download_cursor_total_buffer_max_sec:0,dvl_initial_segment_ignore_count:1,dvl_update_interval_ms:0,dynamic_mpd_initial_playback_position_offset_modifier:4,initial_manifest_request_retry_count:3,initial_switch_interval:0,in_play_buffer_overflow_target:1,in_play_buffer_underflow_target:.1,latencymanager_stalled_edgelatency_sec:0,live_audio_ibr_bandwidth_percentage:.05,live_numerical_error_epsilon:1e-4,loop_body_handle_error_interval_ms:1,low_buffer_bandwidth_target_increase_factor:0,low_buffer_bandwidth_target_threshold:10,low_segment_stream_playhead_threshold:0,manifest_initial_update_delay_ms:0,manifest_update_frequency_ms:0,max_bandwidth_sample_count:30,maximum_bandwidth_sample_bandwidth:1e8,max_start_eme_attempts:3,min_eval_interval:100,minimum_bandwidth_sample_duration:10,minimum_bytes_to_sample_on_close:25e3,min_switch_interval:100,mpd_updater_network_request_timeout_ms:2e4,ms_promise_for_null_ms:0,network_seg_timeout_ms:0,overwrite_livehead_fall_behind_block_threshold:0,overwrite_live_time_range_block_margin:0,partial_playback_buffer_overflow:.75,paused_stream_segments_count:2,pdash_download_cursor_between_catchups_seg:0,pdash_download_cursor_catchup_threshold_gop_multiplier:0,pdash_download_cursor_catchup_threshold_sec:0,pdash_download_cursor_catchup_tolerance_sec:0,per_stream_duration_target:0,pixels_above_viewport_to_observe:0,pixels_below_viewport_to_observe:0,playback_speed_enabled_delay_sec:4,playback_speed_latency_adjustment_rate:0,playback_speed_latency_slowdown_adjustment_rate:0,playback_speed_latency_speedup_adjustment_rate:0,playback_speed_min_buffer_sec:1,playback_speed_min_duration_sec:2,playback_speed_min_sharpness_factor:3,playback_speed_restore_min_duration_sec:1,playhead_manager_buffered_auto_seek_playhead_slack:.5,playhead_manager_buffered_is_near_gap_threshold:1.5,playhead_manager_buffered_numerical_error:.01,playhead_manager_timeupdate_throttle_ms:1e3,pre_start_buffer_ahead_target:16.924449682236,prioritize_by_viewport_static_penalty:0,recent_buffer_in_play_buffer_overflow_target:3,recent_buffer_timeout_ms:1e4,resolution_constraint_factor:2,seconds_to_stream:10,seconds_to_stream_near_bandwidth_boundary:10,seek_ahead_epsilon:.05,segments_to_stream:5,segments_to_stream_near_bandwidth_boundary:5,segments_to_stream_under_playhead_threshold:0,sidx_segment_retry_attempts:9999,sidx_segment_retry_interval_ms:100,skip_videobuffer_gaps_max_gap_size_sec:0,stale_mpd_buffer_ahead_target:0,start_buffer_underflow_target:.1,steadystate_minbuffer_buckets:0,steadystate_minbuffer_buckets_sec:1,steadystate_minbuffer_sec:0,stream_interrupt_buffer_target_timeout_ms:1e4,stream_interrupt_check_mpd_stale_count_threshold:6,stream_interrupt_in_play_buffer_overflow_target:1,stream_reader_max_buffer_len:0,timeline_offset_threshold:10,time_to_first_byte_estimate_half_life_ms:500,time_to_first_byte_ignore_above_threshold_ms:0};c={bandwidth_estimate_header_key:"",bandwidth_estimate_key:"",block_representation_status_codes_json:"[500, 503]",block_representation_status_codes_temporarily_json:"{}",cdn_experiment_id:"",stream_types_eligible_for_partial_playback:""};e.exports={defaultBools:a,defaultNumbers:b,defaultStrings:c}}),null);
__d("oz-player/configs/OzPlayerConfig",["oz-player/configs/OzPlayerConfigDefaults"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){a===void 0&&(a={}),this.$1=a}var b=a.prototype;b.getBool=function(a){return typeof this.$1[a]==="boolean"?this.$1[a]:d("oz-player/configs/OzPlayerConfigDefaults").defaultBools[a]};b.getNumber=function(a){return typeof this.$1[a]==="number"?this.$1[a]:d("oz-player/configs/OzPlayerConfigDefaults").defaultNumbers[a]};b.getString=function(a){return typeof this.$1[a]==="string"?this.$1[a]:d("oz-player/configs/OzPlayerConfigDefaults").defaultStrings[a]};b.getLegacyConfig=function(){var a=this;return{getBool:function(b,c){return typeof a.$1[b]==="boolean"?a.$1[b]:(b=d("oz-player/configs/OzPlayerConfigDefaults").defaultBools[b])!=null?b:c},getNumber:function(b,c){return typeof a.$1[b]==="number"?a.$1[b]:(b=d("oz-player/configs/OzPlayerConfigDefaults").defaultNumbers[b])!=null?b:c},getString:function(b,c){return typeof a.$1[b]==="string"?a.$1[b]:(b=d("oz-player/configs/OzPlayerConfigDefaults").defaultStrings[b])!=null?b:c}}};return a}();g["default"]=a}),98);
__d("oz-player/configs/OzConfigUtils",["oz-player/configs/OzPlayerConfig"],(function(a,b,c,d,e,f,g){"use strict";var h=new(c("oz-player/configs/OzPlayerConfig"))();a=function(a){return{getBool:function(b){return a.getBool(b,h.getBool(b))},getNumber:function(b){return a.getNumber(b,h.getNumber(b))},getString:function(b){return a.getString(b,h.getString(b))},getLegacyConfig:function(){return a}}};g.provideConfigWithDefaults=a}),98);
__d("oz-player/networks/OzClientClock",["oz-player/shims/OzPerformance","oz-player/utils/OzResourceTimingUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(a!==null){a=parseInt(a,10);if(!isNaN(a))return a}return null}a=function(){function a(){this.$1=null,this.$2=0,this.$2=Date.now()-c("oz-player/shims/OzPerformance").now()}var b=a.prototype;b.updateOffsetFromHeaderResponse=function(a,b){var c=h(b.get("x-fb-dynamic-server-wallclock-ms"));b=h(b.get("x-fb-dynamic-rtt-ms"));a=d("oz-player/utils/OzResourceTimingUtils").getLatestResourceTimingEntry(a);if(c!==null&&b!==null&&a!=null&&(a.responseStart>0&&a.duration>10)){a=a.requestStart+this.$2;c=c-a-b/2;this.$1=c}};b.now=function(){var a;return c("oz-player/shims/OzPerformance").now()+this.$2+((a=this.$1)!=null?a:0)};b.getClientClockOffsetMs=function(){return this.$1};return a}();b=new a();g["default"]=b}),98);
__d("oz-player/networks/OzClockSyncNetworkRequestStreamHandler",["oz-player/networks/OzClientClock","oz-player/networks/OzTransformStream"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.onResponse=function(a,b){var d=a.headers;if(!d)return null;a=new(c("oz-player/networks/OzTransformStream"))();a.addListener("writableClose",function(){c("oz-player/networks/OzClientClock").updateOffsetFromHeaderResponse(b,d)});return a};b.onError=function(a,b){return null};return a}();g["default"]=a}),98);
__d("VideoPlayerOzImplementationEnginePartsImplFunction",["CometThrottle","ConstUriUtils","Deferred","FBLogger","JSResourceForInteraction","NetworkStatus","OzActiveActiveFailoverNetworkRequestStreamHandler","OzBufferVTTCaptionsVisibleStrategy","OzCDNSignedQueryParams","OzCustomParsers","OzCustomRepresentationParsers","OzOneSemanticHandler","OzOneSemanticHandlerUtils","OzPredictedSegmentTimelineParser","OzVideoLiveTraceNetworkRequestStreamHandler","Promise","QE2Logger","TimeRanges","VideoPlayerConnectionQuality","VideoPlayerImplementationErrors","VideoPlayerODS","VideoPlayerOzImplementationEnginePartsImplUtils","clearTimeout","cr:1836099","cr:1871597","cr:1947728","cr:1993377","getErrorSafe","getOzPlaybackRestrictions","gkx","md5","oz-player/configs/OzConfigUtils","oz-player/networks/OzBandwidthEstimator","oz-player/networks/OzClockSyncNetworkRequestStreamHandler","setTimeout","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("JSResourceForInteraction")("VideoPlayerEmsg").__setRef("VideoPlayerOzImplementationEnginePartsImplFunction"),j=1e4,k=null,l=null;b("cr:1836099")&&(k=b("cr:1836099").getHiveConfig(),l=b("cr:1836099").HiveOz);function a(a){var e,f=a.OzPlayerClass,g=a.callChain,m=a.destroyOzPlayerPartsRef,n=a.engineDebugAPI,o=a.engineExtrasAPI,p=a.getCaptionsInfo,aa=a.getLatencyLevelManager,q=a.getVideoLiveTrace,r=a.handleCaptionsInfoChange,ba=a.handleFatalImplementationError,s=a.hivePluginRef,t=a.initialProps,u=a.logger,v=a.machine,w=a.overrideOzRequestImplementationRef,x=a.ozBufferingDetectorRef,y=a.ozPlayerRef,z=a.p2pSessionLoggerRef,ca=a.playerFormatForDPLRef,A=a.playerVersion,B=a.resolvedVideoInfo,C=a.videoElement,D=a.videoElementAPI,E={current:!1},F={current:null},G={current:null};m.current=function(a){var b=x.current;b&&(x.current=null,b.destroy());b=y.current;if(b){n&&n.handleOzPlayerChanged(null,D);y.current=null;try{b.destroy([].concat(a,["destroyOzPlayerParts"]).join(":"))}catch(a){c("FBLogger")("comet_video_player").catching(a).mustfix("Error in ozPlayer.destroy: %s",String(a))}}b=F.current;b&&(F.current=null,b());G.current&&(G.current=null);Z();s.current&&(s.current=null);z.current&&(z.current=null);w.current&&(w.current=null)};a=B.accessToken;m=B.audioOnly;var H=B.experimentationConfig,I=B.graphQLVideoDRMInfo,J=B.graphQLVideoP2PSettings,K=B.manifestUrl,da=B.manifestXmlStringResolved,ea=B.minQualityPreference,fa=B.ozPrefetchCache,L=B.videoFBID,M=t.disableLogging?null:B.VideoPlayerShakaPerformanceLoggerClass,N=Boolean(t.loggingMetaData.coreVideoPlayerMetaData.isLiveStreaming),O=Boolean((e=t.isClientTriggeredTraceEnabled)!=null?e:!1),P=function(a){return o.getEstimatedBandwidth()};e=function(){return o.getApproximateFBLSToPlayerDisplayLatency()};var ga=function(){H.setContext("connection_quality",d("VideoPlayerConnectionQuality").evaluate(function(){return P(N)}))},Q=function(){var a=H.getNumber("connection_quality_context_throttle_frequency",0);if(a===0)return null;var b=c("CometThrottle")(ga,a),d=c("oz-player/networks/OzBandwidthEstimator").addListener("bandwidth_sampled",b);return function(){d.remove(),b.cancel()}};F.current=Q();Q=d("VideoPlayerOzImplementationEnginePartsImplUtils").createOzDrmProviders({accessToken:a,graphQLVideoDRMInfo:I,videoFBID:L});I=function(){return v.getCurrentState().controlledState.captionsVisible};var R=[];H.getBool("use_vtt_captions_visible_buffer_strategy",!0)&&R.push(new(c("OzBufferVTTCaptionsVisibleStrategy"))(I));I=function(){return v.getCurrentState().controlledState.dimensions};var S=function(){var a;return(a=ca.current)!=null?a:"unknown"};a=d("VideoPlayerOzImplementationEnginePartsImplUtils").createOzPerfLoggerProviders({VideoPlayerShakaPerformanceLoggerClass:M,accessToken:a,disableLogging:t.disableLogging,getApproximateFBLSToPlayerDisplayLatency:e,getBandwidthEstimate:P,getPlayerDimensions:I,getPlayerFormat:S,playbackIsLiveStreaming:N,playerInstanceCount:t.loggingMetaData.playerImplementationInstanceCountRef.current,playerInstanceKey:t.loggingMetaData.instanceKey,playerSuborigin:t.loggingMetaData.coreVideoPlayerMetaData.subOrigin,playerVersion:A,videoElement:C,videoFBID:L,videoPlayerShakaPerformanceLoggerBuilder:B.videoPlayerShakaPerformanceLoggerBuilder});G.current==null&&(G.current=new(c("OzCDNSignedQueryParams"))());if(J&&L!=null){e=J.community_info;S=J.config;A=J.hive_initialization_options;B=z.current=(B=z.current)!=null?B:b("cr:1871597")?new(b("cr:1871597"))(L,e):null;try{if(!s.current){B&&B.logEnableP2P();e=function(a){z.current&&z.current.logHiveError(a)};var T=function(b){var a=y.current;a&&a.injectExternalDebugEvent("P2PTech",b.tech);z.current&&z.current.logSessionActive(b.tech)},U=function(b){var a=y.current;a&&a.injectExternalDebugEvent("P2PStats",b);z.current&&z.current.setCurrentHiveStats(b)},V=function(a){a=a.state;var b=v.getCurrentState();b=b.controlledState;b=b.playbackState;if(s.current&&a==="CLOSED"){Z();a=y.current;a&&b!=="ended"&&(E.current&&K!=null?a.updatePlayerRunTimeConfig({manifestUrl:K}):a.load(K))}};U={HiveJava:{},HiveJS:{maximumTrimming:{dash:void 0,hls:void 0},renderStatsCallback:U},debugLevel:"off",hiveTechOrder:["HiveJS","StatsJS","HiveJava"],onActiveSession:T,onError:e,onSessionStateChange:V,telemetryId:B?B.getSessionID():0};T=H.getNumber("hive_maximum_trimming_seconds",0);T>0&&(U.HiveJS.maximumTrimming={dash:T,hls:T});if(A){e=A.HiveJava;V=A.debugLevel;T=A.hiveTechOrder;U.hiveTechOrder=T.slice();U.HiveJava=e?{minVersion:e.minVersion}:{};U.debugLevel=(A=V)!=null?A:U.debugLevel}if(S.disable_hivejava_for_livevc===!0&&K!=null&&K.startsWith("https://livestream-lookaside")){T=U.hiveTechOrder.indexOf("HiveJava");T>=0&&U.hiveTechOrder.splice(T,1)}if(k)k.SensitiveInfo.restrictedConnectivityInfo=!0;else throw c("unrecoverableViolation")("HiveConfig does not exist","comet_video_player");if(l)s.current=new l(U);else throw c("unrecoverableViolation")("HiveOz does not exist","comet_video_player");if(s.current){if(!b("cr:1947728"))throw c("unrecoverableViolation")("OzConfigurableRequestImplementation does not exist","comet_video_player");w.current=b("cr:1947728")(s.current.getRequestImplementation(),{inferResponseStatusIsOK:!0,inferResponseStatusIsOk2xx:!1})}}}catch(a){B&&B.logError(a),Z()}}e=[new(c("OzVideoLiveTraceNetworkRequestStreamHandler"))(function(a,b,c){var d=q();d!=null&&d.handleHeadersAndBody(a,b,c)},H.getBool("live_trace_parse_emsg",!1)),new(c("oz-player/networks/OzClockSyncNetworkRequestStreamHandler"))()];c("OzActiveActiveFailoverNetworkRequestStreamHandler")&&e.push(new(c("OzActiveActiveFailoverNetworkRequestStreamHandler"))(function(b,c){var a=y.current,e=b.headers;if(a&&e){e=parseInt(e.get("x-fb-video-replica"),10);u.logVPLEvent({eventType:"replica_switch",logDataOverrides:{error_code:b.status.toString(),error_user_info:JSON.stringify({failover_response_code:b.status.toString(),replica:e,url:c})},state:v.getCurrentState()});b=a.getMpdUrl();if(b!=null){c=d("ConstUriUtils").getUri(b);if(c){b=c.addQueryParam("replica",e);b&&(Z(),a.updatePlayerRunTimeConfig({manifestUrl:b.toString(),resetStreamAnchor:!0}))}}}}));var ha=t.expiredVideoUrlRefreshHandler,ia=t.loggingMetaData.instanceKey;V=c("gkx")("24353");A=c("gkx")("24354")||c("gkx")("24355");var ja=N?V:A;S=c("gkx")("4927");H.getBool("log_exposure_on_oz_initialization",!1)&&d("QE2Logger").logExposureForUser("www_videos_html5_mpeg_dash");U={audioOnly:(T=m)!=null?T:!1,bufferEndLimit:t.bufferEndLimit!=null?t.bufferEndLimit:null,bufferingDetector:(U=x.current)!=null?U:void 0,config:d("oz-player/configs/OzConfigUtils").provideConfigWithDefaults(H),configureCustomRequestParametersForSegment:function(a){var b=null;if(N&&O){var d=a.getByteRange();d=d?d.startByte+", "+(d.endByte!=null?d.endByte:"null"):"null";a=c("md5")(a.getURI().toString()+d);b=(d=b)!=null?d:{};a!=null&&(b=babelHelpers["extends"]({},b,{_nc_tsid:a}));b=babelHelpers["extends"]({},b,{_nc_e2e:"live"})}return b},customParsers:d("OzCustomParsers").createOzCustomParser(),customRepresentationParsers:d("OzCustomRepresentationParsers").createOzCustomRepresentationParsers({ozConfig:H}),customSegmentTimelineParser:H.getBool("enable_predictive_dash",!1)?new(c("OzPredictedSegmentTimelineParser"))():void 0,customVTTBufferTargetStrategies:R,debugCreateInitiator:[].concat(g,["proceedWithOzPlayerCreation"]).join(":"),drmProviders:Q,getCustomRequestParametersForURI:function(a){return d("VideoPlayerOzImplementationEnginePartsImplUtils").getCustomRequestParametersForURI(a,{experimentationConfig:H,getCurrentVideoRepresentation:function(){var a=y.current;return a==null?void 0:a.getCurrentVideoRepresentation()},getOzCDNSignedQueryParams:function(){return G.current},isClientTriggeredTraceEnabled:O,playbackIsLiveStreaming:N,playbackSessionId:ia,shouldRefresh403:ja})},getOverrideOzRequestImplementation:function(){return w.current},getShouldIncludeCredentials:H.getBool("use_oz_credentials_provider",!1)?d("VideoPlayerOzImplementationEnginePartsImplUtils").checkShouldIncludeCredentials:null,getUserSelectedPlaybackRate:function(){return v.getCurrentState().controlledState.targetPlaybackRate},getVideoDimensions:I,initialPlaybackPositionForDynamicMpd:d("VideoPlayerOzImplementationEnginePartsImplUtils").calculateInitialPlaybackPositionForDynamicMpd(H,(B=t.initialDesiredLatencyMs)!=null?B:0),initialRepresentationIDs:(V=t.initialRepresentationIds)!=null?V:[],isClientTriggeredTraceEnabled:O,liveheadFallBehindBlockMargin:d("VideoPlayerOzImplementationEnginePartsImplUtils").calculateLiveheadFallBehindBlockMargin(H,(A=t.initialDesiredLatencyMs)!=null?A:0),liveheadFallBehindBlockThreshold:d("VideoPlayerOzImplementationEnginePartsImplUtils").calculateLiveheadFallBehindBlockThreshold(H,(m=t.initialDesiredLatencyMs)!=null?m:0,(T=t.initialLatencyToleranceMs)!=null?T:0),loggerConfig:{isOzDevConsoleEnabled:c("gkx")("24356"),observedOperationLoggers:[],perfLoggerProviders:a},mpdUrl:K,networkRequestStreamHandlers:e,networkRequestStreamRetryHandler:ja?function(a,d,e){var f=a.headers,g=f==null?void 0:f.get("x-fb-url-refresh"),i=G.current;if(a.status===403&&i!=null){u.logVPLEvent({eventType:"video_cdn_url_expired",logDataOverrides:{error_user_info:JSON.stringify({expired_url:e})},state:v.getCurrentState()});var j=g!=null&&b("cr:1993377")!=null?{name:"refreshShortExpiryVideoUrl",promise:b("cr:1993377")(g)}:ha!=null?{name:"expiredVideoUrlRefreshHandler",promise:ha(e)}:null;if(j!=null)return j.promise.then(function(a){var b;b=(b=a.refreshedUrl)!=null?b:null;a=(a=a.reason)!=null?a:null;if(b!=null&&b!==""){u.logVPLEvent({eventType:"video_cdn_url_refreshed",logDataOverrides:{error_user_info:JSON.stringify({refresh_handler:j.name,refreshed_url:b})},state:v.getCurrentState()});i.update(b);return d(b)}else{throw c("unrecoverableViolation")(j.name+" refreshedUrl is "+(b===""?"an empty string":"null")+", reason: "+((b=a)!=null?b:"null"),"comet_video_player")}})["catch"](function(a){a=c("getErrorSafe")(a);u.logVPLEvent({eventType:"video_cdn_url_refresh_error",logDataOverrides:{error_description:a.message,error_user_info:JSON.stringify({expired_url:e,refresh_handler:j.name,refresh_url:g})},state:v.getCurrentState()});throw a})}return(h||(h=b("Promise"))).resolve(a)}:null,networkRequestUrlRefreshHandler:S?t.expiredVideoUrlRefreshHandler:null,prefetchCache:H.getBool("use_prefetch_cache",!1)?fa:null,rawMpdXml:s.current?void 0:da,seekHandler:null,setCustomFetchStreamLoggingAttributes:function(a,b,e){a.setIsOnline(c("NetworkStatus").isOnline());var f=e==null?void 0:e.headers;if(f)try{a.setProxyStatusHeader(f.get("proxy-status")),a.setDynamicStatusHeader(f.get("x-fb-dynamic-status"))}catch(a){}d("OzOneSemanticHandlerUtils").setOneSemanticFetchStreamLoggingAttributes(a,b,e)},startTimeStamp:H.getBool("fix_start_timestamp",!1)?t.startTimestamp:0,userPreferenceLang:t.initialAudioUserPreferredLanguage,videoAbrManagerFactory:d("VideoPlayerOzImplementationEnginePartsImplUtils").getVideoAbrManagerFactory(N),videoNode:C,videoPlaybackRestrictions:c("getOzPlaybackRestrictions")(ea,H)};var W=new f(U);y.current=W;x.current&&x.current.attachPerfLoggerProvider(W.getPerfLoggerProvider());R=t.loggingMetaData.playerImplementationInstanceCountRef;R.current++;W.onError(function(a){M&&M.flushQueuedLogs(),ba(a,"oz_player_error")});c("gkx")("24360")&&W.onWarning(function(a){M&&M.flushQueuedLogs();a=d("VideoPlayerImplementationErrors").createVideoPlayerErrorFromOzImplementationError(a,"oz_player_warning");v.dispatch({payload:{warningError:a},type:"implementation_warning"})});W.addListener("switchVideoRepresentation",function(){v.dispatch({payload:{},type:"representation_changed"})});var ka=function(a){if(H.getBool("enable_error_recovery_attempt_logging",!1)){a=d("VideoPlayerImplementationErrors").createVideoPlayerErrorFromOzImplementationError(a,"oz_player_stream_error_retry");v.dispatch({payload:{recoverableError:a},type:"error_recovery_attempt"})}};W.addListener("manifestFetchError",function(a){d("OzOneSemanticHandler").handleManifestFetchErrorEvent(H,a)});W.addListener("manifestFetchErrorRetry",function(a){ka(a)});W.addListener("streamError",function(a){return d("OzOneSemanticHandler").handleStreamErrorEvent(H,a)});W.addListener("streamErrorRetry",function(a){var b;(((b=a.getExtra())==null?void 0:b.mimeType)!=="application"||H.getBool("enable_era_logging_for_application_stream",!0))&&ka(a)});W.addListener("streamInterruptAt",function(){v.dispatch({type:"stream_interrupted"})});W.addListener("streamResumedAt",function(){v.dispatch({type:"stream_resumed"})});W.addListener("streamGoneBeforeStart",function(){Z(),v.dispatch({type:"stream_gone_before_start"})});W.addListener("streamEnd",function(){Z(),v.dispatch({type:"stream_ended"})});W.addListener("videoNodeErrorRetry",function(a){if(H.getBool("enable_error_recovery_attempt_logging",!1)){a=d("VideoPlayerImplementationErrors").createVideoPlayerErrorFromOzImplementationVideoNodeError(a,"oz_player_stream_error_retry");v.dispatch({payload:{recoverableError:a},type:"error_recovery_attempt"})}});W.addListener("enterBuffering",function(a){v.dispatch({payload:{bufferingType:a},type:"buffering_begin_requested"})});W.addListener("leaveBuffering",function(a){v.dispatch({payload:{domEventPerfTimestamp:a.domEventPerfTimestamp},type:"buffering_end_requested"})});n&&n.handleOzPlayerChanged(W,D);var la=function(){var a=p();a={inbandCaptionsAutogeneratedFromManifest:o.getInbandCaptionsAutogeneratedFromManifest(),inbandCaptionsExpectedFromManifest:o.getInbandCaptionsExpectedFromManifest(),inbandCaptionsExpectedFromProps:a==null?void 0:a.inbandCaptionsExpectedFromProps,representationCaptionsExpectedFromManifest:o.getRepresentationCaptionsExpectedFromManifest(),sideLoadCaptionsExpectedFromProps:a==null?void 0:a.sideLoadCaptionsExpectedFromProps,sideLoadCaptionsUrlFromProps:a==null?void 0:a.sideLoadCaptionsUrlFromProps};var b=v.getCurrentState();b=b.controlledState;(a.inbandCaptionsExpectedFromManifest!==b.captionsLoaded||a.inbandCaptionsAutogeneratedFromManifest!==b.inbandCaptionsAutogenerated)&&r(a)},ma=function(a,b){a=a.getCustomField("timescale");a=typeof a==="number"?a:0;v.dispatch({payload:{timescale:a,videoBytes:b},type:"cea608_bytes_received"})},na=function(){var a=o.getVideoRepresentations();if(a!=null&&a.length>0){a=a[0].getTimeRanges();if(a!=null&&a.length>0){var b=a[0].startTime;a=Math.max(a[a.length-1].endTime-H.getNumber("live_rewind_seek_to_live_delta",8),b);v.dispatch({payload:{seekableRanges:new(c("TimeRanges"))([{endTime:a,startTime:b}])},type:"seekable_ranges_changed"})}}},oa=function(){var a=W.getMpd();if(!a)return;a=a.getCustomField("loapStreamType");var b=q();typeof a==="number"&&b!=null&&b.setStreamType(a)},X=function(a){if(a!=null){a=d("ConstUriUtils").getUri(a);if(a){a=a.getQueryParam("lvp");return a==="1"}}return!1},pa=function(a){var b=function(){na(),la(),oa()};a.addListener("updated",b);b();var e=[],f=function(a){u.logVPLEvent({eventType:"imf",logDataOverrides:a,state:v.getCurrentState()})},g=function(a,b,c){a=a.parseEmsgBoxesFromMP4Segment;a=a(c,L,b.getID(),C.currentTime,f);a.length>0&&v.dispatch({payload:{emsgBoxes:a},type:"emsg_boxes_parsed"})},h=function(a){var b=e.shift();while(b)g.apply(void 0,[a].concat(b)),b=e.shift()};W.updatePlayerRunTimeConfig({audioStreamDataHandler:function(){var a=v.getCurrentState();if(a.controlledState.emsgObserverTokens.size>0){var b=i.getModuleIfRequireable();for(var d=arguments.length,f=new Array(d),j=0;j<d;j++)f[j]=arguments[j];b!=null?(h(b),g.apply(void 0,[b].concat(f))):(e.push(f),i.load().then(function(a){h(a)})["catch"](function(a){c("FBLogger")("comet_video_player").catching(c("getErrorSafe")(a)).warn("Failed to load VideoPlayerEmsg"),e.length=0}))}},videoStreamDataHandler:ma});if(o.isPredictiveDash()){H.setContext("streaming_implementation","pdash");a=aa();a&&a.maybeUpdateLatencyLevel()}b="mos";a=H.getBool("is_csvqm_enabled",!1);if(a&&!N){a=o.getVideoRepresentations();a=a==null?void 0:a.every(function(a){return a.getQualityScoreCurveString("csvqm")!=null});a===!0&&(b="csvqm")}H.setContext("quality_score_type",b);d("VideoPlayerODS").bumpEntityKey("comet_video_player",b==="csvqm"?"OzImplementation.quality_score_type_csvqm":"OzImplementation.quality_score_type_mos",14);a=p();r({inbandCaptionsAutogeneratedFromManifest:o.getInbandCaptionsAutogeneratedFromManifest(),inbandCaptionsExpectedFromManifest:o.getInbandCaptionsExpectedFromManifest(),inbandCaptionsExpectedFromProps:a==null?void 0:a.inbandCaptionsExpectedFromProps,representationCaptionsExpectedFromManifest:o.getRepresentationCaptionsExpectedFromManifest(),sideLoadCaptionsExpectedFromProps:a==null?void 0:a.sideLoadCaptionsExpectedFromProps,sideLoadCaptionsUrlFromProps:a==null?void 0:a.sideLoadCaptionsUrlFromProps})};W.addListener("vttCaptionsUpdated",function(a,b){var c="webvtt",d=v.getCurrentState().controlledState.captionFormat;c!==d&&v.dispatch({payload:{captionFormat:c},type:"controller_set_caption_format_requested"});v.dispatch({payload:{activeCaptions:a,captionsLocale:b},type:"controller_set_active_captions_requested"})});W.addListener("mpdParsed",function(a){o.isPredictiveDash()&&H.setContext("streaming_implementation","pdash")});c("gkx")("24359")?(W.addListener("mpdReady",function(a){E.current=!0,pa(a)}),W.addListener("initialized",function(){v.dispatch({payload:{selectedVideoQuality:o.getUserSelectedVideoQuality()},type:"implementation_engine_initialized"})})):W.addListener("mpdReady",function(a){E.current=!0,pa(a),v.dispatch({payload:{selectedVideoQuality:o.getUserSelectedVideoQuality()},type:"implementation_engine_initialized"})});W.addListener("representationBlocked",function(a){v.dispatch({payload:{blockedRepresentationID:a},type:"implementation_engine_representation_blocked"})});var Y=null;function Z(){c("clearTimeout")(Y);var a=s.current,b=z.current;if(a!=null){s.current=null;z.current=null;w.current=null;try{a&&a.closeHiveSession(),b&&b.logEndSession()}catch(a){b&&b.logHiveError(a)}}}g=s.current;Q=J==null?void 0:J.ticket;if(K!=null&&J&&g&&Q!=null){I=W.getPerfLoggerProvider();I&&I.setIsP2pPlayback(!0);B=K.substring(K.indexOf("?"));V=g.initSession(Q+B,W,C);var $=new(c("Deferred"))();j>0&&(Y=c("setTimeout")(function(){$.reject(new Error("Hive initialization timed out after "+j+"ms"))},j));V.then(function(a){$.resolve(a)})["catch"](function(a){$.reject(a)});$.getPromise().then(function(a){c("clearTimeout")(Y);var b=a.manifest;a=a.tech;var d=z.current;b!==K&&d&&d.logManifestMismatch(b,K);d&&d.logSessionInit(a,b);u.setAdditionalLogData("is_p2p_playback",!0);u.setAdditionalLogData("is_live_preview",X(b));W.load(b)})["catch"](function(a){c("clearTimeout")(Y);var b=z.current;b&&b.logError(a);Z();u.setAdditionalLogData("is_live_preview",X(K));W.load(K)})}else u.setAdditionalLogData("is_p2p_playback",!1),u.setAdditionalLogData("is_live_preview",X(K)),W.load(K)}g.proceedWithOzPlayerCreation=a}),98);
__d("VideoPlayerOzImplementationLatencyLevelManager",[],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c){this.$2="normal",this.$4=null,this.$1=a,this.$3=b,this.$6=c}var b=a.prototype;b.updatePlayerFormat=function(a){this.$4!==a&&(this.$4=a,this.maybeUpdateLatencyLevel())};b.updateBroadcastLatencySensitivity=function(a){this.$5!==a&&(this.$5=a,this.maybeUpdateLatencyLevel())};b.maybeUpdateLatencyLevel=function(){var a=this.$7(this.$5);a!==this.$2&&(this.$2=a,this.$1.getBool("set_latency_context_immediately",!1)&&this.$1.setContext("latency_level",a),this.$3.dispatch({payload:{latencyLevel:a,ullIneligibilityReason:this.$8()},type:"implementation_set_latency_level_requested"}))};b.$8=function(){var a=this.$1.getNumber("ultra_low_latency_bandwidth_threshold",0),b=this.$6.getEstimatedBandwidth();return b!==null&&a>0&&b<a?"low_bandwidth_estimate":null};b.$7=function(a){if(a==null)return"normal";switch(a){case 1:return"low";case 2:return this.$8()!==null?this.$1.getBool("fall_back_to_low_latency_in_ull",!1)?"low":"normal":"ultra-low";case 0:return"normal"}};return a}();g["default"]=a}),98);
__d("VideoPlayerOzPlayerModuleLoaderDeferredForDisplay",["requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferredForDisplay")("oz-player").__setRef("VideoPlayerOzPlayerModuleLoaderDeferredForDisplay");function a(){return{getModuleIfRequireable:function(){return h.getModuleIfRequireable()||null},load:function(){return h.load()}}}g["default"]=a}),98);
__d("VideoPlayerOzImplementationEngine",["CometDASHPrefetchCacheManager","ErrorMetadata","VideoPlayerImplementationEngineAPI","VideoPlayerImplementationEngineVideoElementAPI","VideoPlayerImplementationErrors","VideoPlayerImplementationLoadSequenceManager","VideoPlayerODS","VideoPlayerOzImplementationEngineExtrasAPI","VideoPlayerOzImplementationEnginePartsImplFunction","VideoPlayerOzImplementationEnginePartsImplUtils","VideoPlayerOzImplementationLatencyLevelManager","VideoPlayerOzPlayerModuleLoaderDeferredForDisplay","cr:1473549","emptyFunction","err","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";e=!1;var h=c("emptyFunction");function a(a){var e=a.checkInDOM,f=a.debugLogId,g=a.handleFatalError,i=a.initialProps;a=a.setExposedStateInReact;var j={current:null},k={current:null},l={current:null},m={current:null},n={current:null},o={current:null},p={current:null},q={current:null},r={current:null},s={current:null},t={current:null},u={current:null},v={current:null},w={current:null};function x(){var a;return(a=p.current)!=null?a:null}function y(){var a;return(a=o.current)!=null?a:null}function z(){var a;return(a=(a=k.current)==null?void 0:a.experimentationConfig)!=null?a:null}function A(){var a;return(a=Y.current)!=null?a:null}function B(){var a;return(a=v.current)!=null?a:null}var C;b("cr:1473549")&&(C=new(b("cr:1473549"))());var D="comet_oz",E=function(a,b){return b.manifestXmlStringInitial!==null?a.manifestXmlStringInitial!==b.manifestXmlStringInitial:a.manifestUrl!==b.manifestUrl},F=function(a,b){return a.videoFBID!==b.videoFBID},G=function(a){return a.getBool("use_full_player_if_cached",!1)&&c("VideoPlayerOzPlayerModuleLoaderDeferredForDisplay")?c("VideoPlayerOzPlayerModuleLoaderDeferredForDisplay")().getModuleIfRequireable():null},H=function(a,b,c){b!=null?k.current=babelHelpers["extends"]({},a,{manifestXmlStringResolved:b}):k.current=a,X.dispatch({type:"implementation_engine_oz_manifest_downloading"}),n.current=G(a.experimentationConfig),L(n.current,[].concat(c,["proceedWithOzManifestDownloading"]))},I=function(a){var b,e,f,g=a.manifestUrl,h=a.manifest,i=null;c("CometDASHPrefetchCacheManager")&&(a.videoFBID!=null&&(i=c("CometDASHPrefetchCacheManager").get(a.videoFBID)));b={VideoPlayerShakaPerformanceLoggerClass:a.VideoPlayerShakaPerformanceLoggerClass,accessToken:a.loggingMetaData.accessToken,audioOnly:a.audioOnly,experimentationConfig:a.experimentationConfig,graphQLVideoDRMInfo:a.graphQLVideoDRMInfo,graphQLVideoP2PSettings:a.graphQLVideoP2PSettings,initialAudioUserPreferredLanguage:a.initialAudioUserPreferredLanguage,manifestUrl:(b=g)!=null?b:null,manifestXmlStringInitial:(b=h)!=null?b:null,minQualityPreference:a.minQualityPreference,ozPrefetchCache:i,videoFBID:a.videoFBID,videoPlayerShakaPerformanceLoggerBuilder:a.videoPlayerShakaPerformanceLoggerBuilder};i=j.current;e=(e=v.current)!=null?e:new(c("VideoPlayerOzImplementationLatencyLevelManager"))(a.experimentationConfig,X,Q);v.current=e;w.current=(f=a.loggingMetaData.coreVideoPlayerMetaData.playerFormat)!=null?f:null;e.updatePlayerFormat((f=a.loggingMetaData.coreVideoPlayerMetaData.playerFormat)!=null?f:null);e.updateBroadcastLatencySensitivity(a.broadcastLatencySensitivity);f=!1;if(i==null)f=!0;else if(i!=null&&!F(b,i)&&E(b,i)){e=14;d("VideoPlayerODS").bumpEntityKey("OzImplementation","manifest_reloaded",e);f=!1}else if(i!=null&&F(b,i)){var k;e=c("err")("videoFBID changed after player initialization: %s",JSON.stringify({subOrigin:a.loggingMetaData.coreVideoPlayerMetaData.subOrigin,toVideoFBID:b.videoFBID}));e.name="VideoPlayerOzImplementationVideoFBIDChanged";k=(k=e.metadata)!=null?k:new(c("ErrorMetadata"))();i.videoFBID!=null&&k.addEntry("COMET_VIDEO","VIDEO_ID",i.videoFBID);e.metadata=k;e.project="comet_video_player";throw e}if(!f)return!1;g=b.manifestUrl;h=b.manifestXmlStringInitial;if(h==null&&g==null){i=c("err")("Empty manifestXmlStringInitial and manifestUrl: %s",JSON.stringify({manifestUrl:g,manifestXmlStringInitial:h,subOrigin:a.loggingMetaData.coreVideoPlayerMetaData.subOrigin}));i.name="VideoPlayerOzImplementationManifestEmpty";e=(k=i.metadata)!=null?k:new(c("ErrorMetadata"))();b.videoFBID!=null&&e.addEntry("COMET_VIDEO","VIDEO_ID",b.videoFBID);i.metadata=e;i.project="comet_video_player";throw i}j.current=b;H(b,h,["handleVideoInfoChangeForOzImplementation","downloadManifestInOz"]);return!0},J=function(a,b){var d=function(c){if(m.current!==a)return;n.current=c;L(c,[].concat(b,["handleOzPlayerModuleLoadSuccess"]))},e=function(b){if(m.current!==a)return;V(b,"oz_player_module_load_failed")};m.current=a;c("promiseDone")(a,d,e)},K=function(a){a=d("VideoPlayerImplementationEngineVideoElementAPI").createVideoPlayerImplementationEngineVideoElementAPI(a);Y.current=a;return a},L=function(a,b){var e=S(),f=k.current;if(e==null||f==null)return;var g=K(e),h=f.experimentationConfig;a?M(a,e,g,f,[].concat(b,["proceedWithResolvedVideoInfo","OzPlayerModuleFromRef"])):c("VideoPlayerOzPlayerModuleLoaderDeferredForDisplay")?(h.getBool("instantiate_buffering_detector_before_quick_starter",!1)&&d("VideoPlayerOzImplementationEnginePartsImplUtils").createOzBufferingDetector(e,g,f.experimentationConfig,X,p,W),J(c("VideoPlayerOzPlayerModuleLoaderDeferredForDisplay")().load(),[].concat(b,["proceedWithResolvedVideoInfo","VideoPlayerOzPlayerModuleLoaderAsync"]))):V(new Error("Neither of OzPlayerModuleLoader is available."),"oz_player_module_loaders_missing")},M=function(a,b,e,f,g){try{var h={OzPlayerClass:a,callChain:[].concat(g,["proceedWithResolvedVideoInfoAndOzPlayerModuleSync"]),destroyOzPlayerPartsRef:u,engineDebugAPI:C,engineExtrasAPI:Q,getCaptionsInfo:R,getLatencyLevelManager:B,getVideoLiveTrace:T,handleCaptionsInfoChange:U,handleFatalImplementationError:V,initialProps:i,logger:W,machine:X,ozBufferingDetectorRef:p,playerFormatForDPLRef:w,playerVersion:D,resolvedVideoInfo:f,videoElement:b};a=z();g=i.loadSequence;a&&a.getNumber("load_sequence_max_delay_ms",0)>0&&g!=null?t.current=c("VideoPlayerImplementationLoadSequenceManager").schedule(a,g,function(){d("VideoPlayerOzImplementationEnginePartsImplFunction").proceedWithOzPlayerCreation(babelHelpers["extends"]({},h,{hivePluginRef:q,overrideOzRequestImplementationRef:s,ozPlayerRef:o,p2pSessionLoggerRef:r,videoElementAPI:e}));return e.getCanPlayPromise()}):d("VideoPlayerOzImplementationEnginePartsImplFunction").proceedWithOzPlayerCreation(babelHelpers["extends"]({},h,{hivePluginRef:q,overrideOzRequestImplementationRef:s,ozPlayerRef:o,p2pSessionLoggerRef:r,videoElementAPI:e}));l.current=f}catch(a){V(a,"oz_player_create_exception")}};function N(a){var b=u.current;b!=null&&(u.current=null,b(a));t.current!=null&&(t.current(),t.current=null)}function O(){return}function P(){m.current=null,n.current=null}var Q=d("VideoPlayerOzImplementationEngineExtrasAPI").createVideoPlayerOzImplementationEngineExtrasAPI({getConfig:z,getOzPlayer:y,getVideoElementAPI:A});A=d("VideoPlayerImplementationEngineAPI").createVideoPlayerImplementationEngine({checkInDOM:e,createDebugAPI:function(b){var a=b.getVideoElementAPI;b=b.logger;return C?C.createDebugAPI({engineExtrasAPI:Q,getConfig:function(){var a;return(a=(a=l.current)==null?void 0:a.experimentationConfig)!=null?a:null},getManifest:function(){var a;return(a=(a=l.current)==null?void 0:a.manifestXmlStringResolved)!=null?a:null},getManifestUrl:function(){var a;return(a=(a=l.current)==null?void 0:a.manifestUrl)!=null?a:null},getOzBufferingDetector:x,getOzPlayer:y,getVideoElementAPI:a,logger:b}):null},createVideoPlayerError:d("VideoPlayerImplementationErrors").createVideoPlayerErrorFromOzImplementationError,debugLog:h,debugLogId:f,destroyEngineParts:function(a){N([].concat(a,["destroyEngineParts"])),O(),P()},engineExtrasAPI:Q,engineMetadata:{isAbrEnabled:!0,playerVersion:D,streamingFormat:"dash"},handleFatalError:g,handleVideoElementChanged:function(a,b){a!=null&&L(n.current,[].concat(b,["handleVideoElementMounted"]))},handleVideoInfoChange:I,initialProps:i,setExposedStateInReact:a});e=A.engine;var R=A.getCaptionsInfo,S=A.getVideoElement,T=A.getVideoLiveTrace,U=A.handleCaptionsInfoChange,V=A.handleFatalImplementationError,W=A.logger,X=A.machine,Y=A.videoElementAPIRef;return e}g.createVideoPlayerOzImplementationEngine=a}),98);
__d("VideoPlayerOzImplementationV2.react",["VideoPlayerImplementationEngineAPI","VideoPlayerOzImplementationEngine"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=d("VideoPlayerImplementationEngineAPI").useVideoPlayerImplementationEngine(a,d("VideoPlayerOzImplementationEngine").createVideoPlayerOzImplementationEngine);a=a.reactVideoFrameAndComponents;return a}g["default"]=a}),98);
__d("VideoPlayerShakaConfigContextProvider",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var b=a.prototype;b.setContext=function(a,b){if(this.$1[a]!==b){var c;this.$1=babelHelpers["extends"]({},this.$1,(c={},c[a]=b,c))}};b.setAllContexts=function(a){this.$1=a};b.getAllContexts=function(){return this.$1};return a}();f["default"]=a}),66);
__d("VideoPlayerShakaConfig",["VideoPlayerContextSensitiveConfigResolver","VideoPlayerShakaConfigContextProvider"],(function(a,b,c,d,e,f,g){var h={};a=function(){function a(a,b,d){this.$1=new(c("VideoPlayerShakaConfigContextProvider"))(),this.$2=b||null,this.$3=new(c("VideoPlayerContextSensitiveConfigResolver"))(d),this.$3.setContexts(a||{}),a&&this.$1.setAllContexts(a)}a.setGlobalOverrideConfig=function(a){h=a};var b=a.prototype;b.setContext=function(a,b){var c=this.$1.getAllContexts();this.$1.setContext(a,b);a=this.$1.getAllContexts();c!==a&&this.$3.setContexts(a)};b.setOverrideConfig=function(a){this.$2=a};b.getBool=function(a,b){a=this.$4(a,b);return typeof a==="boolean"?a:b};b.getNumber=function(a,b){a=this.$4(a,b);return typeof a==="number"?a:b};b.getString=function(a,b){a=this.$4(a,b);return typeof a==="string"?a:b};b.getAllContexts=function(){return this.$1.getAllContexts()};b.$4=function(a,b){if(!!h&&typeof h[a]===typeof b)return h[a];if(typeof this.$3.getValue(a)===typeof b)return this.$3.getValue(a);return!!this.$2&&typeof this.$2[a]===typeof b?this.$2[a]:null};return a}();g["default"]=a}),98);
__d("useDebouncedValue",["clearTimeout","react","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState;function a(a,b){var d=j(a),e=d[0],f=d[1];i(function(){var d=c("setTimeout")(function(){return f(a)},b);return function(){return c("clearTimeout")(d)}},[a,b]);return e}g["default"]=a}),98);
__d("VideoPlayerSpinner.react",["CometLoadingAnimation.react","gkx","react","stylex","useDebouncedValue"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=36,l={spinner:{height:"xc9qbxq",start:"xtzzx4i",opacity:"x1hc1fzr",position:"x10l6tqk",top:"xwa60dl",transform:"x11lhmoz",transitionDelay:"x5w5eug",transitionDuration:"x13dflua",transitionProperty:"x19991ni",transitionTimingFunction:"xl405pv",width:"x14qfxbe",$$css:!0},spinnerHidden:{opacity:"xg01cxk",transitionDelay:"x2p8vrm",transitionDuration:"x13dflua",transitionProperty:"x1jl3cmp",transitionTimingFunction:"xl405pv",visibility:"xlshs6z",$$css:!0},spinnerSnappier:{transitionDelay:"x2p8vrm",$$css:!0},spinnerSnappierHidden:{transitionDelay:"x1ahifba",$$css:!0}};function a(a){a=a.isVisible;var b=c("useDebouncedValue")(a,a?200:500);return j.jsx("div",{className:(h||(h=c("stylex")))(l.spinner,c("gkx")("24333")?[l.spinnerSnappier,!a&&l.spinnerHidden,!a&&l.spinnerSnappierHidden]:[!a&&l.spinnerHidden]),children:j.jsx(c("CometLoadingAnimation.react"),{animationPaused:!b,size:k})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("getPolarisOzConfigValues",["PolarisMobileOzConfigDefaults","PolarisUA"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b={},c;({});c=babelHelpers["extends"]({},d("PolarisMobileOzConfigDefaults").defaultBools,d("PolarisMobileOzConfigDefaults").defaultNumbers,d("PolarisMobileOzConfigDefaults").defaultStrings);return babelHelpers["extends"]({},a,b,c)}function i(a){return babelHelpers["extends"]({},a)}function a(){var a={oz_www_use_src_object_for_media_source:!0,oz_www_use_systemic_risk_abr:!0};return d("PolarisUA").isMobile()?h(a):i(a)}g["default"]=a}),98);
__d("shouldUseOzOnPolaris",["InstagramODS","gkx","memoizeWithArgs","polarisManifestHasUnsupportedCodecs"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b;c("gkx")("25417")||(b="oz_player_browser_version_failed");c("polarisManifestHasUnsupportedCodecs")(a)&&(b="oz_player_manifest_has_unsupported_codecs");window.MediaSource||(b="oz_player_media_source_failed");window.fetch||(b="oz_player_no_fetch_failed");window.ReadableStream||(b="oz_player_no_readable_stream_failed");if(b){c("InstagramODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY("web.polaris_video_x."+b);return!1}c("InstagramODS").incr("web.polaris_video_x.oz_compatible");return!0}a=c("memoizeWithArgs")(function(a){return h(a)},function(a){return JSON.stringify((a=a)!=null?a:null)});b=a;g["default"]=b}),98);
__d("usePolarisVideoPlayerShakaConfig",["VideoPlayerConnectionQuality","VideoPlayerOzWWWGlobalConfig","VideoPlayerShakaConfig","getPolarisOzConfigValues","gkx","oz-player/networks/OzBandwidthEstimator","react","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).c;function a(a){var b=i(3),e=a.isAd,f=a.isLive;b[0]!==e||b[1]!==f?(a=function(){return new(c("VideoPlayerShakaConfig"))({connection_quality:d("VideoPlayerConnectionQuality").evaluate(function(){return c("oz-player/networks/OzBandwidthEstimator").getBandwidth(c("VideoPlayerOzWWWGlobalConfig"))}),content_category:"general",fbls_tier:"user",is_ad:e===!0,is_latency_sensitive_broadcast:!1,is_live:f===!0,is_spherical:!1,latency_level:"normal",player_format:"inline",servable_via_fmbs:!1,streaming_implementation:"default"},{oz_www_enable_alternative_audio_tracks:c("gkx")("4483"),oz_www_enable_lip_sync_abr_select_quality:c("gkx")("7221")},{contextSensitiveValues:{},staticValues:c("getPolarisOzConfigValues")()})},b[0]=e,b[1]=f,b[2]=a):a=b[2];return c("useStable")(a)}g["default"]=a}),98);
__d("usePolarisOzImplementation",["FBLogger","PolarisLocales","VideoPlayerOzImplementationData","VideoPlayerOzImplementationV2.react","VideoPlayerOzWWWConfig","err","gkx","react","shouldUseOzOnPolaris","usePolarisVideoPlayerShakaConfig"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a){var b=a.dashInfo,e=a.isAd;a=a.isLive;var f=c("usePolarisVideoPlayerShakaConfig")({isAd:e,isLive:a}),g=i(function(){return new(c("VideoPlayerOzWWWConfig"))(f)},[f]);e=c("shouldUseOzOnPolaris")(b==null?void 0:b.videoDashManifest);a=c("PolarisLocales").language_code;var h=/([a-zA-Z]{2})/i.exec(a),j=i(function(){return d("VideoPlayerOzImplementationData").makeOzImplementationData({canUseOz:b==null?void 0:b.isDashEligible,dashManifestUrl:b==null?void 0:b.videoDashUrl,dashManifestXmlString:b==null?void 0:b.videoDashManifest,experimentationConfig:g,initialAudioUserPreferredLanguage:c("gkx")("25416")&&h!=null?h[0]:null,minQualityPreference:null})},[h,b==null?void 0:b.isDashEligible,b==null?void 0:b.videoDashManifest,b==null?void 0:b.videoDashUrl,g]);a=i(function(){return j instanceof Error?null:{Component:c("VideoPlayerOzImplementationV2.react"),data:j,typename:"VideoPlayerOzImplementation"}},[j]);if(j instanceof Error)return[null,j];if(j.manifest==null&&j.manifestUrl==null)throw c("FBLogger")("comet_video_player").mustfixThrow("If ozImplementationData exists, it should have either manifest or manifestUrl");return!e||a==null?[null,c("err")("oz player not supported")]:[a,null]}g["default"]=a}),98);
__d("useVideoPlayerControllerSubscription",["VideoPlayerHooks","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useEffect,k=b.useLayoutEffect,l=b.useRef,m=b.useState;function a(a){var b=(i||(i=d("VideoPlayerHooks"))).useController(),c=m(function(){return a(b,null)}),e=c[0],f=c[1],g=l(a);k(function(){g.current=a},[a]);j(function(){f(function(a){return g.current(b,a)});var a=b.subscribe(function(){f(function(a){return g.current(b,a)})});return function(){a.remove()}},[b]);return e}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("WebBloksDummy",[],(function(a,b,c,d,e,f){function a(){}f["default"]=a}),66);
__d("WebBloksFetchAsyncComponent",[],(function(a,b,c,d,e,f){function a(a,b,c,d,e){a.objectSet.componentQueryStore.fetch(b,c,d,"FETCH")}f["default"]=a}),66);
__d("WebBloksInvalidateCachedAsyncComponents",[],(function(a,b,c,d,e,f){function a(a,b,c){a.bloksContext.objectSet.componentQueryStore.invalidate(b,c)}f["default"]=a}),66);
__d("ACQWebBloksPrimitives",["WebBloksDummy","WebBloksFetchAsyncComponent","WebBloksInvalidateCachedAsyncComponents"],(function(a,b,c,d,e,f,g){a={};d={"bk.action.bloks.FetchAsyncComponents":c("WebBloksFetchAsyncComponent"),"bk.action.bloks.InvalidateCachedAsyncComponents":c("WebBloksInvalidateCachedAsyncComponents"),"bk.versioning.bloks.AsyncComponentAppIdExpression":b=c("WebBloksDummy"),"bk.versioning.bloks.AsyncComponentCacheTtlExpression":b,"bk.versioning.bloks.AsyncComponentClientParams":b,"bk.versioning.bloks.AsyncComponentReleaseV1":b,"bk.versioning.bloks.AsyncComponentScoping":b};e={};g.COMPONENTS=a;g.ACTIONS=d;g.EXTENSION_HANDLERS=e}),98);
__d("acqTraversalKeys",[],(function(a,b,c,d,e,f){"use strict";a={};b=a;f["default"]=b}),66);
__d("ACQWebBloksEnvironmentConfig",["ACQWebBloksPrimitives","acqTraversalKeys"],(function(a,b,c,d,e,f,g){a={actions:d("ACQWebBloksPrimitives").ACTIONS,components:d("ACQWebBloksPrimitives").COMPONENTS,extensionHandlers:d("ACQWebBloksPrimitives").EXTENSION_HANDLERS,traversalKeys:c("acqTraversalKeys")};g.ACQ_ENVIRONMENT_CONFIG=a}),98);
__d("ClientAjaxIdsUpdater",["CurrentUserInitialData","MRequestConfig","cr:8959","cr:8960"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){if(!a.ajaxUpdateAfterLogin)return;a=a.ajaxUpdateAfterLogin;(h||(h=c("CurrentUserInitialData"))).USER_ID=a.currentUser;b("cr:8959").setToken(a.dtsgToken);b("cr:8960").setToken(a.dtsgAsyncGetToken);c("MRequestConfig").ajaxResponseToken=a.ajaxResponseToken}g["default"]=a}),98);
__d("WebBloksFalcoPolicyData",[],(function(a,b,c,d,e,f){"use strict";var g={};function a(a){Object.keys(a).forEach(function(b){g[b]==null&&(g[b]=a[b])})}function b(a){a=g[a];return a==null?{r:1}:a}c={add:a,get:b};f["default"]=c}),66);
__d("WebBloksServerData",["WebBloksFalcoPolicyData"],(function(a,b,c,d,e,f,g){"use strict";function a(a){(a==null?void 0:a.falco_log_policy_map)!=null&&c("WebBloksFalcoPolicyData").add(a.falco_log_policy_map)}g.handleWebBloksServerData=a}),98);
__d("AbstractWebBloksAppLoader",["ClientAjaxIdsUpdater","WebBloksErrors","WebBloksIsUnitTest","WebBloksServerData","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var e=a.prototype;e.fetchAppByUrl=function(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:this.$1(a);c.t0=h;c.next=4;return b("regeneratorRuntime").awrap(this.$2(a,this.makePostRequest(a,{type:"app"})));case 4:c.t1=c.sent;return c.abrupt("return",c.t0(c.t1));case 6:case"end":return c.stop()}},null,this)};e.fetchApp=function(a,c){return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.t0=h;d.next=3;return b("regeneratorRuntime").awrap(this.$3(a,c,"app"));case 3:d.t1=d.sent;return d.abrupt("return",d.t0(d.t1));case 5:case"end":return d.stop()}},null,this)};e.fetchAction=function(a,c){return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.t0=h;d.next=3;return b("regeneratorRuntime").awrap(this.$3(a,c,"action"));case 3:d.t1=d.sent;return d.abrupt("return",d.t0(d.t1));case 5:case"end":return d.stop()}},null,this)};e.fetchComponentQuery=function(a,c){var d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return b("regeneratorRuntime").awrap(this.$3(a,c,"app"));case 2:d=e.sent;return e.abrupt("return",{components:d.components,prefetchScript:d.prefetchScript});case 4:case"end":return e.stop()}},null,this)};e.$3=function(a,b,c){this.$1(a,b);var d=this.getAsyncFetchData(a,b,c);return this.$2(a,this.makePostRequest(this.getAsyncFetchURI(a,b,c),d))};e.$2=function(a,e){var f,g,h,i;return b("regeneratorRuntime").async(function(j){while(1)switch(j.prev=j.next){case 0:j.prev=0;j.next=3;return b("regeneratorRuntime").awrap(e);case 3:g=j.sent;this.$4(a,g);c("ClientAjaxIdsUpdater")(g);h=(f=g.payload)!=null?f:g;d("WebBloksServerData").handleWebBloksServerData(h.server_data);return j.abrupt("return",h);case 11:j.prev=11;j.t0=j["catch"](0);this.$5(a,j.t0);throw j.t0 instanceof d("WebBloksErrors").WebBloksError?j.t0:(i=j.t0.toError==null?void 0:j.t0.toError())!=null?i:new(d("WebBloksErrors").WebBloksError)("Fetch failed: "+j.t0,j.t0);case 15:case"end":return j.stop()}},null,this,[[0,11]])};e.makePostRequest=function(a,b){throw new(d("WebBloksErrors").WebBloksError)("Abstract")};e.getAsyncFetchURI=function(a,b,c){throw new(d("WebBloksErrors").WebBloksError)("Abstract")};e.getAsyncFetchData=function(a,b,c){throw new(d("WebBloksErrors").WebBloksError)("Abstract")};e.$1=function(a,b){};e.$4=function(a,b){};e.$5=function(a,b){};return a}();function h(a){var b,c=a.server_data;if(((b=a.layout)==null?void 0:b.bloks_payload)!=null)return babelHelpers["extends"]({},a.layout.bloks_payload,{serverData:c});a.layout;b=a.data;var d=babelHelpers.objectWithoutPropertiesLoose(a,["layout","data"]);return babelHelpers["extends"]({data:b||[],tree:a.layout,serverData:c},d)}g.AbstractWebBloksAppLoader=a}),98);
__d("WebBloksAccessibilityAnnouncement",[],(function(a,b,c,d,e,f){function a(a,b){var c=document.createElement("div");c.setAttribute("aria-live","polite");c.style.position="absolute";c.style.top="-10000px";c.style.left="-10000px";c.style.width="500px";c.textContent=b;(a=document.body)==null?void 0:a.appendChild(c);window.setTimeout(function(){var a;(a=document.body)==null?void 0:a.removeChild(c)},100)}f["default"]=a}),66);
__d("WebBloksAccesibilityUtils",[],(function(a,b,c,d,e,f){a={Button:"button",Header:"heading","Image Button":"button",Image:"img","Selected Button":"button",Text:"",Link:"link",Radio:"radio",Checkbox:"checkbox","Radio Group":"radiogroup"};var g=["button","link","checkbox","radio"];b=function(a){return g.includes(a)?{tabIndex:0}:{}};f.WEBBLOKS_ACCESIBILITY_ROLE_MAPPING=a;f.WEBBLOKS_ACCESSIBILITY_FOCUSABLE_ROLES=g;f.getFocusPropsForRole=b}),66);
__d("WebBloksAccessibilityExtensionHandler",["WebBloksAccesibilityUtils","WebBloksBooleanUtils"],(function(a,b,c,d,e,f,g){var h={Button:"button",Header:"heading","Image Button":"button",Image:"img","Selected Button":"button",Text:""};a={getProps:function(a){a=a.getValues();var b=a.enabled,c=a.disabled,e=a.role;a=a.label;var f={};d("WebBloksBooleanUtils").isFalse(b)||(e&&(f.role=h[e]),a!=null&&(f["aria-label"]=a));f=babelHelpers["extends"]({},d("WebBloksAccesibilityUtils").getFocusPropsForRole(f.role),f);d("WebBloksBooleanUtils").isTrue(c)&&(f.disabled=!0,f["aria-disabled"]=!0);return f}};g.WebBloksAccessibilityExtensionHandler=a}),98);
__d("WebBloksAccessibilitySetFocus",[],(function(a,b,c,d,e,f){function a(a,b){a=(a=b.uiMutableContainer)==null?void 0:(b=a.domNode)==null?void 0:b.current;b=a==null?void 0:a.getAttribute("tabindex");b==null&&(a==null?void 0:a.setAttribute("tabindex","-1"));a==null?void 0:a.focus()}f["default"]=a}),66);
__d("WebBloksAddChild",["WebBloksMutations"],(function(a,b,c,d,e,f,g){function a(a,b,c,e){d("WebBloksMutations").addChildToContainer(a.treeManager,b,c,e)}g["default"]=a}),98);
__d("WebBloksAnchorIDExtensionHandler",[],(function(a,b,c,d,e,f){a={getProps:function(a){a=a.get("anchor_id");if(a!=null)return{"data-anchor-id":a}}};f.WebBloksAnchorIDExtensionHandler=a}),66);
__d("WebBloksAnchorTagExtensionHandler",["WebBloksUtils"],(function(a,b,c,d,e,f,g){"use strict";b={};function a(a){a=a.getValues();a=d("WebBloksUtils").findExtension(a.extensions,"bk.components.AnchorTagExtension");if(!a)return null;a=a.getValues();a=a.href;return{href:a,tabIndex:0}}g.WebBloksAnchorTagExtensionHandler=b;g.useWebBloksAnchorTagExtensionProps=a}),98);
__d("WebBloksAppendEmbeddedChildren",["WebBloksMutations"],(function(a,b,c,d,e,f,g){function a(a,b,c,e){d("WebBloksMutations").appendEmbeddedLayoutChildren(a.treeManager,b,c)}g["default"]=a}),98);
__d("WebBloksApply",[],(function(a,b,c,d,e,f){function a(a,b){for(var c=arguments.length,d=new Array(c>2?c-2:0),e=2;e<c;e++)d[e-2]=arguments[e];return b.apply(void 0,[a].concat(d))}f["default"]=a}),66);
__d("WebBloksArrayAppend",[],(function(a,b,c,d,e,f){function a(a,b,c){return[].concat(b,[c])}f["default"]=a}),66);
__d("WebBloksArrayClone",[],(function(a,b,c,d,e,f){function a(a,b){return[].concat(b)}f["default"]=a}),66);
__d("WebBloksArrayConcat",[],(function(a,b,c,d,e,f){function a(a,b,c){return b.concat(c)}f["default"]=a}),66);
__d("WebBloksArrayFilter",["WebBloksBooleanUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c){var e=[];for(var f=0;f<b.length;f++){var g=c(a,b[f]);d("WebBloksBooleanUtils").isTrue(g)&&e.push(b[f])}return e}g["default"]=a}),98);
__d("WebBloksArrayGet",[],(function(a,b,c,d,e,f){function a(a,b,c){return b[c]}f["default"]=a}),66);
__d("WebBloksArrayLength",[],(function(a,b,c,d,e,f){function a(a,b){return Array.isArray(b)?b.length:Object.keys(b).length}f["default"]=a}),66);
__d("WebBloksArrayMake",[],(function(a,b,c,d,e,f){function a(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return c}f["default"]=a}),66);
__d("WebBloksArrayMap",[],(function(a,b,c,d,e,f){function a(a,b,c){var d=[];for(var e=0;e<b.length;e++){var f=b[e];f=c(a,e,f);d.push(f)}return d}f["default"]=a}),66);
__d("WebBloksArrayPut",[],(function(a,b,c,d,e,f){function a(a,b,c,d){c===b.length?b.push(d):b[c]=d}f["default"]=a}),66);
__d("WebBloksArrayPutAndGet",["WebBloksArrayPut"],(function(a,b,c,d,e,f,g){function a(a,b,d,e){c("WebBloksArrayPut")(a,b,d,e);return b}g["default"]=a}),98);
__d("WebBloksArrayReduce",[],(function(a,b,c,d,e,f){function a(a,b,c,d){return b==null?d:b.reduce(function(b,d,e){return c(a,b,d,e)},d)}f["default"]=a}),66);
__d("WebBloksArrayRemove",[],(function(a,b,c,d,e,f){function a(a,b,c){b.splice(c,1)}f["default"]=a}),66);
__d("WebBloksArrayRemoveAndGet",["WebBloksArrayRemove"],(function(a,b,c,d,e,f,g){function a(a,b,d){c("WebBloksArrayRemove")(a,b,d);return b}g["default"]=a}),98);
__d("WebBloksArraySlice",[],(function(a,b,c,d,e,f){function a(a,b,c,d){if(typeof d==="number")return b.slice(c,c+d);else return b.slice(c)}f["default"]=a}),66);
__d("WebBloksArraySortedArray",[],(function(a,b,c,d,e,f){function a(a,b,c){b=Array.from(b);b.sort(function(b,d){b=c(a,b,d);return b});return b}f["default"]=a}),66);
__d("WebBloksArrayUpdate",[],(function(a,b,c,d,e,f){function a(a,b,c,d){for(a=0;a<c.length;a++){var e=c[a];b[e]=d[a]}}f["default"]=a}),66);
__d("webBloksPerformanceUtils",[],(function(a,b,c,d,e,f){function a(a,b){var c;c=(c=window)==null?void 0:c.performance;c==null?void 0:c.mark==null?void 0:c.mark(String(a),b)}f.addWebBloksPerformanceMark=a}),66);
__d("WebBloksAsyncAction",["WebBloksContext","webBloksPerformanceUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c,e,f,g){d("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-async-action-start",{detail:{appId:b}}),d("WebBloksContext").executeAsyncAction(a,b,c).then(function(){d("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-async-action-success"),a.execute(e,[])})["catch"](function(){d("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-async-action-error"),a.execute(f,[])})}g["default"]=a}),98);
__d("WebBloksAsyncActionWithDataManifest",["WebBloksContext","webBloksPerformanceUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c,e,f,g){d("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-async-action-start",{detail:{appId:b}}),d("WebBloksContext").executeAsyncAction(a,b,c,!0).then(function(b){d("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-async-action-success"),a.execute(e,[b,a.bloksContext])})["catch"](function(){d("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-async-action-error"),a.execute(f,[a.bloksContext])})["catch"](function(b){d("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-async-action-error"),a.objectSet.environment.logger.mustfix("AsyncAction: failed to run error handler",b)})}g["default"]=a}),98);
__d("WebBloksAsyncLoadV2",["WebBloksModelParser","WebBloksUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c,e,f){var g=d("WebBloksUtils").nullthrows(a.objectSet.environment.appLoader);g.fetchApp(b,c).then(function(b){b=d("WebBloksModelParser").parseBloksPayload({layout:{bloks_payload:b}},a.objectSet.environment.traversalKeys);a.treeManager.processResources([b]);a.execute(e,[b.unboundModel])})["catch"](function(b){f(a,b)})}g["default"]=a}),98);
__d("WebBloksAutomationTestExtensionHandler",[],(function(a,b,c,d,e,f){a={getProps:function(a){a=a.get("testing_id");if(a!=null)return{"data-testid":a}}};f.WebBloksAutomationTestExtensionHandler=a}),66);
__d("WebBloksBKSTextInputFormatterHandler",["WebBloksContext","WebBloksUtils"],(function(a,b,c,d,e,f,g){b={};function a(a){var b=d("WebBloksContext").useWebBloksContext(),c=b.execute,e=d("WebBloksUtils").findExtension(a.extensions,"bk.components.BKSTextInputFormatter");return function(a){var b=e==null?void 0:e.get("format_text");if(e!=null&&b!=null){b=c(e,b,[a]);if(typeof b==="string")return b}return a}}g.WebBloksBKSTextInputFormatterHandler=b;g.useBKSTextInputFormatter=a}),98);
__d("WebBloksBindWithArrayV2",[],(function(a,b,c,d,e,f){function a(a,b,c){return function(a){for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];return b.apply(void 0,[a].concat(c,e))}}f["default"]=a}),66);
__d("WebBloksBoolAnd",["WebBloksBooleanUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c){return d("WebBloksBooleanUtils").isTrue(b)&&d("WebBloksBooleanUtils").isTrue(c)?1:0}g["default"]=a}),98);
__d("WebBloksBoolConst",["WebBloksBooleanUtils"],(function(a,b,c,d,e,f,g){function a(a,b){return d("WebBloksBooleanUtils").isTrue(b)}g["default"]=a}),98);
__d("WebBloksBoolNot",[],(function(a,b,c,d,e,f){function a(a,b){return!!!b}f["default"]=a}),66);
__d("WebBloksBoolOr",[],(function(a,b,c,d,e,f){function a(a,b,c){return Boolean(b)||Boolean(c)?1:0}f["default"]=a}),66);
__d("WebBloksAbstractButton",["WebBloksContext","WebBloksStyle","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.accessibility_label,c=a.badge_count,e=a.className,f=a.icon,g=a.role;g=g===void 0?"button":g;var h=a.tabIndex;h=h===void 0?0:h;var k=a.title,l=a.trailing;a=babelHelpers.objectWithoutPropertiesLoose(a,["accessibility_label","badge_count","className","icon","role","tabIndex","title","trailing"]);var m=d("WebBloksContext").useWebBloksContext();m=m.objectSet;if(f==null&&k==null)return null;var n=j.abstractButton,o=k==null;b=(k=(k=k)!=null?k:b)!=null?k:"";k=null;if(f!=null){m=m.environment;var p=m.AssetRenderer;m=m.logger;if(!p)m.mustfix("Trying to render an asset, but AssetRenderer is not defined for %s",JSON.stringify(f));else{m={};b&&(m.alt="",o||(m.className=j.marginRight4));k=i.jsx(p,babelHelpers["extends"]({src:f},m))}}return i.jsxs(i.Fragment,{children:[i.jsxs("div",babelHelpers["extends"]({role:g,tabIndex:h},a,{className:d("WebBloksStyle").classNames(l===!0?j.TrailingButton:"",n,e),children:[k,o?i.jsx("span",{className:j.abstractButton+"_accessible_elem",children:b}):b]})),c!=null&&c>0?c:void 0]})}a.displayName=a.name+" [from "+f.id+"]";var j=d("WebBloksStyle").createStyles({TrailingButton:{backgroundColor:"transparent",border:"none",color:"rgb(23, 99, 207)"},marginRight4:{marginRight:4},abstractButton:function(a){var b;return b={},b[a]={cursor:"pointer",display:"inline-block",textDecoration:"none",whiteSpace:"nowrap",padding:"1px 6px"},b[".gecko "+a+":focus"]={outline:"1px dotted #3b5998",outlineColor:"invert"},b[a+":hover"]={textDecoration:"none"},b[a+" + "+a]={marginLeft:4},b[a+"_accessible_elem"]={clip:"rect(1px, 1px, 1px, 1px)",height:1,overflow:"hidden",position:"absolute",whiteSpace:"nowrap",width:1},b}});g["default"]=a}),98);
__d("WebBloksBottomSheetBase",["WebBloksStyle","react"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useEffect,l=b.useRef;function a(a){var b=a.closeDialog,c=a.content,d=a.height,e=a.name;a=a.navbar;var f=n(b),g=f.touchEvents;f=f.draggableRef;return i.jsx("div",babelHelpers["extends"]({"data-bloks-name":e,className:p.background,onClick:b,role:"presentation"},g,{children:i.jsxs("div",{className:p.container,style:{height:d},ref:f,onClick:m,role:"presentation",children:[i.jsx("div",{className:p.top,children:i.jsx("button",{className:p.swipe,onClick:b})}),a,c]})}))}a.displayName=a.name+" [from "+f.id+"]";function m(a){a.preventDefault(),a.stopPropagation()}function n(a){var b=l(null),c=l(null),d=j(function(a){a.stopPropagation(),c.current={startY:o(a),endY:o(a)}},[]),e=j(function(a){a.stopPropagation();var d=c.current;if(d){d.endY=o(a);a=d.endY-d.startY;a>20&&(b.current&&(b.current.style.transform="translateY("+a+"px)"))}},[]),f=j(function(d){d.stopPropagation(),b.current&&(b.current.style.transform=""),c.current&&b.current&&c.current.endY-c.current.startY>b.current.clientHeight/2&&a(),c.current=null},[a]),g=j(function(a){a.stopPropagation(),c.current=null,b.current&&(b.current.style.transform="")},[]);k(function(){if(document.body){var a=document.body.style.overscrollBehaviorY,b=document.body.style.touchAction;document.body.style.overscrollBehaviorY="none";document.body.style.touchAction="none";return function(){document.body.style.overscrollBehaviorY=a,document.body.style.touchAction=b}}},[]);return{draggableRef:b,touchEvents:{onTouchStart:d,onMouseDown:d,onTouchMove:e,onMouseMove:e,onTouchEnd:f,onMouseUp:f,onTouchCancel:g}}}function o(a){return a.touches?a.touches[0].pageY:a.clientY}var p=d("WebBloksStyle").createStyles({background:{backgroundColor:"rgba(0, 0, 0, 0.5)",bottom:0,left:0,position:"fixed",right:0,top:0,zIndex:1e3},container:{backgroundColor:"white",borderRadius:"16px 16px 0px 0px",bottom:0,display:"flex",flexDirection:"column",left:0,position:"absolute",right:0,maxHeight:"calc(100% - 44px)"},top:{alignItems:"center",display:"flex",justifyContent:"center"},swipe:{backgroundColor:"#dbdbdb",border:"none",borderRadius:2.5,height:4,width:36,marginTop:12}});g["default"]=a}),98);
__d("useClickablePropsForWebBloks",["WebBloksBooleanUtils","WebBloksConstants","WebBloksContext","WebBloksUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c,e){var f=d("WebBloksContext").useWebBloksContext(),g=f.executeCatch,h=f.bloksContext;f=e===!0?function(a){a.preventDefault()}:void 0;if(b==null)return{onClickCapture:f};function i(f){e===!0&&f.preventDefault(),d("WebBloksBooleanUtils").isFalse(c)||(f.preventDefault(),f.stopPropagation(),g(a,d("WebBloksUtils").cast(b),[a,h]))}var j=i,k=function(a){a.keyCode===d("WebBloksConstants").KEY_RETURN?i(a):a.keyCode===d("WebBloksConstants").KEY_SPACE&&a.preventDefault()},l=function(a){a.keyCode===d("WebBloksConstants").KEY_SPACE&&i(a)},m={role:"button",tabIndex:0},n=h.objectSet.environment.inferAccesibilityRolesForPressables===!1;return babelHelpers["extends"]({onClick:j,onClickCapture:f,onKeyDown:k,onKeyUp:l},n?{}:m)}g["default"]=a}),98);
__d("WebBloksNode",["WebBloksContext","react"],(function(a,b,c,d,e,f,g){var h;f=h||d("react");var i=f.memo,j=f.useDebugValue,k=f.useEffect,l=f.useRef,m=f.useState;function a(a){return[a.getValues(),a.styleId]}function b(a,b){var c=function(a){return b(a)};c.displayName=a;return i(c)}function c(a){j(a,function(){return a.toJSON()})}function e(a){var b=d("WebBloksContext").useWebBloksContext(),c=m(null),e=c[0],f=c[1],g=l(),h=b.bloksContext.objectSet.environment.debugMetadataProvider;k(function(){var b=a.getValues()["nt-debug-metadata-v2"],c;if(b!=null){b=JSON.parse(b);c=b.metadata_id;g.current=b.trace_id}c!=null&&h&&h.get(c).then(f)["catch"](function(){})},[]);j(a,function(){return h?h.computeReductionTrace(e,g.current):[]})}g.getNode=a;g.createBridgedComponent=b}),98);
__d("useWebBloksNode",["WebBloksNode"],(function(a,b,c,d,e,f,g){function a(a){return d("WebBloksNode").getNode(a)}g["default"]=a}),98);
__d("WebBloksBottomSheet",["WebBloksAbstractButton","WebBloksBottomSheetBase","WebBloksContext","WebBloksStyle","react","useClickablePropsForWebBloks","useWebBloksNode"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useEffect;function a(a){a=a.node;var b=c("useWebBloksNode")(a),e=b[0];b=b[1];var f=d("WebBloksContext").useWebBloksContext(),g=e.on_dismiss,h=j(function(){f.objectSet.navigationManager.pop()},[f]);k(function(){if(g!=null){var a;(a=f.objectSet.navigationManager.getCurrentModal())==null?void 0:a.setDismissCallback(g)}},[f,g]);var n;a=c("useClickablePropsForWebBloks")(a,e.trailing_button_on_click);e.trailing_button_on_click!=null&&(n=i.jsx(c("WebBloksAbstractButton"),babelHelpers["extends"]({trailing:!0,accessibility_label:e.trailing_button_accessibility_label,title:e.trailing_button_text,icon:l(f.objectSet,e.trailing_button_style)},a)));a=f.objectSet.navigationManager.getModalCount()>1?i.jsx(c("WebBloksAbstractButton"),{icon:f.objectSet.getAsset("chevronLeft24"),accessibility_label:"Back",onClick:h}):null;var o=e.partial_height_percentage!=null?e.partial_height_percentage+"%":"auto";a=n||a||e.title!=null?i.jsxs("div",{className:m.titleBar,children:[a,i.jsx("div",{className:m.title,children:e.title}),n]}):null;e=f.renderNode(e.content);return i.jsx(c("WebBloksBottomSheetBase"),{closeDialog:h,content:e,height:o,name:b,navbar:a})}a.displayName=a.name+" [from "+f.id+"]";function l(a,b){switch(b){case"close":return a.getAsset("navCross");case"settings":return a.getAsset("settings");case"overflow":return a.getAsset("nav3DotHorizontal");default:return null}}var m=d("WebBloksStyle").createStyles({titleBar:{display:"flex",flexDirection:"row",alignItems:"center",height:52,paddingLeft:16,paddingRight:16,fontWeight:"bold",borderBottom:"0.5px solid #dbdbdb"},title:{flex:"1 1 0",textAlign:"center",margin:8}});g["default"]=a}),98);
__d("WebBloksCDSScreenModeContext.react",["react"],(function(a,b,c,d,e,f,g){var h;a=(h||d("react")).createContext;b=a(null);c=b;g["default"]=c}),98);
__d("WebBloksCDSBottomSheetWrapper.react",["WebBloksCDSScreenModeContext.react","WebBloksContext","WebBloksStyle","WebBloksTheme","WebBloksUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext;function a(a){a=a.node;var b=a.get("content"),e=a.get("header"),f=d("WebBloksContext").useWebBloksContext();f=f.renderNode;var g=d("WebBloksTheme").useTheme().getTheme(),h,k=a.get("web_background_overlay_color");if(k!=null){k=d("WebBloksUtils").getRGBColorWithTheme(k,g);h=i.jsx("div",{className:o.backgroundOverlayColor,style:{backgroundColor:k}})}g=j(c("WebBloksCDSScreenModeContext.react"));k=i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:o.gradientContainer,children:[i.jsx("div",{className:o.gradient,children:i.jsx("div",{className:o.canvas})}),h]}),e!=null?f(e):null,f(b)]});e=g==="full_screen"||g==null?i.jsx("div",{className:o.minHeight,children:k}):k;return i.jsx("div",{"data-bloks-name":a.styleId,className:o.root,children:e})}a.displayName=a.name+" [from "+f.id+"]";b="hsla(44, 100%, 66%, 1)";e="hsla(338, 68%, 65%, 1)";f="hsla(338, 68%, 65%, 0.4)";var k="hsla(272, 100%, 60%, 1)",l="hsla(142, 70%, 49%, 1)",m="hsla(209, 100%, 53%, 1)",n="hsla(213, 100%, 44%, 1)",o=d("WebBloksStyle").createStyles({root:{boxSizing:"border-box",display:"flex",flexDirection:"column",height:"100%",overflow:"scroll",paddingLeft:"env(safe-area-inset-left)",paddingRight:"env(safe-area-inset-right)",width:"100%"},minHeight:{height:"100%",minHeight:"600px",display:"flex",flexDirection:"column"},gradientContainer:{bottom:0,clipPath:"inset(0 0 0 0)",right:0,position:"absolute",left:0,top:0},gradient:{backgroundColor:d("WebBloksTheme").WebBloksThemeVars["cds-surface-background"],borderRadius:"inherit",clipPath:"inset(0 0 0 0)",height:"100%",position:"relative",width:"100%",zIndex:0},canvas:{backgroundImage:"radial-gradient(rgba(255,255,255,.25), rgba(255,255,255,0) 40%), radial-gradient("+b+" 30%, "+e+", "+f+" 41%, transparent 52%), radial-gradient("+k+" 37%, transparent 46%), linear-gradient(155deg, transparent 65%, "+l+" 95%), linear-gradient(45deg, "+n+", "+m+")",backgroundPosition:"bottom left, 109% 68%, 109% 68%, center, center",backgroundRepeat:"no-repeat",backgroundSize:"200% 200%, 285% 500%, 285% 500%, cover, cover",bottom:0,right:0,opacity:.08,pointerEvents:"none",position:"absolute",left:0,top:0},backgroundOverlayColor:{height:"100%",width:"100%",position:"absolute",top:0}});g["default"]=a}),98);
__d("WebBloksCallbackApply",[],(function(a,b,c,d,e,f){function a(a,b){if(b==null)return null;for(var c=arguments.length,d=new Array(c>2?c-2:0),e=2;e<c;e++)d[e-2]=arguments[e];return b.invoke.apply(b,[a].concat(d))}f["default"]=a}),66);
__d("WebBloksCallback",["WebBloksErrors"],(function(a,b,c,d,e,f,g){a=function(){function a(a,b,c,d){this.$1=a,this.$2=b,this.$4=c,this.$3=d}var b=a.prototype;b.invoke=function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),e=1;e<b;e++)c[e-1]=arguments[e];if(this.$3!=null)return this.$3.apply(this,c);var f=this.$2;if(f!=null)if(this.$1!=null)return f.apply(void 0,[this.$1].concat(c));else if(this.$4!=null&&a!=null){var g=a.createBloksModelScopedContext(this.$4);return f.apply(void 0,[g].concat(c))}throw new(d("WebBloksErrors").WebBloksError)("WebBloksCallback: An attempt to invoke an invalid callback.")};return a}();g.WebBloksCallback=a}),98);
__d("WebBloksCallbackMake",["WebBloksCallback"],(function(a,b,c,d,e,f,g){function a(a,b){return new(d("WebBloksCallback").WebBloksCallback)(a,b)}g["default"]=a}),98);
__d("WebBloksCallbackMakeWithScopeOnly",["WebBloksCallback"],(function(a,b,c,d,e,f,g){function a(a,b){return new(d("WebBloksCallback").WebBloksCallback)(null,b,a.scope)}g["default"]=a}),98);
__d("WebBloksCanvasUtils",["WebBloksErrors","WebBloksUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c){switch(a.styleId){case"bk.types.CanvasShadow":var e=l(a.get("dx"),b),f=m(a.get("dy"),b),g=l(a.get("radius"),b);c=d("WebBloksUtils").getRGBColorWithTheme(a.get("themed_color"),c);b.shadowBlur=g*2;b.shadowOffsetX=e*2;b.shadowOffsetY=f*2;b.shadowColor=c;break;default:throw new(d("WebBloksErrors").WebBloksError)(a.styleId+" is not yet implemented. Add missing signature in `bk.component.Canvas`")}}function b(a,b,c){switch(a.styleId){case"bk.types.CanvasShadingColor":var e=d("WebBloksUtils").getRGBColorWithTheme(a.get("themed_color"),c);b.fillStyle=e;b.strokeStyle=e;break;case"bk.types.CanvasShadingGradientLinear":e=i(a,b,c);b.fillStyle=e;b.strokeStyle=e;break;case"bk.types.CanvasShadingGradientRadial":e=j(a,b,c);b.fillStyle=e;b.strokeStyle=e;break;default:throw new(d("WebBloksErrors").WebBloksError)(a.styleId+" is not yet implemented. Add missing signature in `bk.component.Canvas`")}}function c(a,b){switch(a.styleId){case"bk.types.CanvasBlendingMode":b.globalCompositeOperation=h(a.get("mode"));break;default:throw new(d("WebBloksErrors").WebBloksError)(a.styleId+" is not yet implemented. Add missing signature in `bk.component.Canvas`")}}function h(a){switch(a){case"dst_atop":return"destination-atop";case"dst_in":return"destination-in";case"dst_out":return"destination-out";case"dst_over":return"destination-over";case"src":case"src_over":return"source-over";case"src_atop":return"source-atop";case"src_in":return"source-in";case"src_out":return"source-out";default:return a}}function i(a,b,c){var e=l(a.get("start_x"),b),f=m(a.get("start_y"),b),g=l(a.get("end_x"),b),h=m(a.get("end_y"),b);b=b.createLinearGradient(e,f,g,h);e=a.get("gradient");f=e.get("positions");g=e.get("themed_colors");for(h=0;h<f.length;h++){a=f[h];e=g[h];b.addColorStop(a,d("WebBloksUtils").getRGBColorWithTheme(e,c))}return b}function j(a,b,c){var e=l(a.get("center_x"),b),f=m(a.get("center_y"),b),g=parseFloat(a.get("radius"));b=b.createRadialGradient(e,f,0,e,f,g);e=a.get("gradient");f=e.get("positions");g=e.get("themed_colors");for(a=0;a<f.length;a++){e=f[a];var h=g[a];b.addColorStop(e,d("WebBloksUtils").getRGBColorWithTheme(h,c))}return b}function e(a,b){var c,d=document.createElement("canvas");d.style.position="absolute";d.style.top="0";d.style.visibility="hidden";(c=document.body)==null?void 0:c.appendChild(d);d.width=a;d.height=b;return d}function k(a,b){return b!=null&&typeof a==="string"&&a.includes("%")?parseFloat(a)/100*b:parseFloat(a)}function l(a,b){return k(a,b.canvas.clientWidth)}function m(a,b){return k(a,b.canvas.clientHeight)}g.drawShadowToCanvas=a;g.drawShadingToCanvas=b;g.drawBlendingModeToCanvas=c;g.getCompositeOperation=h;g.createLinearGradient=i;g.createRadialGradient=j;g.createSecondaryCanvasElement=e;g.getCanvasSizePixelValue=k;g.getCanvasPixelValRelativeToWidth=l;g.getCanvasPixelValRelativeToHeight=m}),98);
__d("WebBloksCanvasDrawToContext",["WebBloksCanvasUtils","WebBloksErrors"],(function(a,b,c,d,e,f,g){function h(a,b,c){switch(a.styleId){case"bk.types.CanvasGroup":var e=a.getSubNode("transform");e!=null&&l(e,b,c);e=a.get("clip");e!=null&&(h(e,b,c),b.clip());e=d("WebBloksCanvasUtils").getCanvasPixelValRelativeToWidth(a.get("width"),b);var f=d("WebBloksCanvasUtils").getCanvasPixelValRelativeToHeight(a.get("height"),b);if(e>0&&f>0){e=d("WebBloksCanvasUtils").createSecondaryCanvasElement(e,f);f=e.getContext("2d");l(a,f,c);b.drawImage(e,0,0);e.remove()}else l(a,b,c);break;case"bk.types.CanvasLayer":f=a.getSubNode("transform");f!=null&&l(f,b,c);e=a.get("blending_mode");e!=null&&d("WebBloksCanvasUtils").drawBlendingModeToCanvas(e,b);f=a.get("clip");f!=null&&(h(f,b,c),b.clip());e=a.get("alpha");e!=null&&(b.globalAlpha=parseFloat(e));f=d("WebBloksCanvasUtils").getCanvasPixelValRelativeToWidth(a.get("width"),b);e=d("WebBloksCanvasUtils").getCanvasPixelValRelativeToHeight(a.get("height"),b);if(f>0&&e>0){f=d("WebBloksCanvasUtils").createSecondaryCanvasElement(f,e);e=f.getContext("2d");l(a,e,c);b.drawImage(f,0,0);f.remove()}else l(a,b,c);break;case"bk.types.CanvasTransform":e=a.get("a");f=a.get("b");var g=a.get("c"),m=a.get("d"),n=a.get("tx"),o=a.get("ty");if(e!=null&&f!=null&&g!=null&&m!=null&&n!=null&&o!=null){var p;b.setTransform((p=d("WebBloksCanvasUtils")).getCanvasPixelValRelativeToWidth(e,b),p.getCanvasPixelValRelativeToHeight(f,b),p.getCanvasPixelValRelativeToWidth(g,b),p.getCanvasPixelValRelativeToHeight(m,b),p.getCanvasPixelValRelativeToWidth(n,b),p.getCanvasPixelValRelativeToHeight(o,b))}l(a,b,c);break;case"bk.types.CanvasFill":e=a.getSubNode("shape");f=a.getSubNode("shading");g=a.getSubNode("shadow");m=a.getSubNode("blending_mode");e!=null&&h(e,b,c);f!=null&&d("WebBloksCanvasUtils").drawShadingToCanvas(f,b,c);m!=null&&d("WebBloksCanvasUtils").drawBlendingModeToCanvas(m,b);g!=null&&d("WebBloksCanvasUtils").drawShadowToCanvas(g,b,c);b.fill();break;case"bk.types.CanvasPath":b.beginPath();l(a,b,c);break;case"bk.types.CanvasPathAdd":case"bk.types.CanvasPathArc":case"bk.types.CanvasPathCircle":case"bk.types.CanvasPathClose":case"bk.types.CanvasPathCubicTo":case"bk.types.CanvasPathEllipse":case"bk.types.CanvasPathLineTo":case"bk.types.CanvasPathMoveTo":case"bk.types.CanvasPathQuadTo":case"bk.types.CanvasPathRect":j(a,b,c);break;case"bk.types.CanvasShapeCircle":case"bk.types.CanvasShapeLine":case"bk.types.CanvasShapeArc":case"bk.types.CanvasShapeRect":case"bk.types.CanvasShapeEllipse":i(a,b);break;case"bk.types.CanvasTransformInverseV2":case"bk.types.CanvasTransformRotate":case"bk.types.CanvasTransformScale":case"bk.types.CanvasTransformSkew":case"bk.types.CanvasTransformSkewV2":case"bk.types.CanvasTransformTranslate":k(a,b);break;case"bk.types.CanvasStroke":b.beginPath();n=a.get("dash_lengths");n!=null&&b.setLineDash(n.map(parseFloat));if(b!=null){b.lineWidth=parseFloat(a.get("line_width"));b.lineCap=(p=a.get("line_cap"))!=null?p:"butt";b.lineJoin=(o=a.get("line_join"))!=null?o:"miter";b.miterLimit=parseFloat((e=a.get("miter_limit"))!=null?e:0);b.lineDashOffset=parseFloat((f=a.get("dash_phase"))!=null?f:0)}m=a.getSubNode("shape");g=a.getSubNode("shading");n=a.getSubNode("shadow");p=a.getSubNode("blending_mode");m!=null&&h(m,b,c);g!=null&&d("WebBloksCanvasUtils").drawShadingToCanvas(g,b,c);p!=null&&d("WebBloksCanvasUtils").drawBlendingModeToCanvas(p,b);n!=null&&d("WebBloksCanvasUtils").drawShadowToCanvas(n,b,c);b.stroke();break;default:throw new(d("WebBloksErrors").WebBloksError)(a.styleId+" is not yet implemented. Add missing signature in `bk.component.Canvas`")}}function i(a,b){switch(a.styleId){case"bk.types.CanvasShapeArc":var c,e;b.beginPath();var f=d("WebBloksCanvasUtils").getCanvasPixelValRelativeToWidth(a.get("center_x"),b),g=d("WebBloksCanvasUtils").getCanvasPixelValRelativeToHeight(a.get("center_y"),b),h=d("WebBloksCanvasUtils").getCanvasPixelValRelativeToWidth(a.get("radius"),b);c=parseFloat((c=a.get("start_angle"))!=null?c:0);e=parseFloat((e=a.get("end_angle"))!=null?e:360);var i=a.get("clockwise")!=null?!a.get("clockwise"):!1;b.arc(f,g,h,c/180*Math.PI,e/180*Math.PI,i);break;case"bk.types.CanvasShapeCircle":b.beginPath();b.arc(d("WebBloksCanvasUtils").getCanvasPixelValRelativeToWidth(a.get("center_x"),b),d("WebBloksCanvasUtils").getCanvasPixelValRelativeToHeight(a.get("center_y"),b),d("WebBloksCanvasUtils").getCanvasPixelValRelativeToWidth(a.get("radius"),b),0,2*Math.PI);break;case"bk.types.CanvasShapeLine":b.beginPath();b.moveTo((f=d("WebBloksCanvasUtils")).getCanvasPixelValRelativeToWidth(a.get("start_x"),b),f.getCanvasPixelValRelativeToHeight(a.get("start_y"),b));b.lineTo(f.getCanvasPixelValRelativeToWidth(a.get("end_x"),b),f.getCanvasPixelValRelativeToHeight(a.get("end_y"),b));break;case"bk.types.CanvasShapeRect":b.beginPath();b.roundRect(d("WebBloksCanvasUtils").getCanvasPixelValRelativeToWidth(a.get("x"),b),d("WebBloksCanvasUtils").getCanvasPixelValRelativeToHeight(a.get("y"),b),d("WebBloksCanvasUtils").getCanvasPixelValRelativeToWidth(a.get("width"),b),d("WebBloksCanvasUtils").getCanvasPixelValRelativeToHeight(a.get("height"),b),parseFloat((g=a.get("corner_radius"))!=null?g:0));break;case"bk.types.CanvasShapeEllipse":b.beginPath();h=(f=d("WebBloksCanvasUtils")).getCanvasPixelValRelativeToWidth(a.get("width"),b)/2;c=f.getCanvasPixelValRelativeToHeight(a.get("height"),b)/2;b.ellipse(f.getCanvasPixelValRelativeToWidth(a.get("x"),b)+h,f.getCanvasPixelValRelativeToHeight(a.get("y"),b)+c,h,c,0,0,2*Math.PI);break;default:throw new(d("WebBloksErrors").WebBloksError)(a.styleId+" is not yet implemented. Add missing signature in `bk.component.Canvas`")}}function j(a,b,c){switch(a.styleId){case"bk.types.CanvasPathAdd":var e=a.getSubNode("transform"),f=a.getSubNode("path");e!=null&&l(e,b,c);f!=null&&h(f,b,c);break;case"bk.types.CanvasPathArc":var g,i;e=d("WebBloksCanvasUtils").getCanvasPixelValRelativeToWidth(a.get("center_x"),b);f=d("WebBloksCanvasUtils").getCanvasPixelValRelativeToHeight(a.get("center_y"),b);c=d("WebBloksCanvasUtils").getCanvasPixelValRelativeToWidth(a.get("radius"),b);g=parseFloat((g=a.get("start_angle"))!=null?g:0);i=parseFloat((i=a.get("end_angle"))!=null?i:360);var j=a.get("clockwise")!=null?!a.get("clockwise"):!1;b.arc(e,f,c,g/180*Math.PI,i/180*Math.PI,j);break;case"bk.types.CanvasPathCircle":e=d("WebBloksCanvasUtils").getCanvasPixelValRelativeToWidth(a.get("center_x"),b);f=d("WebBloksCanvasUtils").getCanvasPixelValRelativeToHeight(a.get("center_y"),b);c=parseFloat(a.get("radius"));b.moveTo(e+c,f);b.arc(e,f,c,0,2*Math.PI);b.restore();break;case"bk.types.CanvasPathClose":b.closePath();break;case"bk.types.CanvasPathCubicTo":b.bezierCurveTo((g=d("WebBloksCanvasUtils")).getCanvasPixelValRelativeToWidth(a.get("control_a_x"),b),g.getCanvasPixelValRelativeToHeight(a.get("control_a_y"),b),g.getCanvasPixelValRelativeToWidth(a.get("control_b_x"),b),g.getCanvasPixelValRelativeToHeight(a.get("control_b_y"),b),g.getCanvasPixelValRelativeToWidth(a.get("end_x"),b),g.getCanvasPixelValRelativeToHeight(a.get("end_y"),b));break;case"bk.types.CanvasPathEllipse":i=(g=d("WebBloksCanvasUtils")).getCanvasPixelValRelativeToWidth(a.get("width"),b);j=g.getCanvasPixelValRelativeToHeight(a.get("height"),b);e=i/2;f=j/2;c=g.getCanvasPixelValRelativeToWidth(a.get("x"),b);j=g.getCanvasPixelValRelativeToHeight(a.get("y"),b);var k=c+e,m=j+f;b.moveTo(c+i,j+f);b.ellipse(k,m,e,f,0,0,2*Math.PI);break;case"bk.types.CanvasPathLineTo":b.lineTo(d("WebBloksCanvasUtils").getCanvasPixelValRelativeToWidth(a.get("x"),b),d("WebBloksCanvasUtils").getCanvasPixelValRelativeToHeight(a.get("y"),b));break;case"bk.types.CanvasPathMoveTo":b.moveTo(d("WebBloksCanvasUtils").getCanvasPixelValRelativeToWidth(a.get("x"),b),d("WebBloksCanvasUtils").getCanvasPixelValRelativeToHeight(a.get("y"),b));break;case"bk.types.CanvasPathQuadTo":b.quadraticCurveTo((g=d("WebBloksCanvasUtils")).getCanvasPixelValRelativeToWidth(a.get("control_x"),b),g.getCanvasPixelValRelativeToHeight(a.get("control_y"),b),g.getCanvasPixelValRelativeToWidth(a.get("end_x"),b),g.getCanvasPixelValRelativeToHeight(a.get("end_y"),b));break;case"bk.types.CanvasPathRect":b.roundRect((g=d("WebBloksCanvasUtils")).getCanvasPixelValRelativeToWidth(a.get("x"),b),g.getCanvasPixelValRelativeToHeight(a.get("y"),b),g.getCanvasPixelValRelativeToWidth(a.get("width"),b),g.getCanvasPixelValRelativeToHeight(a.get("height"),b),parseFloat((c=a.get("corner_radius"))!=null?c:0));break;default:throw new(d("WebBloksErrors").WebBloksError)(a.styleId+" is not yet implemented. Please override in renderer")}}function k(a,b){switch(a.styleId){case"bk.types.CanvasTransformInverseV2":var c=window.devicePixelRatio;b.scale(1/c,1/c);b.setTransform(b.getTransform().invertSelf());b.scale(c,c);break;case"bk.types.CanvasTransformRotate":b.translate((c=d("WebBloksCanvasUtils")).getCanvasPixelValRelativeToWidth(a.get("pivot_x"),b),c.getCanvasPixelValRelativeToHeight(a.get("pivot_y"),b));b.rotate(parseFloat(a.get("degrees"))*Math.PI/180);b.translate(-c.getCanvasPixelValRelativeToWidth(a.get("pivot_x"),b),-c.getCanvasPixelValRelativeToHeight(a.get("pivot_y"),b));break;case"bk.types.CanvasTransformScale":b.translate((c=d("WebBloksCanvasUtils")).getCanvasPixelValRelativeToWidth(a.get("pivot_x"),b),c.getCanvasPixelValRelativeToHeight(a.get("pivot_y"),b));b.scale(c.getCanvasPixelValRelativeToWidth(a.get("x"),b),c.getCanvasPixelValRelativeToHeight(a.get("y"),b));b.translate(-c.getCanvasPixelValRelativeToWidth(a.get("pivot_x"),b),-c.getCanvasPixelValRelativeToHeight(a.get("pivot_y"),b));break;case"bk.types.CanvasTransformSkew":case"bk.types.CanvasTransformSkewV2":b.translate((c=d("WebBloksCanvasUtils")).getCanvasPixelValRelativeToWidth(a.get("pivot_x"),b),c.getCanvasPixelValRelativeToHeight(a.get("pivot_y"),b));b.transform(1,c.getCanvasPixelValRelativeToWidth(a.get("x"),b),c.getCanvasPixelValRelativeToHeight(a.get("y"),b),1,0,0);b.translate(-c.getCanvasPixelValRelativeToWidth(a.get("pivot_x"),b),-c.getCanvasPixelValRelativeToHeight(a.get("pivot_y"),b));break;case"bk.types.CanvasTransformTranslate":b.translate(d("WebBloksCanvasUtils").getCanvasPixelValRelativeToWidth(a.get("x"),b),d("WebBloksCanvasUtils").getCanvasPixelValRelativeToHeight(a.get("y"),b));break;default:throw new(d("WebBloksErrors").WebBloksError)(a.styleId+" is not yet implemented. Add missing signature in `bk.component.Canvas`")}}function l(a,b,c){a=a.getSubNodes("children");if(a!=null)for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;h(f,b,c)}}g["default"]=h}),98);
__d("WebBloksCanvas",["WebBloksCanvasDrawToContext","WebBloksStyle","WebBloksTheme","WebBloksUtils","react"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react"));b=h;var j=b.useLayoutEffect,k=b.useRef;function a(a){var b=a.node;a=a.externalStyle;a=d("WebBloksStyle").useStyle(b,a);var e=a.style,f=a.wrapper;a=a.wrapperProps;var g=d("WebBloksTheme").useTheme().getTheme(),h=k(null);j(function(){var a=h.current,c=a==null?void 0:a.getContext("2d");if(a==null||c==null)return;var e=d("WebBloksUtils").toPx(b.get("width")),f=d("WebBloksUtils").toPx(b.get("height"));if(e==null||f==null)return;a.style.width=e;a.style.height=f;var g=window.devicePixelRatio;a.width=l(e,c.canvas.clientWidth,g);a.height=l(f,c.canvas.clientHeight,g);c.scale(g,g)},[b]);j(function(){var a;a=(a=h.current)==null?void 0:a.getContext("2d");if(a!=null){var d=b.getSubNodes("children");if(d!=null)for(var d=d,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(e){if(f>=d.length)break;i=d[f++]}else{f=d.next();if(f.done)break;i=f.value}i=i;a.save();c("WebBloksCanvasDrawToContext")(i,a,g);a.restore()}}},[b,g]);return f(i.jsx("canvas",babelHelpers["extends"]({},a,{ref:h,style:babelHelpers["extends"]({},e)})))}a.displayName=a.name+" [from "+f.id+"]";function l(a,b,c){c===void 0&&(c=1);return b!=null&&a.includes("%")?parseFloat(a)/100*b*c:parseFloat(a)*c}g["default"]=a}),98);
__d("WebBloksChildAtIndex",[],(function(a,b,c,d,e,f){function a(a,b,c){return b.getChildren_DEPRECATED()[c]}f["default"]=a}),66);
__d("WebBloksClipboardSetString",[],(function(a,b,c,d,e,f){function a(a,b){var c=window.navigator;c&&c.clipboard&&typeof c.clipboard.writeText==="function"?c.clipboard.writeText(b):g(b)||a.bloksContext.objectSet.environment.logger.warn("clipboard.SetString not supported on this browser")}function g(a){var b=document.body;if(!b)return!1;var c=document.activeElement,d=!0,e=document.createElement("textarea");b.appendChild(e);e.value=a;if(navigator.userAgent.match(/ipad|ipod|iphone/i)){a=document.createRange();a.selectNodeContents(e);var f=window.getSelection();f.removeAllRanges();f.addRange(a);e.setSelectionRange(0,999999)}else e.select();try{d=document.execCommand("copy")}catch(a){d=!1}b.removeChild(e);c!=null&&c.focus();return d}f["default"]=a}),66);
__d("WebBloksCollectionChildSizesLayoutReady",[],(function(a,b,c,d,e,f){"use strict";a="layout_ready";b=new Event(a);f.LAYOUT_READY_EVENT_NAME=a;f.LAYOUT_READY_EVENT=b}),66);
__d("WebBloksCollectionHelpers",["WebBloksUtils"],(function(a,b,c,d,e,f,g){function h(a){a=a==="column";var b=a?"height":"width",c=a?"width":"height",d=a?"marginTop":"marginLeft",e=a?"marginBottom":"marginRight",f=a?"top":"left";a=a?"bottom":"right";return{mainAxisSize:b,crossAxisSize:c,mainAxisMarginStart:d,mainAxisMarginEnd:e,start:f,end:a}}function i(a,b){a=(a=a.getStyle("collection"))==null?void 0:a.get(b);return d("WebBloksUtils").isPercentage(a)}function a(a){a=a.getValues();var b=a.children;a=a.direction;var c=h(a),d=c.mainAxisSize;b=(c=b&&b.some(function(a){return i(a,d)}))!=null?c:!1;return!b?"normal":a==="column"?"size":"inline-size"}function b(a){return a.get("measurement_version_internal_use_only")==="v2"}g.getDirectionPropNames=h;g.hasCollectionDimensionInPct=i;g.getContainerType=a;g.shouldUseWebBloksCollectionV2=b}),98);
__d("useWebBloksCollectionChildSizes",["WebBloksCollectionChildSizesLayoutReady","WebBloksCollectionHelpers","WebBloksUtils","react"],(function(a,b,c,d,e,f,g){var h;b=h||d("react");var i=b.useEffect,j=b.useMemo,k=b.useState,l=(e=(c=window.CSS)==null?void 0:c.supports==null?void 0:c.supports("width","100cqw"))!=null?e:!1;function a(a){var b=a.node,c=a.collectionNode,e=a.scrollerRef;a=c.getValues();var f=a.direction,g=(a=(a=(c=b.getStyle("collection"))==null?void 0:c.getValues())!=null?a:(c=b.getStyle("flex"))==null?void 0:c.getValues())!=null?a:{};c=d("WebBloksCollectionHelpers").getDirectionPropNames(f);a=c.crossAxisSize;var h=c.mainAxisSize,n=j(function(){return m({width:g.width,height:g.height,direction:f,node:b})},[f,b,g.height,g.width]);c=k(null);var o=c[0],p=c[1];i(function(){var a;if(l)return;if(n.__MainAxisCqUnitBasis==null)return;a=(a=e.current)==null?void 0:a.getBoundingClientRect()[h];var b=n.__MainAxisCqUnitBasis;a!=null&&b!=null&&p(a*b)},[n,h,e]);i(function(){if(o!=null){var a;(a=e.current)==null?void 0:a.dispatchEvent(d("WebBloksCollectionChildSizesLayoutReady").LAYOUT_READY_EVENT)}});return c={},c[a]=n[a],c[h]=(a=o)!=null?a:n[h],c}var m=function(a){var b,c=a.width,e=a.height,f=a.direction;a=a.node;f=d("WebBloksCollectionHelpers").getDirectionPropNames(f);var g=f.crossAxisSize;f=f.mainAxisSize;b=(b={},b[f]="auto",b[g]="auto",b);var h=f==="width"?c:e;c=g==="width"?c:e;c!=null&&(b[g]=d("WebBloksUtils").toPx(c));if(h==null)return b;if(!d("WebBloksCollectionHelpers").hasCollectionDimensionInPct(a,f)){h!=null&&(b[f]=d("WebBloksUtils").toPx(h));return b}g=(e=d("WebBloksUtils").toPercentageValue(h))!=null?e:1;c=f==="width"?"cqw":"cqh";b[f]=""+g*100+c;b.__MainAxisCqUnitBasis=g;return b};g["default"]=a}),98);
__d("useWebBloksCollectionStickyChildStyle",["WebBloksCollectionHelpers"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.node;a=a.direction;b=b.getStyle("collection");b=b==null?void 0:(b=b.getValues().sticky_item_config)==null?void 0:b.getValues();if(b==null)return{};var c=b.is_sticky;b=b.position;if(c!==!0||b==null)return{};c=d("WebBloksCollectionHelpers").getDirectionPropNames(a);return a={position:"sticky",zIndex:1},a[c[b]]=0,a}g["default"]=a}),98);
__d("WebBloksCollectionChildBase",["WebBloksContext","useWebBloksCollectionChildSizes","useWebBloksCollectionStickyChildStyle"],(function(a,b,c,d,e,f,g){function a(a){var b=a.collectionNode,e=a.extraStyles,f=a.node;a=a.scrollerRef;var g=d("WebBloksContext").useWebBloksContext();g=g.renderNode;var h=b.getValues(),i=h.snap,j=h.snap_style;h=h.direction;h=babelHelpers["extends"]({display:"inline-flex",width:"auto",height:"auto",overflow:"hidden"},c("useWebBloksCollectionStickyChildStyle")({node:f,direction:h}),c("useWebBloksCollectionChildSizes")({node:f,collectionNode:b,scrollerRef:a}),e);j==null||j==="pager"?b="always":b="normal";return g(f,babelHelpers["extends"]({},h,{scrollSnapAlign:i,scrollSnapStop:b}))}g["default"]=a}),98);
__d("WebBloksCollectionScrollRefs",["react"],(function(a,b,c,d,e,f,g){var h,i=(h||d("react")).useRef;function a(a){var b=i();a.uiMutableContainer.extraRefs={containerElementRef:b};return b}function b(a){var b;b=(b=a.uiMutableContainer.extraRefs)==null?void 0:b.containerElementRef;a=a.uiMutableContainer.domNode;return{containerElementRef:b,scrollableElementRef:a}}g.useWebbloksCollectionScrollContainerRef=a;g.findWebbloksCollectionScrollRefs=b}),98);
__d("WebBloksCollectionScrollTo",["WebBloksCollectionScrollRefs","WebDriverConfig"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){return a==="column"};function i(a){return c("WebDriverConfig").isJestE2ETestRun?"auto":a===!0?"smooth":"auto"}function a(a,b){var c=b.index;b=b.isAnimated;var e=d("WebBloksCollectionScrollRefs").findWebbloksCollectionScrollRefs(a),f=e.containerElementRef;e=e.scrollableElementRef;a=a.getValues();a=a.direction;a=h(a);f=f==null?void 0:f.current;e=e==null?void 0:e.current;if(f==null||e==null)return;f=f.children.item(c);c=a?{top:f==null?void 0:f.offsetTop}:{left:f==null?void 0:f.offsetLeft};e.scrollTo(babelHelpers["extends"]({},c,{behavior:i(b)}))}function b(a,b){b=b.isAnimated;var c=d("WebBloksCollectionScrollRefs").findWebbloksCollectionScrollRefs(a);c=c.scrollableElementRef;a=a.getValues();a=a.direction;a=h(a);if((c==null?void 0:c.current)==null)return;a=a?{top:c.current.scrollHeight}:{left:c.current.scrollWidth};c.current.scrollTo(babelHelpers["extends"]({},a,{behavior:i(b)}))}g.scrollWebBloksCollectionToIndex=a;g.scrollWebBloksCollectionToEnd=b}),98);
__d("useOnScrollSnap",["WebBloksCollectionScrollRefs","WebBloksUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef;function k(a,b,c){a=a.getBoundingClientRect();b=b.getBoundingClientRect();if(c==="column")return b.top>=a.top&&b.bottom<=a.bottom;else return b.left>=a.left&&b.right<=a.right}function l(a,b,c){a=a.getBoundingClientRect();if(b==="column")switch(c){case"center":return a.top+a.height/2;case"start":return a.top;case"end":return a.bottom;default:return-1}else switch(c){case"center":return a.left+a.width/2;case"start":return a.left;case"end":return a.right;default:return-1}}function m(a,b){if(!a)return[[],[]];a=Array.from(a.querySelectorAll(":scope > *"));var c=a.map(function(a){return b==="column"?a.offsetTop:a.offsetLeft});return[a,c]}function n(a,b,c){var d=a.scrollableElement;a=a.containerElement;a=Array.from(a.querySelectorAll(":scope > *"));if(a.length===0)return null;if(c==="center"){if(k(d,a[0],b))return 0;if(k(d,a[a.length-1],b))return a.length-1}d=l(d,b,c);var e=-1,f=Number.MAX_VALUE;for(var g=0;g<a.length;g++){var h=l(a[g],b,c);h=Math.abs(d-h);h<f&&(f=h,e=g)}return e}function a(a,b){var c=b.onScroll,e=b.onScrollSnap,f=b.onPageScroll;b=a.getValues();var g=b.snap,h=b.direction;b=b.starting_index;var k=j(b),l=h==="column";b=d("WebBloksCollectionScrollRefs").findWebbloksCollectionScrollRefs(a);var o=b.containerElementRef,p=b.scrollableElementRef;i(function(){var a=o==null?void 0:o.current,b=p==null?void 0:p.current;if(a==null||b==null||e==null&&c==null&&f==null)return;var i=m(a,h);i[0];var j=i[1],q=function(){c&&c();if(b!=null&&f){var d=l?b.scrollTop:b.scrollLeft,i=Math.max(j.findIndex(function(a){return a>d}),1),m=i-1,o=d-j[m];i=o/(j[i]-j[m]);f(m,o,i)}if(b!=null&&g!=null&&g!=="none"&&e){m=n({containerElement:a,scrollableElement:b},h,g);m!==k.current&&(k.current=m,e(m))}};b.addEventListener("scroll",q,d("WebBloksUtils").passiveTouchEventOptions);b.addEventListener("touchend",q,d("WebBloksUtils").passiveTouchEventOptions);return function(){b.removeEventListener("scroll",q,d("WebBloksUtils").passiveTouchEventOptions),b.removeEventListener("touchend",q,d("WebBloksUtils").passiveTouchEventOptions)}},[h,g,e,c])}g["default"]=a}),98);
__d("useWebBloksCollectionScrollHandlers",["WebBloksCollectionChildSizesLayoutReady","WebBloksCollectionScrollTo","WebBloksContext","react","useOnScrollSnap"],(function(a,b,c,d,e,f,g){var h;b=h||d("react");var i=b.useCallback,j=b.useLayoutEffect;function a(a){var b=a.getValues(),e=b.on_scroll_snap,f=b.on_scroll_callback,g=b.on_page_scroll;b=d("WebBloksContext").useWebBloksContext();var h=b.bloksContext,j=b.executeCatch;b=i(function(b){b!=null&&j(a,e,[b,h])},[a,e,j,h]);var l=i(function(b,c,d){g!=null&&j(a,g,[h,b,d,c])},[g,j,a,h]),m=i(function(){j(a,f,[h])},[a,f,j,h]);c("useOnScrollSnap")(a,{onScrollSnap:e!=null?b:void 0,onScroll:f!=null?m:void 0,onPageScroll:g!=null?l:void 0});k(a)}function k(a){var b=a.getValues(),c=b.stack_from_end,e=b.starting_index;j(function(){var b,f=e,g=function(){f!=null&&f>0?d("WebBloksCollectionScrollTo").scrollWebBloksCollectionToIndex(a,{index:f,isAnimated:!1}):c===!0&&d("WebBloksCollectionScrollTo").scrollWebBloksCollectionToEnd(a,{isAnimated:!1})};g();(b=a.uiMutableContainer)==null?void 0:(b=b.domNode)==null?void 0:(b=b.current)==null?void 0:b.addEventListener(d("WebBloksCollectionChildSizesLayoutReady").LAYOUT_READY_EVENT_NAME,function(){g()},{once:!0})},[e,c,a.clientId])}g["default"]=a}),98);
__d("useWebBloksCollectionScrollingElementStyle",["WebBloksStyle","WebBloksTheme","WebBloksUtils","react"],(function(a,b,c,d,e,f,g){var h,i=(h||d("react")).useMemo;function a(a){var b=a.snap,c=a.background_themed_color,e=a.is_scroll_enabled,f=a.fading_edge_length,g=a.direction,h=a.shows_scroll_indicator,m=d("WebBloksTheme").useTheme().getTheme(),n=g==="column";return i(function(){var a=[],g={};b==null||b==="none"?a.push(k.none):n?a.push(k.y):a.push(k.x);e===!1?a.push(j.none):n?a.push(j.y):a.push(j.x);if(f!=null){var i="linear-gradient(\n        to "+(n?"bottom":"right")+",\n        transparent 0,\n        black "+d("WebBloksUtils").toPx(f)+",\n        black calc(100% - "+d("WebBloksUtils").toPx(f)+"),\n        transparent\n      )";g=babelHelpers["extends"]({},g,{maskImage:i,WebkitMaskImage:i})}n||(g=babelHelpers["extends"]({},g,{whiteSpace:"nowrap"}));c&&(g=babelHelpers["extends"]({},g,{backgroundColor:d("WebBloksUtils").getRGBColorWithTheme(c,m)}));h===!1&&a.push(l.noScrollbar);return{scrollingElementStyle:g,scrollingElementClassNames:a}},[c,f,n,e,h,b,m])}var j=d("WebBloksStyle").createStyles({none:{overflowY:"hidden",overflowX:"hidden"},y:{overflowY:"auto",overflowX:"hidden"},x:{overflowY:"hidden",overflowX:"auto"}}),k=d("WebBloksStyle").createStyles({none:{scrollSnapType:"none"},y:{scrollSnapType:"y mandatory"},x:{scrollSnapType:"x mandatory"}}),l=d("WebBloksStyle").createStyles({noScrollbar:function(a){var b;return b={},b[a]={scrollbarWidth:"none"},b[a+"::-webkit-scrollbar"]={display:"none"},b}});g["default"]=a}),98);
__d("useWebBloksCollectionStopPropagation",["react"],(function(a,b,c,d,e,f,g){var h,i=(h||d("react")).useCallback;function a(a){var b=i(function(b){var c=a.current;if(c==null)return;var d=c.scrollTop===0;c=c.scrollHeight-c.scrollTop===c.clientHeight;!d&&!c&&b.stopPropagation()},[a]);return{onTouchStart:b,onTouchMove:b,onTouchEnd:b}}g["default"]=a}),98);
__d("WebBloksCollectionV2",["WebBloksCollectionChildBase","WebBloksCollectionHelpers","WebBloksCollectionScrollRefs","WebBloksStyle","WebBloksUtils","react","useWebBloksCollectionScrollHandlers","useWebBloksCollectionScrollingElementStyle","useWebBloksCollectionStopPropagation"],(function(a,b,c,d,e,f,g){var h,i=h||d("react");function a(a){var b=a.node;a=a.externalStyle;var e=b.getValues(),f=e.children,g=e.direction,h=e.item_spacing,k=e.spacing_after,l=e.spacing_before;a=d("WebBloksStyle").useStyle(b,a);var m=a.style,n=a.wrapper,o=a.wrapperProps,p=a.ref;a=c("useWebBloksCollectionScrollingElementStyle")(e);e=a.scrollingElementStyle;a=a.scrollingElementClassNames;var q=d("WebBloksCollectionScrollRefs").useWebbloksCollectionScrollContainerRef(b);c("useWebBloksCollectionScrollHandlers")(b);var r=c("useWebBloksCollectionStopPropagation")(p),s=d("WebBloksCollectionHelpers").getDirectionPropNames(g),t=s.crossAxisSize,u=s.mainAxisSize,v=s.mainAxisMarginStart;s=s.mainAxisMarginEnd;return n(i.jsx("div",babelHelpers["extends"]({},o,{ref:p,className:d("WebBloksStyle").classNames.apply(void 0,[d("WebBloksStyle").WebBloksStyles.container].concat(a)),style:babelHelpers["extends"]({},e,m,{display:"block",pointerEvents:"auto",containerType:d("WebBloksCollectionHelpers").getContainerType(b)})},r,{children:i.jsx("div",{ref:q,style:(n={display:"flex",flexDirection:g,gap:d("WebBloksUtils").toPx(h)},n[u]="max-content",n[t]="100%",n[v]=l!=null?d("WebBloksUtils").toPx(l):void 0,n[s]=k!=null?d("WebBloksUtils").toPx(k):void 0,n),children:f&&f.map(function(a){return i.jsx(j,{scrollerRef:p,node:a,collectionNode:b},a.clientId)})})})))}a.displayName=a.name+" [from "+f.id+"]";function j(a){var b=a.collectionNode,d=a.node;a=a.scrollerRef;return i.jsx(c("WebBloksCollectionChildBase"),{collectionNode:b,node:d,scrollerRef:a})}j.displayName=j.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useWebBloksCollectionGridAspectRatioProps",["WebBloksCollectionChildSizesLayoutReady","WebBloksCollectionHelpers","react"],(function(a,b,c,d,e,f,g){var h;b=h||d("react");var i=b.useEffect,j=b.useMemo,k=b.useState,l=(e=(c=window.CSS)==null?void 0:c.supports==null?void 0:c.supports("width","100cqw"))!=null?e:!1;function a(a,b,c){b=b.getValues();var e=b.direction;b=d("WebBloksCollectionHelpers").getDirectionPropNames(e);var f=b.crossAxisSize;b=b.mainAxisSize;var g=j(function(){var b=a.cell_aspect_ratio;if(b==null)return null;return e==="column"?"1 / "+b:" "+b+" / 1"},[e,a.cell_aspect_ratio]),h=k(null),m=h[0],n=h[1];i(function(){var b;if(l)return;if(g==null)return;b=parseInt((b=c.current)==null?void 0:b.getBoundingClientRect()[f],10)/((b=a.span_count)!=null?b:1);n(b*((b=a.cell_aspect_ratio)!=null?b:1))},[g,f,a.cell_aspect_ratio,a.span_count,b,c]);i(function(){if(m!=null){var a;(a=c.current)==null?void 0:a.dispatchEvent(d("WebBloksCollectionChildSizesLayoutReady").LAYOUT_READY_EVENT)}});return g==null?{}:(h={aspectRatio:m!=null?void 0:g},h[b]=m,h)}g["default"]=a}),98);
__d("WebBloksCollectionGrid_EXPERIMENTAL",["WebBloksCollectionChildBase","WebBloksCollectionHelpers","WebBloksCollectionScrollRefs","WebBloksCollectionV2","WebBloksStyle","WebBloksUtils","react","useWebBloksCollectionGridAspectRatioProps","useWebBloksCollectionScrollHandlers","useWebBloksCollectionScrollingElementStyle","useWebBloksCollectionStopPropagation"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react")),j=h.useMemo;function k(a){var b=a.layoutConfig,e=a.node;a=a.externalStyle;var f=e.getValues(),g=f.children,h=f.direction,k=f.item_spacing,l=f.spacing_after,o=f.spacing_before;a=d("WebBloksStyle").useStyle(e,a);var p=a.style,q=a.wrapper,r=a.wrapperProps,s=a.ref;a=c("useWebBloksCollectionScrollingElementStyle")(f);f=a.scrollingElementStyle;a=a.scrollingElementClassNames;var t=d("WebBloksCollectionScrollRefs").useWebbloksCollectionScrollContainerRef(e);c("useWebBloksCollectionScrollHandlers")(e);var u=c("useWebBloksCollectionStopPropagation")(s),v=d("WebBloksCollectionHelpers").getDirectionPropNames(h),w=v.crossAxisSize,x=v.mainAxisSize,y=v.mainAxisMarginStart;v=v.mainAxisMarginEnd;var z=j(function(){return{main:d("WebBloksUtils").toPx(b.main_axis_span_spacing),cross:d("WebBloksUtils").toPx(b.cross_axis_span_spacing)}},[b]);return q(i.jsx("div",babelHelpers["extends"]({},r,{ref:s,className:d("WebBloksStyle").classNames.apply(void 0,[d("WebBloksStyle").WebBloksStyles.container].concat(a)),style:babelHelpers["extends"]({},f,p,d("WebBloksUtils").insetToPadding(b.padding),{display:"block",pointerEvents:"auto",containerType:d("WebBloksCollectionHelpers").getContainerType(e)})},u,{children:i.jsx("div",{ref:t,style:babelHelpers["extends"]({display:"grid",flexDirection:h,gap:d("WebBloksUtils").toPx(k)},m(h,(q=b.span_count)!=null?q:1,z),(r={},r[x]="max-content",r[w]="100%",r[y]=o!=null?d("WebBloksUtils").toPx(o):void 0,r[v]=l!=null?d("WebBloksUtils").toPx(l):void 0,r)),children:g&&g.map(function(a){return i.jsx(n,{scrollerRef:s,node:a,layoutConfig:b,collectionNode:e},a.clientId)})})})))}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=a.node;a=a.externalStyle;var d=b.getValues();d=d.layout_config;d=d==null?void 0:d.getValues();return!d?i.jsx(c("WebBloksCollectionV2"),{node:b,externalStyle:a}):i.jsx(k,{node:b,externalStyle:a,layoutConfig:d})}a.displayName=a.name+" [from "+f.id+"]";function l(a,b){a=(a=a.getStyle("bk.style.GridCollectionStyle"))==null?void 0:a.getValues();if(!a)return{};var c=a.span_count;a=a.is_full_span;b=b.getValues();var d=b.direction;b=b.layout_config;d=d==="column"?"gridColumn":"gridRow";b=b==null?void 0:b.getValues();if(a!=null&&b){return a={},a[d]="span "+b.span_count,a}if(c!=null){return b={},b[d]="span "+c,b}return{}}function m(a,b,c){return a==="row"?{gridTemplateRows:"repeat("+b+", 1fr)",gridAutoColumns:"max-content",gridAutoFlow:"column",rowGap:c.cross,columnGap:c.main}:{gridTemplateColumns:"repeat("+b+", 1fr)",gridAutoRows:"max-content",gridAutoFlow:"row",rowGap:c.main,columnGap:c.cross}}function n(a){var b=a.collectionNode,d=a.layoutConfig,e=a.node;a=a.scrollerRef;d=babelHelpers["extends"]({},l(e,b),c("useWebBloksCollectionGridAspectRatioProps")(d,b,a));return i.jsx(c("WebBloksCollectionChildBase"),{collectionNode:b,node:e,scrollerRef:a,extraStyles:d})}n.displayName=n.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WebBloksCollectionV1",["WebBloksCollectionScrollRefs","WebBloksContext","WebBloksStyle","WebBloksUtils","react","useWebBloksCollectionScrollHandlers","useWebBloksCollectionScrollingElementStyle","useWebBloksCollectionStickyChildStyle","useWebBloksCollectionStopPropagation"],(function(a,b,c,d,e,f,g){var h,i=h||d("react");function a(a){var b=a.node;a=a.externalStyle;var e=b.getValues(),f=e.children;a=d("WebBloksStyle").useStyle(b,a);var g=a.style,h=a.wrapper,k=a.wrapperProps,l=a.ref;a=c("useWebBloksCollectionScrollingElementStyle")(e);e=a.scrollingElementStyle;a=a.scrollingElementClassNames;var m=d("WebBloksCollectionScrollRefs").useWebbloksCollectionScrollContainerRef(b);c("useWebBloksCollectionScrollHandlers")(b);var n=c("useWebBloksCollectionStopPropagation")(l);return h(i.jsx("div",babelHelpers["extends"]({},k,{ref:function(a){m.current=a,l.current=a},className:d("WebBloksStyle").classNames.apply(void 0,[d("WebBloksStyle").WebBloksStyles.container].concat(a)),style:babelHelpers["extends"]({},e,g,{display:"block",pointerEvents:"auto"})},n,{children:f&&f.map(function(a,c){return i.jsx(j,{node:a,collectionNode:b,isFirstItem:c===0,isLastItem:c===f.length-1},a.clientId)})})))}a.displayName=a.name+" [from "+f.id+"]";function j(a){var b=a.collectionNode,e=a.isFirstItem,f=a.isLastItem;a=a.node;var g=d("WebBloksContext").useWebBloksContext();g=g.renderNode;b=b.getValues();var h=b.snap,i=b.spacing_after,j=b.snap_style,l=b.item_spacing,m=b.spacing_before;b=b.direction;var n=b==="column";f=f?i!=null?d("WebBloksUtils").toPx(i):0:d("WebBloksUtils").toPx(l);i=e&&m!=null?d("WebBloksUtils").toPx(m):void 0;n?(l={marginTop:i,marginBottom:f,width:"100%"},k(a,"height")&&(l.height="auto")):(l={marginLeft:i,marginRight:f,display:"inline-flex",verticalAlign:"bottom",height:"100%"},k(a,"width")&&(l.width="auto"));j==null||j==="pager"?e="always":e="normal";return g(a,babelHelpers["extends"]({},l,c("useWebBloksCollectionStickyChildStyle")({node:a,direction:b}),{scrollSnapAlign:h,scrollSnapStop:e}))}j.displayName=j.name+" [from "+f.id+"]";function k(a,b){return(b=(a=a.getStyle("flex"))==null?void 0:(a=a.get(b))==null?void 0:a.endsWith("%"))!=null?b:!1}g["default"]=a}),98);
__d("WebBloksCollection",["WebBloksCollectionGrid_EXPERIMENTAL","WebBloksCollectionHelpers","WebBloksCollectionV1","WebBloksCollectionV2","react"],(function(a,b,c,d,e,f,g){var h,i=h||d("react");function a(a){var b=a.node.get("layout_config_type");if(b==="grid")return i.jsx(c("WebBloksCollectionGrid_EXPERIMENTAL"),babelHelpers["extends"]({},a));return d("WebBloksCollectionHelpers").shouldUseWebBloksCollectionV2(a.node)?i.jsx(c("WebBloksCollectionV2"),babelHelpers["extends"]({},a)):i.jsx(c("WebBloksCollectionV1"),babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WebBloksConstNumber",[],(function(a,b,c,d,e,f){function a(a,b){return Number(b)}f["default"]=a}),66);
__d("WebBloksCurrentTimeMillis",[],(function(a,b,c,d,e,f){function a(a){return Date.now()}f["default"]=a}),66);
__d("WebBloksDangerouslyGetTreeFromParseResult",[],(function(a,b,c,d,e,f){function a(a,b){return b.unboundModel}f["default"]=a}),66);
__d("WebBloksI18nUtils",[],(function(a,b,c,d,e,f){"use strict";var g=["fb-AR","fb-RL"],h=["ar","he","ur","fa","sy","yi","ps","cb"];function i(a){var b;a=a.split(/[_-]/);b=((b=a[0])!=null?b:"").toLowerCase();a=((a=a[1])!=null?a:"").toUpperCase();return{language:b,country:a}}function a(a){a=i(a);if(a.country!=="")return a.language+"-"+a.country;else return a.language}function b(a){var b;Array.isArray(a)?b=a[0]:b=a;a=i(b);return h.includes(a.language)||g.includes(a.language+"-"+a.country)}f.parseLocale=i;f.toBrowserLocaleFormat=a;f.isLocaleRtl=b}),66);
__d("WebBloksDateUtils",["WebBloksI18nUtils"],(function(a,b,c,d,e,f,g){var h={"short":{year:"2-digit",month:"numeric",day:"numeric"},medium:{year:"numeric",month:"short",day:"numeric"},"long":{year:"numeric",month:"long",day:"numeric"},full:{weekday:"long",year:"numeric",month:"long",day:"numeric"}},i={"short":{hour:"numeric",minute:"2-digit"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},"long":{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"long"}};function j(a,b,c){if(a==="date")return babelHelpers["extends"]({},h[b]);else if(a==="time"){return babelHelpers["extends"]({},i[(a=c)!=null?a:b])}return babelHelpers["extends"]({},h[b],i[(a=c)!=null?a:b])}function a(a,b,c,e,f,g){var h=a*1e3;if(!Number.isFinite(h))return null;Array.isArray(b)?h=b:h=d("WebBloksI18nUtils").toBrowserLocaleFormat(b);return new Intl.DateTimeFormat(h,babelHelpers["extends"]({},j(c,e,f),{timezone:g})).format(a*1e3)}g.getDateTimeText=a}),98);
__d("WebBloksDatetimeTextProvider",["WebBloksContext","WebBloksDateUtils","useWebBloksNode"],(function(a,b,c,d,e,f,g){function a(a){a=a.node;a=c("useWebBloksNode")(a);a=a[0];var b=a.format,e=a.timestamp;a=a.type;var f=d("WebBloksContext").useWebBloksContext();return d("WebBloksDateUtils").getDateTimeText(e,f.bloksContext.objectSet.environment.locale,a,b)}g["default"]=a}),98);
__d("WebBloksDelay",[],(function(a,b,c,d,e,f){function a(a,b,c){window.setTimeout(function(){a.execute(c,[a])},b)}f["default"]=a}),66);
__d("WebBloksDeviceLog",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){a=c==null?void 0:c.get("tag");a=a!==void 0?"["+a+"] "+b:b;switch(c==null?void 0:c.get("priority")){case"debug":break;case"error":break;case"info":break;case"warn":break;case"verbose":default:}}f["default"]=a}),66);
__d("WebBloksDialog",["WebBloksContext","WebBloksStyle","react"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useEffect,l=b.useRef;function a(a){var b;a=a.node;var c=a.styleId;a=a.getValues();var e=a.title,f=a.message,g=a.primary_button,h=a.secondary_button;a=a.tertiary_button;var k=d("WebBloksContext").useWebBloksContext(),l=j(function(a){a.target===a.currentTarget&&k.objectSet.navigationManager.pop()},[k]);b=(b=e)!=null?b:f;e=e!=null?f:null;f=m();var o=j(function(a){a.key==="Escape"&&(a.stopPropagation(),k.objectSet.navigationManager.pop())},[k.objectSet.navigationManager]);return i.jsx("div",{"data-bloks-name":c,className:n.background,onClick:l,onKeyDown:o,role:"presentation",children:i.jsxs("div",{className:n.container,ref:f,tabIndex:"-1","aria-label":b,children:[i.jsxs("div",{className:n.header,children:[b!=null&&i.jsx("div",{className:n.title,children:b}),e!=null&&i.jsx("div",{className:n.message,children:e})]}),i.jsxs("div",{className:n.buttons,children:[k.renderNode(g),k.renderNode(h),k.renderNode(a)]})]})})}a.displayName=a.name+" [from "+f.id+"]";function m(){var a=l(null);k(function(){if(!a.current)return;if(a.current.contains(document.activeElement))return;a.current&&a.current.focus()},[]);return a}var n=d("WebBloksStyle").createStyles({background:{alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",bottom:0,display:"flex",justifyContent:"space-around",left:0,position:"fixed",right:0,top:0,zIndex:1e3},buttons:{},container:{backgroundColor:"white",borderRadius:12,margin:32,maxWidth:"100%",textAlign:"center",width:400,outline:"none"},header:{padding:32},message:{color:"#65676B",fontSize:14,marginTop:12},title:{color:"#1C1E21",fontSize:18,fontWeight:600}});g["default"]=a}),98);
__d("WebBloksDialogButton",["WebBloksAbstractButton","WebBloksContext","WebBloksStyle","WebBloksUtils","react"],(function(a,b,c,d,e,f,g){var h,i=h||d("react");function a(a){var b=a.node;a=b.getValues();var e=a.appearance,f=a.text,g=a.on_click;a=a.testing_id;a=d("WebBloksContext").useWebBloksContext();var h=a.objectSet,k=a.execute,l=a.bloksContext,m=a.ownerContext;a=function(a){a.preventDefault();a.stopPropagation();h.navigationManager.pop();try{m?m.execute(g,[b,l]):k(b,g,[b,l])}catch(a){d("WebBloksUtils").handleLispyErrorCatchAll(l.objectSet,a,g,l==null?void 0:l.loggingIDForInternalFrameworkUseOnly)}};var n;switch(e){case"destructive":n=j.destructive;break;case"cancel":n=j.cancel;break;case"default":default:n=j["default"];break}return i.jsx(c("WebBloksAbstractButton"),{className:d("WebBloksStyle").classNames(j.button,n),accessibility_label:f,onClick:a,title:f,"data-testid":void 0})}a.displayName=a.name+" [from "+f.id+"]";var j=d("WebBloksStyle").createStyles({button:function(a){var b;return b={},b["div"+a]={display:"block",borderTop:"1px solid #CED0D4",cursor:"pointer",fontSize:16,lineHeight:24/16,padding:"12px 10px",pointerEvents:"auto !important",marginLeft:"0px !important"},b},cancel:{color:"#1C1E21"},destructive:{color:"hsl(350, 87%, 55%)"},"default":{color:"#1877F2"}});g["default"]=a}),98);
__d("WebBloksDismissBottomSheet",[],(function(a,b,c,d,e,f){function a(a,b){a.objectSet.navigationManager.popAllModals();return a.execute(b,[])}f["default"]=a}),66);
__d("WebBloksDismissToast",[],(function(a,b,c,d,e,f){function a(a,b,c,d){a.objectSet.toastManager.dismissToastWithID(b,c)}f["default"]=a}),66);
__d("WebBloksDummyComponent",["WebBloksErrors"],(function(a,b,c,d,e,f,g){function a(a){a=(a=a.node.styleId)!=null?a:"This component";throw new(d("WebBloksErrors").WebBloksError)(a+" is not yet implemented. Please override in renderer")}g["default"]=a}),98);
__d("WebBloksFindComponentContext",["WebBloksLegacyTraverser","WebBloksMutations"],(function(a,b,c,d,e,f,g){function a(a,b){var c=a.treeManager;a=a.objectSet;c=c.getBoundTree();if(c){c=d("WebBloksLegacyTraverser").findComponent(c,new(d("WebBloksMutations").ServerIdTarget)(""+b),a.environment.traversalKeys);if(c)return c}return null}g["default"]=a}),98);
__d("WebBloksDrawable",["WebBloksTheme","WebBloksUtils","react"],(function(a,b,c,d,e,f,g){var h;b=h||d("react");var i=b.useEffect,j=b.useMemo,k=b.useState;function l(a){return[1,void 0,!0].includes(a)}function a(a,b,c){c===void 0&&(c={});var d=m(a),e=n(a,b,c);return j(function(){return babelHelpers["extends"]({},d,e)},[d,e])}function m(a){var b=d("WebBloksTheme").useTheme().getTheme();return j(function(){if(!a)return{};var c=p(b,a);return c==null?{}:{background:c}},[a,b])}function n(a,b,c){c===void 0&&(c={});var e=d("WebBloksTheme").useTheme().getTheme(),f=k(l(c.enabled)?"default":"disabled"),g=f[0],h=f[1];i(function(){h(l(c.enabled)?"default":"disabled")},[c.enabled]);i(function(){var d=b.current;if(d==null)return;function e(){h("pressed");function a(){h("default"),document.removeEventListener("mouseup",a),document.removeEventListener("touchend",a)}document.addEventListener("mouseup",a);document.addEventListener("touchend",a)}l(c.enabled)&&(a==null?void 0:a.styleId)==="bk.components.StateDrawable"&&q(a,"pressed")&&(d.addEventListener("mousedown",e),d.addEventListener("touchstart",e));return function(){d.removeEventListener("mousedown",e),d.removeEventListener("touchstart",e)}},[a,c.enabled,b]);return j(function(){if((a==null?void 0:a.styleId)==="bk.components.StateDrawable"){var b=r(e,a,g);return{background:(b=b)!=null?b:void 0}}return{}},[e,a,g])}var o={top_to_bottom:"180deg",left_to_right:"90deg",bottom_left_to_top_right:"45deg",top_left_to_bottom_right:"135deg"};function p(a,b){switch(b.styleId){case"bk.components.ColorDrawable":var c=b.get("color");if(c==null)break;return d("WebBloksUtils").convertRGBArrToString(d("WebBloksUtils").convertRGBOrHexStringToArr(c));case"bk.components.ThemedColorDrawable":c=b.get("color");if(c==null)break;return d("WebBloksUtils").getRGBColorWithTheme(c,a);case"bk.components.GradientDrawable":c=b.get("orientation");var e=b.get("begin_color"),f=b.get("middle_color"),g=b.get("end_color"),h="";c!=null&&(h+=o[c]+",");e!=null&&(h+=d("WebBloksUtils").convertRGBArrToString(d("WebBloksUtils").convertRGBOrHexStringToArr(e))+",");f!=null&&(h+=d("WebBloksUtils").convertRGBArrToString(d("WebBloksUtils").convertRGBOrHexStringToArr(f))+",");g!=null&&(h+=d("WebBloksUtils").convertRGBArrToString(d("WebBloksUtils").convertRGBOrHexStringToArr(g)));return"linear-gradient("+h+")";case"bk.components.GradientThemedColorDrawable":c=b.get("orientation");e=b.get("begin_color");f=b.get("middle_color");g=b.get("end_color");h="";c!=null&&(h+=o[c]+",");e!=null&&(h+=d("WebBloksUtils").getRGBColorWithTheme(e,a)+",");f!=null&&(h+=d("WebBloksUtils").getRGBColorWithTheme(f,a)+",");g!=null&&(h+=d("WebBloksUtils").getRGBColorWithTheme(g,a));return"linear-gradient("+h+")";default:return null}}function q(a,b){a=(a=a==null?void 0:a.get("state_items"))!=null?a:[];return a.some(function(a){return a.get("state")===b})}function r(a,b,c){b=b.get("state_items");for(var b=b,d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;if(f.get("state")===c)return p(a,f.get("drawable"))}return null}g["default"]=a}),98);
__d("WebBloksDecoration",["WebBloksBooleanUtils","WebBloksDrawable","WebBloksTheme","WebBloksUtils","react"],(function(a,b,c,d,e,f,g){var h,i=(h||d("react")).useMemo,j=0,k=3,l=6,m="#000000";function a(a,b){var e=d("WebBloksTheme").useTheme().getTheme(),f=a.decoration,g=a.enabled,h=f==null?void 0:f.get("background");h=c("WebBloksDrawable")(h,b,a);b=f==null?void 0:f.get("border_width");var n=i(function(){var a=f==null?void 0:f.get("border_themed_color"),b=f==null?void 0:f.get("border_color");if(a!=null)return d("WebBloksUtils").getRGBColorWithTheme(a,e);else if(b!=null)return d("WebBloksUtils").convertRGBArrToString(d("WebBloksUtils").convertRGBOrHexStringToArr(b));return null},[f,e]);if(b!=null&&n!=null){b=d("WebBloksUtils").toPx(b);h.border=b+" solid "+n}b=f==null?void 0:f.get("shadow_opacity");n=f==null?void 0:f.get("shadow_themed_color");if(n!=null||b!=null){var o=m;if(n!=null){n=d("WebBloksUtils").getRGBColorWithTheme(n,e);n=d("WebBloksUtils").convertRGBOrHexStringToArr(n);var p=n[0],q=n[1],r=n[2];n=n[3];b=n*((n=b)!=null?n:1);o=d("WebBloksUtils").convertRGBArrToString([p,q,r,b])}p=(n=f==null?void 0:f.get("shadow_offset_width"))!=null?n:j;r=(q=f==null?void 0:f.get("shadow_offset_height"))!=null?q:k;n=(b=f==null?void 0:f.get("shadow_radius"))!=null?b:l;h.boxShadow=p+"px "+r+"px "+n+"px "+o}q=f==null?void 0:f.get("clipping");d("WebBloksBooleanUtils").isTrue(q)&&(h.overflow="hidden");Object.prototype.hasOwnProperty.call(a,"on_click")&&!d("WebBloksBooleanUtils").isFalse(g)&&(h.cursor="pointer",h.pointerEvents="auto");b=f==null?void 0:f.get("corner_radius");if(b!=null){p=f==null?void 0:f.get("corners_to_apply_radius");if(p!=null&&p.length>0)for(r=p,n=Array.isArray(r),o=0,r=n?r:r[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(n){if(o>=r.length)break;q=r[o++]}else{o=r.next();if(o.done)break;q=o.value}a=q;switch(a){case"top_left":h.borderTopLeftRadius=d("WebBloksUtils").toPx(b);break;case"top_right":h.borderTopRightRadius=d("WebBloksUtils").toPx(b);break;case"bottom_right":h.borderBottomRightRadius=d("WebBloksUtils").toPx(b);break;case"bottom_left":h.borderBottomLeftRadius=d("WebBloksUtils").toPx(b);break;default:break}}else h.borderRadius=d("WebBloksUtils").toPx(b)}return h}g["default"]=a}),98);
__d("useWebBloksDrawableNode",["WebBloksContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("WebBloksContext").useWebBloksContext();b=b.objectSet;if(a!=null){b=b.getNullableComponentForName(a.styleId);return b!=null?i.jsx(b,{node:a}):null}return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WebBloksFlexbox",["WebBloksAnchorTagExtensionHandler","WebBloksContext","WebBloksDecoration","WebBloksDrawable","WebBloksStyle","WebBloksUtils","react","useClickablePropsForWebBloks","useWebBloksDrawableNode","useWebBloksNode"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useRef;function a(a){var b=a.node;a=a.externalStyle;var e=c("useWebBloksNode")(b),f=e[0];e=d("WebBloksUtils").isBloksModelEnabled(b);a=d("WebBloksStyle").useStyle(b,a,f.on_click!=null&&e);var g=a.style,h=a.wrapper,k=a.wrapperProps;a=a.ref;a=c("WebBloksDecoration")(f,a);var m=d("WebBloksAnchorTagExtensionHandler").useWebBloksAnchorTagExtensionProps(b),o=m!==null,p=o?"a":"div";e=c("useClickablePropsForWebBloks")(b,f.on_click,k.disabled===!0?!1:e,o);o=d("WebBloksContext").useWebBloksContext();var q=o.executeOnNextTick,r=o.renderChildren,s=o.bloksContext;j(function(){if(f.on_mount==null)return;q(b,f.on_mount,[b,s])},[f.on_mount]);o=(o=f.decoration)==null?void 0:o.get("foreground");a=babelHelpers["extends"]({pointerEvents:"none"},g,n(f.visibility),a,{alignContent:d("WebBloksUtils").toHyphen(f.align_content),alignItems:d("WebBloksUtils").toHyphen(f.align_items),flexDirection:d("WebBloksUtils").toHyphen(f.flex_direction),flexWrap:d("WebBloksUtils").toHyphen(f.flex_wrap),justifyContent:d("WebBloksUtils").toHyphen((a=f.justify_content)!=null?a:g.justifyContent)});return h(i.jsxs(p,babelHelpers["extends"]({},k,{className:d("WebBloksStyle").WebBloksStyles.container,style:a},e,m,{children:[r(f.children),o?i.jsx(l,{drawable:o}):null]})))}a.displayName=a.name+" [from "+f.id+"]";function l(a){a=a.drawable;var b=k(null),d=c("WebBloksDrawable")(a,b);a=c("useWebBloksDrawableNode")(a);return a!=null?a:i.jsx("div",{"data-bloks-name":"bk.components.BoxDecoration",ref:b,className:m.foreground,style:d})}l.displayName=l.name+" [from "+f.id+"]";var m=d("WebBloksStyle").createStyles({foreground:{position:"absolute",top:0,bottom:0,left:0,right:0,pointerEvents:"none"}});function n(a){switch(a){case"gone":return{display:"none"};case"invisible":return{visibility:"hidden"}}}g["default"]=a}),98);
__d("WebBloksExtentionUtils",[],(function(a,b,c,d,e,f){var g=navigator.userAgent.match(/safari/)!=null&&!navigator.userAgent.match(/chrom(e|ium)/);function a(){if(g){var a;(a=document.body)==null?void 0:a.style.setProperty("-webkit-touch-callout","none");(a=document.body)==null?void 0:a.style.setProperty("-webkit-user-select","none")}}function b(){if(g){var a;(a=document.body)==null?void 0:a.style.removeProperty("-webkit-touch-callout");(a=document.body)==null?void 0:a.style.removeProperty("-webkit-user-select")}}f.disableLongPressSideEffectsInSafari=a;f.enableLongPressSideEffectsInSafari=b}),66);
__d("WebBloksGestureExtensionHandler",["WebBloksExtentionUtils","WebBloksUtils"],(function(a,b,c,d,e,f,g){var h=500,i=250;a={getStyles:function(a){return{pointerEvents:"auto"}},onMount:function(a,b,c){var e,f=b.current,g=(e=f.uiMutableContainer.domNode)==null?void 0:e.current;if(g==null)return;var j=a.get("on_tap"),k=a.get("on_tap_with_touch_point"),l=a.get("on_tap_with_touch_point_v2"),m=a.get("on_long_press"),n=a.get("on_long_press_with_touch_point"),o=a.get("on_long_press_with_touch_point_v2"),p=a.get("on_double_tap"),q=a.get("on_double_tap_with_touch_point"),r=a.get("on_double_tap_with_touch_point_v2"),s=a.get("on_touch_down");function t(a,d){s!=null&&c.executeCatch(b.current,s,[b.current,c.bloksContext,a,d])}function u(a){t(a.clientX,a.clientY)}function v(a){t(a.touches[0].clientX,a.touches[0].clientY)}s!=null&&(g.addEventListener("mousedown",u),g.addEventListener("touchstart",v));var w=a.get("on_touch_up");function x(a,d){w!=null&&c.executeCatch(b.current,w,[b.current,c.bloksContext,a,d])}function y(a){x(a.clientX,a.clientY)}function z(a){x(a.touches[0].clientX,a.touches[0].clientY)}w!=null&&(g.addEventListener("mouseup",y),g.addEventListener("touchend",z));var A=f.uiMutableContainer.gestures||{longPressTimeout:null,doublePressTimeout:null,startX:0,startY:0,preventTap:!1};f.uiMutableContainer.gestures=A;function B(){window.clearTimeout(A.longPressTimeout),A.longPressTimeout=null,d("WebBloksExtentionUtils").enableLongPressSideEffectsInSafari()}function C(a,e){if(A.longPressTimeout!==null)return;d("WebBloksExtentionUtils").disableLongPressSideEffectsInSafari();if(g==null)return;var f=g.getBoundingClientRect();A.startX=f.left;A.startY=f.top;A.preventTap=!1;A.longPressTimeout=window.setTimeout(function(){A.preventTap=!0,A.longPressTimeout=null,d("WebBloksUtils").isBloksModelEnabled(b.current)&&(m!=null&&c.executeCatch(b.current,m,[b.current,c.bloksContext]),n!=null&&c.executeCatch(b.current,n,[b.current,c.bloksContext,a,e]),o!=null&&c.executeCatch(b.current,o,[b.current,c.bloksContext,c,"detected",a,e])),d("WebBloksExtentionUtils").enableLongPressSideEffectsInSafari()},h)}function D(a){C(a.touches[0].clientX,a.touches[0].clientY)}function E(a){C(a.clientX,a.clientY)}function F(a){a=a.targetTouches[0];if(g==null)return;d("WebBloksUtils").shouldCancelTouchEvent(g,A.startX,A.startY,a)&&B()}function G(){B()}function H(a){A.preventTap&&a.preventDefault(),B()}function I(){B()}(m!=null||n!=null||o!=null)&&(g.addEventListener("touchstart",D,d("WebBloksUtils").passiveTouchEventOptions),g.addEventListener("touchmove",F,d("WebBloksUtils").passiveTouchEventOptions),g.addEventListener("touchend",H),g.addEventListener("touchcancel",H),g.addEventListener("mousedown",E),g.addEventListener("mouseleave",G),g.addEventListener("mouseup",I));function J(a){var e;a.stopPropagation();((e=b.current.uiMutableContainer)==null?void 0:(e=e.gestures)==null?void 0:e.preventTap)!==!0&&d("WebBloksUtils").isBloksModelEnabled(b.current)&&((j!=null||k!=null||l!=null)&&p==null&&q==null&&r==null&&(j!=null&&c.executeCatch(b.current,j,[b.current,c.bloksContext]),k!=null&&c.executeCatch(b.current,k,[b.current,c.bloksContext,a.clientX,a.clientY]),l!=null&&c.executeCatch(b.current,l,[b.current,c.bloksContext,c,a.clientX,a.clientY])),(p!=null||q!=null||r!=null)&&(j!=null||k!=null||l!=null)&&a.detail===1&&(window.clearTimeout(A.doublePressTimeout),A.doublePressTimeout=window.setTimeout(function(){j!=null&&c.executeCatch(b.current,j,[b.current,c.bloksContext]),k!=null&&c.executeCatch(b.current,k,[b.current,c.bloksContext,a.clientX,a.clientY]),l!=null&&c.executeCatch(b.current,l,[b.current,c.bloksContext,c,a.clientX,a.clientY])},i)))}(j!=null||k!=null||l!=null||p!=null||q!=null||r==null)&&g.addEventListener("click",J);function K(a){window.clearTimeout(A.doublePressTimeout),A.doublePressTimeout=null,p!=null&&c.executeCatch(b.current,p,[b.current,c.bloksContext]),q!=null&&c.executeCatch(b.current,q,[b.current,c.bloksContext,a.clientX,a.clientY]),r!=null&&c.executeCatch(b.current,r,[b.current,c.bloksContext,c,a.clientX,a.clientY])}(p!=null||q!=null||r!=null)&&g.addEventListener("dblclick",K);return function(){g.removeEventListener("touchstart",D,d("WebBloksUtils").passiveTouchEventOptions),g.removeEventListener("touchmove",F,d("WebBloksUtils").passiveTouchEventOptions),g.removeEventListener("touchend",H),g.removeEventListener("touchcancel",H),g.removeEventListener("mousedown",E),g.removeEventListener("mouseleave",G),g.removeEventListener("mouseup",I),g.removeEventListener("click",J),g.removeEventListener("dblclick",K),g.removeEventListener("mousedown",u),g.removeEventListener("touchstart",v),g.removeEventListener("mouseup",y),g.removeEventListener("touchend",z)}}};g.WebBloksGestureExtensionHandler=a}),98);
__d("WebBloksGetAttr",[],(function(a,b,c,d,e,f){function a(a,b,c){return b.get(c)}f["default"]=a}),66);
__d("WebBloksGetDatetimeText",["WebBloksDateUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c,e,f,g,j){g=i(e,"medium");e=i(f,"long");f=h(c,"datetime");return d("WebBloksDateUtils").getDateTimeText(b,a.bloksContext.objectSet.environment.locale,f,g,e,j)}function h(a,b){if(a!=="date"&&a!=="datetime"&&a!=="time")return b;else return a}function i(a,b){if(a!=="short"&&a!=="medium"&&a!=="long"&&a!=="full")return b;else return a}g["default"]=a}),98);
__d("WebBloksGetDeserializedEmbeddedPayload",["WebBloksErrors"],(function(a,b,c,d,e,f,g){function a(a,b){a=(a=a.getResources())==null?void 0:(a=a.payloads.get(b))==null?void 0:a.payload;if(a==null)throw new(d("WebBloksErrors").WebBloksError)("Could not find embedded payload for ID: "+b);return a}g["default"]=a}),98);
__d("WebBloksGetHeightV2",[],(function(a,b,c,d,e,f){function a(a,b,c){c=(a=b.uiMutableContainer.domNode)==null?void 0:a.current;return(b=c==null?void 0:c.clientHeight)!=null?b:0}f["default"]=a}),66);
__d("WebBloksGetParameter",[],(function(a,b,c,d,e,f){function a(a,b){return a.readParameter(b)}f["default"]=a}),66);
__d("WebBloksGetPayload",["WebBloksModelParser"],(function(a,b,c,d,e,f,g){function a(a,b,c){var e=a.createScopedContext();a=a.readPayload(b);b=d("WebBloksModelParser").inflateBloksDataFromBloksPayloadToBloksParseResult(a.payload.layout.bloks_payload,e,!0,!0,c);return b}g["default"]=a}),98);
__d("WebBloksGetScript",[],(function(a,b,c,d,e,f){function a(a,b){return a.treeManager.getCommittedTreeResources().functionTable.get(b)}f["default"]=a}),66);
__d("WebBloksGetState",["WebBloksLegacyTraverser","WebBloksUtils"],(function(a,b,c,d,e,f,g){function a(a,b){b=String(b);var c=a.bloksContext.bkContextKeyStates.get(b);if(!c){var e=d("WebBloksUtils").nullthrows(d("WebBloksLegacyTraverser").getStateInitializer(a.objectSet.environment.traversalKeys,a.treeManager,b),"No state initializer available for id "+b);c=a.execute(e,d("WebBloksUtils").EMPTY_ARRAY);a.bloksContext.bkContextKeyStates.set(b,c)}return c}g["default"]=a}),98);
__d("WebBloksGetTemplateArg",["WebBloksErrors","WebBloksScopedIds"],(function(a,b,c,d,e,f,g){function a(a,b,c){var e=a.scope;if(c===0)return a.readExpandedVariable(b);else{if(!e)throw new(d("WebBloksErrors").WebBloksError)("Keypath must be set on environment if trying to GetTemplateArg on a depth larger than 0.");if(c>e.length)throw new(d("WebBloksErrors").WebBloksError)("Depth supplied should never exceed the size of the key path.");e=d("WebBloksScopedIds").getScopedVariableIdAtDepth(e,b,c,"EXPANDED_VARIABLE");return a.readExpandedVariable(e)}}g["default"]=a}),98);
__d("WebBloksGetValue",[],(function(a,b,c,d,e,f){function a(a,b){return a.readValue(b)}f["default"]=a}),66);
__d("WebBloksGetVariable2",[],(function(a,b,c,d,e,f){function a(a,b){return a.readVariable(b)}f["default"]=a}),66);
__d("WebBloksGetVariableWithScope",["WebBloksErrors","WebBloksScopedIds"],(function(a,b,c,d,e,f,g){function a(a,b,c){var e=a.scope;if(c===0)return a.readVariable(b);if(e==null)throw new(d("WebBloksErrors").WebBloksError)("Keypath must be set on environment if trying to WriteLocalState on a depth larger than 0.");if(c>e.length)throw new(d("WebBloksErrors").WebBloksError)("Depth supplied should never exceed the size of the key path.");e=d("WebBloksScopedIds").getScopedVariableIdAtDepth(e,b,c,"INTERNAL_VARIABLE");c=a.readVariable(e);c==null&&(c=a.readVariable(b));return c}g["default"]=a}),98);
__d("WebBloksGetWidthV2",[],(function(a,b,c,d,e,f){function a(a,b,c){c=(a=b.uiMutableContainer.domNode)==null?void 0:a.current;return(b=c==null?void 0:c.clientWidth)!=null?b:0}f["default"]=a}),66);
__d("WebBloksGlimmer",["WebBloksStyle","WebBloksTheme","react","useWebBloksNode"],(function(a,b,c,d,e,f,g){var h,i=h||d("react"),j=100;function a(a){var b,e,f,g=a.node;a=a.externalStyle;var h=c("useWebBloksNode")(g);h=h[0];g=d("WebBloksStyle").useStyle(g,a);a=g.wrapperProps;var o=g.wrapper;g=g.style;b=(b=h.index)!=null?b:1;e=(e=h.component_style)!=null?e:"default";f=(f=h.surface_background_color)!=null?f:"default";var p=d("WebBloksTheme").WebBloksThemeVars["fds-gray-65"],q=k;f==="default"&&e==="background"?q=l:f==="wash"&&e==="background"&&(p=d("WebBloksTheme").WebBloksThemeVars["fds-white"],q=m);f=h.corner_radius;h.shape==="circle"&&(f="50%");return o(i.jsx("div",babelHelpers["extends"]({},a,{"data-visualcompletion":"loading-state",className:d("WebBloksStyle").classNames(d("WebBloksStyle").WebBloksStyles.container,n.root),style:babelHelpers["extends"]({},g,{borderRadius:f,animationDelay:b*j+"ms",background:p,animationName:q})})))}a.displayName=a.name+" [from "+f.id+"]";var k=d("WebBloksStyle").keyframes({"0%":{opacity:.04},"50%":{opacity:.17},"100%":{opacity:.04}}),l=d("WebBloksStyle").keyframes({"0%":{opacity:.04},"50%":{opacity:.07},"100%":{opacity:.04}}),m=d("WebBloksStyle").keyframes({"0%":{opacity:.65},"50%":{opacity:1},"100%":{opacity:.65}}),n=d("WebBloksStyle").createStyles({root:{animationDuration:"2s",animationIterationCount:"infinite",animationTimingFunction:"cubic-bezier(0.5, 0, 0.5, 1)"}});g["default"]=a}),98);
__d("WebBloksImage",["WebBloksContext","WebBloksStyle","WebBloksTheme","WebBloksUtils","react","useWebBloksNode"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react")),j=h.useEffect;function k(a){switch(a){case"contain":return"contain";case"stretch":return"fill";case"cover":default:return"cover"}}function a(a){var b=a.node;a=a.externalStyle;var e=c("useWebBloksNode")(b);e=e[0];var f=d("WebBloksContext").useWebBloksContext(),g=f.bloksContext,h=f.executeCatch;f=d("WebBloksStyle").useStyle(b,a);a=f.style;var l=f.wrapper;f=f.wrapperProps;var m=d("WebBloksTheme").useTheme().getTheme(),n=e.dark_url,o=e.scale_type,p=e.url,q=e.color_filter,r=e.on_image_perf_update;e=b.getValues();e=e.contrib;a.position==="absolute"&&(a.top==="0px"&&a.bottom==="0px"&&(a.height="100%"),a.left==="0px"&&a.right==="0px"&&(a.width="100%"));o=k(o);var s={};if(q!=null&&p!=null){var t=o==="fill"?"100% 100%":o;s={WebkitMaskImage:"url("+p+")",WebkitMaskSize:t,maskImage:"url("+p+")",maskSize:t,backgroundColor:d("WebBloksUtils").getRGBColorWithTheme(q,m),objectPosition:"10000px 10000px"}}var u=function(a){r!=null&&h(b,r,[a,Date.now(),g])};j(function(){u("ImageRequested")},[]);t=e==null?void 0:e.get("base_sixty_four_encoded_image");if(t!=null){q=t.charAt(0);e="";switch(q){case"/":e="jpg";break;case"i":e="png";break;case"R":e="gif";break;case"U":e="webp";break;case"P":e="svg";break}t="data:image/"+e+";base64,"+t}q=m===d("WebBloksTheme").THEME.light||n==null?p:n;e=typeof q==="string"&&q?q.replace(/\\/g,""):null;p=(m=t)!=null?m:e;q=babelHelpers["extends"]({},f,{"aria-label":null,alt:(n=f==null?void 0:f["aria-label"])!=null?n:""});return l(i.jsx("img",babelHelpers["extends"]({},q,{src:p,onLoad:function(){return u("ImageFinalRendered")},onError:function(){return u("ImageFailed")}},d("WebBloksStyle").getStyleProps(babelHelpers["extends"]({},a,s,{objectFit:o,overflow:"hidden"})))))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WebBloksIndexOfChild",["WebBloksLegacyTraverser"],(function(a,b,c,d,e,f,g){function a(a,b,c){b=b;if(b==null||b.getId()==null){a.objectSet.environment.logger.warn("bk.action.bloks.IndexOfChild called on a container without an ID");return-1}b=d("WebBloksLegacyTraverser").findComponentByServerId(a.treeManager,b.getId(),a.objectSet.environment.traversalKeys);var e=String(c);return(c=b==null?void 0:(a=b.getChildren_DEPRECATED())==null?void 0:a.findIndex(function(a){return a.getId()===e}))!=null?c:-1}g["default"]=a}),98);
__d("WebBloksInflateSync",["WebBloksModelParser","WebBloksSourceMapRootNode"],(function(a,b,c,d,e,f,g){function a(a,b){return d("WebBloksModelParser").parseBloksModel(b,a.objectSet.environment.traversalKeys,new(c("WebBloksSourceMapRootNode"))(null,[]))}g["default"]=a}),98);
__d("WebBloksInsertChildrenAfter",["WebBloksMutations"],(function(a,b,c,d,e,f,g){function a(a,b,c,e){d("WebBloksMutations").insertChildrenAfter(a.treeManager,c,""+e)}g["default"]=a}),98);
__d("WebBloksInsertEmbeddedChildrenAfter",["WebBloksMutations"],(function(a,b,c,d,e,f,g){function a(a,b,c,e,f){d("WebBloksMutations").insertEmbeddedChildrenAfter(a.treeManager,c,""+e)}g["default"]=a}),98);
__d("WebBloksInsertEmbeddedChildrenBefore",["WebBloksMutations"],(function(a,b,c,d,e,f,g){function a(a,b,c,e,f){d("WebBloksMutations").insertEmbeddedChildrenBefore(a.treeManager,c,""+e)}g["default"]=a}),98);
__d("WebBloksJsonDecode",[],(function(a,b,c,d,e,f){function a(a,b){return JSON.parse(b)}f["default"]=a}),66);
__d("WebBloksJsonEncode",[],(function(a,b,c,d,e,f){function a(a,b){return JSON.stringify(b,function(b,a){return typeof a==="boolean"?a?1:0:a})}f["default"]=a}),66);
__d("WebBloksJsonEncodeV3",[],(function(a,b,c,d,e,f){function a(a,b){return JSON.stringify(b)}f["default"]=a}),66);
__d("WebBloksMakeFlat",[],(function(a,b,c,d,e,f){function a(a){var b={};for(var c=0;c<(arguments.length<=1?0:arguments.length-1)-1;c+=2){var d=String(c+1<1||arguments.length<=c+1?void 0:arguments[c+1]);b[d]=c+1+1<1||arguments.length<=c+1+1?void 0:arguments[c+1+1]}return b}f["default"]=a}),66);
__d("WebBloksMapClone",[],(function(a,b,c,d,e,f){function a(a,b){return babelHelpers["extends"]({},b)}f["default"]=a}),66);
__d("WebBloksMapFilter",["WebBloksBooleanUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c){var e={};b=Object.entries(b);for(var f=0;f<b.length;f++){var g=b[f],h=g[0];g=g[1];var i=c(a,h,g);d("WebBloksBooleanUtils").isTrue(i)&&(e[h]=g)}return e}g["default"]=a}),98);
__d("WebBloksMapGet",[],(function(a,b,c,d,e,f){function a(a,b,c){return b[c]}f["default"]=a}),66);
__d("WebBloksMapKeys",[],(function(a,b,c,d,e,f){function a(a,b){return Object.keys(b)}f["default"]=a}),66);
__d("WebBloksMapMake",[],(function(a,b,c,d,e,f){function a(a,b,c){a={};for(var d=0;d<b.length;d++)a[b[d]]=c[d];return a}f["default"]=a}),66);
__d("WebBloksMapMerge",[],(function(a,b,c,d,e,f){function a(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return Object.assign.apply(Object,[{}].concat(c))}f["default"]=a}),66);
__d("WebBloksMapRemove",[],(function(a,b,c,d,e,f){function a(a,b,c){delete b[c]}f["default"]=a}),66);
__d("WebBloksMapUpdate",[],(function(a,b,c,d,e,f){function a(a,b,c){Object.assign(b,c)}f["default"]=a}),66);
__d("WebBloksMapValues",[],(function(a,b,c,d,e,f){function a(a,b){return Array.from(Object.values(b))}f["default"]=a}),66);
__d("WebBloksEqual",["WebBloksBooleanUtils"],(function(a,b,c,d,e,f,g){function a(a,b){return a===b||a==null&&b==null||d("WebBloksBooleanUtils").isTrue(a)&&d("WebBloksBooleanUtils").isTrue(b)||d("WebBloksBooleanUtils").isFalse(a)&&d("WebBloksBooleanUtils").isFalse(b)}g.isEqual=a}),98);
__d("WebBloksMatch",["WebBloksEqual"],(function(a,b,c,d,e,f,g){function a(a,b,c,e){for(var f=0;f<c.length;f++){var g=c[f];if(d("WebBloksEqual").isEqual(g["case"],b))return g.expression(a)}return e(a)}g["default"]=a}),98);
__d("WebBloksMatchesRegex",[],(function(a,b,c,d,e,f){function a(a,b,c,d){a=new RegExp(c,d);return!!b.match(a)}f["default"]=a}),66);
__d("WebBloksMinsTypeOf",[],(function(a,b,c,d,e,f){function a(a,b){if(b==null)return 0;if(Array.isArray(b))return 6;switch(typeof b){case"boolean":return 1;case"string":return 2;case"number":return 4;case"function":return 8;case"object":return 7}return-1}f["default"]=a}),66);
__d("WebBloksComponentQueryManager",["WebBloksMutations","WebBloksParseResult","WebBloksScopedComponentQueryDefinition","WebBloksScopedIds","WebBloksScriptExecutor","WebBloksUtils"],(function(a,b,c,d,e,f,g){var h="query_info_";a=function(){function a(a,b){this.$3=new Map(),this.$4=new Map(),this.$5=new Map(),this.$1=a,this.$2=b}var b=a.prototype;b.setup=function(a,b){var c=this,e=[],f=function(a){return d("WebBloksScriptExecutor").execute(b,a,[])},g=[],h=function(){if(j){if(k>=i.length)return"break";l=i[k++]}else{k=i.next();if(k.done)return"break";l=k.value}var a=l,g=d("WebBloksUtils").cast(f(a.appIdExpression)),h=a.paramsExpression!=null?d("WebBloksUtils").cast(f(a.paramsExpression)):{},n=a.cacheTTLExpression!=null?d("WebBloksUtils").cast(f(a.cacheTTLExpression)):null;if(n==null)return"continue";g=c.$2.getCachedComponentsOrSubscribeToQuery(g,h,n,function(d,e){c.$6(a,e,b)});g.value==null||e.push([a,g.value])};_loop:for(var i=a,j=Array.isArray(i),k=0,i=j?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;a=h();switch(a){case"break":break _loop;case"continue":continue}}for(a=0;a<e.length;a++){h=e[a];var m=h[0];h=h[1];m=this.$7(m,h,b,"resolved_sync");for(var h=m,m=Array.isArray(h),n=0,h=m?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var o;if(m){if(n>=h.length)break;o=h[n++]}else{n=h.next();if(n.done)break;o=n.value}o=o;g.push(o)}}return g};b.$6=function(a,b,c){var d=this;a=this.$7(a,b,c,"resolved_async");a.forEach(function(a){d.$1.enqueueTreeUpdateOperation(a)})};b.$7=function(a,b,c,d){d=b.success?d:"failed";var e=!1;for(var f=(f=a.dependencies)!=null?f:new Set(),g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f,i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;if(!this.$4.has(i)){i=(i=this.$5.get(i))!=null?i:new Set();i.add(a.id);e=!0}if(e){this.$3.set(a.id,{queryDefinition:a,response:b});return[]}}this.$4.set(a.id,b);this.$3["delete"](a.id);i=this.$8(a,b,c,d);for(g=(h=this.$5.get(a.id))!=null?h:new Set(),f=Array.isArray(g),e=0,g=f?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(f){if(e>=g.length)break;b=g[e++]}else{e=g.next();if(e.done)break;b=e.value}h=b;b=this.$3.get(h);if(b==null)continue;i=i.concat(this.$7(b.queryDefinition,b.response,c,d));this.$5["delete"](a.id)}return i};b.$8=function(a,b,c,e){var f=this,g={resolution_type:e,response_summary:{}};if(!b.success)return[{treeModification:null,variableUpdate:{variableIdentifier:this.$9(a.id),value:g}}];e=this.$10((e=a.targets)!=null?e:new Map(),b.result.components);var h=a.isScoped?d("WebBloksScopedIds").extendKeyPath():null,i=[],j=function(){if(l){if(m>=k.length)return"break";b=k[m++]}else{m=k.next();if(m.done)return"break";b=m.value}var e=b,j=e[0];e=e[1];e=f.$11(e,j.serverId,h);var n=function(a){var b=c.createBloksModelScopedContext(j.keyPath);return d("WebBloksScriptExecutor").execute(b,a,[])};n=a.clientParamsExpression!=null?d("WebBloksUtils").cast(n(a.clientParamsExpression)):{};n=Object.entries(n);for(var o=0;o<n.length;o++){var p=n[o],q=p[0];p=p[1];i.push({treeModification:null,variableUpdate:{variableIdentifier:f.$12(q,h),value:p}})}i.push({treeModification:e,variableUpdate:{variableIdentifier:f.$12(f.$9(a.id),j.keyPath),value:g}})};for(var k=e.entries(),l=Array.isArray(k),m=0,k=l?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){e=j();if(e==="break")break}return i};b.$11=function(a,b,e){var f=this.$1.bloksContext.objectSet.environment.traversalKeys,g=a.unboundModel.makeDeepCopyWithNewClientIds(e,f);e=a.resources.clone();e.componentQueries=e.componentQueries.map(function(a){return d("WebBloksScopedComponentQueryDefinition").generateTreeScopedComponentQueryDefFromScopedDef(g,a,f)});a=d("WebBloksMutations").getReplaceChildUpdateOperation(this.$1,b,[g]);return{target:new(d("WebBloksMutations").ChildServerIdTarget)(b,f),updateOperation:a,parseResult:new(c("WebBloksParseResult"))(g,e)}};b.$10=function(a,b){var c=new Map();for(var a=a.entries(),d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;var g=f[0];f=f[1];g=b.get(g);if(g==null)continue;c.set(f,g)}return c};b.$12=function(a,b){if(b==null||b.length===0)return a;b=d("WebBloksScopedIds").buildKeypathBase(b,"INTERNAL_VARIABLE");return d("WebBloksScopedIds").buildScopedVariableIdentifier(a,b)};b.$9=function(a){return""+h+a};return a}();g["default"]=a}),98);
__d("WebBloksTreeManager",["Promise","WebBloksComponentQueryManager","WebBloksContext","WebBloksDataModule","WebBloksErrors","WebBloksParseResult","WebBloksScriptExecutor","WebBloksTreeResources","WebBloksUpdateTraversal","WebBloksUtils"],(function(a,b,c,d,e,f,g){var h;a=function(){function a(a){this.id=d("WebBloksUtils").getNextGlobalBloksClientId();this.treeResourcesState=new(d("WebBloksTreeResources").WebBloksTreeResourcesState)();this.committedVariables=new Map();this.$1=0;this.updateOperationList=[];this.updateVariableOperations=new Map();this.updateResourcesOperations=[];this.$2=!1;this.$3=!1;this.$4=!1;this.onNewTreeAndVariablesListener=new(d("WebBloksUtils").EventEmitter)();if(!a.unboundModel)throw new(d("WebBloksErrors").WebBloksError)("Missing unboundModel");this.unboundModel=a.unboundModel;this.initialTreeResources=a.resources;this.loggingIDForInternalFrameworkUseOnly=a==null?void 0:a.loggingID;(a=window.WebBloksPreHydrationInteractionsRecorder)==null?void 0:a.replayIfNeeded()}var e=a.prototype;e.getBoundTree=function(){var a;return(a=this.bindResult)==null?void 0:a.boundModel};e.getExpandedVariables=function(){var a;return(a=(a=this.bindResult)==null?void 0:a.expandedVariables)!=null?a:d("WebBloksUtils").EMPTY_MAP};e.getCommittedTreeResources=function(){return this.treeResourcesState.withUpdatedEntries(null,this.committedVariables)};e.setCommittedBoundTree=function(a){this.bindResult=a,this.committedVariables=a.variables,this.$7()};e.waitForCommittedTree=function(){var a;return(a=this.$5)!=null?a:(h||(h=b("Promise"))).resolve()};e.$7=function(){this.$6==null?void 0:this.$6(),this.$5=void 0,this.$6=void 0};e.initVariablesAndObserver=function(a,b){this.treeResourcesState=this.treeResourcesState.withUpdatedParameters(b);this.bloksContext=a;this.bloksContext.loggingIDForInternalFrameworkUseOnly=this==null?void 0:this.loggingIDForInternalFrameworkUseOnly;b=this.processResources([new(c("WebBloksParseResult"))(this.unboundModel,this.initialTreeResources)]);if(b[1].length>0){for(var a=b[1],b=Array.isArray(a),d=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(b){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;this.updateOperationList.push(e)}this.$3=!0}this.$2=!0;this.$3&&this.flushUpdates();return{unboundModel:this.unboundModel,treeResourcesState:this.treeResourcesState}};e.processAsyncComponents=function(a,b){if(a.length===0)return[];if(this.componentQueryManager==null){var d=this.bloksContext.objectSet.componentQueryStore;this.componentQueryManager=new(c("WebBloksComponentQueryManager"))(this,d)}return this.componentQueryManager.setup(a,b)};e.processResources=function(a){var b=this,c=function(a){var c,e=new(d("WebBloksContext").WebBloksInterpreterEnvironment)(b.bloksContext);e.expandedVariablesOverride=(c=b.bindResult)==null?void 0:c.expandedVariables;return d("WebBloksScriptExecutor").execute(e,a,[])},e=[].concat(a),f=[];a=this.treeResourcesState;var g=function(a){a=e[a];var g=a.unboundModel;a=a.resources;b.treeResourcesState=b.treeResourcesState.withPayloadUpdates(a.payloads);b.treeResourcesState=b.treeResourcesState.withFunctionTableUpdates(a.functionTable,a.ftDeclare,a.ftInclude);b.treeResourcesState=b.treeResourcesState.withTemplateUpdates(a.templates);b.treeResourcesState=b.treeResourcesState.withValueUpdates(a.values);var h=null,i=null;for(var j=a.variableDefinitions,k=Array.isArray(j),l=0,j=k?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var m,n;if(k){if(l>=j.length)break;n=j[l++]}else{l=j.next();if(l.done)break;n=l.value}n=n;var o=n.id;m=(m=i)!=null?m:b.treeResourcesState.variableDefinitions;m.has(o)||(i||(i=new Map(b.treeResourcesState.variableDefinitions)),i.set(o,n));m=(m=h)!=null?m:new Map(b.treeResourcesState.variables);if(m.has(o))continue;m=n.type;var p=d("WebBloksDataModule").getDataModuleFromContext(b.bloksContext,m);if(!p)throw new(d("WebBloksErrors").WebBloksError)("Missing variable module with type: "+m);m=babelHelpers["extends"]({},n);b.initialTreeResources.shouldCommitPublishStateUpdates()===!1&&m.data.key!=null&&m.data.mode==="p"&&(m=babelHelpers["extends"]({},m,{data:babelHelpers["extends"]({},m.data,{mode:"d"})}));n=p.setup(b.bloksContext,m,b,c);h||(h=new Map(b.treeResourcesState.variables));h.set(o,n.initialValue)}b.initialTreeResources.setShouldCommitPublishStateUpdates(!1);b.treeResourcesState=b.treeResourcesState.withUpdatedEntries(i,h);((p=h)==null?void 0:p.size)&&(b.committedVariables.forEach(function(a,b){var c;(c=h)==null?void 0:c.set(b,a)}),b.committedVariables=h);m=new(d("WebBloksContext").WebBloksInterpreterEnvironment)(b.bloksContext);m.expandedVariablesOverride=(o=b.bindResult)==null?void 0:o.expandedVariables;m.scope=(n=g.keyPath)!=null?n:d("WebBloksUtils").EMPTY_KEY_PATH;m.resources=b.treeResourcesState;l=b.processAsyncComponents(a.componentQueries,m);for(k=0;k<l.length;k++){j=l[k];i=j.treeModification;p=j.variableUpdate;i!=null&&(i.parseResult!=null&&e.push(i.parseResult),f.push([i.target,i.updateOperation]));if(p!=null){o=new Map();o.set(p.variableIdentifier,p.value);b.treeResourcesState=b.treeResourcesState.withVariableUpdates(o)}}};for(var h=0;h<e.length;h++)g(h);return[!this.treeResourcesState.equalsTo(a),f]};e.synchronouslyAddTreeResources=function(a,b){if(this.$4)return;this.initialTreeResources.setShouldCommitPublishStateUpdates(!0);a=this.processResources([a]);for(var a=a[1],c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;this.updateOperationList.push(e)}b!=null&&(this.treeResourcesState=this.treeResourcesState.withVariableUpdates(b))};e.enqueueVariableUpdateOperation=function(a,b){if(this.$4)return;this.updateVariableOperations.set(a,b);if(!this.$2){this.$3=!0;return}this.$1===0&&this.$8()};e.enqueueUpdateOperation=function(a,b){this.updateOperationList.push([a,b])};e.enqueueResourcesUpdateOperation=function(a){this.updateResourcesOperations.push(a),this.$1===0&&this.$8()};e.enqueueUpdateOperationWithResources=function(a){a.parseResult!=null&&this.enqueueResourcesUpdateOperation(a.parseResult),this.enqueueUpdateOperation(a.target,a.updateOperation)};e.enqueueTreeUpdateOperation=function(a){a.treeModification!=null&&this.enqueueUpdateOperationWithResources(a.treeModification),a.variableUpdate!=null&&this.enqueueVariableUpdateOperation(a.variableUpdate.variableIdentifier,a.variableUpdate.value)};e.beginUpdates=function(){var a=this;this.$1++;this.$5||(this.$5=new(h||(h=b("Promise")))(function(b){a.$6=b}))};e.endUpdates=function(){--this.$1===0&&this.flushUpdates()};e.flushUpdates=function(){if(this.$4)return;var a=!1;if(this.updateResourcesOperations.length){var b=this.processResources(this.updateResourcesOperations);a=a||b[0];for(var b=b[1],c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;this.updateOperationList.push(e)}this.updateResourcesOperations=[]}e=this.snapshotPendingComponent();a=a||this.unboundModel!==e;this.unboundModel=e;this.updateOperationList=[];this.pendingUnboundTree=null;this.updateVariableOperations.size&&(this.treeResourcesState=this.treeResourcesState.withVariableUpdates(this.updateVariableOperations),a=!0,this.updateVariableOperations=new Map());a?(this.$4&&this.bloksContext.objectSet.environment.logger.warn("Received model updates for a TreeManager that was already destroyed"),this.onNewTreeAndVariablesListener.emit({unboundModel:this.unboundModel,treeResourcesState:this.treeResourcesState})):this.$7()};e.$8=function(){var a=this;this.beginUpdates();(h||(h=b("Promise"))).resolve().then(function(){a.endUpdates()})["catch"](function(b){a.bloksContext.objectSet.environment.logger.mustfix("Unexpected error when flushing updates",b)})};e.snapshotPendingComponent=function(){var a;a=(a=this.pendingUnboundTree)!=null?a:this.unboundModel;var b=new Set(this.updateOperationList.splice(0));return b.size===0?a:d("WebBloksUpdateTraversal").runUpdateTraversal(a,{apply:function(a){var c=a,d;for(var e=b,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;var i=h[0],j=h[1],k=j.update;j=j.shouldUpdate;i.targets(c)&&(!d?d=[h]:d.push(h),(!j||j(c))&&(c===a&&(c=a.makeCopy()),k(c)))}(i=d)==null?void 0:i.forEach(function(a){b["delete"](a)});return c},onUpdatesApplied:function(){}},this.bloksContext.objectSet.environment.traversalKeys)};e.destroy=function(){this.$4=!0,this.onNewTreeAndVariablesListener.clear()};return a}();g["default"]=a}),98);
__d("WebBloksScreen",["WebBloksConstants","WebBloksContext","WebBloksErrors","WebBloksModelParser","WebBloksParseResult","WebBloksTreeManager","WebBloksURLUtils","WebBloksUtils","react","webBloksPerformanceUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");var i=0,j={isModal:!1,addToBackStack:!0,isEmbedded:!1},k="[wbloks] Missing AppLoader",l="WEBBLOKS_INFRA_SCREEN_";a=function(){function a(a,b,c,e,f){c===void 0&&(c=d("WebBloksUtils").EMPTY_OBJECT),this.value={state:"loading"},this.stateChangeListener=new(d("WebBloksUtils").EventEmitter)(),this.dismissed=!1,this.objectSet=a,this.options=b,this.params=c,e!=null&&(this.uri=d("WebBloksURLUtils").removeQueryParams(e,["_rdr","wtsid"])),this.appId=f,b.screenId!=null?this.screenId=b.screenId:this.screenId=l+(++i).toString(),this.containerConfig=b.initialContainerConfig}var b=a.prototype;b.getTreeManager=function(){return d("WebBloksUtils").nullthrows(this.treeManager)};b.setState=function(a){this.value=a;if(a.state==="ready"){var b=this.treeManager=new(c("WebBloksTreeManager"))(a.parseResult),e=new(d("WebBloksContext").WebBloksContext)(b,this.objectSet);b.initVariablesAndObserver(e,this.params);if(a.parseResult.unboundModel.styleId===d("WebBloksConstants").BK_INTERNAL_ACTION){b=a.parseResult.unboundModel.get("handler");e=new(d("WebBloksContext").WebBloksComponentContext)(e);e.executeCatch(a.parseResult.unboundModel,b,[])}}this.options.isEmbedded!==!0&&this.objectSet.navigationManager.notifyChanged();this.stateChangeListener.emit(a)};b.setContainerConfig=function(a){this.containerConfig=a,this.onContainerConfigUpdate==null?void 0:this.onContainerConfigUpdate(a)};b.setOnContainerConfigUpdate=function(a){this.onContainerConfigUpdate=a};b.setDismissCallback=function(a){this.$1=a};b.dismiss=function(){var a=this;if(this.dismissed)return;this.dismissed=!0;var b=this.$1;if(b!=null){var c=d("WebBloksUtils").nullthrows(this.options.ownerContext);c.treeManager.waitForCommittedTree().then(function(){c.execute(b,[c])})["catch"](function(c){var e=a.getTreeManager().bloksContext;d("WebBloksUtils").handleLispyErrorCatchAll(a.objectSet,c,b,e==null?void 0:e.loggingIDForInternalFrameworkUseOnly)})}};b.setOnExitCallback=function(a){this.$2=a};b.onExit=function(a){d("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-ttrc-end");var b=this.$2;if(b!=null){var c=this.getTreeManager().bloksContext,e=new(d("WebBloksContext").WebBloksInterpreterEnvironment)(c);e.executeOnNextTick(b,[c,a])}};b.destroy=function(){var a;(a=this.treeManager)==null?void 0:a.destroy();this.setState({state:"destroyed"})};a.fromBloksAppResponse=function(b,c,e,f,g){e===void 0&&(e=j);c=d("WebBloksModelParser").parseBloksPayload(c,b.environment.traversalKeys);return a.fromBloksParseResult(b,c,e,f,g)};a.fromBloksParseResult=function(b,c,d,e,f){d===void 0&&(d=j);b=new a(b,d,e,f);b.setState({state:"ready",parseResult:c});return b};a.fromBloksModel=function(b,e,f,g,h){g===void 0&&(g=j);b=new a(b,babelHelpers["extends"]({initialTreeResources:f},g),h);b.setState({state:"ready",parseResult:new(c("WebBloksParseResult"))(e,d("WebBloksUtils").nullthrows(f))});return b};a.fromURI=function(b,c,e,f,g){g===void 0&&(g=j);g=new a(b,g,f,c,e);if(e!=null){(f=b.environment.navigationTrackingUtils)==null?void 0:f.startNavigationCallback(e)}m(b,g,d("WebBloksUtils").nullthrows(b.environment.appLoader,k).fetchAppByUrl(c));return g};a.fromAppId=function(b,c,e,f,g){f===void 0&&(f=j);g===void 0&&(g=null);f=new a(b,f,e,g,c);if(c!=null){(g=b.environment.navigationTrackingUtils)==null?void 0:g.startNavigationCallback(c)}m(b,f,d("WebBloksUtils").nullthrows(b.environment.appLoader,k).fetchApp(c,e));return f};a.getExternalVariablesFromBloksScript=function(a,b){if(b==null)return null;a=a.execute(b,[]);return new Map(Object.entries(d("WebBloksUtils").cast(a)))};return a}();function m(a,b,c){c.then(function(c){if(b.value.state==="destroyed")return;c=babelHelpers["extends"]({},c);if(c.action!=null){var e;c.tree=(e={},e[d("WebBloksConstants").BK_INTERNAL_ACTION]={handler:c.action},e)}e=c.serverData;e!=null&&(e.url_relative_path!=null&&a.navigationManager.replaceState(e.url_relative_path),e.page_title!=null&&a.navigationManager.replacePageTitle(e.page_title));e=d("WebBloksModelParser").parseBloksPayload({layout:{bloks_payload:d("WebBloksUtils").cast(c)}},a.environment.traversalKeys);b.setState({state:"ready",parseResult:e})})["catch"](function(c){if(c instanceof d("WebBloksErrors").WebBloksNetworkError){var e;a.environment.logger.warn("Network error: "+String((e=b.uri)!=null?e:b.appId)+": ",c)}else{a.environment.logger.mustfix("Failed to fetch app "+String((e=b.uri)!=null?e:b.appId)+": ",c)}b.setState({state:"error",error:c})})}g.WebBloksScreen=a}),98);
__d("WebBloksNormaliseYogaDimension",["WebBloksCollectionHelpers","WebBloksConstants","WebBloksModel","WebBloksUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=!0,i=new Set([d("WebBloksConstants").BK_FLEXBOX,d("WebBloksConstants").BK_IMAGE,d("WebBloksConstants").BK_COLLECTION]),j="$GROW_WIDTH",k="$GROW_HEIGHT";function l(a,b){if(!h||!i.has(a.styleId))return;var c=a.getSubNode("_style"),e=c==null?void 0:c.get("width"),f=c==null?void 0:c.get("height"),g=b[b.length-2];e===void 0&&v(a)&&!a.get("use_correct_measure")?(g!=null&&r(g,"width")?u(a,"grow",1):u(a,"width","100%"),o(b,b.length-1,"width","100%")):typeof e==="string"&&e.endsWith("%")&&o(b,b.length-1,"width",e);if(!(e!=null&&(c==null?void 0:c.get("aspect_ratio"))))if(f===void 0&&a.styleId===d("WebBloksConstants").BK_COLLECTION&&!a.get("use_correct_measure"))g!=null&&r(g,"height")?u(a,"grow",1):u(a,"height","100%"),o(b,b.length-1,"height","100%");else if(typeof f==="string"&&f.endsWith("%"))if(t(g,"height")==null){e=m(b,"height");e?u(g,"height","100%"):o(b,b.length-1,"height",f)}else o(b,b.length-1,"height",f);a.set(j,void 0);a.set(k,void 0)}function m(a,b){for(var c=a.length-2;c>=0;c--){var d=a[c];if(!s(a[c+1],d))return null;if(!n(d))return null;if(t(d,b)!=null)return d}}function n(a){return a!=null&&((a=a.get("children"))==null?void 0:a.length)===1}function o(a,b,c,e){var f=a[b],g=a[b-1];if(g&&g.styleId==="bk.components.screen.ScreenWrapper")return o(a,b-1,c,e);if(g&&g.styleId==="bk.components.Collection"&&d("WebBloksCollectionHelpers").shouldUseWebBloksCollectionV2(g)){var h=g.getValues().direction;return h==="row"&&c==="height"||h==="column"&&c==="width"?!1:!0}if(!g||g.styleId!==d("WebBloksConstants").BK_FLEXBOX||t(g,c)!=null||t(g,"grow")===0){u(f,c,e);return!0}h=((h=g.get("children"))==null?void 0:h.length)===1;var i=r(g,c);if(h){h=o(a,b-1,c,e);h?(t(f,c)!=null&&u(f,c,void 0),i&&t(f,"grow")==null&&u(f,"grow",1)):u(f,c,e);return!0}if(i){u(f,c,e);p(a,b-1,c);return!0}else if(s(f,g)){p(a,b-1,c);return!1}else{u(f,c,e);p(a,b-1,c);return!0}}function p(a,b,c){for(b=b;b>=0;b--){var e=a[b];if(e.styleId!==d("WebBloksConstants").BK_FLEXBOX||t(e,c)!==null||t(e,"grow")===0||e.get(c==="width"?j:k))break;e.set(c==="width"?j:k,!0);var f=a[b-1];if(f)if(r(f,c)){t(e,"grow")==null&&(u(e,"grow",1),u(e,"justifyContent","inherit"));continue}else if(s(e,f))continue;u(e,c,"100%")}}function q(a){return a.styleId!==d("WebBloksConstants").BK_FLEXBOX?!1:a.get("flex_direction")==="column"||a.get("flex_direction")==="column_reverse"}function r(a,b){a=q(a);return a&&b==="height"||!a&&b==="width"}function s(a,b){return!b||b.styleId!==d("WebBloksConstants").BK_FLEXBOX?!1:((a=(a=(a=a.getStyle("flex"))==null?void 0:a.get("align_self"))!=null?a:b.get("align_items"))!=null?a:"stretch")==="stretch"}function t(a,b){return(a=a==null?void 0:(a=a.getSubNode(d("WebBloksConstants").BK_STYLE_ATTR))==null?void 0:a.get(b))!=null?a:null}function u(a,b,e){var f=a.get(d("WebBloksConstants").BK_STYLE_ATTR);if(f){var g=f.getValues()[b];if(g!==e){g=f.makeCopy();g.getValues()[b]=e;a.set(d("WebBloksConstants").BK_STYLE_ATTR,g)}}else{g=(f={},f[b]=e,f);a.getValues()[d("WebBloksConstants").BK_STYLE_ATTR]=new(c("WebBloksModel"))(d("WebBloksConstants").BK_FLEX,d("WebBloksUtils").cast(g))}}function v(a){return a.styleId===d("WebBloksConstants").BK_COLLECTION}function w(a,b,c){c===void 0&&(c=[]);c.push(a);var e=a.styleId;e=b[e];if(e!=null){var f=e.subnodes;e=e.plural_subnodes;if(f)for(var f=f,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;var j=a.getSubNode(i);if(j!=null){j=w(j,b,c);a.set(i,j)}}if(e)for(i=e,j=Array.isArray(i),h=0,i=j?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(j){if(h>=i.length)break;g=i[h++]}else{h=i.next();if(h.done)break;g=h.value}f=g;if(f===d("WebBloksConstants").CHILD_TEMPLATES)continue;e=a.getSubNodes(f);e!=null&&a.set(f,e.map(function(a){return w(a,b,c)}))}}l(a,c);c.pop();return a}g.normaliseYogaDimensions=l;g.normaliseBoundModel=w}),98);
__d("WebBloksBind",["WebBloksConstants","WebBloksContext","WebBloksErrors","WebBloksModel","WebBloksNormaliseYogaDimension","WebBloksScopedIds","WebBloksScriptExecutor","WebBloksUpdateTraversal","WebBloksUtils"],(function(a,b,c,d,e,f,g){"use strict";var h="$DESCENDANT_BIND_VARIABLE_DEPENDENCIES",i="$DESCENDANT_EXPANDED_VARIABLES",j=function(){function a(a,b,c,e){this.previousVariableDependencies=d("WebBloksUtils").EMPTY_MAP;this.expandedVariables=new Map();this.bloksContext=a;this.resources=b;this.clientIdToScopedIdMapper=c;if(e){this.nextCache=new k(e.bindCache);this.cache=e.bindCache;this.previousExpandedVariables=e.expandedVariables;this.variablesChanged=new Set();if(e.dependencies){this.previousVariableDependencies=e.dependencies;for(a=e.dependencies,c=Array.isArray(a),e=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(c){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;var g=f[0];f=f[1];f!==b.variables.get(g)&&this.variablesChanged.add(g)}}else this.previousVariableDependencies=d("WebBloksUtils").EMPTY_MAP}else this.nextCache=new k(null),this.cache=new k(null),this.previousExpandedVariables=d("WebBloksUtils").EMPTY_MAP,this.previousVariableDependencies=d("WebBloksUtils").EMPTY_MAP,this.variablesChanged=void 0}var b=a.prototype;b.apply=function(b,c,e,f,g){var h;b=b;var i=b.getScript(d("WebBloksConstants").ON_BIND);if(i==null)return b;var j=new(d("WebBloksContext").WebBloksInterpreterEnvironment)(this.bloksContext);j.expandedVariablesOverride=this.expandedVariables;j.scope=(h=b.keyPath)!=null?h:d("WebBloksUtils").EMPTY_KEY_PATH;j.variableAccessLog=f;j.resources=this.resources;h=d("WebBloksScriptExecutor").execute(j,i,d("WebBloksUtils").EMPTY_ARRAY);f=null;j=b.getId();i=(i=b.keyPath)!=null?i:[];var k=this.bloksContext.objectSet.environment.traversalKeys,l=h.length>0&&!Array.isArray(h[0]);for(var m=0;m<h.length;m++){var n=null,o=void 0,p=void 0;if(l)p=h[m],o=h[++m];else{var u=h[m];n=u[0]==null?null:""+u[0];p=""+u[1];o=u[2]}u=void 0;if(q(p,b.styleId,k)){var v=s(this,b,e,i,g,d("WebBloksUtils").cast(o),k);for(var w=0;w<v.length;w++){var x=v[w];f=this.addToTemplateCache(f,x)}u=v}else if(r(p,b.styleId,k)){x=t(this,b,e,i,g,d("WebBloksUtils").cast(o),k);u=x;x!=null&&(f=this.addToTemplateCache(f,x))}else u=o;if(l||n===j)b=a.applyOperation(b,c,p,u);else throw new(d("WebBloksErrors").WebBloksError)('Encountered binding targeted for a descendant from bind script "'+p+'"')}this.nextCache.cacheUnboundChildTemplates(b,f);return b};b.addToTemplateCache=function(a,b){a=(a=a)!=null?a:new Map();a.set(b.clientId,b);return a};b.addExpandedVariable=function(a,b){this.expandedVariables.set(a,b);if(this.variablesChanged){var c=this.previousExpandedVariables.get(a);if(c!==b){(c=this.variablesChanged)==null?void 0:c.add(a)}}};a.applyOperation=function(b,c,d,e){return a.applyAttribute(b,c,d,e)};a.applyAttribute=function(b,c,d,e){if(b!==c||c.get(d)!==e){c=a.ensureUnique(b,c);c.set(d,e);return c}return b};a.ensureUnique=function(a,b){return a===b?b.makeBoundCopy():a};return a}(),k=function(){function a(a){var b;this.expandedVariables=(b=a==null?void 0:a.expandedVariables)!=null?b:new Map();this.unboundChildTemplates=(b=a==null?void 0:a.unboundChildTemplates)!=null?b:new Map();this.variableDependencies=(b=a==null?void 0:a.variableDependencies)!=null?b:new Map()}var b=a.prototype;b.transferCache=function(a,b,c){var d=this;a.traverse(function(a){d.$1(a,b);return!1},c)};b.cacheUnboundChildTemplates=function(a,b){b&&this.unboundChildTemplates.set(a.clientId,b)};b.cacheVariableDependencies=function(a,b){this.variableDependencies.set(a.clientId,b)};b.cacheExpandedVariables=function(a,b){b.size>0&&this.expandedVariables.set(a.clientId,b)};b.getVariableDependencies=function(a){return this.variableDependencies.get(a.clientId)};b.getExpandedVariables=function(a){return this.expandedVariables.get(a.clientId)};b.getUnboundChildTemplates=function(a){return a?this.unboundChildTemplates.get(a.clientId):null};b.$1=function(a,b){a=a.clientId;var c=this.expandedVariables.get(a);c&&b.expandedVariables.set(a,c);c=this.unboundChildTemplates.get(a);c&&b.unboundChildTemplates.set(a,c);c=this.variableDependencies.get(a);c&&b.variableDependencies.set(a,c)};return a}();function a(a,b,c,e,f){e=e!=null?c.withVariableUpdates(e):c;c=l(a,b,e,f);c.boundModel=d("WebBloksNormaliseYogaDimension").normaliseBoundModel(c.boundModel,a.objectSet.environment.traversalKeys);c.boundModel.seal();return c}function l(a,b,c,d){c=new j(a,c,a.scopedClientIdMapper,d);return m(b,d,c)}function m(a,b,c){var e=new Set(),f=new Map();b=n(a,b==null?void 0:b.boundModel,c,e,f);f=new Map();for(var e=e,g=Array.isArray(e),h=0,e=g?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=e.length)break;i=e[h++]}else{h=e.next();if(h.done)break;i=h.value}i=i;f.set(i,c.resources.variables.get(i))}d("WebBloksUtils").putAll(f,c.expandedVariables);return{unboundModel:a,boundModel:b,variables:c.resources.variables,expandedVariables:c.expandedVariables,dependencies:f,bindCache:c.nextCache}}function n(a,b,c,e,f){if(a.get(d("WebBloksConstants").DESCENDANT_HAS_BIND)===!1)return a;var g=a,k=new Set(),l=new Map();g=c.apply(g,a,b,k,l);g=o(g,a,b,c,k,l);l.size>0&&(g=j.applyAttribute(g,a,i,l));g!==a&&(g=j.applyAttribute(g,a,h,k));for(b=k,c=Array.isArray(b),a=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(c){if(a>=b.length)break;k=b[a++]}else{a=b.next();if(a.done)break;k=a.value}k=k;e.add(k)}d("WebBloksUtils").putAll(f,l);return g}function o(a,b,e,f,g,h){a=a;var i=f.bloksContext.objectSet.environment.traversalKeys[a.styleId];if(i==null)return a;var k=i.subnodes;i=i.plural_subnodes;if(k)for(var k=k,l=Array.isArray(k),m=0,k=l?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var o;if(l){if(m>=k.length)break;o=k[m++]}else{m=k.next();if(m.done)break;o=m.value}o=o;var q=a.getSubNode(o);if(q instanceof c("WebBloksModel")){var r=e==null?void 0:e.getSubNode(o);if(r instanceof c("WebBloksModel")||r==null){q=n(q,r,f,g,h);a=j.applyAttribute(a,b,o,q)}}}if(i)for(r=i,o=Array.isArray(r),q=0,r=o?r:r[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(o){if(q>=r.length)break;m=r[q++]}else{q=r.next();if(q.done)break;m=q.value}l=m;if(l===d("WebBloksConstants").CHILD_TEMPLATES)continue;k=a.getChildren_DEPRECATED(l);i=k;m=e==null?void 0:e.getChildren_DEPRECATED(l);for(var s=0;s<k.length;s++){var t=k[s];if(t){var u=p(t,m,s);u=n(t,u,f,g,h);u!==t&&(i===k&&(i=k.slice()),i[s]=u)}}i!==k&&(a=j.applyAttribute(a,b,l,i))}return a}function p(a,b,c){var d;if(!b)return;return((d=b[c])==null?void 0:d.clientId)===a.clientId?b[c]:b.find(function(b){return b.clientId===a.clientId})}function q(a,b,c){return!!((c=c[b])==null?void 0:(b=c.plural_subnodes)==null?void 0:b.includes(a))}function r(a,b,c){return!!((c=c[b])==null?void 0:(b=c.subnodes)==null?void 0:b.includes(a))}function s(a,b,c,d,e,f,g){return f.map(function(f){return t(a,b,c,d,e,f,g)}).filter(Boolean)}function t(a,b,c,e,f,g,h){if(g==null)return null;var i;if(Array.isArray(g)){var j=d("WebBloksUtils").cast(g);i={templateId:j[0],expandedVariables:new Map(Object.entries(j[1])),scopeKey:j[2],keyPathBase:e}}else i=g;if(typeof i.templateId==="number"){j=i.templateId;e=b.getChildren_DEPRECATED(d("WebBloksConstants").CHILD_TEMPLATES);if(j<0||j>=e.length)throw new(d("WebBloksErrors").WebBloksError)("Invalid child template index "+j+" for "+i.scopeKey);g=e[j]}else{b=a.resources.templates.get(i.templateId);if(b==null)throw new(d("WebBloksErrors").WebBloksError)("No such template in tree resources: "+i.templateId);g=b}e=a.clientIdToScopedIdMapper.getScopedClientId(g,i.scopeKey);var k=d("WebBloksScopedIds").extendKeyPath(i.keyPathBase,e);j=d("WebBloksScopedIds").buildKeypathBase(k,"EXPANDED_VARIABLE");i.expandedVariables.size>0&&u(a,i.expandedVariables,j,f);b=a.cache.getUnboundChildTemplates(c);if(b){j=b.get(e);if(j)return j}return d("WebBloksUpdateTraversal").runUpdateTraversal(g,{apply:function(b){return a.clientIdToScopedIdMapper.copyModelWithKeyPath(b,k,i.scopeKey)},onUpdatesApplied:function(){}},h)}function u(a,b,c,e){for(var b=b.entries(),f=Array.isArray(b),g=0,b=f?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=b.length)break;h=b[g++]}else{g=b.next();if(g.done)break;h=g.value}h=h;var i=h[0];h=h[1];i=d("WebBloksScopedIds").buildScopedVariableIdentifier(i,c);a.addExpandedVariable(i,h);e.set(i,h)}}g.bind=a}),98);
__d("WebBloksScreenHost",["WebBloksBind","WebBloksContext","WebBloksUtils","react"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useLayoutEffect,l=b.useMemo,m=b.useState;function a(a){var b=a.externalVariables,c=a.isLoadingNode,e=c===void 0?!1:c,f=a.screen;c=m(function(){return new(d("WebBloksContext").WebBloksComponentContext)(f.getTreeManager().bloksContext,f.options.ownerContext,e)});a=c[0];var g=a.renderNode;c=m(function(){return p(f.getTreeManager().initialTreeResources)});var h=c[0];c=m(function(){var a=new Map();d("WebBloksUtils").putAll(a,b);d("WebBloksUtils").putAll(a,f.options.externalVariables);return n(a,h)});var q=c[0],r=c[1];c=m(function(){var a=f.getTreeManager();return d("WebBloksBind").bind(a.bloksContext,a.unboundModel,a.treeResourcesState,q)});var s=c[0],t=c[1];c=m(f.options.initialContainerConfig);var u=c[0],v=c[1];k(function(){f.setOnContainerConfigUpdate(v)},[f]);j(function(){var a=o(q,b,h),c=a.needsUpdate;a=a.updatedExternalVariables;if(c){r(a);c=f.getTreeManager();t(d("WebBloksBind").bind(c.bloksContext,c.unboundModel,c.treeResourcesState,a))}},[h,b,q,f]);j(function(){f.getTreeManager().setCommittedBoundTree(s)},[f,s]);j(function(){var a=f.getTreeManager();function b(b){t(d("WebBloksBind").bind(a.bloksContext,b.unboundModel,b.treeResourcesState,q,a.bindResult))}a.onNewTreeAndVariablesListener.on(b);return function(){return a.onNewTreeAndVariablesListener.off(b)}},[q,f]);var w=u!=null?f.objectSet.getContainerForName(u.styleId):null;c=l(function(){var a=g(s.boundModel);if(w!=null&&u!=null)return i.jsx(w,{node:u,children:a});else return a},[w,s.boundModel,u,g]);return i.jsx(d("WebBloksContext").WebBloksComponentContextContext.Provider,{value:a,children:c})}a.displayName=a.name+" [from "+f.id+"]";function n(a,b){var c=new Map();if(!a)return c;for(var a=a.entries(),d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;var g=f[0];f=f[1];g=b.get(g);g!=null&&c.set(g,f)}return c}function o(a,b,c){var d=!1;if(!b)return{needsUpdate:d,updatedExternalVariables:a};a=a;for(var b=b.entries(),e=Array.isArray(b),f=0,b=e?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=b.length)break;g=b[f++]}else{f=b.next();if(f.done)break;g=f.value}g=g;var h=g[0];g=g[1];h=c.get(h);h!=null&&a.get(h)!==g&&(d=!0,a.set(h,g))}return{needsUpdate:d,updatedExternalVariables:a}}function p(a){a=a.dataPropsEntries;var b=new Map();for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;var f=e.id;e=e.name;b.set(e,f)}return b}g["default"]=a}),98);
__d("WebBloksNavbar",["WebBloksAbstractButton","WebBloksContext","WebBloksScreen","WebBloksScreenHost","WebBloksStyle","WebBloksTheme","WebBloksUtils","react","useClickablePropsForWebBloks","useWebBloksNode"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react")),j=h.useMemo,k=d("WebBloksStyle").createStyles({root:{height:52,width:"100%",zIndex:1,backgroundColor:d("WebBloksTheme").WebBloksThemeVars["navbar-bg"],padding:8,borderBottomStyle:"solid",borderBottomColor:d("WebBloksTheme").WebBloksThemeVars.separator,borderBottomWidth:1,justifyContent:"center"},backButton:{display:"flex",alignItems:"center",flexShrink:0,flexGrow:0,flexDirection:"row",justifyContent:"center"},titleContainer:{alignItems:"center",flexGrow:1,fontWeight:600,justifyContent:"center"},titleContainerMargin:{marginRight:28},title:{flexGrow:1,alignItems:"center",justifyContent:"center",margin:"0 0px",textAlign:"center"},trailingButtons:{display:"flex",flexShrink:0,alignItems:"center",flexDirection:"row-reverse",justifyContent:"center"}});function a(a){var b=a.node;a=d("WebBloksContext").useWebBloksContext();var e=a.objectSet,f=a.execute,g=a.renderNode,h=a.ownerContext,n=a.isLoadingNode,o=e.navigationManager;a=b.getValues();var p=a.contribs,q=a.hide_navbar;a=a.title;var r=j(function(){var j=[],a=null;if(p==null)return{titleBloksNode:a,trailingButtons:j};for(var k=p,l=Array.isArray(k),o=0,k=l?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var q;if(l){if(o>=k.length)break;q=k[o++]}else{o=k.next();if(o.done)break;q=o.value}q=q;q=q.getValues();var r=q.custom_title_parseresult;if(r!==void 0){var t=void 0;n&&h?t=h.execute(r,[]):t=f(b,q.custom_title_parseresult,[]);r=d("WebBloksScreen").WebBloksScreen.fromBloksParseResult(e,d("WebBloksUtils").cast(t),{isModal:!1,isEmbedded:!0});a=i.jsx(c("WebBloksScreenHost"),{screen:r})}if(q.trailing_buttons!==void 0)for(var t=q.trailing_buttons,r=Array.isArray(t),u=0,t=r?t:t[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var v;if(r){if(u>=t.length)break;v=t[u++]}else{u=t.next();if(u.done)break;v=u.value}v=v;j.push(i.jsx(m,{node:v},v.clientId))}if(q.right_buttons!==void 0)for(v=q.right_buttons,u=Array.isArray(v),r=0,v=u?v:v[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(u){if(r>=v.length)break;t=v[r++]}else{r=v.next();if(r.done)break;t=r.value}q=t;j.push(g(q))}}return{titleBloksNode:a,trailingButtons:j}},[p,f,b,e,g]),s=r.titleBloksNode;r=r.trailingButtons;if(q===!0)return null;q=o.getScreenCount()>1;var t=q&&r.length===0;return i.jsxs("div",{"data-bloks-name":b.styleId,className:d("WebBloksStyle").classNames(d("WebBloksStyle").WebBloksStyles.container,k.root),children:[i.jsxs("div",{className:d("WebBloksStyle").classNames(d("WebBloksStyle").WebBloksStyles.container,k.titleContainer,t?k.titleContainerMargin:null),children:[q?i.jsx(l,{onClick:function(){return o.pop()}}):null,i.jsx("div",{className:k.title,children:(t=s)!=null?t:a})]}),i.jsx("div",{className:d("WebBloksStyle").classNames(d("WebBloksStyle").WebBloksStyles.container,k.trailingButtons),children:r})]})}a.displayName=a.name+" [from "+f.id+"]";function l(a){a=a.onClick;var b=d("WebBloksTheme").useTheme().getTheme(),e=d("WebBloksContext").useWebBloksContext();e=e.objectSet;b=b===d("WebBloksTheme").THEME.light?e.getAsset("chevronLeft"):e.getAsset("chevronLeftDark");return i.jsx("div",{className:k.backButton,children:i.jsx(c("WebBloksAbstractButton"),{trailing:!0,icon:b,accessibility_label:"Back",onClick:a})})}l.displayName=l.name+" [from "+f.id+"]";function m(a){a=a.node;var b=c("useWebBloksNode")(a),e=b[0];b=b[1];var f=d("WebBloksContext").useWebBloksContext();f=f.objectSet;a=c("useClickablePropsForWebBloks")(a,e.on_click);if(a.onClick===void 0)return null;if(!e.icon&&(e.title==null||e.title===""))return null;f=n(f,e.icon);return i.jsx(c("WebBloksAbstractButton"),babelHelpers["extends"]({trailing:!0,"data-bloks-name":b,icon:f,title:e.title,accessibility_label:e.accessibility_label,badge_count:e.badge_count},a))}m.displayName=m.name+" [from "+f.id+"]";function n(a,b){if(!b)return null;switch(b){case"nav-app-messenger":return a.getAsset("appMessenger");case"nav-navicon":return a.getAsset("navIcon");case"nav-shopping-cart":return a.getAsset("navShoppingCart");case"nav-info-circle":return a.getAsset("navInfoCircle")}}g.WebBloksNavbar=a;g.NavbarBackButton=l}),98);
__d("WebBloksNavigationCloseScreen",[],(function(a,b,c,d,e,f){function a(a){a.objectSet.navigationManager.pop()}f["default"]=a}),66);
__d("WebBloksNumberAnd",[],(function(a,b,c,d,e,f){function a(a,b,c){return b&c}f["default"]=a}),66);
__d("WebBloksNumberEq",[],(function(a,b,c,d,e,f){function a(a,b,c){return b===c}f["default"]=a}),66);
__d("WebBloksNumberGt",[],(function(a,b,c,d,e,f){function a(a,b,c){return b>c}f["default"]=a}),66);
__d("WebBloksNumberLt",[],(function(a,b,c,d,e,f){function a(a,b,c){return b<c}f["default"]=a}),66);
__d("WebBloksNumberMod",[],(function(a,b,c,d,e,f){function a(a,b,c){return b%c}f["default"]=a}),66);
__d("WebBloksNumberOr",[],(function(a,b,c,d,e,f){function a(a,b,c){return b|c}f["default"]=a}),66);
__d("WebBloksNumberRand",[],(function(a,b,c,d,e,f){function a(a,b,c){return Math.floor(Math.random()*(c-b))+b}f["default"]=a}),66);
__d("WebBloksOnDataChangeExtensionHandler",["WebBloksBooleanUtils","WebBloksContext","WebBloksUtils","react"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react"));a=h;var j=a.useEffect,k=a.useRef,l=a.useState;b={onMount:function(a,b,c){b=a.getValues();var d=b.on_cleanup;if(d!=null)return function(){c.execute(a,d,[c.bloksContext])}},wrap:function(a,b){return i.jsx(m,{model:a,children:b})}};function m(a){var b=a.children,c=a.model,e=d("WebBloksContext").useWebBloksContext();a=c.getValues();var f=a.data,g=a.on_change;a=a.fire_on_first_mount;a=l(d("WebBloksBooleanUtils").isFalse(a));var h=a[0],m=a[1],n=k(null);j(function(){h?m(!1):d("WebBloksUtils").deepEquals(n.current,f)||e.execute(c,g,[e,n.current,f]),n.current=f},[f]);return i.jsx(i.Fragment,{children:b})}m.displayName=m.name+" [from "+f.id+"]";g.WebBloksOnDataChangeExtensionHandler=b}),98);
__d("WebBloksOnMountExtensionHandler",["WebBloksConstants"],(function(a,b,c,d,e,f,g){a={hasLayoutWrapper:function(){return!1},onMount:function(a,b,c){return h(a,b,c)}};function h(a,b,c){var e=c.bloksContext,f=c.executeOnNextTick;e=e.associatedObjectForComponent(a,d("WebBloksConstants").CONTROLLER_ASSOCIATED_OBJECT,{firstMountRecorded:!1});a=a.getValues();var g=a.on_first_mount,h=a.on_mount,i=a.on_unmount;e.firstMountRecorded!==!0&&(e.firstMountRecorded=!0,g!=null&&f(b.current,g,[b.current,c]));h!=null&&f(b.current,h,[b.current,c]);return function(){i!=null&&f(b.current,i,[b.current])}}g.WebBloksOnMountExtensionHandler=a;g.runMountEffects=h}),98);
__d("WebBloksOnMount",["WebBloksContext","WebBloksOnMountExtensionHandler","react"],(function(a,b,c,d,e,f,g){var h;h||(h=d("react"));var i=h.useEffect;function a(a){var b=a.children,c=a.node,e=d("WebBloksContext").useWebBloksContext();i(function(){return d("WebBloksOnMountExtensionHandler").runMountEffects(c,{current:c},e)},[]);return(a=b)!=null?a:null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WebBloksOneTimeBind",["WebBloksBind"],(function(a,b,c,d,e,f,g){function a(a,b){var c=a.treeManager;c=c.getCommittedTreeResources();a=d("WebBloksBind").bind(a.bloksContext,b,c);return a.boundModel}g["default"]=a}),98);
__d("WebBloksOpenBottomSheet",["WebBloksScreen"],(function(a,b,c,d,e,f,g){function a(a,b,c){a.objectSet.navigationManager.push(d("WebBloksScreen").WebBloksScreen.fromBloksModel(a.objectSet,b,a.treeManager.initialTreeResources,{isModal:!0,ownerContext:a}))}g["default"]=a}),98);
__d("WebBloksOpenBottomSheetV2",["WebBloksScreen"],(function(a,b,c,d,e,f,g){function a(a,b,c){a.objectSet.navigationManager.push(d("WebBloksScreen").WebBloksScreen.fromBloksParseResult(a.objectSet,b,{isModal:!0,ownerContext:a}))}g["default"]=a}),98);
__d("WebBloksOpenDialog",["WebBloksScreen"],(function(a,b,c,d,e,f,g){function a(a,b,c){a.objectSet.navigationManager.push(d("WebBloksScreen").WebBloksScreen.fromBloksModel(a.objectSet,b,a.treeManager.initialTreeResources,{isModal:!0,ownerContext:a}))}g["default"]=a}),98);
__d("WebBloksOpenDialogV2",["WebBloksScreen"],(function(a,b,c,d,e,f,g){function a(a,b,c,e){a.treeManager.synchronouslyAddTreeResources(b),a.objectSet.navigationManager.push(d("WebBloksScreen").WebBloksScreen.fromBloksParseResult(a.objectSet,b,{isModal:!0,ownerContext:a}))}g["default"]=a}),98);
__d("WebBloksOpenFullScreenV4",["WebBloksScreen","webBloksPerformanceUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c,e,f){f=b.get("navbar_data");var g=b.get("loading_screen");e=e?e.get("presentation_mode")==="modal":!1;var h=b.get("url_relative_path"),i=b.get("ttrc_marker_id");e={isModal:e,loadingNavbar:f,loadingScreen:g,initialTreeResources:a.bloksContext.treeManager.initialTreeResources,ownerContext:a};f=b.get("app_id");d("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-ttrc-start",{detail:{appId:f,markerId:i}});a.objectSet.navigationManager.push(d("WebBloksScreen").WebBloksScreen.fromAppId(a.objectSet,f,c,e,h))}g["default"]=a}),98);
__d("WebBloksOpenScreen",["WebBloksScreen","webBloksPerformanceUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c){d("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-ttrc-start",{detail:{appId:b}}),a.objectSet.navigationManager.push(d("WebBloksScreen").WebBloksScreen.fromAppId(a.objectSet,b,c))}g["default"]=a}),98);
__d("WebBloksOpenScreenByRoute",["WebBloksScreen","webBloksPerformanceUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c){d("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-ttrc-start",{detail:{appId:c}}),a.objectSet.navigationManager.push(d("WebBloksScreen").WebBloksScreen.fromAppId(a.objectSet,c,void 0,{ownerContext:a},b))}g["default"]=a}),98);
__d("WebBloksOpenSendMessage",[],(function(a,b,c,d,e,f){function a(b,c,a,d){(b=b.objectSet.environment.bridgeOverrides)==null?void 0:b.onOpenSendMessage==null?void 0:b.onOpenSendMessage(c,a,d)}f["default"]=a}),66);
__d("WebBloksOpenUrl",["WebBloksURLUtils"],(function(a,b,c,d,e,f,g){function a(a,b){d("WebBloksURLUtils").openURL(d("WebBloksURLUtils").qualify(b))}g["default"]=a}),98);
__d("WebBloksOpenUrlV2",["WebBloksBooleanUtils","WebBloksURLUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c){a=d("WebBloksURLUtils").qualify(b);b=c==null?void 0:c.get("url_params");b!=null&&(a=d("WebBloksURLUtils").addQueryParamsToUrl(a,b));d("WebBloksURLUtils").openURL(a,d("WebBloksBooleanUtils").isTrue(c==null?void 0:c.get("open_in_new_tab")))}g["default"]=a}),98);
__d("WebBloksParseEmbeddedV2",["WebBloksModelParser"],(function(a,b,c,d,e,f,g){function a(a,b){b=b.layout.bloks_payload;return d("WebBloksModelParser").inflateBloksDataFromBloksPayloadToBloksParseResult(b,a,!0,!1,null)}g["default"]=a}),98);
__d("WebBloksParseEmbedded",["WebBloksParseEmbeddedV2"],(function(a,b,c,d,e,f,g){function a(a,b){b=JSON.parse(b);return c("WebBloksParseEmbeddedV2")(a,b)}g["default"]=a}),98);
__d("WebBloksParseHoistedPayload",["WebBloksErrors","WebBloksModelParser"],(function(a,b,c,d,e,f,g){function a(a,b){var c;c=(c=a.getResources())==null?void 0:(c=c.payloads.get(b))==null?void 0:c.payload;if(c==null)throw new(d("WebBloksErrors").WebBloksError)("Could not find embedded payload for ID: "+b);b=c.layout.bloks_payload;return d("WebBloksModelParser").inflateBloksDataFromBloksPayloadToBloksParseResult(b,a,!0,!1,null)}g["default"]=a}),98);
__d("WebBloksPopBottomSheet",[],(function(a,b,c,d,e,f){function a(a,b,c){a.objectSet.navigationManager.pop()}f["default"]=a}),66);
__d("WebBloksPrependChildren",["WebBloksMutations"],(function(a,b,c,d,e,f,g){function a(a,b,c){d("WebBloksMutations").prependChildren(a.treeManager,b.toString(),c)}g["default"]=a}),98);
__d("WebBloksPrependEmbeddedChildren",["WebBloksMutations"],(function(a,b,c,d,e,f,g){function a(a,b,c,e){d("WebBloksMutations").prependEmbeddedLayoutChildren(a.treeManager,b,c)}g["default"]=a}),98);
__d("WebBloksPullToRefreshContainer",["WebBloksContext"],(function(a,b,c,d,e,f,g){function a(a){a=a.node;var b=d("WebBloksContext").useWebBloksContext();b=b.renderNode;return b(a.getSubNode("child"))}g["default"]=a}),98);
__d("WebBloksPushBottomSheetV2",["WebBloksScreen"],(function(a,b,c,d,e,f,g){function a(a,b){a.objectSet.navigationManager.push(d("WebBloksScreen").WebBloksScreen.fromBloksParseResult(a.objectSet,b,{isModal:!0,ownerContext:a}))}g["default"]=a}),98);
__d("WebBloksPando",["WebBloksErrors"],(function(a,b,c,d,e,f,g){var h="__INITIAL_VALUE__";a=function(){function a(){}var b=a.prototype;b.setup=function(a,b,c,e){a=b.data;c=a.data;e=a.variables;if(c==null)throw new(d("WebBloksErrors").WebBloksError)("Data not found in pando data manifest entry");if(e==null)throw new(d("WebBloksErrors").WebBloksError)("Variables not found in pando data manifest entry");b={__type:h,data:JSON.parse(c),variables:e};return{initialValue:b}};return a}();g.INITIAL_VALUE=h;g.WebBloksPandoDataModule=a}),98);
__d("WebBloksReadPandoField",["WebBloksErrors","WebBloksPando","WebBloksUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c){if(b==null)return null;if(b.__type!==d("WebBloksPando").INITIAL_VALUE){return(a=b[c])!=null?a:null}a=d("WebBloksUtils").cast(b);b=a.data;a=a.variables;var e=c,f=/\$\w+/,g=c.match(f);if(g&&a){a=a[g[0].replace("$","")];a!=null&&(e=c.replace(f,'"'+a+'"'))}return(g=b[e])!=null?g:null}g["default"]=a}),98);
__d("WebBloksReduce",["WebBloksLegacyTraverser"],(function(a,b,c,d,e,f,g){function a(a,b){d("WebBloksLegacyTraverser").reduce(a.treeManager,""+b,a.execute,a.objectSet.environment.traversalKeys)}g["default"]=a}),98);
__d("WebBloksReflow",["WebBloksLegacyTraverser"],(function(a,b,c,d,e,f,g){function a(a,b){d("WebBloksLegacyTraverser").reflow(a.treeManager,""+b,a.execute,a.objectSet.environment.traversalKeys)}g["default"]=a}),98);
__d("WebBloksRefresh",[],(function(a,b,c,d,e,f){function a(a,b){a.objectSet.navigationManager.refresh()}f["default"]=a}),66);
__d("WebBloksRemoveChild",["WebBloksMutations"],(function(a,b,c,d,e,f,g){function a(a,b,c){d("WebBloksMutations").removeModelById(a.treeManager,""+c)}g["default"]=a}),98);
__d("WebBloksRemoveChildrenBetween",["WebBloksMutations"],(function(a,b,c,d,e,f,g){function a(a,b,c,e){d("WebBloksMutations").removeChildren(a.treeManager,b,""+c,""+e)}g["default"]=a}),98);
__d("WebBloksRenderLifecycleExtension",["WebBloksContext","react","useWebBloksNode"],(function(a,b,c,d,e,f,g){var h;h||(h=d("react"));var i=h.useEffect;function a(a){var b=a.children,e=a.node;a=c("useWebBloksNode")(e);var f=a[0];a[1];var g=f.on_component_rendered;a=d("WebBloksContext").useWebBloksContext();var h=a.bloksContext,j=a.executeCatch;i(function(){j(e,g,[e,h])},[]);return b}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WebBloksRenderLifecycleExtensionHandler",["WebBloksRenderLifecycleExtension","react"],(function(a,b,c,d,e,f,g){var h,i=h||d("react");a={hasLayoutWrapper:function(){return!1},wrap:function(a,b){return i.jsx(c("WebBloksRenderLifecycleExtension"),{node:a,children:b})}};g.WebBloksRenderLifecycleExtensionHandler=a}),98);
__d("WebBloksReplaceChild",["WebBloksMutations"],(function(a,b,c,d,e,f,g){function a(a,b,c,e){d("WebBloksMutations").replaceChild(a.treeManager,""+e,c)}g["default"]=a}),98);
__d("WebBloksReplaceChildren",["WebBloksMutations"],(function(a,b,c,d,e,f,g){function a(a,b,c){d("WebBloksMutations").replaceLayoutChildren(a.treeManager,""+b,c)}g["default"]=a}),98);
__d("WebBloksReplaceChildrenAfter",["WebBloksMutations"],(function(a,b,c,d,e,f,g){function a(a,b,c,e,f){d("WebBloksMutations").replaceChildrenAfter(a.treeManager,String(e),c)}g["default"]=a}),98);
__d("WebBloksReplaceEmbeddedChild",["WebBloksMutations"],(function(a,b,c,d,e,f,g){function a(a,b,c,e){d("WebBloksMutations").replaceEmbeddedChild(a.treeManager,""+e,c)}g["default"]=a}),98);
__d("WebBloksReplaceEmbeddedChildren",["WebBloksMutations"],(function(a,b,c,d,e,f,g){function a(a,b,c,e){d("WebBloksMutations").replaceEmbeddedLayoutChildren(a.treeManager,b,c)}g["default"]=a}),98);
__d("WebBloksReplaceEmbeddedChildrenAfter",["WebBloksMutations"],(function(a,b,c,d,e,f,g){function a(a,b,c,e,f){d("WebBloksMutations").replaceEmbeddedChildrenAfter(a.treeManager,String(e),c)}g["default"]=a}),98);
__d("WebBloksRequestFocus",[],(function(a,b,c,d,e,f){function a(a,b,c){var d=(a=b.uiMutableContainer.domNode)==null?void 0:a.current;if(d instanceof HTMLInputElement){c=[d.selectionStart,d.selectionEnd];var e=c[0],f=c[1];d.selectionStart&&d.selectionEnd&&window.requestAnimationFrame(function(){d.setSelectionRange(e,f)})}d==null?void 0:d.focus()}f["default"]=a}),66);
__d("WebBloksRichTextContext",["react"],(function(a,b,c,d,e,f,g){var h;a=h||d("react");b=a.createContext({maxNumberOfLines:1,isRootFontSizeEnabled:!1,setIsRootFontSizeEnabled:function(a){}});g["default"]=b}),98);
__d("WebBloksTextStyle",["WebBloksSSRUtils","WebBloksUtils"],(function(a,b,c,d,e,f,g){var h=d("WebBloksUtils").convertRGBArrToString(d("WebBloksUtils").convertRGBOrHexStringToArr("#0000000")),i=1.3;function a(a,b,c){if(a!=null)return{color:d("WebBloksUtils").convertRGBArrToString(d("WebBloksUtils").convertRGBOrHexStringToArr(a))};return b&&c?{color:d("WebBloksUtils").getRGBColorWithTheme(b,c)}:{color:h}}function b(a){var b,c;switch(a){case"normal":break;case"heavy":b=900;break;case"bold":b=700;break;case"italic":c="italic";break;case"bold_italic":b=700;c="italic";break;case"light":b=300;break;case"medium":b=500;break;case"semibold":b=600;break}return{fontWeight:b,fontStyle:c}}function j(a){var b="";switch(a){case"top_to_bottom":b="180deg";break;case"left_to_right":b="90deg";break;case"bottom_left_to_top_right":b="45deg";break;case"top_left_to_bottom_right":b="135deg";break}return b}function k(a,b){return a.map(function(a){return d("WebBloksUtils").getRGBColorWithTheme(a,b)}).join(", ")}function c(a,b,c){if(a==null||a.length===0||b==null)return{};b=j(b);var e=k(a,c);return{backgroundColor:d("WebBloksUtils").getRGBColorWithTheme(a[0],c),background:"linear-gradient("+b+", "+e+")",backgroundSize:"100%",textFillColor:"transparent",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}}function e(a,b,c){var d=0,e=0;if(c){var f;d=l(a,b,(f=c.cap_spacing)!=null?f:void 0);e=l(a,b,(f=c.baseline_spacing)!=null?f:void 0)}function g(a){if(typeof a==="string")return"translateY(calc(calc("+a+" - 1em) / 2)";if(a<=i)return void 0;a="calc(1em * "+a+")";var b="calc(1em * "+i+")";return"translateY(calc(("+a+" - "+b+")/2))"}return{paddingTop:d,paddingBottom:e,transform:g(a)}}function l(a,b,c){if(c==null)return 0;if(b!=null){var d=b*.8;b=typeof a==="string"?parseInt(a,10):b*a;a=(b-d)/2;b=c-a;if(Math.abs(b)>.3)return b}return 0}function f(a,b){b===void 0&&(b=!0);return a==null||a<1?{}:{display:b?"-webkit-inline-box":"-webkit-box",overflow:"hidden",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:a,wordBreak:"break-word",maxHeight:"999999px"}}var m=12;function n(a){if(a==null)return 0;var b=m;for(var a=a,c=Array.isArray(a),e=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(c){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;var g=m;switch(f.styleId){case"bk.components.TextSpan":var h=d("WebBloksUtils").toPx(f.get("text_size"));if(!d("WebBloksSSRUtils").canUseDOM)g=parseInt(h,10);else{g=parseInt((h=h)!=null?h:window.getComputedStyle(document.body).fontSize,10)}break;case"bk.data.ComposableTextSpan":case"bk.data.TextSpan":h=(h=f.get("styles"))==null?void 0:h.find(function(a){return a.styleId==="bk.style.textspan.TextStyle"});if(h==null||h.styleId!=="bk.style.textspan.TextStyle")break;h=d("WebBloksUtils").toPx(h.get("text_size"));if(!d("WebBloksSSRUtils").canUseDOM)g=parseInt(h,10);else{g=parseInt((h=h)!=null?h:window.getComputedStyle(document.body).fontSize,10)}break;case"bk.data.ImageSpan":h=f.get("image_height");g=(f=parseInt(h,10))!=null?f:m;break;default:continue}g>b&&(b=g)}return b}function o(a){a===void 0&&(a=1);return i*a}function p(a,b){if(a==="AvenyT")return"Instagram Sans Condensed";if(a!=null&&b&&b[a]){b=b[a].webFontName;return b==null?void 0:b}return a}function q(a,b){var c,e,f;c=(c=a.shadow_offset_dx)==null?void 0:c.toString();e=(e=a.shadow_offset_dy)==null?void 0:e.toString();f=(f=a.shadow_radius)==null?void 0:f.toString();a=a.shadow_color?d("WebBloksUtils").getRGBColorWithTheme(a.shadow_color,b):null;var g;c!=null&&e!=null&&(g=c+"px "+e+"px");g!=null&&(f!=null&&(g=g+" "+f+"px"),a!=null&&(g=g+" "+a));return g}g.getTextColor=a;g.getTextStyle=b;g.getGradientColors=k;g.getGradientTextStyle=c;g.getVerticalSpacingStyles=e;g.getLineClampStyle=f;g.getMaxTextSizePx=n;g.getLineHeight=o;g.getFontFamily=p;g.getTextShadow=q}),98);
__d("WebBloksRichTextTruncationCustom",["WebBloksContext","WebBloksStyle","WebBloksTextStyle","react","useWebBloksNode"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react"));b=h;var j=b.useLayoutEffect,k=b.useRef,l=b.useState;function a(a){var b,e=a.children,f=a.dimensions,g=a.node;a=a.truncationSpans;var h=d("WebBloksContext").useWebBloksContext();h=h.renderChildren;var n=k(null),o=l(!1),p=o[0],q=o[1];o=c("useWebBloksNode")(g);g=o[0];o=g.max_number_of_lines;g=f.lineHeight;f=f.textSizePx;var r=f*g,s=r*((b=o)!=null?b:1);j(function(){var a;q(((a=(a=n.current)==null?void 0:a.clientHeight)!=null?a:0)>s+r/2)},[s,r]);if(o==null)return null;b=n.current!=null?window.getComputedStyle(n.current).direction==="rtl":!1;var t=b?"left":"right";g=d("WebBloksTextStyle").getMaxTextSizePx(a)*g;f={fontSize:f,maxHeight:s+"px",wordBreak:o===1?"break-all":"break-word"};o=h(a);return i.jsxs("div",{style:f,className:m.container,children:[p&&i.jsxs(i.Fragment,{children:[i.jsx("div",{style:{"float":t,height:s-g+"px"}}),i.jsx("div",{dir:b?"rtl":"ltr",style:{"float":t,clear:t},children:o})]}),i.jsx("div",{className:m.content,dir:"auto",ref:n,children:e})]})}a.displayName=a.name+" [from "+f.id+"]";var m=d("WebBloksStyle").createStyles({container:{overflow:"hidden"},content:{"float":"none"}});g["default"]=a}),98);
__d("WebBloksRichTextTruncation",["WebBloksRichTextTruncationCustom","WebBloksStyle","WebBloksTextStyle","react","useWebBloksNode"],(function(a,b,c,d,e,f,g){var h,i=h||d("react");function a(a){var b,d=a.children,e=a.dimensions;a=a.node;var f=c("useWebBloksNode")(a);f=f[0];var g=f.max_number_of_lines;b=((b=f.truncation_spans)==null?void 0:b.length)?f.truncation_spans:f.spans_for_truncation;if(g==null||g===0)return d;return b==null||b.length<1?i.jsx(j,{children:d,node:a}):i.jsx(c("WebBloksRichTextTruncationCustom"),{dimensions:e,node:a,truncationSpans:b,children:d})}a.displayName=a.name+" [from "+f.id+"]";function j(a){var b=a.children;a=a.node;a=c("useWebBloksNode")(a);a=a[0];a=d("WebBloksTextStyle").getLineClampStyle(a.max_number_of_lines,!1);return i.jsx("div",{className:k.container,style:a,children:b})}j.displayName=j.name+" [from "+f.id+"]";var k=d("WebBloksStyle").createStyles({container:{overflow:"hidden"}});g["default"]=a}),98);
__d("WebBloksRichTextVerticalAlign",["WebBloksTextStyle","react","useWebBloksNode"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react")),j=h.useMemo;function a(a){var b=a.children,e=a.dimensions;a=a.node;a=c("useWebBloksNode")(a);var f=a[0];a=j(function(){return d("WebBloksTextStyle").getVerticalSpacingStyles(e.lineHeight,e.textSizePx,{baseline_spacing:f.baseline_spacing,cap_spacing:f.cap_spacing})},[e,f.baseline_spacing,f.cap_spacing]);return a.transform==null&&a.paddingBottom===0&&a.paddingTop===0?b:i.jsx("div",{style:babelHelpers["extends"]({fontSize:e.textSizePx},a),children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useWebBloksRichTextDimensions",["WebBloksTextStyle","react","useWebBloksNode"],(function(a,b,c,d,e,f,g){var h,i=(h||d("react")).useMemo;function a(a){a=c("useWebBloksNode")(a);a=a[0];var b=a.use_composable_and_extensible_spans,e=a.spans,f=a.children,g=a.line_height_multiplier,h=a.spans_for_truncation,j=a.truncation_spans;return i(function(){var a,c,i=d("WebBloksTextStyle").getLineHeight(g);a=(a=b===!0?e:f)!=null?a:[];c=(c=b===!0?h:j)!=null?c:[];c=d("WebBloksTextStyle").getMaxTextSizePx(((a=a)!=null?a:[]).concat((a=c)!=null?a:[]));return{lineHeight:i,textSizePx:c}},[f,g,e,h,j,b])}g["default"]=a}),98);
__d("WebBloksRichText",["WebBloksContext","WebBloksRichTextContext","WebBloksRichTextTruncation","WebBloksRichTextVerticalAlign","WebBloksStyle","WebBloksUtils","react","useClickablePropsForWebBloks","useWebBloksNode","useWebBloksRichTextDimensions"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react"));b=h;var j=b.useMemo,k=b.useState;function a(a){var b=a.node;a=a.externalStyle;var e=c("useWebBloksNode")(b),f=e[0];e=d("WebBloksStyle").useStyle(b,a,f.on_click!=null);a=e.style;var g=e.wrapper;e=e.wrapperProps;var h=c("useClickablePropsForWebBloks")(b,f.on_click),l=d("WebBloksContext").useWebBloksContext(),m=l.renderChildren;l=f.children.slice(-1)[0];var n=c("useWebBloksRichTextDimensions")(b),o=f.use_composable_and_extensible_spans===!0,p=k(!1),q=p[0],r=p[1],s=j(function(){var a;return{maxNumberOfLines:(a=f==null?void 0:f.max_number_of_lines)!=null?a:1,isRootFontSizeEnabled:q,setIsRootFontSizeEnabled:r}},[q,f==null?void 0:f.max_number_of_lines]);p=j(function(){return o?i.jsx(c("WebBloksRichTextContext").Provider,{value:s,children:m(f.spans)}):m(f.children)},[o,f.children,f.spans,m,s]);return g(i.jsx("div",babelHelpers["extends"]({},e,{dir:"auto",className:d("WebBloksStyle").WebBloksStyles.container,style:babelHelpers["extends"]({},a,{lineHeight:n.lineHeight,display:"block",color:l==null?void 0:l.get("text_color"),textAlign:d("WebBloksUtils").toHyphen(f.text_align),overflow:"hidden"})},h,{children:i.jsx(c("WebBloksRichTextVerticalAlign"),{node:b,dimensions:n,children:i.jsx(c("WebBloksRichTextTruncation"),{node:b,dimensions:n,children:p})})})))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WebBloksRotate3D",[],(function(a,b,c,d,e,f){function a(a,b,c,d,e,f){b.rotate3D(c,d,e,f);return b}f["default"]=a}),66);
__d("WebBloksScale3D",[],(function(a,b,c,d,e,f){function a(a,b,c,d,e){b.scale(c,d,e);return b}f["default"]=a}),66);
__d("WebBloksScreenWrapperPrimitive",["WebBloksBooleanUtils","WebBloksContext","WebBloksEnvironmentContext","WebBloksStyle","react"],(function(a,b,c,d,e,f,g){var h,i=h||d("react");function a(a){a=a.node;var b=d("WebBloksContext").useWebBloksContext();b=b.renderNode;var c=d("WebBloksEnvironmentContext").useWebBloksEnvironment();c=c.embedded;var e=b(a.get("content")),f=a.get("navbar"),g=a.get("contribs"),h=null,k=!1;if(g!==void 0&&g.length>0)for(var g=g,l=Array.isArray(g),m=0,g=l?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var n;if(l){if(m>=g.length)break;n=g[m++]}else{m=g.next();if(m.done)break;n=m.value}n=n;if(d("WebBloksBooleanUtils").isFalse(n.get("should_wrap")))return e}f!==void 0&&(h=b(f),k=f.getValues().hide_navbar===!0);return i.jsxs("div",{"data-bloks-name":a.styleId,className:j.root,children:[h!=null&&!k?i.jsx("div",{className:j.header,children:h},"navbar"):null,i.jsx("div",{className:d("WebBloksStyle").classNames(j.content,c?j.contentEmbedded:j.contentFullScreen),children:e},"content")]})}a.displayName=a.name+" [from "+f.id+"]";var j=d("WebBloksStyle").createStyles({root:{height:"100%",width:"100%",display:"flex",flexDirection:"column"},header:{flex:"0 0 auto"},content:{flex:"1 1 0",width:"100%",overflow:"hidden",pointerEvents:"auto",display:"flex",flexDirection:"column"},contentEmbedded:{flexBasis:"auto"},contentFullScreen:{flexBasis:"0"}});g.WebBloksScreenWrapperPrimitive=a}),98);
__d("WebBloksSessionStoreGet",[],(function(a,b,c,d,e,f){var g=Object.create(null);function a(a){return g}f["default"]=a}),66);
__d("Transform3DForWebBloks",[],(function(a,b,c,d,e,f){a=function(){function a(a){this.matrix=[[a[0],a[1],a[2],a[3]],[a[4],a[5],a[6],a[7]],[a[8],a[9],a[10],a[11]],[a[12],a[13],a[14],a[15]]]}var b=a.prototype;b.toString=function(){return this.matrix.flat().join(",")};b.translate=function(a,b,c){a=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[a,b,c,1]];this.matrix=i(a,this.matrix);return this};b.scale=function(a,b,c){a=[[a,0,0,0],[0,b,0,0],[0,0,c,0],[0,0,0,1]];this.matrix=i(a,this.matrix);return this};b.rotate3D=function(a,b,c,d){b=h(b,c,d);c=b.x_norm;d=b.y_norm;b=b.z_norm;var e=g();b=[[0,b,-d,0],[-b,0,c,0],[d,-c,0,0],[0,0,0,0]];d=b.map(function(b){return b.map(function(b){return Math.sin(a)*b})});c=i(b,b).map(function(b){return b.map(function(b){return(1-Math.cos(a))*b})});b=g();for(var f=0;f<4;f++)for(var j=0;j<4;j++)b[f][j]=e[f][j]+d[f][j]+c[f][j];this.matrix=i(b,this.matrix);return this};return a}();function g(){return[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]}function h(a,b,c){var d=a*a,e=b*b,f=c*c;d=d+e+f;return{x_norm:a/d,y_norm:b/d,z_norm:c/d}}function i(a,b){var c=a.length,d=a[0].length,e=b[0].length,f=new Array(c);for(var g=0;g<c;g++){f[g]=new Array(e);for(var h=0;h<e;h++){f[g][h]=0;for(var i=0;i<d;i++)f[g][h]+=a[g][i]*b[i][h]}}return f}f["default"]=a}),66);
__d("WebBloksSetAttr",["Transform3DForWebBloks","WebBloksConstants","WebBloksModel","WebBloksMutations","WebBloksUtils"],(function(a,b,c,d,e,f,g){function a(a,b,e,f){d("WebBloksUtils").nullthrows(b,"No model passed to setAttr");var g=e,h=f;if(e==="transform3d"&&f instanceof c("Transform3DForWebBloks")){e=b.getSubNode("_style");f={transform:"matrix3d("+f.toString()+")"};e=e!=null?e.makeCopy(f):new(c("WebBloksModel"))(d("WebBloksConstants").BK_FLEX,f);g="_style";h=e}d("WebBloksMutations").updateProperty(a.treeManager,b,g,h)}g["default"]=a}),98);
__d("WebBloksShowToast",[],(function(a,b,c,d,e,f){function a(a,b,c,d){a.objectSet.toastManager.enqueueBloksModelToast(a,b,c)}f["default"]=a}),66);
__d("WebBloksShowToastV2",[],(function(a,b,c,d,e,f){function a(a,b,c,d){a.objectSet.toastManager.enqueueBloksParseResultToast(a,b,c)}f["default"]=a}),66);
__d("WebBloksSlider",["WebBloksContext","WebBloksEnvironmentContext","WebBloksMutations","WebBloksStyle","WebBloksTheme","WebBloksUtils","react","useWebBloksNode"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useEffect,l=b.useMemo,m=b.useRef,n=b.useState,o=0,p=100,q=d("WebBloksStyle").createStyles({wrapper:{touchAction:"none",pointerEvents:"all",position:"relative",cursor:"pointer",width:"100%"},rail:{borderRadius:2,width:"100%",position:"absolute",top:0,bottom:0,marginTop:"auto",marginBottom:"auto"},track:{borderRadius:2,position:"absolute",top:0,bottom:0,marginTop:"auto",marginBottom:"auto"},thumbWrapper:{position:"relative"},thumb:{borderRadius:"50%",boxShadow:"0 0 5px gainsboro",position:"absolute",cursor:"pointer",transform:"translate(-50%, 0)"}});function a(a){var b,e=a.node;a=a.externalStyle;var f=c("useWebBloksNode")(e),g=f[0];f=d("WebBloksContext").useWebBloksContext();var h=f.bloksContext,j=f.execute;f=d("WebBloksTheme").useTheme().getTheme();a=d("WebBloksStyle").useStyle(e,a);var l=a.wrapper;a=a.wrapperProps;var m=(g==null?void 0:g.thumb_diameter)!=null?parseFloat(g==null?void 0:g.thumb_diameter):24,o=(g==null?void 0:g.track_height)!=null?parseFloat(g==null?void 0:g.track_height):4,q=(g==null?void 0:g.thumb_color)!=null?d("WebBloksUtils").getRGBColorWithTheme(g.thumb_color,f):d("WebBloksTheme").WebBloksThemeVars["primary-bg"],s=(g==null?void 0:g.unfilled_track_color)!=null?d("WebBloksUtils").getRGBColorWithTheme(g.unfilled_track_color,f):"#DBDBDB";f=(g==null?void 0:g.filled_track_color)!=null?d("WebBloksUtils").getRGBColorWithTheme(g.filled_track_color,f):d("WebBloksTheme").WebBloksThemeVars["fds-gray-65"];b=n(((b=(b=g.initial_value)!=null?b:g.progress)!=null?b:0)*p);var t=b[0],u=b[1];b=n(!1);var v=b[0],w=b[1];k(function(){!v&&g.progress!=null&&(u(g.progress*p),d("WebBloksMutations").updateProperty(h.treeManager,e,"progress",null))},[h.treeManager,v,e,g.progress,t]);b=function(a){(g==null?void 0:g.on_change)!=null&&j(e,g==null?void 0:g.on_change,[Number(a)/p,h]),u(Number(a))};var x=function(a){(g==null?void 0:g.on_start_touch)!=null&&j(e,g.on_start_touch,[a,h]),w(!0)},y=function(a){(g==null?void 0:g.on_end_touch)!=null&&j(e,g.on_end_touch,[a,h]),w(!1)};return l(i.jsx(r,babelHelpers["extends"]({},a,{onChange:b,onChangeStart:x,onChangeEnd:y,value:t,thumbSize:m,railColor:s,trackColor:f,trackHeight:o,thumbColor:q})))}a.displayName=a.name+" [from "+f.id+"]";function r(a){var b=a.onChange,c=a.onChangeEnd,e=a.onChangeStart,f=a.railColor,g=a.thumbColor,h=a.thumbSize,j=a.trackColor,k=a.trackHeight,l=a.value;a=babelHelpers.objectWithoutPropertiesLoose(a,["onChange","onChangeEnd","onChangeStart","railColor","thumbColor","thumbSize","trackColor","trackHeight","value"]);var m=d("WebBloksEnvironmentContext").useWebBloksEnvironment().isRtl,n=function(a){e==null?void 0:e(a)},r=function(a){b==null?void 0:b(a)},u=function(a){c==null?void 0:c(a)},v=m?p-l:l,w=s(v,m),x=w.trackStart;w=w.trackEnd;r=t({onChange:r,onChangeStart:n,onChangeEnd:u,min:o,max:p,isRTL:m,value:l});n=r.onMouseDown;u=r.onPointerDown;m=r.onTouchStart;var y=r.thumbRef;r=r.wrapperRef;return i.jsxs("div",babelHelpers["extends"]({},a,{ref:r,className:q.wrapper,onMouseDown:n,onPointerDown:u,onTouchStart:m,style:{height:h},children:[i.jsx("div",{className:q.rail,style:{height:k,backgroundColor:f}}),i.jsx("div",{className:q.track,style:{left:x+"%",right:w+"%",height:k,backgroundColor:j}}),i.jsx("div",{className:q.thumbWrapper,style:{marginLeft:h/2,marginRight:h/2},children:i.jsx("div",{ref:y,className:q.thumb,role:"slider","aria-valuenow":l,"aria-valuemin":o,"aria-valuemax":p,style:{left:v+"%",height:h,width:h,backgroundColor:g}})})]}))}r.displayName=r.name+" [from "+f.id+"]";function s(a,b){var c;c=o;a=p-a;if(b){b=c;c=a;a=b}return{trackStart:c,trackEnd:a}}function t(a){var b=a.max,c=a.min,d=a.onChange,e=a.onChangeEnd,f=a.onChangeStart,g=a.isRTL,h=a.value,i=m(null),k=m(null),n=m(null),o=j(function(a){var e;a=a.clientX;if(i.current==null)return;a=v(i.current,a,c,b,g);(e=k.current)==null?void 0:e.focus();f==null?void 0:f(a);d==null?void 0:d(a)},[b,c,d,f,k,i,g]),p=j(function(a){a=a.clientX;if(i.current==null)return;a=v(i.current,a,c,b,g);d==null?void 0:d(a)},[g,b,c,d,i]),q=j(function(){e==null?void 0:e(h)},[e,h]);return l(function(){if(window.PointerEvent===void 0){var a=function(a){a.button===0&&(p==null?void 0:p({clientX:a.clientX,pageX:a.pageX,pageY:a.pageY}))},b=function b(c){c.button===0&&(q==null?void 0:q(),window.removeEventListener("mousemove",a,!1),window.removeEventListener("mouseup",b,!1))},c=function(c){c.button===0&&(o==null?void 0:o({clientX:c.clientX,pageX:c.pageX,pageY:c.pageY}),c.stopPropagation(),c.preventDefault(),window.addEventListener("mousemove",a,!1),window.addEventListener("mouseup",b,!1))},d=function(a){a=u(a,n);if(a!=null){var b=a.clientX,c=a.pageX;a=a.pageY;p==null?void 0:p({clientX:b,pageX:c,pageY:a})}},e=function a(b){b=u(b,n);b!=null&&(q==null?void 0:q(),n.current=null,window.removeEventListener("touchmove",d,!1),window.removeEventListener("touchend",a,!1),window.removeEventListener("touchcancel",a,!1))},f=function(a){if(a.changedTouches.length===0||n.current!=null)return;var b=a.changedTouches[0];a.stopPropagation();a.preventDefault();n.current=b.identifier;o==null?void 0:o({clientX:b.clientX,pageX:b.pageX,pageY:b.pageY});window.addEventListener("touchmove",d,!1);window.addEventListener("touchend",e,!1);window.addEventListener("touchcancel",e,!1)};return{onMouseDown:c,onTouchStart:f,wrapperRef:i,thumbRef:k}}else{var g=function(a){a.pointerId===n.current&&(p==null?void 0:p({clientX:a.clientX,pageX:a.pageX,pageY:a.pageY}))},h=function a(b){b.pointerId===n.current&&(q==null?void 0:q(),n.current=null,window.removeEventListener("pointermove",g,!1),window.removeEventListener("pointerup",a,!1),window.removeEventListener("pointercancel",a,!1))};c=function(a){a.button===0&&n.current==null&&(o==null?void 0:o({clientX:a.clientX,pageX:a.pageX,pageY:a.pageY}),a.stopPropagation(),a.preventDefault(),n.current=a.pointerId,window.addEventListener("pointermove",g,!1),window.addEventListener("pointerup",h,!1),window.addEventListener("pointercancel",h,!1))};return{onPointerDown:c,wrapperRef:i,thumbRef:k}}},[o,p,q])}function u(a,b){var c=Array.from(a.changedTouches).findIndex(function(a){a=a.identifier;return a===b.current});return c<0?null:a.changedTouches[c]}function v(a,b,c,d,e){a=a.getBoundingClientRect();var f=a.left;a=a.width;var g=b-f;e&&(g=f+a-b);return w(g/a*(d-c)+c,c,d)}function w(a,b,c){return Math.min(Math.max(Math.round(a),b),c)}g["default"]=a}),98);
__d("WebBloksSliderSetPosition",["WebBloksMutations"],(function(a,b,c,d,e,f,g){function a(a,b,c){d("WebBloksMutations").updateProperty(a.treeManager,b,"progress",c)}g["default"]=a}),98);
__d("WebBloksStringAsInteger",[],(function(a,b,c,d,e,f){function a(a,b){a=parseInt(b,10);return Number.isNaN(a)?0:a}f["default"]=a}),66);
__d("WebBloksInt64",["WebBloksErrors"],(function(a,b,c,d,e,f,g){a=function(){function a(a,b){this.$1=a,this.$2=b}a.fromInt=function(b){if(-128<=b&&b<128){var c=a.$3[b];if(c)return c}c=new a(b|0,b<0?-1:0);-128<=b&&b<128&&(a.$3[b]=c);return c};a.fromNumber=function(b){if(Number.isNaN(b)||!Number.isFinite(b))return a.ZERO;else if(b<=-a.$4)return a.MIN_VALUE;else if(b+1>=a.$4)return a.MAX_VALUE;else if(b<0)return a.fromNumber(-b).negate();else return new a(b%a.$5|0,b/a.$5|0)};a.fromBits=function(b,c){return new a(b,c)};a.fromString=function(b,c){if(b.length==0)throw new(d("WebBloksErrors").WebBloksError)("number format error: empty string");c=c||10;if(c<2||36<c)throw new(d("WebBloksErrors").WebBloksError)("radix out of range: "+c);if(b.charAt(0)=="-")return a.fromString(b.substring(1),c).negate();else if(b.indexOf("-")>=0)throw new(d("WebBloksErrors").WebBloksError)('number format error: interior "-" character: '+b);var e=a.fromNumber(Math.pow(c,8)),f=a.ZERO;for(var g=0;g<b.length;g+=8){var h=Math.min(8,b.length-g),i=parseInt(b.substring(g,g+h),c);if(h<8){h=a.fromNumber(Math.pow(c,h));f=f.multiply(h).add(a.fromNumber(i))}else f=f.multiply(e),f=f.add(a.fromNumber(i))}return f};var b=a.prototype;b.toInt=function(){return this.$1};b.toNumber=function(){return this.$2*a.$5+this.getLowBitsUnsigned()};b.toString=function(b){b=b||10;if(b<2||36<b)throw new(d("WebBloksErrors").WebBloksError)("radix out of range: "+b);if(this.isZero())return"0";if(this.isNegative())if(this.equals(a.MIN_VALUE)){var c=a.fromNumber(b),e=this.div(c);c=e.multiply(c).subtract(this);return e.toString(b)+c.toInt().toString(b)}else return"-"+this.negate().toString(b);e=a.fromNumber(Math.pow(b,6));c=this;var f="";while(!0){var g=c.div(e),h=c.subtract(g.multiply(e)).toInt();h=h.toString(b);c=g;if(c.isZero())return h+f;else{while(h.length<6)h="0"+h;f=""+h+f}}};b.getLowBitsUnsigned=function(){return this.$1>=0?this.$1:a.$5+this.$1};b.getNumBitsAbs=function(){if(this.isNegative())if(this.equals(a.MIN_VALUE))return 64;else return this.negate().getNumBitsAbs();else{var b=this.$2!=0?this.$2:this.$1;for(var c=31;c>0;c--)if((b&1<<c)!=0)break;return this.$2!=0?c+33:c+1}};b.isZero=function(){return this.$2==0&&this.$1==0};b.isNegative=function(){return this.$2<0};b.isOdd=function(){return(this.$1&1)==1};b.equals=function(a){return this.$2==a.$2&&this.$1==a.$1};b.lessThan=function(a){return this.compare(a)<0};b.greaterThan=function(a){return this.compare(a)>0};b.greaterThanOrEqual=function(a){return this.compare(a)>=0};b.compare=function(a){if(this.equals(a))return 0;var b=this.isNegative(),c=a.isNegative();if(b&&!c)return-1;if(!b&&c)return 1;if(this.subtract(a).isNegative())return-1;else return 1};b.negate=function(){if(this.equals(a.MIN_VALUE))return a.MIN_VALUE;else return this.not().add(a.ONE)};b.add=function(b){var c=this.$2>>>16,d=this.$2&65535,e=this.$1>>>16,f=this.$1&65535,g=b.$2>>>16,h=b.$2&65535,i=b.$1>>>16;b=b.$1&65535;var j=0,k=0,l=0,m=0;m+=f+b;l+=m>>>16;m&=65535;l+=e+i;k+=l>>>16;l&=65535;k+=d+h;j+=k>>>16;k&=65535;j+=c+g;j&=65535;return a.fromBits(l<<16|m,j<<16|k)};b.subtract=function(a){return this.add(a.negate())};b.multiply=function(b){if(this.isZero())return a.ZERO;else if(b.isZero())return a.ZERO;if(this.equals(a.MIN_VALUE))return b.isOdd()?a.MIN_VALUE:a.ZERO;else if(b.equals(a.MIN_VALUE))return this.isOdd()?a.MIN_VALUE:a.ZERO;if(this.isNegative())if(b.isNegative())return this.negate().multiply(b.negate());else return this.negate().multiply(b).negate();else if(b.isNegative())return this.multiply(b.negate()).negate();if(this.lessThan(a.$8)&&b.lessThan(a.$8))return a.fromNumber(this.toNumber()*b.toNumber());var c=this.$2>>>16,d=this.$2&65535,e=this.$1>>>16,f=this.$1&65535,g=b.$2>>>16,h=b.$2&65535,i=b.$1>>>16;b=b.$1&65535;var j=0,k=0,l=0,m=0;m+=f*b;l+=m>>>16;m&=65535;l+=e*b;k+=l>>>16;l&=65535;l+=f*i;k+=l>>>16;l&=65535;k+=d*b;j+=k>>>16;k&=65535;k+=e*i;j+=k>>>16;k&=65535;k+=f*h;j+=k>>>16;k&=65535;j+=c*b+d*i+e*h+f*g;j&=65535;return a.fromBits(l<<16|m,j<<16|k)};b.div=function(b){if(b.isZero())throw new(d("WebBloksErrors").WebBloksError)("division by zero");else if(this.isZero())return a.ZERO;if(this.equals(a.MIN_VALUE))if(b.equals(a.ONE)||b.equals(a.NEG_ONE))return a.MIN_VALUE;else if(b.equals(a.MIN_VALUE))return a.ONE;else{var c=this.shiftRight(1);c=c.div(b).shiftLeft(1);if(c.equals(a.ZERO))return b.isNegative()?a.ONE:a.NEG_ONE;else{var e=this.subtract(b.multiply(c));c=c.add(e.div(b));return c}}else if(b.equals(a.MIN_VALUE))return a.ZERO;if(this.isNegative())if(b.isNegative())return this.negate().div(b.negate());else return this.negate().div(b).negate();else if(b.isNegative())return this.div(b.negate()).negate();e=a.ZERO;c=this;while(c.greaterThanOrEqual(b)){var f=Math.max(1,Math.floor(c.toNumber()/b.toNumber())),g=Math.ceil(Math.log(f)/Math.LN2);g=g<=48?1:Math.pow(2,g-48);var h=a.fromNumber(f),i=h.multiply(b);while(i.isNegative()||i.greaterThan(c))f-=g,h=a.fromNumber(f),i=h.multiply(b);h.isZero()&&(h=a.ONE);e=e.add(h);c=c.subtract(i)}return e};b.modulo=function(a){return this.subtract(this.div(a).multiply(a))};b.not=function(){return a.fromBits(~this.$1,~this.$2)};b.shiftLeft=function(b){b=b;b&=63;if(b==0)return this;else{var c=this.$1;if(b<32){var d=this.$2;return a.fromBits(c<<b,d<<b|c>>>32-b)}else return a.fromBits(0,c<<b-32)}};b.shiftRight=function(b){b=b;b&=63;if(b==0)return this;else{var c=this.$2;if(b<32){var d=this.$1;return a.fromBits(d>>>b|c<<32-b,c>>b)}else return a.fromBits(c>>b-32,c>=0?0:-1)}};return a}();a.$3={};a.$6=1<<16;a.$5=a.$6*a.$6;a.$7=a.$5*a.$5;a.$4=a.$7/2;a.ZERO=a.fromInt(0);a.ONE=a.fromInt(1);a.NEG_ONE=a.fromInt(-1);a.MAX_VALUE=a.fromBits(4294967295|0,2147483647|0);a.MIN_VALUE=a.fromBits(0,2147483648|0);a.$8=a.fromInt(1<<24);g["default"]=a}),98);
__d("WebBloksStringAsLong",["WebBloksInt64"],(function(a,b,c,d,e,f,g){function a(a,b){a=c("WebBloksInt64").fromString(String(b));return a.toString()}g["default"]=a}),98);
__d("WebBloksStringConcat",[],(function(a,b,c,d,e,f){function a(a,b,c){return b+c}f["default"]=a}),66);
__d("WebBloksStringContains",[],(function(a,b,c,d,e,f){function a(a,b,c){return b.includes(c)}f["default"]=a}),66);
__d("WebBloksStringGetURLLastPathComponent",[],(function(a,b,c,d,e,f){function a(a,b){a=b.split("/");return a[a.length-1]}f["default"]=a}),66);
__d("WebBloksStringJoin",[],(function(a,b,c,d,e,f){function a(a,b,c){return c.join(b)}f["default"]=a}),66);
__d("WebBloksStringLength",[],(function(a,b,c,d,e,f){function a(a,b){return b.length}f["default"]=a}),66);
__d("WebBloksStringReplace",[],(function(a,b,c,d,e,f){function a(a,b,c,d,e){a=new RegExp(c,e?"":"g");return b.replace(a,d)}f["default"]=a}),66);
__d("WebBloksStringSlice",["WebBloksErrors","WebBloksUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c,e){d("WebBloksUtils").nullthrows(c,"Unexpected null: offset");a=c<0?c+b.length:c;if(a<0)throw new(d("WebBloksErrors").WebBloksError)("string.Slice: index start < 0");if(e==null)c=b.length;else{if(e<0)throw new(d("WebBloksErrors").WebBloksError)("string.Slice: length < 0");c=a+e}if(c>b.length)throw new(d("WebBloksErrors").WebBloksError)("string.Slice: index end > len(str)");return b.slice(a,c)}g["default"]=a}),98);
__d("WebBloksStringSplitWithString",[],(function(a,b,c,d,e,f){function a(a,b,c){return b.split(c)}f["default"]=a}),66);
__d("WebBloksStringStartsWith",[],(function(a,b,c,d,e,f){function a(a,b,c){return b.startsWith(c)}f["default"]=a}),66);
__d("WebBloksStringToLowerCase",[],(function(a,b,c,d,e,f){function a(a,b){return b.toLowerCase()}f["default"]=a}),66);
__d("WebBloksStringToUpperCase",[],(function(a,b,c,d,e,f){function a(a,b){return b.toUpperCase()}f["default"]=a}),66);
__d("WebBloksStringTrim",[],(function(a,b,c,d,e,f){function a(a,b){return b.trim()}f["default"]=a}),66);
__d("WebBloksStringValueOfNumber",[],(function(a,b,c,d,e,f){function a(a,b){return String(b)}f["default"]=a}),66);
__d("WebBloksSwitch",["WebBloksBooleanUtils","WebBloksContext","WebBloksEnvironmentContext","WebBloksStyle","WebBloksTheme","WebBloksUtils","react"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react")),j=h.useState;function a(a){var b=a.node;a=a.externalStyle;var c=d("WebBloksTheme").useTheme().getTheme(),e=d("WebBloksEnvironmentContext").useWebBloksEnvironment().isRtl;a=d("WebBloksStyle").useStyle(b,a);var f=a.wrapper;a=a.wrapperProps;var g=d("WebBloksContext").useWebBloksContext(),h=d("WebBloksBooleanUtils").isTrue(b.get("checked")),l=j(h),m=l[0],n=l[1],o=d("WebBloksBooleanUtils").isFalse(b.get("enabled"))||a.disabled===!0,p=d("WebBloksBooleanUtils").isTrue(b.get("is_controlled")),q=function(a){if(o)return;p||n(a);var c=b.get("on_toggle");c!=null&&g.executeCatch(b,c,[b,a,g])};l=p?h:m;m=(h=b.get("on_color"))!=null?h:b.get(o?"track_color_disabled_on":"track_color_on");h=(h=b.get("off_color"))!=null?h:b.get(o?"track_color_disabled_off":"track_color_off");var r=b.get(o?"thumb_color_disabled_on":"thumb_color_on"),s=b.get(o?"thumb_color_disabled_off":"thumb_color_off");return f(i.jsxs("div",babelHelpers["extends"]({className:d("WebBloksStyle").classNames(d("WebBloksStyle").WebBloksStyles.container,k["switch"],k.innerShadow,o?k.switchDisabled:k.switchEnabled),style:!l&&h?{background:d("WebBloksUtils").getRGBColorWithTheme(h,c)}:null},a,{children:[i.jsx("div",{style:l&&m?{background:d("WebBloksUtils").getRGBColorWithTheme(m,c)}:null,className:d("WebBloksStyle").classNames(k.background,l&&k.backgroundActive)}),i.jsx("div",{style:l&&r?{background:d("WebBloksUtils").getRGBColorWithTheme(r,c)}:!l&&s?{background:d("WebBloksUtils").getRGBColorWithTheme(s,c)}:null,className:d("WebBloksStyle").classNames(k.slider,e?k.sliderRight:k.sliderLeft,l&&k.sliderActive,l&&(e?k.sliderActiveLeft:k.sliderActiveRight))}),i.jsx("input",{checked:l,disabled:o,onChange:function(a){q(a.target.checked)},tabIndex:0,"aria-checked":l,role:"switch",type:"checkbox",className:d("WebBloksStyle").classNames(k.switchInput,o?k.switchInputDisabled:k.switchInputEnabled)})]})))}a.displayName=a.name+" [from "+f.id+"]";b=28;var k=d("WebBloksStyle").createStyles({background:{backgroundColor:d("WebBloksTheme").WebBloksThemeVars["switch-active"],borderRadius:b/2,bottom:0,boxSizing:"border-box",left:0,opacity:0,pointerEvents:"none",position:"absolute",right:0,top:0,transitionDuration:d("WebBloksTheme").WebBloksThemeVars["fds-duration-extra-short-out"],transitionProperty:"opacity",transitionTimingFunction:d("WebBloksTheme").WebBloksThemeVars["fds-animation-move-out"]},backgroundActive:{opacity:1,transitionDuration:d("WebBloksTheme").WebBloksThemeVars["fds-duration-extra-short-in"],transitionTimingFunction:d("WebBloksTheme").WebBloksThemeVars["fds-animation-move-in"]},switchDisabled:{opacity:.4,transitionDuration:d("WebBloksTheme").WebBloksThemeVars["fds-duration-extra-short-in"],transitionTimingFunction:d("WebBloksTheme").WebBloksThemeVars["fds-animation-move-in"]},switchEnabled:{opacity:1},innerShadow:{boxShadow:"inset 0 0 0 0.5px "+d("WebBloksTheme").WebBloksThemeVars["media-inner-border"]},slider:{backgroundColor:d("WebBloksTheme").WebBloksThemeVars["always-white"],borderRadius:12,boxShadow:"0 1px 2px "+d("WebBloksTheme").WebBloksThemeVars["shadow-5"],height:24,pointerEvents:"none",position:"absolute",top:2,transitionDuration:d("WebBloksTheme").WebBloksThemeVars["fds-duration-extra-short-out"],transitionProperty:"transform, background-color",transitionTimingFunction:d("WebBloksTheme").WebBloksThemeVars["fds-animation-move-out"],width:24},sliderLeft:{left:2},sliderRight:{right:2},sliderActive:{transitionDuration:d("WebBloksTheme").WebBloksThemeVars["fds-duration-extra-short-in"],transitionTimingFunction:d("WebBloksTheme").WebBloksThemeVars["fds-animation-move-in"]},sliderActiveLeft:{transform:"translateX(-24px)"},sliderActiveRight:{transform:"translateX(24px)"},"switch":{flexShrink:0,flexGrow:0,backgroundColor:d("WebBloksTheme").WebBloksThemeVars.divider,borderRadius:b/2,boxSizing:"border-box",display:"inline-block",height:b,overflow:"hidden",padding:0,position:"relative",transitionDuration:d("WebBloksTheme").WebBloksThemeVars["fds-duration-extra-short-out"],transitionProperty:"opacity",transitionTimingFunction:d("WebBloksTheme").WebBloksThemeVars["fds-animation-move-out"],width:52},switchInput:{height:"100%",margin:0,opacity:0,outline:"none",padding:0,position:"absolute",top:0,width:"100%"},switchInputDisabled:{pointerEvents:"none"},switchInputEnabled:{cursor:"pointer"}});g["default"]=a}),98);
__d("WebBloksT3DFromArray",["Transform3DForWebBloks"],(function(a,b,c,d,e,f,g){function a(a,b){return new(c("Transform3DForWebBloks"))(b.map(function(a){return parseFloat(a)}))}g["default"]=a}),98);
__d("WebBloksTakeLast",[],(function(a,b,c,d,e,f){function a(a){var b;return b=(arguments.length<=1?0:arguments.length-1)-1+1,b<1||arguments.length<=b?void 0:arguments[b]}f["default"]=a}),66);
__d("WebBloksTemplateMake",[],(function(a,b,c,d,e,f){function a(a,b,c,d){return{templateId:b,expandedVariables:new Map(Object.entries(c)),scopeKey:d,keyPathBase:a.scope}}f["default"]=a}),66);
__d("WebBloksText",["WebBloksBooleanUtils","WebBloksContext","WebBloksStyle","WebBloksTextStyle","WebBloksTheme","WebBloksUtils","react","useClickablePropsForWebBloks","useWebBloksNode"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react"));b=h;var j=b.useLayoutEffect,k=b.useRef,l=1e3/60;function m(a,b,c){var e=k({innerText:""});j(function(){a.current!=null&&a.current.innerText!=null&&(e.current.innerText=a.current.innerText)},[c]);j(function(){var c=a.current;if(c==null||b==null||ResizeObserver==null)return;var f=d("WebBloksUtils").throttle(function(){c.style.whiteSpace="nowrap";c.scrollWidth<=c.clientWidth&&(c.innerText=e.current.innerText);var a=!1;while(c.scrollWidth>c.clientWidth&&c.innerText!=null)c.innerText=""+c.innerText.slice(0,-1+(a?-1*b.length:0))+b,a=!0},l);f();var g=new ResizeObserver(function(){f()});g.observe(c);return function(){g&&g.unobserve(c)}},[b,c])}function a(a){var b=a.node;a=a.externalStyle;var e=c("useWebBloksNode")(b);e=e[0];a=d("WebBloksStyle").useStyle(b,a,e.on_click!=null);var f=a.ref,g=a.style,h=a.wrapper;a=a.wrapperProps;var j=d("WebBloksTheme").useTheme().getTheme();j=e.text_color!=null&&d("WebBloksUtils").convertRGBArrToString(d("WebBloksUtils").convertRGBOrHexStringToArr(e.text_color))||e.text_themed_color&&d("WebBloksUtils").getRGBColorWithTheme(e.text_themed_color,j);b=c("useClickablePropsForWebBloks")(b,e.on_click);var k=d("WebBloksContext").useWebBloksContext(),l=k.renderNode;k=k.bloksContext;k=k.objectSet.environment.fontFamilyMappings;l=e.text_provider!=null?l(e.text_provider):e.text==null?e.text:e.text===" "?i.jsx(i.Fragment,{children:"\xa0"}):e.text;m(f,e.truncation_string,l);f=d("WebBloksUtils").toPx(e.line_height);f=(f=f)!=null?f:d("WebBloksTextStyle").getLineHeight(e.line_height_multiplier);return h(i.jsx("span",babelHelpers["extends"]({},a,{style:babelHelpers["extends"]({},g,d("WebBloksTextStyle").getLineClampStyle(e.max_number_of_lines),d("WebBloksTextStyle").getTextStyle(e.text_style),d("WebBloksTextStyle").getVerticalSpacingStyles(f),{lineHeight:f,fontSize:d("WebBloksUtils").toPx(e.text_size),fontFamily:d("WebBloksTextStyle").getFontFamily(e.font_family,k),textAlign:d("WebBloksUtils").toHyphen(e.text_align),textDecoration:d("WebBloksBooleanUtils").isTrue(e.strikethrough)?"line-through":"",color:j,whiteSpace:"pre-wrap",overflowWrap:"break-word",padding:"unset"})},b,{children:l})))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WebBloksTextGetText",["WebBloksErrors","WebBloksUtils"],(function(a,b,c,d,e,f,g){function a(a,b){a=b.uiMutableContainer.domNode;d("WebBloksUtils").nullthrows(a,"Not a valid Text model, uiMutableContainer not set");b=a==null?void 0:(b=a.current)==null?void 0:b.dataset.bloksName;if(b!=="bk.components.Text")throw new(d("WebBloksErrors").WebBloksError)("Not bk.component.Text");a=a==null?void 0:(b=a.current)==null?void 0:b.innerText;return(b=a)!=null?b:""}g["default"]=a}),98);
__d("WebBloksClientPerfLogger",[],(function(a,b,c,d,e,f){"use strict";var g=!0;function h(a,b){var c=window.WebBloksClientLogger;if(!g||c==null||c.logEvent==null)return;c.logEvent(a,b)}function a(){var a;a=(a=window.WebBloksPreHydrationInteractionsRecorder)==null?void 0:a.concludeEventRecording();a&&a.clicksCount>0&&h("SSR_PRE_HYDRATION_INTERACTION_COUNT",a);g=!1}b={log:h,destroy:a};f["default"]=b}),66);
__d("WebBloksTextInputDatePickerExtensionHandler",["WebBloksContext","WebBloksUtils","useWebBloksNode"],(function(a,b,c,d,e,f,g){b={};function a(a){var b=c("useWebBloksNode")(a);b=b[0];var e=d("WebBloksContext").useWebBloksContext(),f=e.bloksContext,g=e.executeOnNextTick;e=d("WebBloksUtils").findExtension(b.extensions,"bk.components.TextInputDatePickerExtension");if(!e)return null;b=e.getValues();var i=b.on_date_change;e=b.initial_time_seconds;var j=b.maximum_time_seconds;b=b.minimum_time_seconds;return{typeOverride:"date",initialValue:h(e!=null?e*1e3:Date.now()),minmaxProps:{min:b!=null?h(b*1e3):void 0,max:j!=null?h(j*1e3):void 0},onChange:function(b){if(!b)return;b=b.split("-").map(Number);var c=b[0],d=b[1];b=b[2];var e=new Date();e.setFullYear(c);e.setMonth(d-1);e.setDate(b);g(a,i,[parseInt(e.getTime()/1e3,10),a,f])}}}var h=function(a){a=new Date(a);return[String(a.getFullYear()).padStart(4,"0"),a.toLocaleString("en-US",{month:"2-digit"}).padStart(2,"0"),a.toLocaleString("en-US",{day:"2-digit"}).padStart(2,"0")].join("-")};g.WebBloksTextInputDatePickerExtensionHandler=b;g.useWebBloksTextInputDateProps=a}),98);
__d("WebBloksTextInputExternalChangeEvent",[],(function(a,b,c,d,e,f){var g="input_change";a=function(a){return new CustomEvent(g,{detail:{value:a}})};f.INPUT_EXTERNAL_CHANGE_EVENT_NAME=g;f.makeExternalInputChangeEvent=a}),66);
__d("WebBloksTextInputMaskExtensionHandler",["WebBloksUtils"],(function(a,b,c,d,e,f,g){b={};function h(a,b){return a.replace(/[^0-9]/g,"")}function a(a,b){b=d("WebBloksUtils").findExtension(a.extensions,"bk.components.TextInputMaskExtension");if(b==null)return void 0;var c=b.get("mask");if(c.length<=0)return void 0;a=function(a,b){var d=h(b,c);d=d.split("");var e=c.split(""),f="";while(d.length&&e.length){var g=e.shift();if(g==="#"){var i;f+=(i=d.shift())!=null?i:""}else{f+=(i=g)!=null?i:""}}if(!e.includes("#")){g=f+e.join("");return a.length===c.length&&b.length<c.length?f.slice(0,-1):g}return f};return{onBeforeChange:a,maxLength:c.length,typeOverride:"text"}}g.WebBloksTextInputMaskExtensionHandler=b;g.getTextInputMaskExtensionProps=a}),98);
__d("useQueuedBlurEventForWebBloks",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef;function a(a,b){var c=j(!1);i(function(){var a=function(){c.current=!0},b=function(){c.current=!1};window.addEventListener("mousedown",a);window.addEventListener("mouseup",b);return function(){window.removeEventListener("mousedown",a),window.removeEventListener("mouseup",b)}},[]);var d=function(){if(c.current===!1)b();else{var d=function c(){window.setTimeout(function(){a.current!==document.activeElement&&b(),window.removeEventListener("mouseup",c)},0)};window.addEventListener("mouseup",d)}};return d}g["default"]=a}),98);
__d("WebBloksTextInputHelpers",[],(function(a,b,c,d,e,f){function a(a,b){var c=new RegExp("(?:\\r\\n?|\\n)","gm"),d,e=0;for(var f=0;f<b;f++){d=c.exec(a);if(!d)return a;e=d.index}if(d==null)return a;f=a.slice(0,e+d[0].length);b=a.slice(e+d[0].length);b=b.replace(c,"");return f+b}f.removeLineBreaks=a}),66);
__d("useWebBloksTextInputFormatValue",["WebBloksTextInputHelpers","WebBloksTextInputMaskExtensionHandler","useWebBloksNode"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a=c("useWebBloksNode")(a);a=a[0];b=d("WebBloksTextInputMaskExtensionHandler").getTextInputMaskExtensionProps(a,b);var e=b==null?void 0:b.onBeforeChange,f=a.digits_key_listener,g=a.max_number_of_lines!=null&&a.max_number_of_lines>0?a.max_number_of_lines:null;return function(a,b){var c=b;e&&(c=e(a,b));g!=null&&(c=d("WebBloksTextInputHelpers").removeLineBreaks(c,g-1));if(f!=null){a=new RegExp("[^"+f+"]","gmi");c=c.replace(a,"")}return c}}g["default"]=a}),98);
__d("useWebBloksTextinputUpdateSource",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useRef;function a(){var a=i(null);return{markUpdateSource:function(b){a.current=b},isLastUpdateSourceFrom:function(b){return a.current===b}}}g["default"]=a}),98);
__d("WebBloksTextInput",["WebBloksBKSTextInputFormatterHandler","WebBloksBooleanUtils","WebBloksClientPerfLogger","WebBloksConstants","WebBloksContext","WebBloksStyle","WebBloksTextInputDatePickerExtensionHandler","WebBloksTextInputExternalChangeEvent","WebBloksTextInputMaskExtensionHandler","WebBloksTextStyle","WebBloksTheme","WebBloksUtils","react","useQueuedBlurEventForWebBloks","useWebBloksNode","useWebBloksTextInputFormatValue","useWebBloksTextinputUpdateSource"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useLayoutEffect,l=b.useRef,m=b.useState;function a(a){var b,e,f=a.node;a=a.externalStyle;var g=c("useWebBloksNode")(f),h=g[0],o=h.on_gain_focus,p=h.on_lose_focus;g=h.resize_height_based_on_content;var q=h.single_line,r=d("WebBloksBooleanUtils").isTrue(g);g=d("WebBloksBooleanUtils").isFalse(q);q=d("WebBloksStyle").useStyle(f,a);var s=q.ref;a=q.style;var t=q.wrapper;q=q.wrapperProps;var u=d("WebBloksTheme").useTheme().getTheme(),v=h.text_color!=null&&d("WebBloksUtils").convertRGBArrToString(d("WebBloksUtils").convertRGBOrHexStringToArr(h.text_color))||h.text_themed_color&&d("WebBloksUtils").getRGBColorWithTheme(h.text_themed_color,u);u=h.background_color!=null?d("WebBloksUtils").getRGBColorWithTheme(h.background_color,u):"transparent";var w=d("WebBloksContext").useWebBloksContext(),x=w.executeCatch,y=w.execute,z=w.bloksContext,A=z.associatedObjectForComponent(f,d("WebBloksConstants").TEXT_INPUT_ASSOCIATED_OBJECT,{text:null});w=d("WebBloksTextInputMaskExtensionHandler").getTextInputMaskExtensionProps(h,s);var B=d("WebBloksTextInputDatePickerExtensionHandler").useWebBloksTextInputDateProps(f),C=z.objectSet.environment.fontFamilyMappings;b=(b=w==null?void 0:w.typeOverride)!=null?b:B==null?void 0:B.typeOverride;var D=c("useWebBloksTextInputFormatValue")(f,s),E=d("WebBloksBKSTextInputFormatterHandler").useBKSTextInputFormatter(h),F=B==null?void 0:B.onChange,G=d("WebBloksBooleanUtils").isFalse(h.enabled)||q.disabled===!0;w=(w=w==null?void 0:w.maxLength)!=null?w:h.max_length;b=(b=b)!=null?b:d("WebBloksUtils").toHyphen(h.type);var H=(B==null?void 0:B.initialValue)?B.initialValue:h.text,I=A.text;e=m((e=(e=I)!=null?e:H)!=null?e:"");var J=e[0],K=e[1];e=m(H);var L=e[0],M=e[1];e=c("useWebBloksTextinputUpdateSource")();var N=e.markUpdateSource,O=e.isLastUpdateSourceFrom;k(function(){if(H!==L){var a;N("TEXT_FROM_PROPS");K((a=H)!=null?a:"");M(H)}},[N,L,H]);var P=l(!1);k(function(){if(!P.current&&s.current){var a=s.current.value||"";typeof a==="string"&&a!==J&&(c("WebBloksClientPerfLogger").log("SSR_NON_EMPTY_INPUT_PRE_HYDRATION"),N("HYDRATION"),K(a),h.on_text_change!=null&&x(f,h.on_text_change,[f,z]))}P.current=!0;if(r&&s.current!=null){s.current.style.height="0px";a=s.current.scrollHeight;s.current.style.height=a+"px"}},[z,x,N,f,h.on_text_change,s,r,J]);var Q=function(a){var b=!0;h.allow_text_change_callback!=null&&(b=d("WebBloksBooleanUtils").isTrue(d("WebBloksUtils").cast(y(f,h.allow_text_change_callback,[J,a.target.value]))));b&&(N("ON_CHANGE"),K(function(b){b=D(b,a.target.value);b=E(b);A.text=b;return b}))},R=l(!0);k(function(){if(R.current){R.current=!1;if(I==null||H===I)return}h.on_text_change!=null&&x(f,h.on_text_change,[f,z]);F!=null&&F(J)},[J]);e=function(a){a.keyCode===d("WebBloksConstants").KEY_RETURN&&(h.on_submit!=null&&x(f,h.on_submit,[f,z])),(a.keyCode===d("WebBloksConstants").KEY_RETURN||a.keyCode===d("WebBloksConstants").KEY_SPACE)&&a.stopPropagation()};var S=function(a){a.keyCode===d("WebBloksConstants").KEY_SPACE&&a.stopPropagation()},T=o!=null?function(){x(f,o,[f,z])}:void 0,U=c("useQueuedBlurEventForWebBloks")(s,function(){p!=null&&x(f,p,[f,z])});U=p!=null?U:void 0;a=babelHelpers["extends"]({},a,d("WebBloksTextStyle").getTextStyle(h.text_style),{background:u,color:v,fontFamily:d("WebBloksTextStyle").getFontFamily(h.font_family,C),fontSize:d("WebBloksUtils").toPx(h.text_size),lineHeight:d("WebBloksTextStyle").getLineHeight(),textAlign:d("WebBloksUtils").toHyphen(h.text_align)});v=babelHelpers["extends"]({},q,(u=B==null?void 0:B.minmaxProps)!=null?u:{},{autoCapitalize:h.html_autocapitalize,autoComplete:h.html_autocomplete,autoCorrect:h.html_autocorrect,disabled:G,maxLength:w,name:h.html_name,onChange:Q,onKeyDown:e,onKeyUp:S,onFocus:T,onBlur:U,className:d("WebBloksStyle").classNames(d("WebBloksStyle").WebBloksStyles.container,n.base),placeholder:h.hint,type:b,value:J,onClick:function(a){a.stopPropagation()}});j(function(){var a=s.current;if(!a)return;var b=function(a){if(O("EXTERNAL_EVENT"))return;if(a.detail==null||a.detail.value==null)return;Q({target:{value:String(a.detail.value)}});N("EXTERNAL_EVENT");h.on_text_change!=null&&x(f,h.on_text_change,[f,z])};a.addEventListener(d("WebBloksTextInputExternalChangeEvent").INPUT_EXTERNAL_CHANGE_EVENT_NAME,b);return function(){a.removeEventListener(d("WebBloksTextInputExternalChangeEvent").INPUT_EXTERNAL_CHANGE_EVENT_NAME,b)}},[s,J]);return t(g||r?i.jsx("textarea",babelHelpers["extends"]({},v,r?{rows:1}:void 0,{style:babelHelpers["extends"]({},a,{resize:"none"})})):i.jsx("input",babelHelpers["extends"]({dir:"auto"},v,{style:a})))}a.displayName=a.name+" [from "+f.id+"]";var n=d("WebBloksStyle").createStyles({base:function(a){var b;return b={},b[a]={padding:0,margin:0,border:"none",boxSizing:"border-box",outline:"none",width:"100%"},b[a+"::-webkit-date-and-time-value"]={textAlign:"inherit"},b}});g["default"]=a}),98);
__d("WebBloksDOMUtils",["WebBloksTextInputExternalChangeEvent"],(function(a,b,c,d,e,f,g){function a(a,b){(a=a.current)==null?void 0:a.dispatchEvent(d("WebBloksTextInputExternalChangeEvent").makeExternalInputChangeEvent(b))}g.updateTextInInput=a}),98);
__d("WebBloksTextInputClearText",["WebBloksDOMUtils","WebBloksUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c){a=d("WebBloksUtils").nullthrows(b.uiMutableContainer.domNode,"Not a valid TextInput model, uiMutableContainer not set");d("WebBloksDOMUtils").updateTextInInput(a,"")}g["default"]=a}),98);
__d("WebBloksTextInputGetText",["WebBloksUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c){a=b.uiMutableContainer.domNode;d("WebBloksUtils").nullthrows(a,"Not a valid TextInput model, uiMutableContainer not set");b=a==null?void 0:(c=a.current)==null?void 0:c.value;return typeof b==="string"?b:""}g["default"]=a}),98);
__d("WebBloksTextInputSetText",["WebBloksDOMUtils","WebBloksUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c){a=d("WebBloksUtils").nullthrows(b.uiMutableContainer.domNode,"Not a valid TextInput model, uiMutableContainer not set");d("WebBloksDOMUtils").updateTextInInput(a,(b=c)!=null?b:"")}g["default"]=a}),98);
__d("WebBloksTextInputUnfocus",[],(function(a,b,c,d,e,f){function a(a,b,c){(a=b.uiMutableContainer.domNode)==null?void 0:(c=a.current)==null?void 0:c.blur()}f["default"]=a}),66);
__d("WebBloksTextIsTruncated",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){b=(a=b.uiMutableContainer.domNode)==null?void 0:a.current;return b!=null&&b.scrollHeight>b.clientHeight}f["default"]=a}),66);
__d("WebBloksDataTextSpanUtils",["WebBloksContext","WebBloksRichTextContext","WebBloksStyle","WebBloksTextStyle","WebBloksTheme","WebBloksUtils","react","useClickablePropsForWebBloks","useWebBloksNode"],(function(a,b,c,d,e,f,g){var h;b=h||d("react");var i=b.useContext,j=b.useMemo;function a(a,b){var e=c("useWebBloksNode")(a),f=e[0];e=d("WebBloksStyle").useStyle(a,b);var g=e.style;b=d("WebBloksContext").useWebBloksContext();e=b.bloksContext;b=d("WebBloksTheme").useTheme().getTheme();var h=i(c("WebBloksRichTextContext"));h=h.isRootFontSizeEnabled;e=e.objectSet.environment.fontFamilyMappings;var m=a.get("styles"),n=k(m,b,e,h),o=c("useClickablePropsForWebBloks")(a,l(m));return j(function(){return babelHelpers["extends"]({accessibilityLabel:f.accessibility_label,style:babelHelpers["extends"]({},g,{display:"inline",whiteSpace:"pre-wrap",overflowWrap:"break-word"},n)},o)},[f.accessibility_label,g,n,o])}function k(a,b,c,e){var f={};if(a!=null)for(var a=a,g=Array.isArray(a),h=0,a=g?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=a.length)break;i=a[h++]}else{h=a.next();if(h.done)break;i=h.value}i=i;switch(i==null?void 0:i.styleId){case"bk.style.textspan.TextStyle":var j=i==null?void 0:i.get("font_family"),k=i==null?void 0:i.get("text_style"),l=i==null?void 0:i.get("text_size"),m=i==null?void 0:i.get("tracking");l!=null&&!e&&(f.fontSize=d("WebBloksUtils").toPx(l));if(k!=null){l=d("WebBloksTextStyle").getTextStyle(k);k=l.fontWeight;l=l.fontStyle;f.fontWeight=k;f.fontStyle=l}j!=null&&(f.fontFamily=d("WebBloksTextStyle").getFontFamily(j,c));m!=null&&(f.letterSpacing=m);break;case"bk.style.textspan.ColorStyle":k=i==null?void 0:i.get("text_themed_color");k!=null&&(f.color=d("WebBloksUtils").getRGBColorWithTheme(k,b));break;case"bk.style.textspan.ShadowStyle":l=i.get("shadow_radius");j=i.get("shadow_offset_dx");m=i.get("shadow_offset_dy");k=i.get("shadow_color");if(k!=null&&(l!=null||j!=null||m!=null)){l=d("WebBloksTextStyle").getTextShadow({shadow_radius:l,shadow_offset_dx:j,shadow_offset_dy:m,shadow_color:k},b);l!=null&&(f.textShadow=l)}break;case"bk.style.textspan.StrikethroughStyle":j=i.get("strikethrough");j===!0&&(f.textDecoration="line-through");break;case"bk.style.textspan.UnderlineStyle":m=i.get("underline");m===!0&&(f.textDecoration="underline");break}}return f}function l(a){var b=null;if(a!=null)for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;(e==null?void 0:e.styleId)==="bk.style.textspan.ClickableStyle"&&(b=e==null?void 0:e.get("on_click"))}return b}g.useWebBloksBaseTextSpanProps=a}),98);
__d("WebBloksImageSpan",["WebBloksContext","WebBloksDataTextSpanUtils","WebBloksStyle","WebBloksUtils","react","useWebBloksNode"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react")),j=h.useMemo;function a(a){var b=a.externalStyle;a=a.node;var e=c("useWebBloksNode")(a);e=e[0];var f=d("WebBloksStyle").useStyle(a,b);f=f.wrapper;var g=d("WebBloksContext").useWebBloksContext();g=g.renderNode;var h=d("WebBloksDataTextSpanUtils").useWebBloksBaseTextSpanProps(a,b),k=e.image_align;a=e.image_margin;b=j(function(){return babelHelpers["extends"]({},h,{style:babelHelpers["extends"]({},h.style,{display:"inline-flex",height:"100%",alignItems:k==="bottom"?"flex-end":k})})},[k,h]);var l=d("WebBloksUtils").toPx(e.image_height),m=d("WebBloksUtils").toPx(e.image_width);return l==null||l==="0px"||m==null||m==="0px"?null:f(i.jsx("span",babelHelpers["extends"]({},b,{children:g(e.image_component,{height:l,width:m,marginTop:d("WebBloksUtils").toPx(a==null?void 0:a.get("top")),marginRight:d("WebBloksUtils").toPx(a==null?void 0:a.get("end")),marginBottom:d("WebBloksUtils").toPx(a==null?void 0:a.get("bottom")),marginLeft:d("WebBloksUtils").toPx(a==null?void 0:a.get("start"))})})))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WebBloksTextSpanImage",["WebBloksImageSpan","react"],(function(a,b,c,d,e,f,g){var h,i=h||d("react");function a(a){var b=a.externalStyle;a=a.node;return i.jsx(c("WebBloksImageSpan"),{node:a,externalStyle:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WebBloksTextSpan",["WebBloksAccesibilityUtils","WebBloksAnchorTagExtensionHandler","WebBloksBooleanUtils","WebBloksContext","WebBloksStyle","WebBloksTextSpanImage","WebBloksTextStyle","WebBloksTheme","WebBloksUtils","react","useClickablePropsForWebBloks","useWebBloksNode"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react")),j=h.useMemo;function a(a){var b=a.node,e=a.externalStyle;a=c("useWebBloksNode")(b);var f=a[0];a=d("WebBloksStyle").useStyle(b,e,f.on_click!=null);var g=a.style,h=a.wrapper;a=a.wrapperProps;var m=d("WebBloksAnchorTagExtensionHandler").useWebBloksAnchorTagExtensionProps(b),n=m!==null,o=n?"a":"span";n=c("useClickablePropsForWebBloks")(b,f.on_click,null,n);var p=d("WebBloksContext").useWebBloksContext(),q=p.renderNode;p=p.bloksContext;var r=d("WebBloksTheme").useTheme().getTheme();p=p.objectSet.environment.fontFamilyMappings;q=f.text_provider!=null?q(f.text_provider):f.text;var s=j(function(){return f.image_component!=null?i.jsx(c("WebBloksTextSpanImage"),{node:b,externalStyle:e}):null},[e,b,f.image_component]),t=k(f);t={role:t,label:f.accessibility_label,tabIndex:t==="button"||t==="link"?0:void 0};return h(i.jsxs(o,babelHelpers["extends"]({},a,{style:babelHelpers["extends"]({},g,d("WebBloksTextStyle").getTextColor(f.text_color,f.text_themed_color,r),d("WebBloksTextStyle").getTextStyle(f.text_style),{display:"inline",fontSize:d("WebBloksUtils").toPx(f.text_size),fontFamily:d("WebBloksTextStyle").getFontFamily(f.font_family,p),textDecoration:l(f),textShadow:d("WebBloksTextStyle").getTextShadow({shadow_color:f.shadow_color,shadow_offset_dx:f.shadow_offset_dx,shadow_offset_dy:f.shadow_offset_dy,shadow_radius:f.shadow_radius},r),whiteSpace:"pre-wrap",overflowWrap:"break-word"})},n,t,m,{children:[q,s]})))}a.displayName=a.name+" [from "+f.id+"]";function k(a){if(a.accessibility_role)return d("WebBloksAccesibilityUtils").WEBBLOKS_ACCESIBILITY_ROLE_MAPPING[a.accessibility_role]||null;if(a.on_click==null)return null;return a.image_component?"button":"link"}function l(a){var b=[];d("WebBloksBooleanUtils").isTrue(a.strikethrough)&&b.push("line-through");d("WebBloksBooleanUtils").isTrue(a.underline)&&b.push("underline");return b.length!==0?b.join(" "):void 0}g["default"]=a}),98);
__d("WebBloksTimerCancel",[],(function(a,b,c,d,e,f){function a(a,b,c){a=b.objectSet.environment.timeoutIDS;b=a==null?void 0:a.get(c);window.clearTimeout(b);a==null?void 0:a["delete"](c)}f["default"]=a}),66);
__d("WebBloksTimerStart",[],(function(a,b,c,d,e,f){function a(a,b,c,d,e,f){var g=Number(c),h=b.objectSet.environment.timeoutIDS,i=function i(){a.execute(e,[f,b]),d?(h==null?void 0:h.has(f))&&(c=window.setTimeout(i,g),h==null?void 0:h.set(f,c)):h==null?void 0:h["delete"](f)};c=window.setTimeout(i,g);h==null?void 0:h.set(f,c)}f["default"]=a}),66);
__d("WebBloksToastPrimitive",[],(function(a,b,c,d,e,f){function a(a,b){a.objectSet.toastManager.enqueueSimpleToast(b)}f["default"]=a}),66);
__d("WebBloksTouchExtensionHandler",["WebBloksUtils"],(function(a,b,c,d,e,f,g){a={getStyles:function(a){return{pointerEvents:"auto"}},getProps:function(a,b,c){return c.bloksContext.objectSet.environment.inferAccesibilityRolesForPressables===!1?{}:{tabIndex:0}},onMount:function(a,b,c){a=a.getValues();var e=a.on_touch_down,f=a.on_touch_cancel,g=a.on_touch_up;a=(a=b.current.uiMutableContainer.domNode)==null?void 0:a.current;if(!a)return;var h=a,i=0,j=0,k=-1,l=!1,m=!1;function n(){var a=h.getBoundingClientRect();i=a.left;j=a.top;e!=null&&d("WebBloksUtils").isBloksModelEnabled(b.current)&&c.executeCatch(b.current,e,[b.current,c.bloksContext])}function o(){g!=null&&d("WebBloksUtils").isBloksModelEnabled(b.current)&&c.executeCatch(b.current,g,[b.current,c.bloksContext])}function p(){f!=null&&d("WebBloksUtils").isBloksModelEnabled(b.current)&&c.executeCatch(b.current,f,[b,c.bloksContext])}function q(a){m=!0;if(k===-1){a=a.targetTouches[0];k=a.identifier;n()}}function r(a){if(m){a.preventDefault();return}a.button===0&&(a.preventDefault(),l=!0,n())}function s(a){(a.key==="Enter"||a.key===" ")&&o()}function t(a){a=a.changedTouches[0];if(a.identifier===k){k=-1;if(d("WebBloksUtils").shouldCancelTouchEvent(h,i,j,a))p();else{var b=window.setTimeout(function(){o()},50);a=function a(){o(),window.clearTimeout(b),h.removeEventListener("click",a)};h.addEventListener("click",a)}}}function u(){if(m){m=!1;return}l&&(l=!1,o())}function v(a){k=-1,p()}function w(a){if(m){m=!1;return}l&&(l=!1,p())}h.addEventListener("touchstart",q,d("WebBloksUtils").passiveTouchEventOptions);h.addEventListener("keyup",s);h.addEventListener("touchend",t);h.addEventListener("touchcancel",v);h.addEventListener("mousedown",r);h.addEventListener("mouseleave",w);h.addEventListener("mouseup",u);return function(){h.removeEventListener("touchstart",q,d("WebBloksUtils").passiveTouchEventOptions),h.removeEventListener("keyup",s),h.removeEventListener("touchend",t),h.removeEventListener("touchcancel",v),h.removeEventListener("mousedown",r),h.removeEventListener("mouseleave",w),h.removeEventListener("mouseup",u)}}};g.WebBloksTouchExtensionHandler=a}),98);
__d("WebBloksTransitionContainer",["WebBloksContext","WebBloksStyle","react"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useEffect,l=b.useLayoutEffect,m=b.useMemo,n=b.useRef,o=b.useState;function a(a){var b=a.node;a=a.externalStyle;var c=b.get("crossfade"),e=b.getSubNodes("children"),f=e[0],g=e[1];e=(e=b.get("progress"))!=null?e:0;b=d("WebBloksStyle").useStyle(b,a);a=b.style;var h=b.wrapper;b=b.wrapperProps;var k=d("WebBloksContext").useWebBloksContext(),s=k.renderChildren;k=o([0,0,!1]);var t=k[0],u=t[0],v=t[1];t=t[2];var w=k[1];k=o([0,0]);var x=k[0],y=x[0];x=x[1];var z=k[1];k=n(null);var A=n(null),B=n(null),C=j(function(){var a=A.current;a!=null&&w([a.getBoundingClientRect().width,a.getBoundingClientRect().height,!0]);a=B.current;var b=a==null?void 0:a.children;b=(b==null?void 0:b.length)===1?b[0]:a;b!=null&&z([b.getBoundingClientRect().width,b.getBoundingClientRect().height])},[]);l(C,[C]);q(k,C);C=m(function(){return s([f])},[f,s]);var D=m(function(){return s([g])},[s,g]);e=Number(e.toFixed(2));v=p(e,v,x);u=p(e,u,y);var E=p(e,0,1);c=c===!0;return h(i.jsxs("div",babelHelpers["extends"]({},b,{ref:k,style:a,children:[i.jsxs("div",{className:r.container,style:t?{height:v,width:u}:{},children:[i.jsx("div",{className:r.startElem,style:c&&e>0?{opacity:1-((h=E)!=null?h:0)}:{},ref:A,children:C}),e>0?i.jsx("div",{className:r.endElem,style:babelHelpers["extends"]({},c?{opacity:E}:{},{height:x,width:y}),children:D}):null]}),y>0||x>0?null:i.jsx("div",{className:r.endPreviewElem,ref:B,children:D})]})))}a.displayName=a.name+" [from "+f.id+"]";function p(a,b,c){return b==null||c==null?null:b+a*(c-b)}function q(a,b){k(function(){var c=new IntersectionObserver(function(a){a=a[0];var c=a.isIntersecting;(c===!0||a.intersectionRatio>0||a.intersectionRect&&(a.intersectionRect.height>0||a.intersectionRect.width>0))&&b()},{root:null,threshold:0});(a==null?void 0:a.current)!=null&&c.observe(a.current);return function(){return c.disconnect()}},[b,a])}var r=d("WebBloksStyle").createStyles({container:{position:"relative",overflow:"hidden"},startElem:{display:"inline-block"},endElem:{position:"absolute",top:0,left:0,bottom:0,right:0},endPreviewElem:{visibility:"hidden"}});g["default"]=a}),98);
__d("WebBloksTranslate3D",[],(function(a,b,c,d,e,f){function a(a,b,c,d,e){b.translate(c,d,e);return b}f["default"]=a}),66);
__d("WebBloksTreeMake",["WebBloksModel","WebBloksUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var e={};for(var f=0;f<(arguments.length<=2?0:arguments.length-2);f+=2){var g=d("WebBloksUtils").cast(f+2<2||arguments.length<=f+2?void 0:arguments[f+2]);e[g]=f+1+2<2||arguments.length<=f+1+2?void 0:arguments[f+1+2]}var h=new(c("WebBloksModel"))(b,e);h.keyPath=a.scope;return h}g["default"]=a}),98);
__d("useWebBloksViewTransformsExtensionWrapperVisibilityState",["react"],(function(a,b,c,d,e,f,g){var h;h||(h=d("react"));b=h;var i=b.useEffect,j=b.useMemo,k=b.useState;function a(a){var b=a.alpha,c=a.scaleX,d=a.scaleY;a=k(null);var e=a[0],f=a[1];a=k(null);var g=a[0],h=a[1];a=k(null);var l=a[0],m=a[1];i(function(){var a;a=Math.round((((a=b)!=null?a:1)+Number.EPSILON)*100)/100;a===0&&(e==="entered"||e===null)?f("exited"):a>0&&(e==="exited"||e===null)&&f("entered");m("opacity")},[b,e]);i(function(){var a,b;a=Math.round((((a=c)!=null?a:1)+Number.EPSILON)*100)/100;b=Math.round((((b=d)!=null?b:1)+Number.EPSILON)*100)/100;a===0&&b===0&&(g==="entered"||g===null)?h("exited"):a>0&&b>0&&(g==="exited"||g===null)&&h("entered");m("scale")},[c,d,g]);a=j(function(){if(l==="opacity")return e;else if(l==="scale")return g},[l,e,g]);return a}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WebBloksViewTransformsExtensionWrapper",["WebBloksStyle","WebBloksUtils","react","useWebBloksNode","useWebBloksViewTransformsExtensionWrapperVisibilityState"],(function(a,b,c,d,e,f,g){var h,i=h||d("react");function a(a){var b=a.children;a=a.node;a=c("useWebBloksNode")(a);a=a[0];var e=[],f=a.alpha,g=a.rotation,h=a.scale_x,j=a.scale_y,k=a.translate_x;a=a.translate_y;var l=c("useWebBloksViewTransformsExtensionWrapperVisibilityState")({alpha:f,scaleX:h,scaleY:j});k!=null&&e.push("translateX("+d("WebBloksUtils").toPx(k)+")");a!=null&&e.push("translateY("+d("WebBloksUtils").toPx(a)+")");g!=null&&e.push("rotate("+g+"deg)");h!=null&&e.push("scaleX("+h+")");j!=null&&e.push("scaleY("+j+")");k=e.join(" ");return i.jsx("div",babelHelpers["extends"]({"data-bloks-name":"bk.components.ViewTransformsExtension","data-bloks-visibility-state":l},d("WebBloksStyle").getStyleProps({height:"100%",width:"100%",transform:k,opacity:f,pointerEvents:"inherit"}),{children:b}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WebBloksViewTransformExtensionHandler",["WebBloksViewTransformsExtensionWrapper","react"],(function(a,b,c,d,e,f,g){var h,i=h||d("react");a={hasLayoutWrapper:function(){return!0},wrap:function(a,b){return i.jsx(c("WebBloksViewTransformsExtensionWrapper"),{node:a,children:b})}};g.WebBloksViewTransformExtensionHandler=a}),98);
__d("WebBloksVisibilityContextGetTimeSinceLastImpressionInMS",[],(function(a,b,c,d,e,f){function a(a,b){return Date.now()-b.lastImpressionTimeMS}f["default"]=a}),66);
__d("WebBloksVisibilityContextHasSeenBefore",["WebBloksBooleanUtils"],(function(a,b,c,d,e,f,g){function a(a,b){return d("WebBloksBooleanUtils").isTrue(b.hasSeenBefore)}g["default"]=a}),98);
__d("WebBloksVisibilityContextPercentVisible",[],(function(a,b,c,d,e,f){function a(a,b){return(a=b.percentVisible)!=null?a:null}f["default"]=a}),66);
__d("WebBloksVisibilityExtensionHandler",["WebBloksContext","WebBloksSSRUtils","WebBloksViewpoint","react"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react"));a=h;var j=a.useCallback,k=a.useLayoutEffect;function l(a){var b=a.children,c=a.node;a=a.elementRef;return!d("WebBloksSSRUtils").canUseDOM?b:m({children:b,node:c,elementRef:a})}function m(a){var b=a.children,c=a.elementRef;a.id;var e=a.node;a=d("WebBloksContext").useWebBloksContext();var f=a.executeCatch,g=a.bloksContext;a=j(function(a){var b=e.uiMutableContainer.visibility||{hasSeenBefore:!1};b=babelHelpers["extends"]({},a,b);switch(a.state){case"entered":a=e.get("on_appear");a!=null&&f(e,a,[b,g]);e.uiMutableContainer.visibility={hasSeenBefore:!0};break;case"intersecting":a=e.get("on_update");a!=null&&f(e,a,[b,g]);break;case"exited":var c;a=e.get("on_disappear");a!=null&&((c=e.uiMutableContainer.visibility)==null?void 0:c.hasSeenBefore)===!0&&f(e,a,[b,g]);break;default:}},[f,e,g]);var h=e==null?void 0:e.get("trigger_on_first_appear_only"),i=d("WebBloksViewpoint").useViewpoint({id:e.clientId.toString(),action:a,untrackAfterFirstAppear:(a=h)!=null?a:!1});k(function(){i.current=c.current},[c,i]);return b}m.displayName=m.name+" [from "+f.id+"]";b={hasLayoutWrapper:function(){return!1},wrap:function(a,b,c,d){return i.jsx(l,{node:a,elementRef:d,children:b})}};g.WebBloksVisibilityExtensionHandler=b}),98);
__d("WebBloksWebFocusBoundaryExtensionHandler",[],(function(a,b,c,d,e,f){a={onMount:function(a,b,c){a=a.getValues();var d=a.on_gain_focus_inside,e=a.on_lose_focus_inside,f=(a=b.current.uiMutableContainer.domNode)==null?void 0:a.current;if(!f)return;var g=f.contains(document.activeElement);g&&c.executeCatch(b.current,d,[b.current,c.bloksContext]);function h(a){var e=g;g=(a=f==null?void 0:f.contains(a.target))!=null?a:!1;g&&!e&&c.executeCatch(b.current,d,[b.current,c.bloksContext])}function i(a){var d=g;g=(a=f==null?void 0:f.contains(a.relatedTarget))!=null?a:!1;d&&!g&&c.executeCatch(b.current,e,[b.current,c.bloksContext])}f.addEventListener("focusin",h);f.addEventListener("focusout",i);return function(){f.removeEventListener("focusin",h),f.removeEventListener("focusout",i)}}};f.WebBloksWebFocusBoundaryExtensionHandler=a}),66);
__d("WebBloksWebNativeAccessibilityExtensionHandler",["WebBloksAccesibilityUtils","WebBloksBooleanUtils"],(function(a,b,c,d,e,f,g){a={getProps:function(a){a=a.getValues();var b=a.checked,c=a.role,e=a.enabled;a=a.label;var f={};f.role=d("WebBloksAccesibilityUtils").WEBBLOKS_ACCESIBILITY_ROLE_MAPPING[c];f=babelHelpers["extends"]({},d("WebBloksAccesibilityUtils").getFocusPropsForRole(f.role),f);d("WebBloksBooleanUtils").isTrue(b)&&(f["aria-checked"]=!0);d("WebBloksBooleanUtils").isFalse(b)&&(f["aria-checked"]=!1);d("WebBloksBooleanUtils").isFalse(e)&&(f.disabled=!0,f["aria-disabled"]=!0);a!=null&&(f["aria-label"]=a);return f}};g.WebBloksWebNativeAccessibilityExtensionHandler=a}),98);
__d("WebBloksWithScope",[],(function(a,b,c,d,e,f){function a(a,b){a=a.createScopedContext();return a.execute(b,[])}f["default"]=a}),66);
__d("WebBloksWriteGlobalConsistencyStore",[],(function(a,b,c,d,e,f){function a(a,b,c){a=a.objectSet.globalStateDataModule;a&&a.publish(b,c)}f["default"]=a}),66);
__d("WebBloksWriteLocalState",["WebBloksErrors","WebBloksScopedIds"],(function(a,b,c,d,e,f,g){function a(a,b,c,e){var f=a.scope;a=a.bloksContext.treeManager;if(e===0){a.enqueueVariableUpdateOperation(b,c);return}if(f==null)throw new(d("WebBloksErrors").WebBloksError)("Keypath must be set on environment if trying to WriteLocalState on a depth larger than 0.");if(e>f.length)throw new(d("WebBloksErrors").WebBloksError)("Depth supplied should never exceed the size of the key path.");f=d("WebBloksScopedIds").getScopedVariableIdAtDepth(f,b,e,"INTERNAL_VARIABLE");a.enqueueVariableUpdateOperation(f,c)}g["default"]=a}),98);
__d("WebBloksZoomable",["WebBloksContext"],(function(a,b,c,d,e,f,g){function a(a){a=a.node;var b=d("WebBloksContext").useWebBloksContext();b=b.renderNode;return b(a.getSubNode("content"))}g["default"]=a}),98);
__d("WebBloksf32Convert",["WebBloksErrors"],(function(a,b,c,d,e,f,g){function a(a,b){if(b===!0)return 1;else if(b===!1)return 0;a=parseFloat(b);return a}g["default"]=a}),98);
__d("WebBloksNumberUtils",[],(function(a,b,c,d,e,f){function a(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];var d=((""+b[0]).split(".")[1]||"").length,e=b.reduce(function(a,b){b=((""+b).split(".")[1]||"").length;return Math.max(a,b)},d);return Math.pow(10,e)}f.getConversionFactor=a}),66);
__d("WebBloksf32NumberAdd",["WebBloksNumberUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c){a=d("WebBloksNumberUtils").getConversionFactor(b,c);return Math.round(b*a+c*a)/a}g["default"]=a}),98);
__d("WebBloksf32NumberDiv",["WebBloksNumberUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c){a=d("WebBloksNumberUtils").getConversionFactor(b,c);return Math.round(a*b)/Math.round(a*c)}g["default"]=a}),98);
__d("WebBloksf32NumberMul",["WebBloksNumberUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c){a=d("WebBloksNumberUtils").getConversionFactor(b,c);return Math.round(b*a*(c*a))/(a*a)}g["default"]=a}),98);
__d("WebBloksf32NumberPow",[],(function(a,b,c,d,e,f){function a(a,b,c){return Math.pow(b,c)}f["default"]=a}),66);
__d("WebBloksf32NumberSub",["WebBloksNumberUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c){a=d("WebBloksNumberUtils").getConversionFactor(b,c);return Math.round(b*a-c*a)/a}g["default"]=a}),98);
__d("WebBloksi32Convert",["WebBloksErrors"],(function(a,b,c,d,e,f,g){function a(a,b){a=parseInt(b,10);return a}g["default"]=a}),98);
__d("WebBloksi32NumberAdd",[],(function(a,b,c,d,e,f){function a(a,b,c){return b+c}f["default"]=a}),66);
__d("WebBloksi32NumberDiv",[],(function(a,b,c,d,e,f){function a(a,b,c){return parseInt(b/c,10)}f["default"]=a}),66);
__d("WebBloksi32NumberMul",[],(function(a,b,c,d,e,f){function a(a,b,c){return b*c}f["default"]=a}),66);
__d("WebBloksi32NumberSub",[],(function(a,b,c,d,e,f){function a(a,b,c){return b-c}f["default"]=a}),66);
__d("WebBloksi64ConstNumber",["WebBloksInt64"],(function(a,b,c,d,e,f,g){function a(a,b){a=c("WebBloksInt64").fromString(String(b));return a.toString()}g["default"]=a}),98);
__d("WebBloksi64NumberAdd",["WebBloksInt64"],(function(a,b,c,d,e,f,g){function a(a,b,d){a=c("WebBloksInt64").fromString(String(b));b=c("WebBloksInt64").fromString(String(d));return a.add(b).toString()}g["default"]=a}),98);
__d("WebBloksi64NumberDiv",["WebBloksInt64"],(function(a,b,c,d,e,f,g){function a(a,b,d){a=c("WebBloksInt64").fromString(String(b));b=c("WebBloksInt64").fromString(String(d));return a.div(b).toString()}g["default"]=a}),98);
__d("WebBloksi64NumberEq",["WebBloksInt64"],(function(a,b,c,d,e,f,g){function a(a,b,d){a=c("WebBloksInt64").fromString(String(b));b=c("WebBloksInt64").fromString(String(d));return a.equals(b)}g["default"]=a}),98);
__d("WebBloksi64NumberGt",["WebBloksInt64"],(function(a,b,c,d,e,f,g){function a(a,b,d){a=c("WebBloksInt64").fromString(String(b));b=c("WebBloksInt64").fromString(String(d));return a.greaterThan(b)}g["default"]=a}),98);
__d("WebBloksi64NumberLt",["WebBloksInt64"],(function(a,b,c,d,e,f,g){function a(a,b,d){a=c("WebBloksInt64").fromString(String(b));b=c("WebBloksInt64").fromString(String(d));return a.lessThan(b)}g["default"]=a}),98);
__d("WebBloksi64NumberSub",["WebBloksInt64"],(function(a,b,c,d,e,f,g){function a(a,b,d){a=c("WebBloksInt64").fromString(String(b));b=c("WebBloksInt64").fromString(String(d));return a.subtract(b).toString()}g["default"]=a}),98);
__d("WebBloksPrimitives",["WebBloksAccessibilityAnnouncement","WebBloksAccessibilityExtensionHandler","WebBloksAccessibilitySetFocus","WebBloksAddChild","WebBloksAnchorIDExtensionHandler","WebBloksAnchorTagExtensionHandler","WebBloksAppendEmbeddedChildren","WebBloksApply","WebBloksArrayAppend","WebBloksArrayClone","WebBloksArrayConcat","WebBloksArrayFilter","WebBloksArrayGet","WebBloksArrayLength","WebBloksArrayMake","WebBloksArrayMap","WebBloksArrayPut","WebBloksArrayPutAndGet","WebBloksArrayReduce","WebBloksArrayRemove","WebBloksArrayRemoveAndGet","WebBloksArraySlice","WebBloksArraySortedArray","WebBloksArrayUpdate","WebBloksAsyncAction","WebBloksAsyncActionWithDataManifest","WebBloksAsyncLoadV2","WebBloksAutomationTestExtensionHandler","WebBloksBKSTextInputFormatterHandler","WebBloksBindWithArrayV2","WebBloksBoolAnd","WebBloksBoolConst","WebBloksBoolNot","WebBloksBoolOr","WebBloksBottomSheet","WebBloksCDSBottomSheetWrapper.react","WebBloksCallbackApply","WebBloksCallbackMake","WebBloksCallbackMakeWithScopeOnly","WebBloksCanvas","WebBloksChildAtIndex","WebBloksClipboardSetString","WebBloksCollection","WebBloksConstNumber","WebBloksCurrentTimeMillis","WebBloksDangerouslyGetTreeFromParseResult","WebBloksDatetimeTextProvider","WebBloksDelay","WebBloksDeviceLog","WebBloksDialog","WebBloksDialogButton","WebBloksDismissBottomSheet","WebBloksDismissToast","WebBloksDummy","WebBloksDummyComponent","WebBloksFindComponentContext","WebBloksFlexbox","WebBloksGestureExtensionHandler","WebBloksGetAttr","WebBloksGetDatetimeText","WebBloksGetDeserializedEmbeddedPayload","WebBloksGetHeightV2","WebBloksGetParameter","WebBloksGetPayload","WebBloksGetScript","WebBloksGetState","WebBloksGetTemplateArg","WebBloksGetValue","WebBloksGetVariable2","WebBloksGetVariableWithScope","WebBloksGetWidthV2","WebBloksGlimmer","WebBloksImage","WebBloksIndexOfChild","WebBloksInflateSync","WebBloksInsertChildrenAfter","WebBloksInsertEmbeddedChildrenAfter","WebBloksInsertEmbeddedChildrenBefore","WebBloksJsonDecode","WebBloksJsonEncode","WebBloksJsonEncodeV3","WebBloksMakeFlat","WebBloksMapClone","WebBloksMapFilter","WebBloksMapGet","WebBloksMapKeys","WebBloksMapMake","WebBloksMapMerge","WebBloksMapRemove","WebBloksMapUpdate","WebBloksMapValues","WebBloksMatch","WebBloksMatchesRegex","WebBloksMinsTypeOf","WebBloksNavbar","WebBloksNavigationCloseScreen","WebBloksNumberAnd","WebBloksNumberEq","WebBloksNumberGt","WebBloksNumberLt","WebBloksNumberMod","WebBloksNumberOr","WebBloksNumberRand","WebBloksOnDataChangeExtensionHandler","WebBloksOnMount","WebBloksOnMountExtensionHandler","WebBloksOneTimeBind","WebBloksOpenBottomSheet","WebBloksOpenBottomSheetV2","WebBloksOpenDialog","WebBloksOpenDialogV2","WebBloksOpenFullScreenV4","WebBloksOpenScreen","WebBloksOpenScreenByRoute","WebBloksOpenSendMessage","WebBloksOpenUrl","WebBloksOpenUrlV2","WebBloksParseEmbedded","WebBloksParseEmbeddedV2","WebBloksParseHoistedPayload","WebBloksPopBottomSheet","WebBloksPrependChildren","WebBloksPrependEmbeddedChildren","WebBloksPullToRefreshContainer","WebBloksPushBottomSheetV2","WebBloksReadPandoField","WebBloksReduce","WebBloksReflow","WebBloksRefresh","WebBloksRemoveChild","WebBloksRemoveChildrenBetween","WebBloksRenderLifecycleExtensionHandler","WebBloksReplaceChild","WebBloksReplaceChildren","WebBloksReplaceChildrenAfter","WebBloksReplaceEmbeddedChild","WebBloksReplaceEmbeddedChildren","WebBloksReplaceEmbeddedChildrenAfter","WebBloksRequestFocus","WebBloksRichText","WebBloksRotate3D","WebBloksScale3D","WebBloksScreenWrapperPrimitive","WebBloksSessionStoreGet","WebBloksSetAttr","WebBloksShowToast","WebBloksShowToastV2","WebBloksSlider","WebBloksSliderSetPosition","WebBloksStringAsInteger","WebBloksStringAsLong","WebBloksStringConcat","WebBloksStringContains","WebBloksStringGetURLLastPathComponent","WebBloksStringJoin","WebBloksStringLength","WebBloksStringReplace","WebBloksStringSlice","WebBloksStringSplitWithString","WebBloksStringStartsWith","WebBloksStringToLowerCase","WebBloksStringToUpperCase","WebBloksStringTrim","WebBloksStringValueOfNumber","WebBloksSwitch","WebBloksT3DFromArray","WebBloksTakeLast","WebBloksTemplateMake","WebBloksText","WebBloksTextGetText","WebBloksTextInput","WebBloksTextInputClearText","WebBloksTextInputDatePickerExtensionHandler","WebBloksTextInputGetText","WebBloksTextInputMaskExtensionHandler","WebBloksTextInputSetText","WebBloksTextInputUnfocus","WebBloksTextIsTruncated","WebBloksTextSpan","WebBloksTimerCancel","WebBloksTimerStart","WebBloksToastPrimitive","WebBloksTouchExtensionHandler","WebBloksTransitionContainer","WebBloksTranslate3D","WebBloksTreeMake","WebBloksViewTransformExtensionHandler","WebBloksVisibilityContextGetTimeSinceLastImpressionInMS","WebBloksVisibilityContextHasSeenBefore","WebBloksVisibilityContextPercentVisible","WebBloksVisibilityExtensionHandler","WebBloksWebFocusBoundaryExtensionHandler","WebBloksWebNativeAccessibilityExtensionHandler","WebBloksWithScope","WebBloksWriteGlobalConsistencyStore","WebBloksWriteLocalState","WebBloksZoomable","WebBloksf32Convert","WebBloksf32NumberAdd","WebBloksf32NumberDiv","WebBloksf32NumberMul","WebBloksf32NumberPow","WebBloksf32NumberSub","WebBloksi32Convert","WebBloksi32NumberAdd","WebBloksi32NumberDiv","WebBloksi32NumberMul","WebBloksi32NumberSub","WebBloksi64ConstNumber","WebBloksi64NumberAdd","WebBloksi64NumberDiv","WebBloksi64NumberEq","WebBloksi64NumberGt","WebBloksi64NumberLt","WebBloksi64NumberSub"],(function(a,b,c,d,e,f,g){b={"bk.components.internal.Action":function(){return null},"bk.components.internal.Merge":a=c("WebBloksDummyComponent"),"bk.components.internal.Shadow":a,"bk.data.screen.Navbar":d("WebBloksNavbar").WebBloksNavbar,"bk.cds.bottomsheet.Wrapper":c("WebBloksCDSBottomSheetWrapper.react"),"bk.components.BottomSheet":c("WebBloksBottomSheet"),"bk.components.Canvas":c("WebBloksCanvas"),"bk.components.dialog.Dialog":c("WebBloksDialog"),"bk.components.dialog.Button":c("WebBloksDialogButton"),"bk.components.Collection":c("WebBloksCollection"),"bk.components.Flexbox":c("WebBloksFlexbox"),"bk.components.Glimmer":c("WebBloksGlimmer"),"bk.components.Image":c("WebBloksImage"),"bk.components.PullToRefreshContainer":c("WebBloksPullToRefreshContainer"),"bk.components.RichText":c("WebBloksRichText"),"bk.components.Switch":c("WebBloksSwitch"),"bk.components.Text":c("WebBloksText"),"bk.components.TextInput":c("WebBloksTextInput"),"bk.components.TextSpan":c("WebBloksTextSpan"),"bk.component.TransitionContainer":c("WebBloksTransitionContainer"),"bk.components.screen.Wrapper":d("WebBloksScreenWrapperPrimitive").WebBloksScreenWrapperPrimitive,"bk.components.OnMount":c("WebBloksOnMount"),"bk.components.Slider":c("WebBloksSlider"),"bk.components.DatetimeTextProvider":c("WebBloksDatetimeTextProvider"),"bk.components.Zoomable":c("WebBloksZoomable"),"bk.components.Video":a,"bk.components.VideoVersion":a};f={"bk.action.accessibility.Announcement":c("WebBloksAccessibilityAnnouncement"),"bk.action.accessibility.SetFocus":c("WebBloksAccessibilitySetFocus"),"bk.action.array.Append":c("WebBloksArrayAppend"),"bk.action.array.Clone":c("WebBloksArrayClone"),"bk.action.array.Concat":c("WebBloksArrayConcat"),"bk.action.array.Filter":c("WebBloksArrayFilter"),"bk.action.array.Get":c("WebBloksArrayGet"),"bk.action.array.Length":c("WebBloksArrayLength"),"bk.action.array.Make":c("WebBloksArrayMake"),"bk.action.array.Map":c("WebBloksArrayMap"),"bk.action.array.Put":c("WebBloksArrayPut"),"bk.action.array.PutAndGet":c("WebBloksArrayPutAndGet"),"bk.action.array.Reduce":c("WebBloksArrayReduce"),"bk.action.array.Remove":c("WebBloksArrayRemove"),"bk.action.array.RemoveAndGet":c("WebBloksArrayRemoveAndGet"),"bk.action.array.Slice":c("WebBloksArraySlice"),"bk.action.array.SortedArray":c("WebBloksArraySortedArray"),"bk.action.array.Update":c("WebBloksArrayUpdate"),"bk.action.bloks.AddChild":c("WebBloksAddChild"),"bk.action.bloks.AppendEmbeddedChildren":c("WebBloksAppendEmbeddedChildren"),"bk.action.bloks.AsyncAction":c("WebBloksAsyncAction"),"bk.action.bloks.AsyncActionWithDataManifest":c("WebBloksAsyncActionWithDataManifest"),"bk.action.bloks.AsyncLoadV2":c("WebBloksAsyncLoadV2"),"bk.action.bloks.ChildAtIndex":c("WebBloksChildAtIndex"),"bk.action.bloks.DangerouslyGetTreeFromParseResult":c("WebBloksDangerouslyGetTreeFromParseResult"),"bk.action.bloks.DismissBottomSheet":c("WebBloksDismissBottomSheet"),"bk.action.bloks.DismissKeyboard":e=c("WebBloksDummy"),"bk.action.bloks.Find":c("WebBloksFindComponentContext"),"bk.action.bloks.FindContainer":c("WebBloksFindComponentContext"),"bk.action.bloks.GetParameter":c("WebBloksGetParameter"),"bk.action.bloks.GetPayload":c("WebBloksGetPayload"),"bk.action.bloks.GetDeserializedEmbeddedPayload":c("WebBloksGetDeserializedEmbeddedPayload"),"bk.action.bloks.GetScript":c("WebBloksGetScript"),"bk.action.bloks.GetState":c("WebBloksGetState"),"bk.action.bloks.GetValue":c("WebBloksGetValue"),"bk.action.bloks.GetVariable2":c("WebBloksGetVariable2"),"bk.action.bloks.GetVariableWithScope":c("WebBloksGetVariableWithScope"),"bk.action.bloks.IndexOfChild":c("WebBloksIndexOfChild"),"bk.action.bloks.InflateSync":c("WebBloksInflateSync"),"bk.action.bloks.InsertChildrenAfter":c("WebBloksInsertChildrenAfter"),"bk.action.bloks.InsertEmbeddedChildrenAfter":c("WebBloksInsertEmbeddedChildrenAfter"),"bk.action.bloks.InsertEmbeddedChildrenBefore":c("WebBloksInsertEmbeddedChildrenBefore"),"bk.action.bloks.OneTimeBind":c("WebBloksOneTimeBind"),"bk.action.bloks.OpenBottomSheetV2":c("WebBloksOpenBottomSheetV2"),"bk.action.bloks.OpenBottomSheet":c("WebBloksOpenBottomSheet"),"bk.action.dialog.OpenDialog":c("WebBloksOpenDialog"),"bk.action.dialog.OpenDialogV2":c("WebBloksOpenDialogV2"),"bk.action.bloks.OpenScreen":c("WebBloksOpenScreen"),"bk.action.bloks.OpenFullScreenV4":c("WebBloksOpenFullScreenV4"),"bk.action.bloks.ParseEmbedded":c("WebBloksParseEmbedded"),"bk.action.bloks.ParseEmbeddedV2":c("WebBloksParseEmbeddedV2"),"bk.action.bloks.ParseHoistedPayload":c("WebBloksParseHoistedPayload"),"bk.action.bloks.PopBottomSheet":c("WebBloksPopBottomSheet"),"bk.action.bloks.PushBottomSheetV2":c("WebBloksPushBottomSheetV2"),"bk.action.bloks.ReadPandoField":c("WebBloksReadPandoField"),"bk.action.bloks.Reduce":c("WebBloksReduce"),"bk.action.bloks.Reflow":c("WebBloksReflow"),"bk.action.bloks.RemoveChild":c("WebBloksRemoveChild"),"bk.action.bloks.RemoveChildrenBetween":c("WebBloksRemoveChildrenBetween"),"bk.action.bloks.ReplaceChild":c("WebBloksReplaceChild"),"bk.action.bloks.ReplaceChildren":c("WebBloksReplaceChildren"),"bk.action.bloks.ReplaceChildrenAfter":c("WebBloksReplaceChildrenAfter"),"bk.action.bloks.ReplaceEmbeddedChildV2":c("WebBloksReplaceEmbeddedChild"),"bk.action.bloks.ReplaceEmbeddedChildren":c("WebBloksReplaceEmbeddedChildren"),"bk.action.bloks.ReplaceEmbeddedChildrenAfter":c("WebBloksReplaceEmbeddedChildrenAfter"),"bk.action.bloks.RequestFocus":c("WebBloksRequestFocus"),"bk.action.bloks.WithScope":c("WebBloksWithScope"),"bk.action.bloks.WriteGlobalConsistencyStore":c("WebBloksWriteGlobalConsistencyStore"),"bk.action.bloks.WriteLocalState":c("WebBloksWriteLocalState"),"bk.action.bool.And":c("WebBloksBoolAnd"),"bk.action.bool.Const":c("WebBloksBoolConst"),"bk.action.bool.Not":c("WebBloksBoolNot"),"bk.action.bool.Or":c("WebBloksBoolOr"),"bk.action.callback.Apply":c("WebBloksCallbackApply"),"bk.action.callback.Make":c("WebBloksCallbackMake"),"bk.action.callback.MakeWithScopeOnly":c("WebBloksCallbackMakeWithScopeOnly"),"bk.action.component.GetAttr":c("WebBloksGetAttr"),"bk.action.component.GetHeight":c("WebBloksGetHeightV2"),"bk.action.component.GetHeight2":c("WebBloksGetHeightV2"),"bk.action.component.GetWidth":c("WebBloksGetWidthV2"),"bk.action.component.GetWidth2":c("WebBloksGetWidthV2"),"bk.action.component.SetAttr":c("WebBloksSetAttr"),"bk.action.core.Apply":c("WebBloksApply"),"bk.action.core.Coalesce":e,"bk.action.core.Default":e,"bk.action.core.Delay":c("WebBloksDelay"),"bk.action.core.If":e,"bk.action.core.FuncConst":e,"bk.action.core.GetArg":e,"bk.action.core.GetTemplateArg":c("WebBloksGetTemplateArg"),"bk.action.core.Match":c("WebBloksMatch"),"bk.action.core.Pattern":e,"bk.action.core.SetArg":e,"bk.action.core.TakeLast":c("WebBloksTakeLast"),"bk.action.core.While":e,"bk.action.GetDatetimeText":c("WebBloksGetDatetimeText"),"bk.action.f32.Add":c("WebBloksf32NumberAdd"),"bk.action.f32.Const":c("WebBloksConstNumber"),"bk.action.f32.Convert":c("WebBloksf32Convert"),"bk.action.f32.Div":c("WebBloksf32NumberDiv"),"bk.action.f32.Eq":c("WebBloksNumberEq"),"bk.action.f32.Gt":c("WebBloksNumberGt"),"bk.action.f32.Lt":c("WebBloksNumberLt"),"bk.action.f32.Mul":c("WebBloksf32NumberMul"),"bk.action.f32.Pow":c("WebBloksf32NumberPow"),"bk.action.f32.Sub":c("WebBloksf32NumberSub"),"bk.action.function.BindWithArrayV2":c("WebBloksBindWithArrayV2"),"bk.action.i32.Add":c("WebBloksi32NumberAdd"),"bk.action.i32.And":c("WebBloksNumberAnd"),"bk.action.i32.Const":c("WebBloksConstNumber"),"bk.action.i32.Convert":c("WebBloksi32Convert"),"bk.action.i32.Div":c("WebBloksi32NumberDiv"),"bk.action.i32.Eq":c("WebBloksNumberEq"),"bk.action.i32.Gt":c("WebBloksNumberGt"),"bk.action.i32.Lt":c("WebBloksNumberLt"),"bk.action.i32.Mod":c("WebBloksNumberMod"),"bk.action.i32.Mul":c("WebBloksi32NumberMul"),"bk.action.i32.Or":c("WebBloksNumberOr"),"bk.action.i32.Rand":c("WebBloksNumberRand"),"bk.action.i32.Sub":c("WebBloksi32NumberSub"),"bk.action.i64.Add":c("WebBloksi64NumberAdd"),"bk.action.i64.Const":c("WebBloksi64ConstNumber"),"bk.action.i64.Div":c("WebBloksi64NumberDiv"),"bk.action.i64.Eq":c("WebBloksi64NumberEq"),"bk.action.i64.Gt":c("WebBloksi64NumberGt"),"bk.action.i64.Lt":c("WebBloksi64NumberLt"),"bk.action.i64.Sub":c("WebBloksi64NumberSub"),"bk.action.internal.Refresh":c("WebBloksRefresh"),"bk.action.io.clipboard.SetString":c("WebBloksClipboardSetString"),"bk.action.io.CurrentTimeMillis":c("WebBloksCurrentTimeMillis"),"bk.action.io.Toast":c("WebBloksToastPrimitive"),"bk.action.map.Append":e,"bk.action.map.Clone":c("WebBloksMapClone"),"bk.action.map.Filter":c("WebBloksMapFilter"),"bk.action.map.Get":c("WebBloksMapGet"),"bk.action.map.Keys":c("WebBloksMapKeys"),"bk.action.map.Make":c("WebBloksMapMake"),"bk.action.map.MakeFlat":c("WebBloksMakeFlat"),"bk.action.map.Merge":c("WebBloksMapMerge"),"bk.action.map.Remove":c("WebBloksMapRemove"),"bk.action.map.Update":c("WebBloksMapUpdate"),"bk.action.map.Values":c("WebBloksMapValues"),"bk.action.navigation.CloseScreen":c("WebBloksNavigationCloseScreen"),"bk.action.navigation.OpenSendMessage":c("WebBloksOpenSendMessage"),"bk.action.navigation.OpenUrl":c("WebBloksOpenUrl"),"bk.action.navigation.OpenUrlV2":c("WebBloksOpenUrlV2"),"bk.action.navigation.SetNavBar":e,"bk.action.session_store.Get":c("WebBloksSessionStoreGet"),"bk.action.slider.SetPosition":c("WebBloksSliderSetPosition"),"bk.action.string.AsInteger":c("WebBloksStringAsInteger"),"bk.action.string.AsLong":c("WebBloksStringAsLong"),"bk.action.string.Concat":c("WebBloksStringConcat"),"bk.action.string.Contains":c("WebBloksStringContains"),"bk.action.string.Join":c("WebBloksStringJoin"),"bk.action.string.JsonDecode":c("WebBloksJsonDecode"),"bk.action.string.JsonEncode":c("WebBloksJsonEncode"),"bk.action.string.JsonEncodeV2":c("WebBloksJsonEncode"),"bk.action.string.JsonEncodeV3":c("WebBloksJsonEncodeV3"),"bk.action.string.Length":c("WebBloksStringLength"),"bk.action.bloks.PrependChildren":c("WebBloksPrependChildren"),"bk.action.bloks.PrependEmbeddedChildren":c("WebBloksPrependEmbeddedChildren"),"bk.action.string.Replace":c("WebBloksStringReplace"),"bk.action.string.Slice":c("WebBloksStringSlice"),"bk.action.string.SplitWithString":c("WebBloksStringSplitWithString"),"bk.action.string.StartsWith":c("WebBloksStringStartsWith"),"bk.action.string.ToLowerCase":c("WebBloksStringToLowerCase"),"bk.action.string.ToUpperCase":c("WebBloksStringToUpperCase"),"bk.action.string.Trim":c("WebBloksStringTrim"),"bk.action.string.GetURLLastPathComponent":c("WebBloksStringGetURLLastPathComponent"),"bk.action.string.MatchesRegex":c("WebBloksMatchesRegex"),"bk.action.string.ValueOfNumber":c("WebBloksStringValueOfNumber"),"bk.action.template.Make":c("WebBloksTemplateMake"),"bk.action.toast.ShowToast":c("WebBloksShowToast"),"bk.action.toast.ShowToastV2":c("WebBloksShowToastV2"),"bk.action.toast.DismissToast":c("WebBloksDismissToast"),"bk.action.tree.Make":c("WebBloksTreeMake"),"bk.action.t3d.FromArray":c("WebBloksT3DFromArray"),"bk.action.t3d.Rotate":c("WebBloksRotate3D"),"bk.action.t3d.Scale":c("WebBloksScale3D"),"bk.action.t3d.Translate":c("WebBloksTranslate3D"),"bk.action.text.GetText":c("WebBloksTextGetText"),"bk.action.textinput.GetText":c("WebBloksTextInputGetText"),"bk.action.textinput.SetText":c("WebBloksTextInputSetText"),"bk.action.textinput.SetTextV2":c("WebBloksTextInputSetText"),"bk.action.text_input.Unfocus":c("WebBloksTextInputUnfocus"),"bk.action.text_input.ClearText":c("WebBloksTextInputClearText"),"bk.action.timer.Cancel":c("WebBloksTimerCancel"),"bk.action.timer.Start":c("WebBloksTimerStart"),"bk.action.visibility_context.GetTimeSinceLastImpressionInMS":c("WebBloksVisibilityContextGetTimeSinceLastImpressionInMS"),"bk.action.visibility_context.HasSeenBefore":c("WebBloksVisibilityContextHasSeenBefore"),"bk.action.visibility_context.PercentVisible":c("WebBloksVisibilityContextPercentVisible"),"bk.action.text.IsTruncated":c("WebBloksTextIsTruncated"),"bk.action.debug.internal.DeviceLog":c("WebBloksDeviceLog"),"bk.action.webbloks.OpenScreenByRoute":c("WebBloksOpenScreenByRoute"),"bk.action.mins.TypeOf":c("WebBloksMinsTypeOf"),"bk.versioning.bloks.GlobalStateWithInitialLispy":e,"bk.versioning.bloks.ScreenQueryContainerConfigIDServerParam":e,"bk.versioning.bind.Interleaved":e,"bk.versioning.lispy.NumericLiterals":e,"bk.versioning.bloks.HoistedTemplates":e,"bk.versioning.bloks.NamedSplices":e,"bk.action.payload.Make":e,"bk.action.splice.Get":e,"bk.action.splice.Apply":e};a={"bk.components.AnchorIdExtension":d("WebBloksAnchorIDExtensionHandler").WebBloksAnchorIDExtensionHandler,"bk.components.AutomationTestExtension":d("WebBloksAutomationTestExtensionHandler").WebBloksAutomationTestExtensionHandler,"bk.components.VisibilityExtension":d("WebBloksVisibilityExtensionHandler").WebBloksVisibilityExtensionHandler,"bk.components.AccessibilityExtension":d("WebBloksAccessibilityExtensionHandler").WebBloksAccessibilityExtensionHandler,"bk.components.WebNativeAccessibilityExtension":d("WebBloksWebNativeAccessibilityExtensionHandler").WebBloksWebNativeAccessibilityExtensionHandler,"bk.components.OnMount":d("WebBloksOnMountExtensionHandler").WebBloksOnMountExtensionHandler,"bk.components.RenderLifecycleExtension":d("WebBloksRenderLifecycleExtensionHandler").WebBloksRenderLifecycleExtensionHandler,"bk.components.ViewTransformsExtension":d("WebBloksViewTransformExtensionHandler").WebBloksViewTransformExtensionHandler,"bk.components.FoaTouchExtension":d("WebBloksTouchExtensionHandler").WebBloksTouchExtensionHandler,"bk.components.FoaGestureExtension":d("WebBloksGestureExtensionHandler").WebBloksGestureExtensionHandler,"bk.components.TextInputDatePickerExtension":d("WebBloksTextInputDatePickerExtensionHandler").WebBloksTextInputDatePickerExtensionHandler,"bk.components.TextInputMaskExtension":d("WebBloksTextInputMaskExtensionHandler").WebBloksTextInputMaskExtensionHandler,"bk.extensions.OnDataChange":d("WebBloksOnDataChangeExtensionHandler").WebBloksOnDataChangeExtensionHandler,"bk.components.AnchorTagExtension":d("WebBloksAnchorTagExtensionHandler").WebBloksAnchorTagExtensionHandler,"bk.component.WebFocusBoundaryExtension":d("WebBloksWebFocusBoundaryExtensionHandler").WebBloksWebFocusBoundaryExtensionHandler,"bk.components.BKSTextInputFormatter":d("WebBloksBKSTextInputFormatterHandler").WebBloksBKSTextInputFormatterHandler};g.COMPONENTS=b;g.ACTIONS=f;g.EXTENSION_HANDLERS=a}),98);
__d("bkTraversalKeys",[],(function(a,b,c,d,e,f){"use strict";a={"bk.cds.bottomsheet.Wrapper":{subnodes:["_style","content","header","web_background_overlay_color"],plural_subnodes:["extensions","child_templates"]},"bk.component.TransitionContainer":{subnodes:["_style"],plural_subnodes:["extensions","children","child_templates"]},"bk.components.BoxDecoration":{subnodes:["background","foreground","corner_fill_themed_color","border_themed_color","shadow_themed_color","contrib","spot_shadow_color","ambient_shadow_color"],plural_subnodes:["child_templates"]},"bk.components.Canvas":{subnodes:["_style"],plural_subnodes:["extensions","children","child_templates"]},"bk.components.Collection":{subnodes:["_style","background_themed_color","scroll_indicator_color","scroll_indicator_background_color","scroll_indicator_margin_insets","scroll_indicator_shadow_color","scroll_indicator_margin_insets_v2","scroll_indicator_shadow_color_v2","layout_config"],plural_subnodes:["extensions","children","child_templates"]},"bk.components.Flexbox":{subnodes:["_style","decoration"],plural_subnodes:["extensions","gesture_recognizers","children","child_templates"]},"bk.components.Glimmer":{subnodes:["_style"],plural_subnodes:["extensions","child_templates"]},"bk.components.GradientThemedColorDrawable":{subnodes:["begin_color","end_color","middle_color"],plural_subnodes:["child_templates"]},"bk.components.Image":{subnodes:["_style","color_filter","contrib","progress_ring_color","focus_point","placeholder_color"],plural_subnodes:["extensions","child_templates"]},"bk.components.PullToRefreshContainer":{subnodes:["_style","child"],plural_subnodes:["extensions","child_templates"]},"bk.components.RichText":{subnodes:["_style","truncation_string_themed_color","link_highlight_themed_color","background_color"],plural_subnodes:["extensions","children","gradient_colors","truncation_spans","spans","spans_for_truncation","child_templates"]},"bk.components.Slider":{subnodes:["_style","thumb_color","filled_track_color","unfilled_track_color"],plural_subnodes:["extensions","child_templates"]},"bk.components.Spinner":{subnodes:["_style","color"],plural_subnodes:["extensions","child_templates"]},"bk.components.StateDrawable":{plural_subnodes:["state_items","child_templates"]},"bk.components.StateDrawableItem":{subnodes:["drawable"],plural_subnodes:["child_templates"]},"bk.components.Switch":{subnodes:["_style","on_color","off_color","thumb_color_on_android","thumb_color_off_android","track_color_on","track_color_off","thumb_color_disabled_on_android","thumb_color_disabled_off_android","track_color_disabled_on","track_color_disabled_off","thumb_color_disabled_on","thumb_color_disabled_off","thumb_color_on","thumb_color_off"],plural_subnodes:["extensions","child_templates"]},"bk.components.Text":{subnodes:["_style","text_provider","text_themed_color","truncation_string_themed_color"],plural_subnodes:["extensions","truncation_spans","child_templates"]},"bk.components.TextInput":{subnodes:["_style","text_themed_color","hint_text_themed_color","cursor_color","placeholder_text_color","background_color","shadow"],plural_subnodes:["extensions","child_templates"]},"bk.components.TextSpan":{subnodes:["_style","text_provider","text_themed_color","tint_color","shadow_color","image_component","image_margin"],plural_subnodes:["extensions","span_styles","spans","child_templates"]},"bk.components.ThemedColorDrawable":{subnodes:["color"],plural_subnodes:["child_templates"]},"bk.components.Video":{subnodes:["_style","player_identifier"],plural_subnodes:["extensions","video_versions","preview_versions","child_templates"]},"bk.components.Zoomable":{subnodes:["_style","content","config"],plural_subnodes:["extensions","child_templates"]},"bk.components.dialog.Dialog":{subnodes:["primary_button","secondary_button","tertiary_button"],plural_subnodes:["child_templates"]},"bk.components.internal.Action":{subnodes:["_style"],plural_subnodes:["extensions","child_templates"]},"bk.components.internal.Merge":{subnodes:["_style"],plural_subnodes:["extensions","children","child_templates"]},"bk.components.internal.Shadow":{subnodes:["_style","child"],plural_subnodes:["extensions","child_templates"]},"bk.components.screen.Wrapper":{subnodes:["_style","content","navbar"],plural_subnodes:["extensions","contribs","child_templates"]},"bk.data.ComposableTextSpan":{plural_subnodes:["styles","spans","child_templates"]},"bk.data.GradientLine":{subnodes:["start_point","end_point"],plural_subnodes:["child_templates"]},"bk.data.ImageSpan":{subnodes:["image_component","image_margin"],plural_subnodes:["styles","child_templates"]},"bk.data.TextSpan":{subnodes:["text_provider"],plural_subnodes:["styles","child_templates"]},"bk.data.bloks.TreeResourceReferences":{plural_subnodes:["props","child_templates"]},"bk.data.cds.OpenScreenOptions":{subnodes:["android_activity_background_color","dimmed_background_color","background_overlay_color","bottom_sheet_margins"],plural_subnodes:["child_templates"]},"bk.data.screen.Navbar":{subnodes:["contrib"],plural_subnodes:["contribs","child_templates"]},"bk.data.screen.Screen":{subnodes:["loading_screen","loaded_screen","navbar","navbar_data","contrib","lifecycle_callbacks"],plural_subnodes:["contribs","child_templates"]},"bk.data.toast.ShowToastOptions":{subnodes:["show_animation_interpolator","dismiss_animation_interpolator"],plural_subnodes:["child_templates"]},"bk.data.toast.ShowToastOptionsV2":{subnodes:["show_animation_interpolator","dismiss_animation_interpolator"],plural_subnodes:["child_templates"]},"bk.style.textspan.ColorStyle":{subnodes:["text_themed_color"],plural_subnodes:["child_templates"]},"bk.style.textspan.ShadowStyle":{subnodes:["shadow_color"],plural_subnodes:["child_templates"]},"bk.types.CanvasFill":{subnodes:["shape","shading","blending_mode","shadow"],plural_subnodes:["child_templates"]},"bk.types.CanvasGradient":{plural_subnodes:["themed_colors","child_templates"]},"bk.types.CanvasGroup":{subnodes:["transform","clip"],plural_subnodes:["children","child_templates"]},"bk.types.CanvasLayer":{subnodes:["transform","clip","blending_mode"],plural_subnodes:["children","child_templates"]},"bk.types.CanvasPath":{plural_subnodes:["children","child_templates"]},"bk.types.CanvasPathAdd":{subnodes:["path","transform"],plural_subnodes:["child_templates"]},"bk.types.CanvasPathDifference":{subnodes:["path","transform"],plural_subnodes:["child_templates"]},"bk.types.CanvasPathIntersection":{subnodes:["path","transform"],plural_subnodes:["child_templates"]},"bk.types.CanvasPathUnion":{subnodes:["path","transform"],plural_subnodes:["child_templates"]},"bk.types.CanvasPathXor":{subnodes:["path","transform"],plural_subnodes:["child_templates"]},"bk.types.CanvasShadingColor":{subnodes:["themed_color"],plural_subnodes:["child_templates"]},"bk.types.CanvasShadingGradientLinear":{subnodes:["gradient"],plural_subnodes:["child_templates"]},"bk.types.CanvasShadingGradientRadial":{subnodes:["gradient"],plural_subnodes:["child_templates"]},"bk.types.CanvasShadow":{subnodes:["themed_color"],plural_subnodes:["child_templates"]},"bk.types.CanvasStroke":{subnodes:["shape","shading","blending_mode","shadow"],plural_subnodes:["child_templates"]},"bk.types.CanvasTransform":{plural_subnodes:["children","child_templates"]},"bk.types.GridCollectionLayoutConfig":{subnodes:["padding"],plural_subnodes:["child_templates"]},collection:{subnodes:["sticky_item_config"],plural_subnodes:["child_templates"]},flex:{subnodes:["touch_expansion"],plural_subnodes:["child_templates"]},"mini.data.Product":{subnodes:["main_image","merchant","thumbnail_image","checkout_properties","drawing_information","rating"],plural_subnodes:["variant_values","child_templates"]},"bk.AnyComponent":{subnodes:["style"],plural_subnodes:["extensions","child_templates"]},"bk.types.Shadow":{subnodes:["color"],plural_subnodes:["child_templates"]},"bk.data.zoomable.config.Remote":{subnodes:["placeholder_color"],plural_subnodes:["child_templates"]},"bk.data.screen.navbar.Contrib":{subnodes:["fb","msg"],plural_subnodes:["child_templates"]},"bk.data.screen.screen.Contrib":{subnodes:["ig","msg"],plural_subnodes:["child_templates"]},"bk.data.product.CheckoutProperties":{subnodes:["currency_amount","shipping_and_return"],plural_subnodes:["child_templates"]},"bk.data.screen.navbar.contrib.Msg":{subnodes:["title_view"],plural_subnodes:["right_buttons","left_buttons","child_templates"]},"bk.data.product.checkout.ShippingAndReturn":{subnodes:["shipping_cost","return_cost"],plural_subnodes:["child_templates"]}};b=a;f["default"]=b}),66);
__d("CoreWebBloksEnvironmentConfig",["WebBloksPrimitives","bkTraversalKeys"],(function(a,b,c,d,e,f,g){a={actions:d("WebBloksPrimitives").ACTIONS,components:d("WebBloksPrimitives").COMPONENTS,extensionHandlers:d("WebBloksPrimitives").EXTENSION_HANDLERS,traversalKeys:c("bkTraversalKeys")};g.CORE_ENVIRONMENT_CONFIG=a}),98);
__d("WebBloksLogEvent",["FalcoLoggerInternal","WebBloksFalcoPolicyData"],(function(a,b,c,d,e,f,g){function a(a,b,e,f){a=d("FalcoLoggerInternal").create(b,c("WebBloksFalcoPolicyData").get(b));a.log(function(){return f})}g["default"]=a}),98);
__d("WebBloksLogEventCritical",["FalcoLoggerInternal","WebBloksFalcoPolicyData"],(function(a,b,c,d,e,f,g){function a(a,b,e,f){a=d("FalcoLoggerInternal").create(b,c("WebBloksFalcoPolicyData").get(b));a.logCritical(function(){return f})}g["default"]=a}),98);
__d("WebBloksOpenFRXAction",["FRXURI","JSResource"],(function(a,b,c,d,e,f,g){function a(a,b,e,f){var g=d("FRXURI").withEntReportable({reportable_ent_token:f,story_location:e,entry_point:b});c("JSResource")("XAsyncRequest").__setRef("WebBloksOpenFRXAction").load().then(function(a){a=new a().setURI(g);return a.send()})["catch"](function(b){a.objectSet.environment.logger.mustfix("WebBloksOpenFRXAction fetch failure",b)})}g["default"]=a}),98);
__d("WebBloksQPLUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){c=c!=null?c:void 0;return{i:a,m:c,r:b}}f.createSyntheticQPLEvent=a}),66);
__d("WebBloksQPLMarkerAnnotateV2",["QuickPerformanceLogger","WebBloksQPLUtils"],(function(a,b,c,d,e,f,g){var h;function a(a,b,e,f,g){a=g.get("sample_rate");g=g.get("sampling_type");b=d("WebBloksQPLUtils").createSyntheticQPLEvent(b,a,g);(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(b,{string:f},{instanceKey:e})}g["default"]=a}),98);
__d("WebBloksQPLMarkerEndV3",["QuickPerformanceLogger","WebBloksQPLUtils"],(function(a,b,c,d,e,f,g){var h;function a(a,b,e,f,g,i){a=g.get("sample_rate");i=g.get("sampling_type");g=d("WebBloksQPLUtils").createSyntheticQPLEvent(b,a,i);(h||(h=c("QuickPerformanceLogger"))).markerEnd(g,f,e)}g["default"]=a}),98);
__d("WebBloksQPLMarkerPointV2",["QuickPerformanceLogger","WebBloksQPLUtils"],(function(a,b,c,d,e,f,g){var h;function a(a,b,e,f,g,i){a=g.get("sample_rate");i=g.get("sampling_type");g=d("WebBloksQPLUtils").createSyntheticQPLEvent(b,a,i);(h||(h=c("QuickPerformanceLogger"))).markerPoint(g,f,{instanceKey:e})}g["default"]=a}),98);
__d("WebBloksQPLMarkerStartV3",["QuickPerformanceLogger","WebBloksQPLUtils"],(function(a,b,c,d,e,f,g){var h;function a(a,b,e,f,g){a=f.get("sample_rate");g=f.get("sampling_type");f=d("WebBloksQPLUtils").createSyntheticQPLEvent(b,a,g);(h||(h=c("QuickPerformanceLogger"))).markerStart(f,e)}g["default"]=a}),98);
__d("WebBloksQPLUserFlowAnnotateV3",["QPLUserFlow","WebBloksQPLUtils"],(function(a,b,c,d,e,f,g){function a(a,b,e,f,g){a=g.get("sample_rate");g=g.get("sampling_type");b=d("WebBloksQPLUtils").createSyntheticQPLEvent(b,a,g);c("QPLUserFlow").addAnnotations(b,{string:f},{instanceKey:e})}g["default"]=a}),98);
__d("WebBloksQPLUserFlowEndFlowCancelV3",["QPLUserFlow","WebBloksQPLUtils"],(function(a,b,c,d,e,f,g){function a(a,b,e,f,g){a=g.get("sample_rate");g=g.get("sampling_type");b=d("WebBloksQPLUtils").createSyntheticQPLEvent(b,a,g);c("QPLUserFlow").endCancel(b,{annotations:{string:{cancel_reason:f}},instanceKey:e})}g["default"]=a}),98);
__d("WebBloksQPLUserFlowEndFlowFailureV3",["QPLUserFlow","WebBloksQPLUtils"],(function(a,b,c,d,e,f,g){function a(a,b,e,f,g,h){a=h.get("sample_rate");h=h.get("sampling_type");b=d("WebBloksQPLUtils").createSyntheticQPLEvent(b,a,h);c("QPLUserFlow").endFailure(b,f,{debugInfo:g,instanceKey:e})}g["default"]=a}),98);
__d("WebBloksQPLUserFlowEndFlowSuccessV3",["QPLUserFlow","WebBloksQPLUtils"],(function(a,b,c,d,e,f,g){function a(a,b,e,f){a=f.get("sample_rate");f=f.get("sampling_type");b=d("WebBloksQPLUtils").createSyntheticQPLEvent(b,a,f);c("QPLUserFlow").endSuccess(b,{instanceKey:e})}g["default"]=a}),98);
__d("WebBloksQPLUserFlowMarkErrorV3",["QPLUserFlow","WebBloksQPLUtils"],(function(a,b,c,d,e,f,g){function a(a,b,e,f,g,h){a=h.get("sample_rate");h=h.get("sampling_type");b=d("WebBloksQPLUtils").createSyntheticQPLEvent(b,a,h);c("QPLUserFlow").markError(b,f,{debugInfo:g,instanceKey:e})}g["default"]=a}),98);
__d("WebBloksQPLUserFlowMarkPointV3",["QPLUserFlow","WebBloksQPLUtils"],(function(a,b,c,d,e,f,g){function a(a,b,e,f,g,h){a=h.get("sample_rate");h=h.get("sampling_type");b=d("WebBloksQPLUtils").createSyntheticQPLEvent(b,a,h);c("QPLUserFlow").addPoint(b,f,{instanceKey:e,data:{string:g}})}g["default"]=a}),98);
__d("WebBloksQPLUserFlowStartFlowV3",["QPLUserFlow","WebBloksQPLUtils"],(function(a,b,c,d,e,f,g){function a(a,b,e,f,g){a=f.get("sample_rate");f=f.get("sampling_type");g=g.get("trigger_source");b=d("WebBloksQPLUtils").createSyntheticQPLEvent(b,a,f);c("QPLUserFlow").start(b,{instanceKey:e,annotations:{string:{trigger_source:g}}})}g["default"]=a}),98);
__d("HasteSharedWebBloksPrimitives",["WebBloksLogEvent","WebBloksLogEventCritical","WebBloksOpenFRXAction","WebBloksQPLMarkerAnnotateV2","WebBloksQPLMarkerEndV3","WebBloksQPLMarkerPointV2","WebBloksQPLMarkerStartV3","WebBloksQPLUserFlowAnnotateV3","WebBloksQPLUserFlowEndFlowCancelV3","WebBloksQPLUserFlowEndFlowFailureV3","WebBloksQPLUserFlowEndFlowSuccessV3","WebBloksQPLUserFlowMarkErrorV3","WebBloksQPLUserFlowMarkPointV3","WebBloksQPLUserFlowStartFlowV3"],(function(a,b,c,d,e,f,g){a={};b={"bk.action.qpl.MarkerAnnotateV2":c("WebBloksQPLMarkerAnnotateV2"),"bk.action.qpl.MarkerEndV3":c("WebBloksQPLMarkerEndV3"),"bk.action.qpl.MarkerPointV2":c("WebBloksQPLMarkerPointV2"),"bk.action.qpl.MarkerStartV3":c("WebBloksQPLMarkerStartV3"),"bk.action.qpl.userflow.AnnotateV3":c("WebBloksQPLUserFlowAnnotateV3"),"bk.action.qpl.userflow.EndFlowCancelV3":c("WebBloksQPLUserFlowEndFlowCancelV3"),"bk.action.qpl.userflow.EndFlowFailureV3":c("WebBloksQPLUserFlowEndFlowFailureV3"),"bk.action.qpl.userflow.EndFlowSuccessV3":c("WebBloksQPLUserFlowEndFlowSuccessV3"),"bk.action.qpl.userflow.MarkErrorV3":c("WebBloksQPLUserFlowMarkErrorV3"),"bk.action.qpl.userflow.MarkPointV3":c("WebBloksQPLUserFlowMarkPointV3"),"bk.action.qpl.userflow.StartFlowV3":c("WebBloksQPLUserFlowStartFlowV3"),"bk.action.OpenFRXAction":c("WebBloksOpenFRXAction"),"bk.action.logging.LogEvent":c("WebBloksLogEvent"),"bk.action.logging.LogEventCritical":c("WebBloksLogEventCritical")};d={};g.COMPONENTS=a;g.ACTIONS=b;g.EXTENSION_HANDLERS=d}),98);
__d("WebBloksAnimatedAddOnCompleteListener",[],(function(a,b,c,d,e,f){function a(a,b,c){b.addOnCompleteListener(function(d){return c==null?void 0:c(a,b,d,a.bloksContext)});return b}f["default"]=a}),66);
__d("WebBloksAnimationsSet",["WebBloksErrors"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=a.animations;a=a.startDelay;this.isCancelled=!1;this.isPaused=!1;this.isInfinite=!1;this.onCompleteListeners=new Set();this.startDelay=0;this.animations=b.slice();this.startDelay=a||0}var b=a.prototype;b.play=function(){throw new(d("WebBloksErrors").WebBloksError)("`play` method must be implemented on the subclass of this animation set")};b.addOnCompleteListener=function(a){var b=this,c=0;this.onCompleteListeners.add(a);this.animations.forEach(function(a){var d=function(a){c++,(!a||c===b.animations.length)&&(c=0,b.onCompleteListeners.forEach(function(b){return b(a)}))};a.addOnCompleteListener(d)})};b.removeOnCompleteListener=function(a){this.onCompleteListeners["delete"](a)};b.getTotalDuration=function(){throw new(d("WebBloksErrors").WebBloksError)("`getTotalDuration` method must be implemented on the subclass of this animation set")};b.getComputedTimes=function(){throw new(d("WebBloksErrors").WebBloksError)("`getComputedTimes` method must be implemented on the subclass of this animation set")};return a}();g.WebBloksAnimationsSet=a}),98);
__d("WebBloksAnimatedUtils",["WebBloksAnimationsSet"],(function(a,b,c,d,e,f,g){function h(a,b){return(a=a.bloksContext.bkContextKeyAnimations.get(b))!=null?a:null}function a(a,b){return a.bloksContext.bkContextKeyAnimations.has(b)}function b(a,b){var c=h(a,b);c==null?void 0:c.play(a.bloksContext.bkContextKeyAnimations,b)}function i(a,b){var c=h(a,b);c==null?void 0:c.cancel();return a.bloksContext.bkContextKeyAnimations["delete"](b)}function c(a,b,c,d){d===void 0&&(d=!0);a.bloksContext.bkContextKeyAnimations.set(b,c);if(d){d=function(){i(a,b)};c.addOnCompleteListener(d)}return c}function j(a){var b=a.constructor.name;if(a instanceof d("WebBloksAnimationsSet").WebBloksAnimationsSet)for(var a=a.animations,c=Array.isArray(a),e=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(c){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;b+=j(f)}return b}g.getAnimationWithToken=h;g.hasAnimationWithToken=a;g.startAnimationWithToken=b;g.deleteAnimationWithToken=i;g.associateAnimationWithToken=c;g.getIDTokenForLegacyAnimation=j}),98);
__d("WebBloksAnimationValue",[],(function(a,b,c,d,e,f){a=function(){function a(a){var b=a.id,c=a.animation;a=a.animatedValue;this.isInfinite=!1;this.animatedValue=null;this.onUpdateListeners=new Set();this.onCompleteListeners=new Set();this.$1=null;this.$2=null;this.id=b;this.animatedValue=a;this.animation=c}var b=a.prototype;b.addUpdateListener=function(a){this.onUpdateListeners.has(a)||this.onUpdateListeners.add(a)};b.removeUpdateListener=function(a){this.onUpdateListeners["delete"](a)};b.addOnCompleteListener=function(a){this.onCompleteListeners.add(a)};b.removeOnCompleteListener=function(a){this.onCompleteListeners["delete"](a)};b.setAnimatedValue=function(a){this.animatedValue=a};b.getTotalDuration=function(){return this.animation.duration};b.getCurrentTime=function(){var a;return(a=this.$2)!=null?a:0};b.setCurrentTime=function(a){this.$2=a,this.$1=window.performance.now()-this.$2};b.calculateTimelineAnimatedValue=function(a){var b=this.animation,c=b.duration,d=b.format,e=b.from,f=b.interpolator;b=b.to;e=[].concat(e);b=[].concat(b);a=a/c;c=[];for(var g=0;g<e.length;g++)b[g]>e[g]?c.push(e[g]+f(a)*(b[g]-e[g])):c.push(e[g]-f(a)*(e[g]-b[g]));return d.apply(void 0,c)};return a}();f.WebBloksAnimationValue=a}),66);
__d("WebBloksAnimationsTimeline",["WebBloksAnimationValue","webBloksPerformanceUtils"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.id=null;this.isCancelled=!1;this.isPaused=!1;this.$1=new Set();this.$2=[];this.$3=null;this.$4=null;this.$5=null;this.$14=function(){document.visibilityState==="hidden"&&!b.isPaused?b.pause():document.visibilityState==="visible"&&b.isPaused&&b.resume()};this.$2=this.$6(a)}var b=a.prototype;b.setID=function(a){this.id=a};b.getID=function(){return this.id};b.play=function(a,b){var c=this;this.isCancelled=!1;this.isPaused=!1;var e=this.$4,f=function f(g){var h;if(b!=null&&!(a==null?void 0:a.has(b)))return;e=(h=e)!=null?h:g;h=Math.floor(g-e);c.$3=h;g=c.$7(h);for(var g=g,i=Array.isArray(g),j=0,g=i?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(i){if(j>=g.length)break;k=g[j++]}else{j=g.next();if(j.done)break;k=j.value}k=k;var l=k[0];k=k[1];l=k.calculateTimelineAnimatedValue(h-l);l!=null&&(k.setAnimatedValue(l),k.onUpdateListeners.forEach(function(a){return a()}))}if(h/c.getTotalDuration()<1)c.$5=window.requestAnimationFrame(f);else{l=c.$8();k=l[1];k.isInfinite?(c.$9(),c.$5=window.requestAnimationFrame(f)):c.$10()}d("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-animation-frame",{detail:{animationID:c.id,timestamp:c.getCurrentTime()}})};this.$5=window.requestAnimationFrame(f);this.$11()};b.pause=function(){if(this.isPaused)return;this.isPaused=!0;window.cancelAnimationFrame(this.$5);this.$5=null;this.$4=null};b.resume=function(){var a;if(!this.isPaused)return;this.isPaused=!1;this.setCurrentTime((a=this.$3)!=null?a:0);this.play();d("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-animation-resume")};b.addOnCompleteListener=function(a){this.$1.has(a)||this.$1.add(a)};b.removeOnCompleteListener=function(a){this.$1["delete"](a)};b.cancel=function(){this.isCancelled=!0,window.cancelAnimationFrame(this.$5),this.$5=null,this.$12()};b.getStartTimeToAnimationInstance=function(){return this.$2};b.getTotalDuration=function(){var a=this.$8(),b=a[0];a=a[1];return b+a.getTotalDuration()};b.getCurrentTime=function(){var a;return(a=this.$3)!=null?a:0};b.setCurrentTime=function(a){this.$4=window.performance.now()-a};b.$9=function(){var a=this.$13(),b=this.$2.slice(a),c=b[0];c=c[0];c=this.getTotalDuration()-c;for(var d=0;d<a;d++)this.$2.pop();for(d=b,a=Array.isArray(d),b=0,d=a?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(a){if(b>=d.length)break;e=d[b++]}else{b=d.next();if(b.done)break;e=b.value}e=e;var f=e[0];e=e[1];this.$2.push([c+f,e])}};b.$7=function(a){return this.$2.filter(function(b){var c=b[0];b=b[1];return a>=c&&a<=c+b.getTotalDuration()})};b.$13=function(){var a=this.$2.length-1;while(a>0){var b=this.$2[a];b[0];b=b[1];b.isInfinite&&a--}return a};b.$10=function(){this.$2.forEach(function(a){a=a[1];return a.onCompleteListeners.forEach(function(a){return a(!0)})}),this.$1.forEach(function(a){return a(!0)}),this.$4=null,this.$12()};b.$8=function(){var a=Array.from(this.$2);return a[a.length-1]};b.$6=function(a){var b=[],c=function a(c){if(!c||!c.length)return;var e=c[0];c=c[1];if(c instanceof d("WebBloksAnimationValue").WebBloksAnimationValue){b.push([e,c]);return}for(var c=c.getComputedTimes(),f=Array.isArray(c),g=0,c=f?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=c.length)break;h=c[g++]}else{g=c.next();if(g.done)break;h=g.value}h=h;var i=h[0];h=h[1];a([e+i,h])}};c([0,a]);return b};b.$11=function(){window.addEventListener("visibilitychange",this.$14)};b.$12=function(){window.removeEventListener("visibilitychange",this.$14)};return a}();g.WebBloksAnimationsTimeline=a}),98);
__d("WebBloksAnimatedBuild",["WebBloksAnimatedUtils","WebBloksAnimationsTimeline"],(function(a,b,c,d,e,f,g){function a(a,b,c){var e=new(d("WebBloksAnimationsTimeline").WebBloksAnimationsTimeline)(b);d("WebBloksAnimatedUtils").associateAnimationWithToken(a,c,e,!1);return b}g["default"]=a}),98);
__d("WebBloksAnimatedCancel",["WebBloksAnimatedUtils","WebBloksAnimationsTimeline"],(function(a,b,c,d,e,f,g){function a(a,b){if(b instanceof d("WebBloksAnimationsTimeline").WebBloksAnimationsTimeline)b.cancel();else{b=d("WebBloksAnimatedUtils").getIDTokenForLegacyAnimation(b);d("WebBloksAnimatedUtils").deleteAnimationWithToken(a,b)}}g["default"]=a}),98);
__d("WebBloksAnimatedCancelToken",["WebBloksAnimatedUtils"],(function(a,b,c,d,e,f,g){function a(a,b){a=d("WebBloksAnimatedUtils").getAnimationWithToken(a,b);a!==null&&a.cancel()}g["default"]=a}),98);
__d("WebBloksAnimationFunctions",[],(function(a,b,c,d,e,f){function g(a,b,c,d){var e=1e-6,f=3*a-3*c+1,g=3*c-6*a,h=3*a,i=3*b-3*d+1,j=3*d-6*b,k=3*b;function l(a){return(3*f*a+2*g)*a+h}function m(a){return((f*a+g)*a+h)*a}function n(a){return((i*a+j)*a+k)*a}function o(a){var b=a,c,d;for(var f=0;f<8;f++){d=m(b)-a;if(Math.abs(d)<e)return b;c=l(b);if(Math.abs(c)<e)break;b-=d/c}c=1;f=0;b=a;while(c>f){d=m(b)-a;if(Math.abs(d)<e)return b;d>0?c=b:f=b;b=(c+f)/2}return b}function p(a){return n(o(a))}return p}function a(){return g(0,0,1,1)}f.cubicBezier=g;f.linearInterpolator=a}),66);
__d("WebBloksAnimatedCreate",["WebBloksAnimationFunctions","WebBloksAnimationValue","WebBloksUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c,e,f,g,h){var i=new(d("WebBloksAnimationValue").WebBloksAnimationValue)({id:""+d("WebBloksUtils").getNextGlobalBloksClientId(),animation:{style:"transform",from:parseFloat(e),to:parseFloat(f),format:function(a){return String(a)},duration:g*1e3,interpolator:(e=h)!=null?e:d("WebBloksAnimationFunctions").linearInterpolator()},animatedValue:null});i.addUpdateListener(function(){b(a,i)});i.addOnCompleteListener(function(b){c==null?void 0:c(a,i,b,a.bloksContext)});return i}g["default"]=a}),98);
__d("WebBloksAnimatedCreateColor",["WebBloksAnimationFunctions","WebBloksAnimationValue","WebBloksUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c,e,f,g,h){var i=new(d("WebBloksAnimationValue").WebBloksAnimationValue)({id:""+d("WebBloksUtils").getNextGlobalBloksClientId(),animation:{style:"color",from:d("WebBloksUtils").convertRGBOrHexStringToArr(e),to:d("WebBloksUtils").convertRGBOrHexStringToArr(f),format:function(a,b,c){return d("WebBloksUtils").convertRGBArrToString([a,b,c,1])},duration:g*1e3,interpolator:(e=h)!=null?e:d("WebBloksAnimationFunctions").linearInterpolator()},animatedValue:null});i.addUpdateListener(function(){b(a,i)});c&&i.addOnCompleteListener(function(b){return c==null?void 0:c(a,i,b,a.bloksContext)});return i}g["default"]=a}),98);
__d("WebBloksAnimatedCreateCubicBezier",["WebBloksAnimationFunctions"],(function(a,b,c,d,e,f,g){function a(a,b,c,e,f){return d("WebBloksAnimationFunctions").cubicBezier(b,c,e,f)}g["default"]=a}),98);
__d("WebBloksAnimatedCreateDimension",["WebBloksAnimationFunctions","WebBloksAnimationValue","WebBloksDimensionUtils","WebBloksErrors","WebBloksUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c,e,f,g,h){var i=d("WebBloksDimensionUtils").parseDimension(e);if(!i)throw new(d("WebBloksErrors").WebBloksError)("Failed to parse dimension ("+e+")");var j=i.type;e=i.value;i=(i=d("WebBloksDimensionUtils").parseDimension(f))==null?void 0:i.value;if(i==null)throw new(d("WebBloksErrors").WebBloksError)("Failed to parse dimension ("+f+")");var k=new(d("WebBloksAnimationValue").WebBloksAnimationValue)({id:""+d("WebBloksUtils").getNextGlobalBloksClientId(),animation:{style:"transform",from:e,to:i,format:function(a){return d("WebBloksUtils").toPx(String(a)+j)},duration:g*1e3,interpolator:(f=h)!=null?f:d("WebBloksAnimationFunctions").linearInterpolator()},animatedValue:null});k.addUpdateListener(function(){b(a,k)});c&&k.addOnCompleteListener(function(b){return c==null?void 0:c(a,k,b,a.bloksContext)});return k}g["default"]=a}),98);
__d("WebBloksAnimatedDestroy",["WebBloksAnimatedUtils"],(function(a,b,c,d,e,f,g){function a(a,b){d("WebBloksAnimatedUtils").deleteAnimationWithToken(a,b)}g["default"]=a}),98);
__d("WebBloksAnimatedGetCurrentColorValue",["WebBloksAnimationValue"],(function(a,b,c,d,e,f,g){function a(a,b){if(b instanceof d("WebBloksAnimationValue").WebBloksAnimationValue)return String(b.animatedValue)}g["default"]=a}),98);
__d("WebBloksAnimatedGetCurrentDimensionValue",["WebBloksAnimationValue"],(function(a,b,c,d,e,f,g){function a(a,b){if(b instanceof d("WebBloksAnimationValue").WebBloksAnimationValue)return String(b.animatedValue)}g["default"]=a}),98);
__d("WebBloksAnimatedGetCurrentPlayTime",["WebBloksAnimatedUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a=d("WebBloksAnimatedUtils").getAnimationWithToken(a,b);if(a!=null){b=a.getCurrentTime();a=b/1e3;return a}return 0}g["default"]=a}),98);
__d("WebBloksAnimatedGetCurrentValue",["WebBloksAnimationValue"],(function(a,b,c,d,e,f,g){function a(a,b){if(b instanceof d("WebBloksAnimationValue").WebBloksAnimationValue)return parseFloat(b.animatedValue)}g["default"]=a}),98);
__d("WebBloksAnimatedGetTotalDuration",["WebBloksAnimatedUtils"],(function(a,b,c,d,e,f,g){function a(a,b){a=d("WebBloksAnimatedUtils").getAnimationWithToken(a,b);if(a!=null){b=a.getTotalDuration();a=b/1e3;return a}return}g["default"]=a}),98);
__d("WebBloksAnimatedIsInitialized",["WebBloksAnimatedUtils"],(function(a,b,c,d,e,f,g){function a(a,b){return d("WebBloksAnimatedUtils").hasAnimationWithToken(a,b)}g["default"]=a}),98);
__d("WebBloksAnimationsLoopSet",["WebBloksAnimationsSet"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c=b.limit;b=babelHelpers.objectWithoutPropertiesLoose(b,["limit"]);b=a.call(this,b)||this;b.limit=Infinity;b.limit=c||Infinity;return b}var c=b.prototype;c.getTotalDuration=function(){if(this.limit===Infinity)return Infinity;var a=this.animations.reduce(function(a,b){return a+b.getTotalDuration()},0);return a*this.limit+this.startDelay};c.getComputedTimes=function(){var a=this.startDelay,b=[],c=this.animations[0];if(this.limit===Infinity){c.isInfinite=!0;return[[a,c]]}else for(var d=0;d<this.limit;d++)b.push([a,c]),a+=c.getTotalDuration();return b};return b}(d("WebBloksAnimationsSet").WebBloksAnimationsSet);g.WebBloksAnimationsLoopSet=a}),98);
__d("WebBloksAnimatedLoop",["WebBloksAnimationsLoopSet"],(function(a,b,c,d,e,f,g){function a(a,b,c){a=new(d("WebBloksAnimationsLoopSet").WebBloksAnimationsLoopSet)({limit:b<0?Infinity:b,animations:[c]});return a}g["default"]=a}),98);
__d("WebBloksAnimationsParallelSet",["WebBloksAnimationsSet"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getTotalDuration=function(){var a=Math.max.apply(Math,this.animations.map(function(a){return a.getTotalDuration()}));return a+this.startDelay};c.getComputedTimes=function(){var a=[];for(var b=this.animations,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e.isInfinite=this.isInfinite;a.push([this.startDelay,e])}return a};return b}(d("WebBloksAnimationsSet").WebBloksAnimationsSet);g.WebBloksAnimationsParallelSet=a}),98);
__d("WebBloksAnimatedParallel",["WebBloksAnimationsParallelSet"],(function(a,b,c,d,e,f,g){function a(a,b,c,e){var f=new(d("WebBloksAnimationsParallelSet").WebBloksAnimationsParallelSet)({animations:e,startDelay:c*1e3});b&&f.addOnCompleteListener(function(c){return b==null?void 0:b(a,f,c,a.bloksContext)});return f}g["default"]=a}),98);
__d("WebBloksAnimatedPause",["WebBloksAnimatedUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a=d("WebBloksAnimatedUtils").getAnimationWithToken(a,b);if(a!=null&&!a.isCancelled){b=a.isPaused;a.pause();return!b&&a.isPaused}return!1}g["default"]=a}),98);
__d("WebBloksAnimatedResume",["WebBloksAnimatedUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a=d("WebBloksAnimatedUtils").getAnimationWithToken(a,b);if(a!=null&&!a.isCancelled){b=a.isPaused;a.resume();return b&&!a.isPaused}return!1}g["default"]=a}),98);
__d("WebBloksAnimationsSequenceSet",["WebBloksAnimationsSet"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getTotalDuration=function(){var a=this.animations.reduce(function(a,b){return a+b.getTotalDuration()},0);return a+this.startDelay};c.getComputedTimes=function(){var a=this.startDelay,b=[];for(var c=this.animations,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;f.isInfinite=this.isInfinite;b.push([a,f]);a+=f.getTotalDuration()}return b};return b}(d("WebBloksAnimationsSet").WebBloksAnimationsSet);g.WebBloksAnimationsSequenceSet=a}),98);
__d("WebBloksAnimatedSequence",["WebBloksAnimationsSequenceSet"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){var f=new(d("WebBloksAnimationsSequenceSet").WebBloksAnimationsSequenceSet)({animations:b,startDelay:e*1e3});c&&f.addOnCompleteListener(function(b){return c==null?void 0:c(a,f,b,a.bloksContext)});return f}g["default"]=a}),98);
__d("WebBloksAnimatedSetCurrentPlayTime",["WebBloksAnimatedUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){a=d("WebBloksAnimatedUtils").getAnimationWithToken(a,b);if(a!=null&&c!=null){b=c*1e3;a.setCurrentTime(b)}}g["default"]=a}),98);
__d("WebBloksAnimationsStaggerSet",["WebBloksAnimationsSet"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c=b.delay;b=babelHelpers.objectWithoutPropertiesLoose(b,["delay"]);b=a.call(this,b)||this;b.delay=0;b.delay=c;return b}var c=b.prototype;c.getTotalDuration=function(){var a=this,b=this.animations.map(function(b,c){return b.getTotalDuration()+c*a.delay});b=Math.max.apply(Math,b);return b+this.startDelay};c.getComputedTimes=function(){var a=this.startDelay,b=[];for(var c=this.animations,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;f.isInfinite=this.isInfinite;b.push([a,f]);a+=this.delay}return b};return b}(d("WebBloksAnimationsSet").WebBloksAnimationsSet);g.WebBloksAnimationsStaggerSet=a}),98);
__d("WebBloksAnimatedStagger",["WebBloksAnimationsStaggerSet"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){a=new(d("WebBloksAnimationsStaggerSet").WebBloksAnimationsStaggerSet)({animations:c,delay:b*1e3});return a}g["default"]=a}),98);
__d("WebBloksAnimatedStart",["WebBloksAnimatedUtils","WebBloksAnimationsTimeline","webBloksPerformanceUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=a.bloksContext.loggingIDForInternalFrameworkUseOnly,e={detail:{loggingID:c}};if(b instanceof d("WebBloksAnimationsTimeline").WebBloksAnimationsTimeline)b.play(),e.detail=babelHelpers["extends"]({},e.detail,{animationID:b.getID()});else{c=new(d("WebBloksAnimationsTimeline").WebBloksAnimationsTimeline)(b);var f=d("WebBloksAnimatedUtils").getIDTokenForLegacyAnimation(b);c.setID(f);e.detail=babelHelpers["extends"]({},e.detail,{animationID:c.getID()});d("WebBloksAnimatedUtils").associateAnimationWithToken(a,f,c,!1);d("WebBloksAnimatedUtils").startAnimationWithToken(a,f)}d("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-animation-start",e);c=function a(){d("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-animation-end",e),b==null?void 0:b.removeOnCompleteListener(a)};b==null?void 0:b.addOnCompleteListener(c)}g["default"]=a}),98);
__d("WebBloksAnimatedStartToken",["WebBloksAnimatedUtils","webBloksPerformanceUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WebBloksAnimatedUtils").getAnimationWithToken(a,b);c!=null&&c.setID(b);d("WebBloksAnimatedUtils").startAnimationWithToken(a,b);a=a.bloksContext.loggingIDForInternalFrameworkUseOnly;var e={detail:{animationID:b,loggingID:a}};d("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-animation-start",e);b=function a(){d("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-animation-end",e),c==null?void 0:c.removeOnCompleteListener(a)};c==null?void 0:c.addOnCompleteListener(b)}g["default"]=a}),98);
__d("WebBloksCollectionSetIndex",["WebBloksCollectionScrollTo"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){if(!b.uiMutableContainer.domNode)return;d("WebBloksCollectionScrollTo").scrollWebBloksCollectionToIndex(b,{index:c,isAnimated:e})}g["default"]=a}),98);
__d("WebBloksRichTextResizeToFit",["WebBloksRichTextContext","WebBloksUtils","react"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useContext,l=b.useLayoutEffect,m=b.useRef,n=b.useState,o=12,p=128;function a(a){var b=a.children;a=a.node;var d=m(null),e=m(null),f=m(null),g=k(c("WebBloksRichTextContext")),h=g.maxNumberOfLines;g=a.get("styles");a=r(g);var s=a.maxFontSize,t=a.minFontSize;g=n(function(){return q(o,p)});var u=g[0],v=g[1],w=j(function(){var a=u.min,b=u.max;function c(){var a;a=(a=d==null?void 0:(a=d.current)==null?void 0:a.offsetHeight)!=null?a:0;var b=window.getComputedStyle(d==null?void 0:d.current).getPropertyValue("line-height");return Math.floor(a/parseInt(b,10))}c=c()<=h;var e=Math.floor((a+b)/2);c?a=u.mid+1:b=u.mid-1;v(function(c){return babelHelpers["extends"]({},c,{mid:e,max:b,min:a})})},[h,u.max,u.mid,u.min]);l(function(){return w()},[w,h,u.max,u.mid,u.min]);l(function(){f.current!==h&&(f.current=h,v(function(){return q(t-1,s)}))},[s,h,t]);l(function(){var a=d.current;if(a!=null){var b=new ResizeObserver(function(){window.clearTimeout(e.current),e.current=window.setTimeout(function(){v(function(){return q(t,s)})},100)});b.observe(a);return function(){b.unobserve(a),window.clearTimeout(e.current)}}},[s,t]);return i.jsx("span",{ref:d,style:{fontSize:u.mid+"px",display:"inline-block"},children:b})}a.displayName=a.name+" [from "+f.id+"]";function q(a,b){return{min:a,max:b,mid:Math.floor(b/2)}}function r(a){var b=p,c=o;if(a!=null)for(var a=a,e=Array.isArray(a),f=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=a.length)break;g=a[f++]}else{f=a.next();if(f.done)break;g=f.value}g=g;switch(g==null?void 0:g.styleId){case"bk.style.textspan.ResizeToFitStyle":var h=g.get("min_text_size");h!=null&&(c=parseFloat(d("WebBloksUtils").toPx(h)));h=g.get("max_text_size");h!=null&&(b=parseFloat(d("WebBloksUtils").toPx(h)))}}return{maxFontSize:b,minFontSize:c}}g["default"]=a}),98);
__d("WebBloksDataComposableTextSpan",["WebBloksContext","WebBloksDataTextSpanUtils","WebBloksRichTextContext","WebBloksRichTextResizeToFit","WebBloksStyle","react","useWebBloksNode"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.useEffect,l=b.useMemo;function a(a){var b=a.node;a=a.externalStyle;var e=c("useWebBloksNode")(b),f=e[0];e=d("WebBloksStyle").useStyle(b,a);e=e.wrapper;var g=d("WebBloksContext").useWebBloksContext(),h=g.renderNode;g=j(c("WebBloksRichTextContext"));var m=g.isRootFontSizeEnabled,n=g.setIsRootFontSizeEnabled;g=d("WebBloksDataTextSpanUtils").useWebBloksBaseTextSpanProps(b,a);a=(a=f.spans)==null?void 0:a.map(function(a){return h(a)});var o=l(function(){var a;return(a=(a=f.styles)==null?void 0:a.some(function(a){return a.styleId==="bk.style.textspan.ResizeToFitStyle"}))!=null?a:!1},[f.styles]);k(function(){!m&&o&&n(!0)},[o,m,n]);return o?e(i.jsx(c("WebBloksRichTextResizeToFit"),{node:b,children:i.jsx("span",babelHelpers["extends"]({},g,{children:a}))})):e(i.jsx("span",babelHelpers["extends"]({},g,{children:a})))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WebBloksDataImageSpan",["WebBloksImageSpan","react"],(function(a,b,c,d,e,f,g){var h,i=h||d("react");function a(a){var b=a.externalStyle;a=a.node;return i.jsx(c("WebBloksImageSpan"),{node:a,externalStyle:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WebBloksDataTextSpan",["WebBloksContext","WebBloksDataTextSpanUtils","WebBloksStyle","react","useWebBloksNode"],(function(a,b,c,d,e,f,g){var h,i=h||d("react");function a(a){var b=a.node;a=a.externalStyle;var e=c("useWebBloksNode")(b);e=e[0];var f=d("WebBloksStyle").useStyle(b,a);f=f.wrapper;var g=d("WebBloksContext").useWebBloksContext();g=g.renderNode;g=e.text_provider!=null?g(e.text_provider):e.text;e=d("WebBloksDataTextSpanUtils").useWebBloksBaseTextSpanProps(b,a);return f(i.jsx("span",babelHelpers["extends"]({},e,{children:g})))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WebBloksScreenClose",["WebBloksBooleanUtils","WebBloksErrors"],(function(a,b,c,d,e,f,g){function a(a,b){b=b.getValues();var c=b.type,e=b.is_inclusive;b=b.screen_id;if(c==null)throw new(d("WebBloksErrors").WebBloksError)("WebBloksScreenCloseType must be provided to close a screen");a.objectSet.navigationManager.close(c,(a=b)!=null?a:void 0,e!=null?d("WebBloksBooleanUtils").isTrue(e):void 0)}g["default"]=a}),98);
__d("WebBloksScreenQueryUtils",[],(function(a,b,c,d,e,f){var g={"bk.data.screen.containerconfig.bottomsheet.Fb":!0};function a(a){a=a.styleId;return g[a]===!0}f.getIsOverlay=a}),66);
__d("WebBloksScreenOpen",["WebBloksErrors","WebBloksModelParser","WebBloksScreen","WebBloksScreenQueryUtils","webBloksPerformanceUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c,e){var f=a.bloksContext.objectSet.environment,g=f.screenQueryTemplate;f=f.traversalKeys;if(g==null)throw new(d("WebBloksErrors").WebBloksError)("Missing screen query template when calling bk.action.screen.Open");var h=b.get("props"),i=h.__infra__screen_id;c={initialContainerConfig:c,isOverlay:d("WebBloksScreenQueryUtils").getIsOverlay(c),screenId:i!=null?String(i):void 0};d("webBloksPerformanceUtils").addWebBloksPerformanceMark("--web-bloks-ttrc-start");i=d("WebBloksModelParser").parseBloksPayload(g,f);g=d("WebBloksScreen").WebBloksScreen.fromBloksParseResult(a.bloksContext.objectSet,i,c,h,b.get("url_relative_path"));a.objectSet.navigationManager.open(g,e)}g["default"]=a}),98);
__d("WebBloksScreenQueryScreenWrapper",["WebBloksContext","WebBloksStyle","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b=a.node;a=d("WebBloksContext").useWebBloksContext();var c=a.bloksContext,e=a.renderNode,f=a.executeOnNextTick;a=b.getValues();var g=a.content,h=a.container_config;a=a.navigation_callbacks;e=e(g);var l=a==null?void 0:a.get("on_enter"),m=a==null?void 0:a.get("on_exit");j(function(){if(h==null)return;var a=c.objectSet.navigationManager.getCurrentScreen();a==null?void 0:a.setContainerConfig(h)},[c.objectSet.navigationManager,h]);j(function(){if(l!=null){var a=c.objectSet.navigationManager.getCurrentScreen(),d=c.objectSet.navigationManager.getNavigationDirection();f(b,l,[c,d]);a==null?void 0:a.setOnExitCallback(m)}},[]);return i.jsx("div",{"data-bloks-name":b.styleId,className:k.root,children:e})}a.displayName=a.name+" [from "+f.id+"]";var k=d("WebBloksStyle").createStyles({root:{height:"100%",width:"100%",display:"flex",flexDirection:"column"}});g.WebBloksScreenQueryScreenWrapper=a}),98);
__d("WebBloksIconSpinner",["WebBloksStyle","WebBloksTheme","WebBloksUtils","react"],(function(a,b,c,d,e,f,g){var h,i=h||d("react");function a(a){a=a.color;var b="20",c=d("WebBloksTheme").useTheme().getTheme();a=a?d("WebBloksUtils").getRGBColorWithTheme(a,c):d("WebBloksTheme").WebBloksThemeVars["fig-blue-tint-10"];return i.jsx("div",{className:j.loader,"data-visualcompletion":"loading-state",children:i.jsxs("svg",{className:d("WebBloksStyle").classNames(j.iconSpinnerCircular,j.iconSpinnerRotating,j.iconSpinnerStroke),viewBox:"25 25 50 50",children:[i.jsx("title",{children:"Spinner"}),i.jsx("circle",{cx:"50",cy:"50",r:b,fill:"none",stroke:d("WebBloksTheme").WebBloksThemeVars["fig-blue-tint-90"]}),i.jsx("circle",{className:d("WebBloksStyle").classNames(j.iconSpinnerPath,j.iconSpinnerStroke),cx:"50",cy:"50",r:b,fill:"none",stroke:a})]})})}a.displayName=a.name+" [from "+f.id+"]";b=d("WebBloksStyle").keyframes({"100%":{transform:"rotate(360deg)"}});c=d("WebBloksStyle").keyframes({"0%":{strokeDasharray:"1, 200",strokeDashoffset:"0"},"50%":{strokeDasharray:"200, 200",strokeDashoffset:"0px"},"75%,100%":{strokeDasharray:"89, 200",strokeDashoffset:"-125px"}});var j=d("WebBloksStyle").createStyles({loader:function(a){var b;return b={},b[a]={margin:0,position:"relative",width:65},b[a+"::before"]={content:"''",display:"block",paddingTop:"100%"},b},iconSpinnerCircular:{bottom:0,height:"100%",left:0,margin:"auto",position:"absolute",right:0,top:0,transformOrigin:"center center",width:"100%"},iconSpinnerRotating:{animation:b+" 3s linear infinite"},iconSpinnerPath:{animation:c+" 2s ease-in-out infinite",strokeDasharray:"1, 200",strokeDashoffset:"0",strokeLinecap:"round"},iconSpinnerStroke:{strokeMiterlimit:"10",strokeWidth:"1.5"}});g["default"]=a}),98);
__d("WebBloksSpinner",["WebBloksIconSpinner","WebBloksStyle","react"],(function(a,b,c,d,e,f,g){var h,i=h||d("react");function a(a){var b=a.node;a=a.externalStyle;a=d("WebBloksStyle").useStyle(b,a);var e=a.wrapper,f=a.wrapperProps;a=a.style;return e(i.jsx("div",babelHelpers["extends"]({},f,d("WebBloksStyle").getStyleProps(a),{children:i.jsx(c("WebBloksIconSpinner"),{color:b.get("color")})})))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WebBloksEntryPointContainerContext",["WebBloksSSRUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=i.createContext({current:d("WebBloksSSRUtils").canUseDOM?document.body:null});function a(a){var b=a.children;a=a.value;return i.jsx(j.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g.WebBloksEntryPointContainerContext=j;g.WebBloksEntryPointContainerContextProvider=a}),98);
__d("useWebBloksAccessibilityModule",["WebBloksEnvironmentContext"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("WebBloksEnvironmentContext").useWebBloksEnvironment();a=a.accessibilityModule;return a}g["default"]=a}),98);
__d("WebBloksTooltip",["WebBloksContext","WebBloksDecoration","WebBloksEntryPointContainerContext","WebBloksStyle","WebBloksTheme","WebBloksUtils","react","useWebBloksAccessibilityModule","useWebBloksNode"],(function(a,b,c,d,e,f,g){var h,i;e=i||d("react");var j=h||(h=c("react")),k=e.useContext,l=e.useLayoutEffect,m=e.useMemo,n=e.useRef,o=e.useState,p=12;e=b(p);var q=d("WebBloksStyle").createStyles({root:{position:"absolute",left:"50%",transform:"translateX(-50%)"},contentWrapper:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center",width:"85vw"},content:{display:"inline-block"},arrow:{height:p,width:e,zIndex:1},arrowDropShadow:{zIndex:-1,position:"absolute"}});function a(a){var b,e=a.node;a=a.externalStyle;var f=d("WebBloksContext").useWebBloksContext();f=f.renderNode;f=f(e.getSubNode("child"));var g=c("useWebBloksNode")(e),h=g[0];g=d("WebBloksStyle").useStyle(e,a);a=g.wrapperProps;g=g.ref;var i=c("WebBloksDecoration")(h,g);g=c("useWebBloksAccessibilityModule")();g=g.FocusRegion;var l=k(d("WebBloksEntryPointContainerContext").WebBloksEntryPointContainerContext),o=n(null),t=e==null?void 0:e.get("arrow_type");l=r(l,o,e.get("position"),t);var u=l[0],w=l[1],x=d("WebBloksUtils").toPx(e.get("width")),y=d("WebBloksUtils").toPx(e.get("height")),z=d("WebBloksUtils").toPx(e.get("offset_horizontal")),A=d("WebBloksUtils").toPx(e.get("offset_vertical")),B=s(w);l=m(function(){var a=babelHelpers["extends"]({},B),b=parseFloat(z);t==="shark-fin"&&b>0?a.marginLeft=b+p/2:t==="shark-fin"?a.marginLeft=p/2:b>0&&(a.marginLeft=b);b=parseFloat(A);b>0&&(w==="top"?a.marginBottom=b:w==="bottom"&&(a.marginTop=b));return a},[t,z,A,w,B]);var C=m(function(){var a={};w==="bottom"&&(a.flexDirection="column-reverse");return a},[w]);b=d("WebBloksUtils").toPx(h==null?void 0:(b=h.decoration)==null?void 0:b.get("border_width"));var D=parseFloat(b);b=e.get("margin");var E=d("WebBloksUtils").toPx(b==null?void 0:b.get("start")),F=d("WebBloksUtils").toPx(b==null?void 0:b.get("end"));e=m(function(){var a=babelHelpers["extends"]({},i);parseFloat(x)>0&&(a.width=x);parseFloat(y)>0&&(a.height=y);t==="none"?(a.marginTop=p,a.marginBottom=p):(a.marginTop=-D,a.marginBottom=-D);E!=null&&(a.marginLeft=E);F!=null&&(a.marginRight=F);return a},[t,D,i,y,F,E,x]);var G=d("WebBloksTheme").useTheme().getTheme();b=m(function(){var a,b;a=h==null?void 0:(a=h.decoration)==null?void 0:a.get("border_color");b=h==null?void 0:(b=h.decoration)==null?void 0:b.get("border_themed_color");if(b!=null)return d("WebBloksUtils").getRGBColorWithTheme(b,G);else if(a!=null)return d("WebBloksUtils").convertRGBArrToString(d("WebBloksUtils").convertRGBOrHexStringToArr(a));return null},[h==null?void 0:h.decoration,G]);var H=m(function(){return D*(100/16)},[D]);u=v(u,w,t,H);var I=i.boxShadow!=null,J=m(function(){var a={};if(!I)return a;i.boxShadow!=null&&(a.filter="drop-shadow("+i.boxShadow+")");w==="top"?a.bottom=0:w==="bottom"&&(a.top=0);return a},[i.boxShadow,I,w]);return j.jsx("div",babelHelpers["extends"]({},a,{ref:o,className:q.root,style:l,children:j.jsxs("span",{className:q.contentWrapper,style:C,children:[i.boxShadow!=null?j.jsxs("svg",{label:"",preserveAspectRatio:"none",className:d("WebBloksStyle").classNames(q.arrow,q.arrowDropShadow),style:J,viewBox:"0 0 100 100",children:[j.jsx("title",{children:"Arrow drop shadow"}),j.jsx("polygon",{points:u})]}):null,j.jsx("span",{style:e,className:q.content,children:j.jsx(g,{children:f})}),t!=="none"?j.jsxs("svg",{label:"",preserveAspectRatio:"none",className:q.arrow,viewBox:"0 0 100 100",children:[j.jsx("title",{children:"Arrow pointing to tooltip"}),j.jsx("polyline",{points:u,strokeWidth:H,stroke:b,fill:e==null?void 0:e.background})]}):null]})}))}a.displayName=a.name+" [from "+f.id+"]";function r(a,b,c,d){var e=o("center"),f=e[0],g=e[1];e=o(c);var h=e[0],i=e[1];l(function(){var e,f;e=a==null?void 0:(e=a.current)==null?void 0:e.getBoundingClientRect();f=b==null?void 0:(f=b.current)==null?void 0:f.parentElement;f=f==null?void 0:f.getBoundingClientRect();if(e==null||f==null)return;if(d==="shark-fin"){var h=e.x+e.width/2,j=f.x+f.width/2;j>h?g("right"):g("left")}if(c!=null)return;j=e.y+e.height/2;h=f.y+f.height/2;h>j?i("top"):i("bottom")},[d,a,c,b]);return[f,h]}function b(a){return Math.sqrt(Math.pow(a,2)+Math.pow(a,2))}function s(a){return a==null?null:{top:{bottom:"100%"},bottom:{top:"100%"}}[a]}function t(a){return{bottom:"0,100 50,"+a+" 100,100",top:"0,0 50,"+(100-a)+" 100,0"}}function u(a){return{left:{bottom:a+",100 "+a+","+a+" 100,100",top:a+",0 "+a+","+(100-a)+" 100,0"},right:{bottom:"0,100 "+(100-a)+","+a+" "+(100-a)+",100",top:"0,0 "+(100-a)+","+(100-a)+" "+(100-a)+",0"}}}function v(a,b,c,d){if(b==null)return null;return c==="shark-fin"&&a!=="center"?u(d)[a][b]:t(d)[b]}g["default"]=a}),98);
__d("WebBloksTooltipContainer",["WebBloksContext","WebBloksSSRUtils","WebBloksStyle","react"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react"));c=h;var j=c.useCallback,k=c.useEffect;function a(a){var b=a.node;a=d("WebBloksContext").useWebBloksContext();var c=a.renderNode,e=a.executeCatch;a=Boolean(b.get("tooltip_visibility"));var f=b.get("on_visibility_update"),g=b.get("on_touch_outside"),h=c(b.getSubNode("tooltip"));c=c(b.getSubNode("child"));var k=j(function(){g!=null&&(e(b,f,[b,!1]),e(b,g,[b,!1]))},[e,b,g,f]);return i.jsxs(m,{onHide:k,isVisible:a,children:[c,a?h:null]})}a.displayName=a.name+" [from "+f.id+"]";var l=d("WebBloksStyle").createStyles({root:{position:"relative",zIndex:99}}),m=i.forwardRef(b);function b(a,b){var c=a.children,e=a.isVisible,f=a.onHide;k(function(){if(!d("WebBloksSSRUtils").canUseDOM||!e)return;var a=document.documentElement;a.addEventListener("click",f,{passive:!0,once:!0});return function(){a.removeEventListener("click",f,{passive:!0})}},[e,f]);a=j(function(a){a.key==="Escape"&&(a.stopPropagation(),f())},[f]);return i.jsx("span",{className:l.root,ref:b,onKeyPress:a,children:c})}b.displayName=b.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WebBloksTooltipConstants",[],(function(a,b,c,d,e,f){a=!1;f.ANIMATE_TOOLTIP_ON_ENTRY_AND_EXIT=a}),66);
__d("WebBloksTooltipHide",["WebBloksTooltipConstants"],(function(a,b,c,d,e,f,g){var h=!1;function a(a,b){var c=b.get("on_visibility_update");c!=null&&(b.set("tooltip_visibility",h),a.execute(c,[h,d("WebBloksTooltipConstants").ANIMATE_TOOLTIP_ON_ENTRY_AND_EXIT]))}g["default"]=a}),98);
__d("WebBloksTooltipShow",["WebBloksTooltipConstants"],(function(a,b,c,d,e,f,g){var h=!0;function a(a,b){var c=b.get("on_visibility_update");c!=null&&(b.set("tooltip_visibility",h),a.execute(c,[h,d("WebBloksTooltipConstants").ANIMATE_TOOLTIP_ON_ENTRY_AND_EXIT]))}g["default"]=a}),98);
__d("StdlibWebBloksPrimitives",["WebBloksAnimatedAddOnCompleteListener","WebBloksAnimatedBuild","WebBloksAnimatedCancel","WebBloksAnimatedCancelToken","WebBloksAnimatedCreate","WebBloksAnimatedCreateColor","WebBloksAnimatedCreateCubicBezier","WebBloksAnimatedCreateDimension","WebBloksAnimatedDestroy","WebBloksAnimatedGetCurrentColorValue","WebBloksAnimatedGetCurrentDimensionValue","WebBloksAnimatedGetCurrentPlayTime","WebBloksAnimatedGetCurrentValue","WebBloksAnimatedGetTotalDuration","WebBloksAnimatedIsInitialized","WebBloksAnimatedLoop","WebBloksAnimatedParallel","WebBloksAnimatedPause","WebBloksAnimatedResume","WebBloksAnimatedSequence","WebBloksAnimatedSetCurrentPlayTime","WebBloksAnimatedStagger","WebBloksAnimatedStart","WebBloksAnimatedStartToken","WebBloksCollectionSetIndex","WebBloksDataComposableTextSpan","WebBloksDataImageSpan","WebBloksDataTextSpan","WebBloksDummy","WebBloksScreenClose","WebBloksScreenOpen","WebBloksScreenQueryScreenWrapper","WebBloksSpinner","WebBloksTooltip","WebBloksTooltipContainer","WebBloksTooltipHide","WebBloksTooltipShow"],(function(a,b,c,d,e,f,g){a={"bk.components.Spinner":c("WebBloksSpinner"),"bk.components.screen.ScreenWrapper":d("WebBloksScreenQueryScreenWrapper").WebBloksScreenQueryScreenWrapper,"bk.data.ImageSpan":c("WebBloksDataImageSpan"),"bk.data.TextSpan":c("WebBloksDataTextSpan"),"bk.data.ComposableTextSpan":c("WebBloksDataComposableTextSpan"),"bk.components.TooltipContainer":c("WebBloksTooltipContainer"),"bk.components.Tooltip":c("WebBloksTooltip")};b={"bk.action.animated.AddOnCompleteListener":c("WebBloksAnimatedAddOnCompleteListener"),"bk.action.animated.Build":c("WebBloksAnimatedBuild"),"bk.action.animated.Cancel":c("WebBloksAnimatedCancel"),"bk.action.animated.Create":c("WebBloksAnimatedCreate"),"bk.action.animated.CancelToken":c("WebBloksAnimatedCancelToken"),"bk.action.animated.CreateColor":c("WebBloksAnimatedCreateColor"),"bk.action.animated.CreateDimension":c("WebBloksAnimatedCreateDimension"),"bk.action.animated.Destroy":c("WebBloksAnimatedDestroy"),"bk.action.animated.easing.CreateCubicBezier":c("WebBloksAnimatedCreateCubicBezier"),"bk.action.animated.GetCurrentColorValue":c("WebBloksAnimatedGetCurrentColorValue"),"bk.action.animated.GetCurrentDimensionValue":c("WebBloksAnimatedGetCurrentDimensionValue"),"bk.action.animated.GetCurrentPlayTime":c("WebBloksAnimatedGetCurrentPlayTime"),"bk.action.animated.GetCurrentValue":c("WebBloksAnimatedGetCurrentValue"),"bk.action.animated.GetTotalDuration":c("WebBloksAnimatedGetTotalDuration"),"bk.action.animated.IsInitialized":c("WebBloksAnimatedIsInitialized"),"bk.action.animated.Loop":c("WebBloksAnimatedLoop"),"bk.action.animated.Parallel":c("WebBloksAnimatedParallel"),"bk.action.animated.Pause":c("WebBloksAnimatedPause"),"bk.action.animated.Resume":c("WebBloksAnimatedResume"),"bk.action.animated.Sequence":c("WebBloksAnimatedSequence"),"bk.action.animated.SetCurrentPlayTime":c("WebBloksAnimatedSetCurrentPlayTime"),"bk.action.animated.Stagger":c("WebBloksAnimatedStagger"),"bk.action.animated.Start":c("WebBloksAnimatedStart"),"bk.action.animated.StartToken":c("WebBloksAnimatedStartToken"),"bk.action.collection.SetIndex":c("WebBloksCollectionSetIndex"),"bk.action.screen.Close":c("WebBloksScreenClose"),"bk.action.screen.Open":c("WebBloksScreenOpen"),"bk.action.tooltip.Show":c("WebBloksTooltipShow"),"bk.action.tooltip.Hide":c("WebBloksTooltipHide"),"bk.action.animated.CancelWithToken":c("WebBloksDummy"),"bk.action.animated.StartWithToken":c("WebBloksDummy")};e={};g.COMPONENTS=a;g.ACTIONS=b;g.EXTENSION_HANDLERS=e}),98);
__d("stdlibTraversalKeys",[],(function(a,b,c,d,e,f){"use strict";a={"bk.components.Tooltip":{subnodes:["_style","margin","child","decoration"],plural_subnodes:["extensions","child_templates"]},"bk.components.TooltipContainer":{subnodes:["_style","tooltip","child"],plural_subnodes:["extensions","child_templates"]},"bk.components.screen.ScreenWrapper":{subnodes:["_style","content","container_config","navigation_callbacks"],plural_subnodes:["extensions","child_templates"]},"bk.data.screen.CloseParams":{subnodes:["container_options"],plural_subnodes:["child_templates"]},"bk.data.screen.ScreenConfig":{subnodes:["prebundled_template"],plural_subnodes:["child_templates"]},"bk.AnyComponent":{subnodes:["style"],plural_subnodes:["extensions","child_templates"]},"bk.components.BoxDecoration":{subnodes:["background","foreground","corner_fill_themed_color","border_themed_color","shadow_themed_color","contrib","spot_shadow_color","ambient_shadow_color"],plural_subnodes:["child_templates"]}};b=a;f["default"]=b}),66);
__d("StdlibWebBloksEnvironmentConfig",["StdlibWebBloksPrimitives","stdlibTraversalKeys"],(function(a,b,c,d,e,f,g){a={actions:d("StdlibWebBloksPrimitives").ACTIONS,components:d("StdlibWebBloksPrimitives").COMPONENTS,extensionHandlers:d("StdlibWebBloksPrimitives").EXTENSION_HANDLERS,traversalKeys:c("stdlibTraversalKeys")};g.STDLIB_ENVIRONMENT_CONFIG=a}),98);
__d("WebBloksAppAccesibilityStyles",["WebBloksStyle","WebDriverConfig"],(function(a,b,c,d,e,f,g){var h="2px solid #0064E0";a=d("WebBloksStyle").createStyles({noOutlines:function(a){var b;return b={},b[a+" *"]={outline:"none"},b}});b=d("WebBloksStyle").createStyles({outlines:function(a){var b;return b={},b[a+" *"]={outline:"none",outlineOffset:"-1px"},b[a+' *[tabindex="0"]:focus']={outline:h},b[a+" *[role=button]:focus"]={outline:h},b[a+" *[role=link]:focus"]={outline:h},b[a+" a:focus"]={outline:h},b}});e=d("WebBloksStyle").createStylesIfSupported({type:"selector",selector:":focus-visible"},{outlines:function(a){var b;return b={},b[":root "+a+" *:focus"]={outline:"none"},b[a+' *[tabindex="0"]:focus-visible']={outline:h},b[a+" *[role=button]:focus-visible"]={outline:h},b[a+" *[role=link]:focus-visible"]={outline:h},b[a+" a:focus-visible"]={outline:h},b}});f={outlines:c("WebDriverConfig").isJestE2ETestRun?a.noOutlines:d("WebBloksStyle").classNames(b.outlines,e.outlines)};c=f;g["default"]=c}),98);
__d("WebBloksErrorRenderer",["WebBloksTheme","react"],(function(a,b,c,d,e,f,g){var h,i=h||d("react");function a(a){a=a.error;return i.jsxs("div",{style:{backgroundColor:d("WebBloksTheme").WebBloksThemeVars["error-or-destructive"],borderRadius:8,display:"flex",flexDirection:"column",margin:16,overflow:"hidden",padding:16,width:"100%",minHeight:400,minWidth:200,boxSizing:"border-box"},children:[i.jsxs("div",{style:{color:"white",fontWeight:"bolder",justifyContent:"center"},children:["[fb-only] WebBloks Render error ",a.name,": ",a.message]}),i.jsx("div",{style:{color:"white",fontWeight:"bolder",justifyContent:"center",fontSize:"75%"},children:"this will throw in production"}),i.jsx("pre",{style:{backgroundColor:d("WebBloksTheme").WebBloksThemeVars["primary-bg"],borderRadius:4,flexGrow:1,fontFamily:"monospace",marginTop:16,overflow:"scroll",padding:16,whiteSpace:"pre-wrap",lineBreak:"anywhere"},children:a.stack})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WebBloksFocusScopeQueries",[],(function(a,b,c,d,e,f){"use strict";function g(a,b){return a==="h1"||a==="h2"||a==="h3"||b.role==="heading"&&(b["aria-level"]===1||b["aria-level"]===2||b["aria-level"]===3)||b["aria-busy"]===!0||b.role==="progressbar"||b.role==="status"?!0:!1}function a(a,b){return b.tabIndex===-1&&!(b.disabled===!0||b.type==="hidden"||b["aria-disabled"]===!0||b["aria-hidden"]===!0)?!0:i(a,b)}function h(a){return a.type!=="hidden"&&a.type!=="file"}function b(a,b){return a==="input"&&h(b)}function i(a,b){if(b.tabIndex===-1||b.disabled===!0)return!1;if(b.tabIndex===0||b.contentEditable===!0)return!0;if(a==="a"||a==="area")return b.href!=null&&b.href!==""&&b.rel!=="ignore";return a==="input"?h(b):a==="button"||a==="textarea"||a==="select"||a==="iframe"||a==="embed"}b=[b,i];function j(a){return a.offsetWidth===0&&a.offsetHeight===0}function c(a,b,c){return!j(c)&&i(a,b)}function k(a,b){return a==="td"||a==="th"||b.role==="gridcell"||b.role==="columnheader"||b.role==="rowheader"?!0:!1}function d(a,b){return!k(a,b)&&i(a,b)}var l=[g,i];function e(a,b){return g(a,b)||i(a,b)}var m=function(a,b){return b["data-focus-target"]===!0&&(b["aria-busy"]===!0||b.role==="progressbar")?!0:!1};f.headerAndSpinnerFocusScopeQuery=g;f.focusableScopeQuery=a;f.tabbableScopeQuery=i;f.inputFirstTabbbableScopeQuery=b;f.displayedTabbableScopeQuery=c;f.tableCellScopeQuery=k;f.tableCellTabbableContentScopeQuery=d;f.headerFirstTabbableSecondScopeQuery=l;f.headerOrTabbableScopeQuery=e;f.topLoadingScopeQuery=m}),66);
__d("WebBloksScreenWrapper",["WebBloksEnvironmentContext","WebBloksFocusScopeQueries","WebBloksIconSpinner","WebBloksScreen","WebBloksScreenHost","WebBloksStyle","WebBloksTheme","WebBloksTreeResources","react","useWebBloksAccessibilityModule"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState;function l(){return i.jsx("div",babelHelpers["extends"]({},d("WebBloksStyle").getStyleProps({alignItems:"center",justifyContent:"center",flex:1}),{children:i.jsx(c("WebBloksIconSpinner"),{})}))}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.externalVariables,e=a.screen;a=d("WebBloksEnvironmentContext").useWebBloksEnvironment();var f=a.embedded,g=a.allowScreenOverflow;a=a.loadingFallback;var h=c("useWebBloksAccessibilityModule")();h=h.FocusRegion;var o=k(e.value),p=o[0],q=o[1];j(function(){e.stateChangeListener.on(q);return function(){e.stateChangeListener.off(q)}},[e]);o=e.objectSet;var r=e.options,s=r.loadingNavbar,t=r.loadingScreen,u=r.initialTreeResources,v=r.isOverlay;r=r.ownerContext;var w=o.environment.navigationTrackingUtils;return i.jsx(h,{autoRestoreFocus:!0,containFocusQuery:d("WebBloksFocusScopeQueries").tabbableScopeQuery,children:i.jsx("div",{className:d("WebBloksStyle").classNames(d("WebBloksStyle").WebBloksStyles.container,n.root,!f&&v!==!0&&n.rootBackground,e.options.isOverlay===!0&&n.rootOverlay),children:i.jsx("div",babelHelpers["extends"]({},d("WebBloksStyle").getStyleProps({display:"block",flexBasis:"100%",flexGrow:1,flexShrink:1,overflow:g===!0?"visible":"hidden"}),{children:p.state==="ready"?i.jsx(c("WebBloksScreenHost"),{screen:e,externalVariables:b},e.screenId):p.state==="error"?i.jsxs(i.Fragment,{children:[s&&m(o,s,u,r),i.jsx("div",{style:{marginTop:44,textAlign:"center"},children:(h=p.error.summary)!=null?h:"Failed to load"})]}):i.jsxs(i.Fragment,{children:[w==null?void 0:w.loadingIndicatorTrackingComponent,s&&m(o,s,u,r),t?m(o,t,u,r):(f=a)!=null?f:i.jsx(l,{})]})}))})})}a.displayName=a.name+" [from "+f.id+"]";function m(a,b,e,f){return i.jsx(c("WebBloksScreenHost"),{isLoadingNode:!0,screen:d("WebBloksScreen").WebBloksScreen.fromBloksModel(a,b,(a=e)!=null?a:d("WebBloksTreeResources").WebBloksTreeResources.empty(),{isEmbedded:!0,ownerContext:(b=f)!=null?b:void 0})})}m.displayName=m.name+" [from "+f.id+"]";var n=d("WebBloksStyle").createStyles({rootBackground:{backgroundColor:d("WebBloksTheme").WebBloksThemeVars["screen-wrapper-bg"]},root:{color:d("WebBloksTheme").WebBloksThemeVars["primary-text"],flexDirection:"column",height:"100%",width:"100%"},rootOverlay:{position:"absolute",top:0,left:0,right:0,bottom:0}});g.ScreenWrapper=a;g.renderLoadingNode=m}),98);
__d("WebBloksModalWrapper",["WebBloksFocusScopeQueries","WebBloksScreenHost","WebBloksScreenWrapper","WebBloksStyle","react","useWebBloksAccessibilityModule"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState;function a(a){var b=a.externalVariables,e=a.modal;a=c("useWebBloksAccessibilityModule")();a=a.FocusRegion;var f=k(e.value),g=f[0],h=f[1];j(function(){e.stateChangeListener.on(h);return function(){e.stateChangeListener.off(h)}},[e]);f=e.objectSet;var m=e.options,n=m.loadingScreen,o=m.initialTreeResources;m=m.ownerContext;b=g.state==="ready"?i.jsx(c("WebBloksScreenHost"),{screen:e,externalVariables:b},e.screenId):g.state==="loading"&&n?d("WebBloksScreenWrapper").renderLoadingNode(f,n,o,m):null;e.options.outerScreenComponent?b=e.options.outerScreenComponent(b):b=i.jsx("div",{className:l.modalContainer,children:b});return i.jsx(a,{autoRestoreFocus:!0,containFocusQuery:d("WebBloksFocusScopeQueries").tabbableScopeQuery,children:i.jsx("div",{"aria-modal":!0,role:"dialog",children:b})})}a.displayName=a.name+" [from "+f.id+"]";var l=d("WebBloksStyle").createStyles({modalContainer:{position:"absolute",top:0,left:0,right:0,bottom:0}});g["default"]=a}),98);
__d("WebBloksCacheUtils",["WebBloksInt64","WebBloksUtils"],(function(a,b,c,d,e,f,g){var h=1e3;function a(a,b){var d,e=Date.now();b=(d=c("WebBloksInt64")).fromString(b).multiply(d.fromNumber(h));a=d.fromString(a.responseTimestampMs).add(b);return a.greaterThan(d.fromNumber(e))}function b(a,b){return a+":"+i(b)}function i(a,b){b===void 0&&(b=!1);var c=Array.isArray(a),e=d("WebBloksUtils").isObject(a);if(c||e){var f=Object.keys(a);if(f.length){f=f.sort();var g=[];for(var h=0;h<f.length;h++){var j=f[h],k=a[j];if(b&&k==null&&e)continue;var l;d("WebBloksUtils").isObject(k)||Array.isArray(k)?l=i(k,b):l=JSON.stringify(k);g.push(j+":"+l)}if(c)return"["+g.join(",")+"]";else return"{"+g.join(",")+"}"}}return JSON.stringify(a)}g.isResponseFresh=a;g.generateCacheKey=b}),98);
__d("WebBloksComponentQueryFetcher",["WebBloksCacheUtils","WebBloksErrors","WebBloksModelParser","WebBloksUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c){this.$1=new Set(),this.$2=a,this.$3=b,this.$4=c}var b=a.prototype;b.runQuery=function(a,b,c){var e=this.$3.get(a);if(e!=null&&d("WebBloksCacheUtils").isResponseFresh(e,b.cacheTtlSeconds)){e={result:e.response,success:!0};c(e)}else this.$5(a,b,c)};b.$5=function(a,b,c){var e=this;if(this.$1.has(a))return;this.$1.add(a);var f=d("WebBloksUtils").nullthrows(this.$2);f.fetchComponentQuery(b.appId,b.params).then(function(f){var g=new Map();for(var h=f.components,i=Array.isArray(h),j=0,h=i?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(i){if(j>=h.length)break;k=h[j++]}else{j=h.next();if(j.done)break;k=j.value}k=k;var l=d("WebBloksModelParser").parseBloksPayload(k.payload,e.$4);g.set(k.id,l)}k={components:g,prefetchScript:f.prefetchScript};l={result:k,success:!0};e.$3.set(a,{response:k,responseTimestampMs:Date.now().toString(),queryPurpose:b.queryPurpose});e.$1["delete"](a);c(l)})["catch"](function(a){throw new(d("WebBloksErrors").WebBloksError)("Failed to fetch async component for appId: "+b.appId,a)})};return a}();g["default"]=a}),98);
__d("WebBloksComponentQueryStore",["WebBloksCacheUtils","WebBloksComponentQueryFetcher","WebBloksFunctionTableManager","WebBloksModelParser"],(function(a,b,c,d,e,f,g){a=function(){function a(a,b){this.$2=[],this.$4=b,this.$1=new Map(),this.$3=new(c("WebBloksComponentQueryFetcher"))(a,this.$1,b)}var b=a.prototype;b.getCachedComponentsOrSubscribeToQuery=function(a,b,c,e){a=d("WebBloksCacheUtils").generateCacheKey(a,b);b=this.$1.get(a);if(b!=null&&d("WebBloksCacheUtils").isResponseFresh(b,c)){c={result:b.response,success:!0};return{value:c,cancelToken:null}}else{b=this.$5(e,a);return{value:null,cancelToken:b.token}}};b.fetch=function(a,b,c,e){var f=this,g=d("WebBloksCacheUtils").generateCacheKey(a,b),h=d("WebBloksFunctionTableManager").WebBloksFunctionTableManager.getKnownFt(a);b=babelHelpers["extends"]({},b);h!=null&&(b.__knownFt=h);h={appId:a,params:b,cacheTtlSeconds:c,queryPurpose:e};this.$3.runQuery(g,h,function(a){f.$6(g,a)})};b.invalidate=function(a,b){a=d("WebBloksCacheUtils").generateCacheKey(a,b);this.$1["delete"](a)};b.writeInitialPayload=function(a,b,c){a=d("WebBloksCacheUtils").generateCacheKey(a,b);b=new Map();for(var e=c.components,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;var i=d("WebBloksModelParser").parseBloksPayload(h.payload,this.$4);b.set(h.id,i)}h={components:b,prefetchScript:c.prefetchScript};this.$1.set(a,{response:h,responseTimestampMs:Date.now().toString(),queryPurpose:"PREFETCH"})};b.$5=function(a,b){this.$2=this.$2.filter(function(a){return!a.token.canceled});a=new i(a,b);this.$2.push(a);return a};b.$6=function(a,b){var c=[],d=[];for(var e=this.$2,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;h.token.canceled||(h.cacheKey===a?c.push(h.callback):d.push(h))}this.$2=d;for(h=0;h<c.length;h++){g=c[h];g(a,b)}};return a}();var h=function(){function a(){this.canceled=!1}var b=a.prototype;b.run=function(){this.canceled=!0};return a}(),i=function(a,b){this.callback=a,this.cacheKey=b,this.token=new h()};g["default"]=a}),98);
__d("WebBloksGlobalState",["WebBloksDataModule","WebBloksErrors"],(function(a,b,c,d,e,f,g){var h=function(){function a(a){this.variableIds=new Map(),this.observer=a}var b=a.prototype;b.add=function(a,b){var c;c=(c=this.variableIds.get(a))!=null?c:new Set();c.add(b);this.variableIds.set(a,c)};return a}();a=function(){function a(){this.store=new Map(),this.subscribers=[]}var b=a.prototype;b.fetchAndSubscribe=function(a,b,c,d){var e=this.store.get(a);e==null&&(e=b,this.store.set(a,b));return this.$1(a,e,c,d)};b.publishAndSubscribe=function(a,b,c,d){this.publish(a,b);return this.$1(a,b,c,d)};b.publish=function(a,b){if(b==null){if(!this.store.has(a))return}else if(b===this.store.get(a))return;this.store.set(a,b);for(var c=this.subscribers,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;var g=f.observer;f=f.variableIds.get(a);if(f)for(var f=f,h=Array.isArray(f),i=0,f=h?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=f.length)break;j=f[i++]}else{i=f.next();if(i.done)break;j=i.value}j=j;g.enqueueVariableUpdateOperation(j,b)}}};b.subscriberForObserver=function(a){if(a==null)return null;for(var b=this.subscribers,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;if(e.observer===a)return e}e=new h(a);this.subscribers.push(e);return e};b.$1=function(a,b,c,d){d=this.subscriberForObserver(d);d&&d.add(a,c);return{initialValue:b}};return a}();b=function(){function a(a){this.store=a}var b=a.prototype;b.setup=function(a,b,c,e){var f;a=b.data.key;if(a==null)throw new(d("WebBloksErrors").WebBloksError)("Key not found in global state data manifest entry");e=d("WebBloksDataModule").getDataEntryInitialValue(b,e);f=(f=(f=b.data)==null?void 0:f.mode)!=null?f:"d";b=b.id;if(f==="p")return this.store.publishAndSubscribe(a,e,b,c);else return this.store.fetchAndSubscribe(a,e,b,c)};b.publish=function(a,b){this.store.publish(a,b)};return a}();c=new a();g.WebBloksGlobalStateStore=a;g.WebBloksGlobalStateDataModule=b;g.GLOBAL_STATE_STORE=c}),98);
__d("WebBloksNavigationManagerV2",["WebBloksErrors","WebBloksSSRUtils","WebBloksScreen","WebBloksUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=Date.now().toString(36)+Math.random().toString(36).substring(2);a=function(){function a(a,b){var c=this;this.screenChangeListener=new(d("WebBloksUtils").EventEmitter)();this.screenStacks=[];this.modals=[];this.screensCache=new Map();this.navigationDirection="forward";this.pendingCloses=[];this.pendingOpen=null;this.currentScreenPointer={stackIndex:-1,screenIndex:-1,isModal:!1,modalIndex:-1};this.$1=function(a){a=a.state;c.$3(a)};this.$2=function(){document.visibilityState==="hidden"&&(c.pendingCloses.length>0&&c.pendingCloses.map(function(){return c.pendingCloses.pop()==null?void 0:c.pendingCloses.pop()()}))};this.disableHistoryStack=d("WebBloksSSRUtils").canUseDOM?a:!0;this.enableCometRouter=b;if(this.disableHistoryStack)return;if(this.enableCometRouter)return;window.addEventListener("popstate",this.$1);window.addEventListener("visibilitychange",this.$2)}var b=a.prototype;b.$3=function(a){var b;if(!a.isWebBloks)return;this.navigationDirection=this.$4(babelHelpers["extends"]({},a.screenPointer));b=(b=this.getCurrentModal())!=null?b:this.getCurrentScreen();b==null?void 0:b.onExit(this.navigationDirection);b==null?void 0:b.dismiss();b=this.screensCache.get(a.screenId);(a.sessionId!==h||b==null)&&window.location.reload();this.currentScreenPointer=babelHelpers["extends"]({},a.screenPointer);this.notifyChanged();if(this.pendingCloses.length>0){b=this.pendingCloses.pop();b&&b()}if(this.pendingOpen&&this.pendingCloses.length===0){b=this.pendingOpen;this.pendingOpen=null;b()}a.pageTitle!=null&&d("WebBloksSSRUtils").canUseDOM&&(document.title=a.pageTitle)};b.open=function(a,b,c){var d=this;c===void 0&&(c=!1);this.$5("open",function(){d.$6(a,b,c)})};b.$6=function(a,b,c){var d;c===void 0&&(c=!1);d=(d=this.getCurrentModal())!=null?d:this.getCurrentScreen();d==null?void 0:d.onExit("forward");this.navigationDirection="forward";if(a.options.isModal===!0){d=this.currentScreenPointer;var e=d.stackIndex;d=d.modalIndex;e=this.$7(a,e);this.modals.splice(d+1);this.modals.push(e);this.$8({isModal:!0,modalIndex:this.modals.length-1});this.$9(a,c);this.notifyChanged();return}d=this.getModalCount();d>0&&(this.modals.splice(0),this.$8({isModal:!1,modalIndex:-1}),this.$10(d));if(b===!0){e=this.$11();e!=null?this.$12(a,e):this.$13(a)}else this.$13(a);this.$9(a,c);this.notifyChanged()};b.close=function(a,b,c){var d=this;this.$5("close",function(){d.$14(a,b,c)})};b.$14=function(a,b,c){var e=this.currentScreenPointer.isModal,f=this.$11();if(f==null)throw new(d("WebBloksErrors").WebBloksError)("Tried closing a screen when there are no modals or stacks");this.navigationDirection="back";var g=0;switch(a){case"close":if(e)this.$15("modal"),g=this.getModalCount(),this.$16();else{this.$15("screen");var h=this.currentScreenPointer.screenIndex;g=h+1;this.$17()}break;case"pop":e?(this.$15("modal"),this.$8({modalIndex:this.currentScreenPointer.modalIndex-1})):(this.$15("screen"),this.$8({screenIndex:this.currentScreenPointer.screenIndex-1}));g=1;break;case"pop_to_screen":this.$15("screen");h=this.currentScreenPointer.screenIndex;var i=!1;while(!i&&h>=0){var j=this.screensCache.get(f[h]);j=j==null?void 0:j.screenId;j!==b?(h--,g++):(i=!0,c===!0&&(h--,g++))}if(!i)throw new(d("WebBloksErrors").WebBloksError)("Tried popping to a screenId that does not exist in the current stack");this.$8({screenIndex:h});break;case"close_all":e?(this.$15("modal"),g=this.getModalCount()+this.getScreenCount()):(this.$15("screen"),g=this.getScreenCount());this.$18();break}!e&&(a==="pop"||a==="pop_to_screen")&&this.currentScreenPointer.screenIndex===-1&&this.$17();e&&a==="pop"&&this.currentScreenPointer.modalIndex===-1&&this.$16();this.$10(g);this.notifyChanged()};b.getVisibleScreens=function(){var a=[],b=!1,c=this.getCurrentScreen();c!=null&&(a.push(c),c.options.isOverlay!==!0&&(b=!0));c=this.currentScreenPointer.stackIndex-1;while(c>-1&&!b){var d=this.screenStacks[c];d=d[d.length-1];d=this.screensCache.get(d);d!=null&&(a.push(d),d.options.isOverlay!==!0&&(b=!0));c--}return{screens:a.reverse(),modal:this.getCurrentModal()}};b.notifyChanged=function(){this.screenChangeListener.emit(this.getVisibleScreens())};b.destroy=function(){window.removeEventListener("popstate",this.$1),window.removeEventListener("visibilitychange",this.$2),this.$18(),this.enableCometRouter||(this.screensCache.forEach(function(a){return a.destroy()}),this.screensCache.clear())};b.refresh=function(){var a;a=(a=this.screenStacks[this.currentScreenPointer.stackIndex])==null?void 0:a[this.currentScreenPointer.screenIndex];a=this.screensCache.get(a);if(a!=null){var b=a.uri,c=a.appId,e=a.params,f=a.options;b=b!=null?d("WebBloksScreen").WebBloksScreen.fromURI(a.objectSet,b,c,e,f):c!=null?d("WebBloksScreen").WebBloksScreen.fromAppId(a.objectSet,c,e,f):null;if(b){this.push(b,!0);return}}};b.replaceState=function(a){if(this.disableHistoryStack)return;var b=history.state;b.uri!==a&&window.history.replaceState(b,null,a)};b.replacePageTitle=function(a){if(this.disableHistoryStack)return;var b=history.state;b.pageTitle!==a&&d("WebBloksSSRUtils").canUseDOM&&(document.title=a)};b.attachAndTriggerPopStateHandler=function(){window.addEventListener("popstate",this.$1),window.addEventListener("visibilitychange",this.$2),this.$3(window.history.state)};b.push=function(a,b){this.open(a,!0,b)};b.pop=function(){this.close("pop")};b.popAllModals=function(){this.getModalCount()>0&&this.close("close")};b.getModalCount=function(){return!this.currentScreenPointer.isModal?0:this.currentScreenPointer.modalIndex+1};b.getScreenCount=function(a){a===void 0&&(a=!1);var b=this.currentScreenPointer,c=b.stackIndex;b=b.screenIndex;if(c<0)return 0;b=b+1;if(a)return b;a=this.screenStacks.slice(0,c).reduce(function(a,b){return a+b.length},0);return b+a};b.getCurrentScreen=function(){var a=this.currentScreenPointer,b=a.stackIndex;a=a.screenIndex;if(b<0||a<0)return null;b=this.screenStacks[b];if(b==null)return null;b=b[a];return this.screensCache.get(b)};b.getCurrentModal=function(){var a=this.currentScreenPointer,b=a.isModal;a=a.modalIndex;if(!b||a<0)return null;b=this.modals[a];return this.screensCache.get(b)};b.getNavigationDirection=function(){return this.navigationDirection};b.$11=function(){if(this.currentScreenPointer.isModal===!0)return this.modals;var a=this.currentScreenPointer.stackIndex;return a!=null?this.screenStacks[a]:null};b.$12=function(a,b){var c=this.currentScreenPointer,d=c.stackIndex;c=c.screenIndex;var e=b.splice(c+1);this.$19(e);e=this.screenStacks.splice(d+1);for(var e=e,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;this.$19(h)}h=this.modals.splice(0);this.$19(h);b.push(this.$7(a,d));this.$8({screenIndex:c+1})};b.$13=function(a){var b=this.currentScreenPointer,c=b.stackIndex;b=b.screenIndex;var d=this.screenStacks[c];if(d!=null){d=d.splice(b+1);this.$19(d)}b=this.screenStacks.splice(c+1);for(var d=b,b=Array.isArray(d),e=0,d=b?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(b){if(e>=d.length)break;f=d[e++]}else{e=d.next();if(e.done)break;f=e.value}f=f;this.$19(f)}f=this.modals.splice(0);this.$19(f);this.screenStacks.push([this.$7(a,c+1)]);this.$8({stackIndex:c+1,screenIndex:0,isModal:!1})};b.$19=function(a){for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;var e=this.screensCache.get(d);e!=null&&e.destroy();this.screensCache["delete"](d)}};b.$15=function(a){if(!this.disableHistoryStack)return;var b;a==="screen"?b=this.getCurrentScreen():b=this.getCurrentModal();if(b==null)throw new(d("WebBloksErrors").WebBloksError)("Unexpected null "+a+" while executing onExit callback");b.onExit("back");b.dismiss()};b.$4=function(a){var b=this.currentScreenPointer;a=babelHelpers["extends"]({},b,a);if(b.isModal&&!a.isModal)return"back";if(!b.isModal&&a.isModal)return"forward";if(b.isModal&&a.isModal)return a.modalIndex>b.modalIndex?"forward":"back";if(a.stackIndex!==b.stackIndex)return a.stackIndex>b.stackIndex?"forward":"back";else return a.screenIndex>b.screenIndex?"forward":"back"};b.$8=function(a){var b=this.$4(a);if(b==="back"&&!this.disableHistoryStack)return;this.currentScreenPointer=babelHelpers["extends"]({},this.currentScreenPointer,a)};b.$16=function(){this.$8({isModal:!1,modalIndex:-1})};b.$17=function(){var a=this.currentScreenPointer.stackIndex;a===0?this.$8({stackIndex:-1,screenIndex:-1,isModal:!1,modalIndex:-1}):this.$8({stackIndex:a-1,screenIndex:this.screenStacks[a-1].length-1})};b.$18=function(){this.$8({stackIndex:-1,screenIndex:-1,isModal:!1,modalIndex:-1})};b.$9=function(a,b){if(this.disableHistoryStack)return;var c=a.uri!=null?a.uri:"#",e=null;d("WebBloksSSRUtils").canUseDOM&&(e=document.title);a={uri:c,pageTitle:e,screenId:this.$7(a,this.currentScreenPointer.stackIndex),appId:a.appId,isWebBloks:!0,sessionId:h,screenPointer:babelHelpers["extends"]({},this.currentScreenPointer),key:(e=window.history.state)==null?void 0:e.key};b?window.history.replaceState(a,null,c):window.history.pushState(a,null,c)};b.$10=function(a){if(this.disableHistoryStack)return;window.history.go(-a)};b.$7=function(a,b){b=a.options.isModal===!0?"modal":"stack_"+b;b=b+":"+a.screenId;a.screenIdWithStackIndex=b;this.screensCache.has(b)||this.screensCache.set(b,a);return b};b.$5=function(a,b){if(this.disableHistoryStack){b();return}if(a==="open"){this.pendingCloses.length?this.pendingOpen=b:b();return}if(a==="close"){this.pendingOpen=null;this.pendingCloses.length>0?this.pendingCloses.push(b):(this.pendingCloses.push(null),b());return}};return a}();g.NavigationManagerV2=a}),98);
__d("WebBloksToast",["WebBloksAbstractButton","WebBloksStyle","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useCallback,k=d("WebBloksStyle").createStyles({root:{backgroundColor:"#262626",flexDirection:"row",minHeight:"44px",padding:"0 16px!important",width:"100%"},messageContainer:{flexGrow:1,flexShrink:1,justifyContent:"center",minWidth:"200px"},message:{color:"#fff",fontSize:"14px",lineHeight:"18px",maxHeight:"72px",overflow:"hidden",padding:"12px 0!important"}});function a(a){var b=a.actionText,e=a.className,f=a.onActionClick;a=a.text;var g=j(function(a){a.preventDefault(),f&&f(a)},[f]);return i.jsxs("div",{className:d("WebBloksStyle").classNames(e,k.root),children:[i.jsx("div",{className:k.messageContainer,children:i.jsx("p",{className:k.message,children:a})}),b!=null&&i.jsx(c("WebBloksAbstractButton"),{title:b,onClick:g})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WebBloksToastManager",["WebBloksToast","WebBloksUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={autoDismissDurationMs:3e3,showAnimationDurationMs:200,dismissAnimationDurationMs:200,showAnimationInterpolator:"ease-out",dismissAnimationInterpolator:"ease-out"};a=function(){function a(a){this.$1=null,this.$2=[],this.$3=!1,this.$5=[],this.$4=a}var b=a.prototype;b.getDefaultCurrentToast=function(){return null};b.getEmptyState=function(){return{currentToast:null,pendingToasts:[],isToastHiding:!1}};b.getCurrentToast=function(){return this.$1};b.getPendingToasts=function(){return this.$2};b.enqueueBloksModelToast=function(a,b,c){var d;c=this.$6(c);this.$2.push({id:(d=b.getId())!=null?d:b.clientId+"",type:"bloksModel",context:a,model:b,options:c,timeoutID:null});this.$7()};b.enqueueBloksParseResultToast=function(a,b,c){var d;c=this.$6(c);var e=b.unboundModel;this.$2.push({id:(d=e.getId())!=null?d:e.clientId+"",type:"bloksParseResult",context:a,parseResult:b,options:c,timeoutID:null});this.$7()};b.enqueueSimpleToast=function(a){this.$2.push({id:d("WebBloksUtils").getNextGlobalBloksClientId()+"",type:"simple",component:i.jsx(c("WebBloksToast"),{text:a}),options:j,timeoutID:null}),this.$7()};b.enqueueMiniToast=function(a){this.$2.push({id:d("WebBloksUtils").getNextGlobalBloksClientId()+"",type:"mini",component:a,options:j,timeoutID:null}),this.$7()};b.dismissToastWithID=function(a,b){this.$1!=null&&this.$1.id===a?this.$8():this.$2=this.$2.filter(function(b){return b.id!==a})};b.$8=function(){var a=this,b=this.$1;if(b==null)return;window.clearTimeout(b.timeoutID);this.$3=!0;this.$9();if(b.type==="bloksModel"){var c=b.options.onDismiss;c!=null&&b.context.execute(c,[])}b.timeoutID=window.setTimeout(function(){a.$3=!1,a.$1=null,a.$9(),a.$7()},b.options.dismissAnimationDurationMs);this.$1=b};b.$7=function(){var a=this;if(this.$1!==null)return;if(this.$2.length===0)return;var b=this.$2.shift();if(b!=null){var c=window.setTimeout(function(){return a.$8()},b.options.autoDismissDurationMs+b.options.showAnimationDurationMs);b.timeoutID=c;if(b.type==="bloksModel"){c=b.options.onShow;c!=null&&b.context.execute(c,[])}}this.$1=b;this.$9()};b.$6=function(a){var b;a=a.getValues();var c=this.parseToastInterpolator(a.show_animation_interpolator,j.showAnimationInterpolator),d=this.parseToastInterpolator(a.dismiss_animation_interpolator,j.dismissAnimationInterpolator);return{autoDismissDurationMs:(b=a.auto_dismiss_duration_ms)!=null?b:j.autoDismissDurationMs,showAnimationDurationMs:(b=a.show_animation_duration_ms)!=null?b:j.showAnimationDurationMs,dismissAnimationDurationMs:(b=a.dismiss_animation_duration_ms)!=null?b:j.dismissAnimationDurationMs,showAnimationInterpolator:c,dismissAnimationInterpolator:d,onShow:a.on_show,onDismiss:a.on_dismiss}};b.parseToastInterpolator=function(a,b){if(a==null)return b;b=a.getValues();a=b.x_a;var c=b.y_a,d=b.x_b;b=b.y_b;return"cubic-bezier("+a+","+c+","+d+","+b+")"};b.addListener=function(a){var b=this;this.$5.push(a);return{remove:d("WebBloksUtils").once(function(){d("WebBloksUtils").removeFromArray(b.$5,a)})}};b.$9=function(){var a=this;this.$5.forEach(function(b){return window.setTimeout(function(){b({currentToast:a.$1,pendingToasts:a.$2,isToastHiding:a.$3})},0)})};return a}();g["default"]=a}),98);
__d("WebBloksObjectSet",["WebBloksComponentQueryStore","WebBloksContext","WebBloksErrors","WebBloksGlobalState","WebBloksIsUnitTest","WebBloksModel","WebBloksNavigationManagerV2","WebBloksNode","WebBloksPando","WebBloksParseResult","WebBloksSSRUtils","WebBloksScreen","WebBloksToastManager","WebBloksTreeManager","WebBloksTreeResources"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b;this.$1=new Map();this.environment=a;this.globalStateDataModule=new(d("WebBloksGlobalState").WebBloksGlobalStateDataModule)((b=a.globalStateStore)!=null?b:d("WebBloksGlobalState").GLOBAL_STATE_STORE);this.pandoDataModule=new(d("WebBloksPando").WebBloksPandoDataModule)();this.waBloksStateDataModule=a.waBloksStateDataModule;this.navigationManager=new(d("WebBloksNavigationManagerV2").NavigationManagerV2)(a.disableHistoryStack,a.enableCometRouter);this.toastManager=new(c("WebBloksToastManager"))(this);this.componentQueryStore=new(c("WebBloksComponentQueryStore"))(a.appLoader,a.traversalKeys)}var b=a.prototype;b.createInitialScreenWithParseResult=function(a,b){this.navigationManager.push(d("WebBloksScreen").WebBloksScreen.fromBloksParseResult(this,a,void 0,b,window.location.href),!0)};b.createInitialScreenWithAppResponse=function(a,b){this.navigationManager.push(d("WebBloksScreen").WebBloksScreen.fromBloksAppResponse(this,a,void 0,b,window.location.href),!0)};b.createInitialScreenWithAppId=function(a,b){this.navigationManager.push(d("WebBloksScreen").WebBloksScreen.fromAppId(this,a,b),!0)};b.createInitialScreenWithScreenQuery=function(a){var b=a.screen_query_payload,e=b.app_id,f=b.params;b=b.component_query_payload;this.componentQueryStore.writeInitialPayload(e,f,b);e=a.screen_query_payload.open_screen_script;f=new(c("WebBloksParseResult"))(new(c("WebBloksModel"))("-2",{}),new(d("WebBloksTreeResources").WebBloksTreeResources)());b=new(c("WebBloksTreeManager"))(f);a=new(d("WebBloksContext").WebBloksContext)(b,this);f=new(d("WebBloksContext").WebBloksInterpreterEnvironment)(a);f.execute(e,[])};b.getComponentForName=function(a){var b=this.getNullableComponentForName(a);if(b==null)throw new(d("WebBloksErrors").WebBloksUnknownComponentError)(a);return b};b.getNullableComponentForName=function(a){var b=this.$1.get(a);if(b)return b;b=this.environment.components[a];if(b==null)return null;b=d("WebBloksNode").createBridgedComponent(a,b);this.$1.set(a,b);return b};b.getContainerForName=function(b){var a=this.environment.containerConfigs[b];if(a==null)throw new(d("WebBloksErrors").WebBloksUnknownContainerConfigError)("Container config "+b+" not found");return a};b.getAsset=function(a){var b;b=(b=this.environment.staticAssets)==null?void 0:b[a];b==null&&this.environment.logger.mustfix("StaticAsset is not configured '%s'",a);return b};return a}();g["default"]=a}),98);
__d("WebBloksToastPresenter",["WebBloksScreen","WebBloksScreenHost","WebBloksStyle","WebBloksTreeResources","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState,l=d("WebBloksStyle").createStyles({root:{display:"flex",justifyContent:"center"},defaultRoot:{bottom:0,left:0,position:"fixed !important",right:0,width:"100%",zIndex:100},defaultInnerContainer:{transform:"translateY(0)"},defaultInnerContainerHidden:{transform:"translateY(100%)"},miniToastRoot:{alignItems:"center !important",boxSizing:"border-box",bottom:"50%",display:"flex",flexDirection:"column",left:0,overflow:"hidden",position:"fixed !important",right:0,zIndex:100},miniToastInnerContainer:{opacity:1,transitionProperty:"opacity!important"},miniToastInnerContainerHidden:{opacity:0,transitionProperty:"opacity!important"}});function a(a){a=a.objectSet;var b=a.toastManager,e=k(function(){return b.getEmptyState()}),f=e[0],g=e[1];j(function(){var a=b.addListener(g);return function(){a.remove()}},[b]);e=f.currentToast;f=f.isToastHiding;var h=d("WebBloksStyle").classNames(l.defaultInnerContainer,(e==null||f)&&l.defaultInnerContainerHidden),m=d("WebBloksStyle").classNames(l.miniToastInnerContainer,(e==null||f)&&l.miniToastInnerContainerHidden),n=null,o=null,p=0,q="ease-out";if(e!=null){switch(e.type){case"simple":n=e.component;break;case"bloksModel":var r=d("WebBloksScreen").WebBloksScreen.fromBloksModel(a,e.model,d("WebBloksTreeResources").WebBloksTreeResources.empty(),{isModal:!1,isEmbedded:!0});n=i.jsx(c("WebBloksScreenHost"),{screen:r},r.screenId);break;case"bloksParseResult":r=d("WebBloksScreen").WebBloksScreen.fromBloksParseResult(a,e.parseResult,{isModal:!1,isEmbedded:!0});n=i.jsx(c("WebBloksScreenHost"),{screen:r},r.screenId);break;case"mini":o=e.component;break}!f?(p=e.options.dismissAnimationDurationMs/1e3,q=e.options.dismissAnimationInterpolator):(p=e.options.showAnimationDurationMs/1e3,q=e.options.showAnimationInterpolator)}return i.jsxs("div",{name:"WebBloksToastPresenter",className:l.root,children:[i.jsx("div",{className:l.defaultRoot,children:i.jsx("div",{className:h,style:{transition:"transform "+p+"s "+q},children:n})}),i.jsx("div",{className:l.miniToastRoot,children:i.jsx("div",{className:m,style:{transition:"opacity "+p+"s "+q},children:o})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WebBloksApp",["WebBloksAppAccesibilityStyles","WebBloksEnvironmentContext","WebBloksErrorRenderer","WebBloksErrors","WebBloksModalWrapper","WebBloksObjectSet","WebBloksParseResult","WebBloksScreenWrapper","WebBloksStyle","WebBloksToastPresenter","WebBloksUtils","WebDriverConfig","react","useWebBloksAccessibilityModule"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react"));e=h;var j=e.useEffect,k=e.useRef,l=e.useState;function a(a){var b=a._objectSetRef,e=a.appId,f=a.externalObjectSet,g=a.externalVariables,h=a.node;a=a.params;var o=a===void 0?d("WebBloksUtils").EMPTY_OBJECT:a,r=d("WebBloksEnvironmentContext").useWebBloksEnvironment();a=c("useWebBloksAccessibilityModule")();a=a.FocusAppWrapper;var s=l(function(){var a;f!=null?(a=f,a.navigationManager.attachAndTriggerPopStateHandler()):(a=new(c("WebBloksObjectSet"))(r),m(a,e,h,o));b&&(b.current=a);return a}),t=s[0];s=l(function(){return t.navigationManager.getVisibleScreens()});var u=s[0],v=u.screens;u=u.modal;var w=s[1];j(function(){t.navigationManager.screenChangeListener.on(w);return function(){t.navigationManager.screenChangeListener.off(w),t.navigationManager.destroy()}},[t]);var x=k(!0);j(function(){x.current?x.current=!1:m(t,e,h,o)},[t,e,h,o]);s={};r.isRtl&&(s={direction:"rtl",textAlign:"right"});s=i.jsx(a,{children:i.jsxs("div",{style:babelHelpers["extends"]({fontFamily:d("WebBloksUtils").getWrapperFontFamily(r.fontFamilyMappings)},s),"data-testid":void 0,className:d("WebBloksStyle").classNames(c("WebBloksAppAccesibilityStyles").outlines,r.embedded===!0?p.bloksAppEmbedded:d("WebBloksStyle").classNames(p.bloksAppFullscreen,q.bloksAppFullscreenDVH)),children:[v.map(function(a){var b;return i.jsx(d("WebBloksScreenWrapper").ScreenWrapper,{screen:a,externalVariables:g},(b=a.screenIdWithStackIndex)!=null?b:a.screenId)}),u&&i.jsx(c("WebBloksModalWrapper"),{modal:u,externalVariables:g},(a=u.screenIdWithStackIndex)!=null?a:u.screenId),i.jsx(c("WebBloksToastPresenter"),{objectSet:t})]})});return t.environment.disableErrorBoundary===!0?s:n(t.environment.logger,s)}a.displayName=a.name+" [from "+f.id+"]";function m(a,b,e,f){if(b==null&&e==null)throw new(d("WebBloksErrors").WebBloksError)("Both appId and node are null while creating initial screen");a.navigationManager.getScreenCount()+a.navigationManager.getModalCount()>0&&a.navigationManager.close("close_all");if(e!=null)if(e instanceof c("WebBloksParseResult"))a.createInitialScreenWithParseResult(e,f);else if(e.screen_query_payload!=null)a.createInitialScreenWithScreenQuery(e);else return a.createInitialScreenWithAppResponse(e,f);else if(b!=null)return a.createInitialScreenWithAppId(b,f)}function n(a,b){return i.jsx(o,{logger:a,children:b})}n.displayName=n.name+" [from "+f.id+"]";var o=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c.state={error:null},a)||babelHelpers.assertThisInitialized(c)}a.getDerivedStateFromError=function(a){return{hasError:!0,error:a}};var c=a.prototype;c.componentDidCatch=function(a,b){this.props.logger.mustfix("Error rendering components: %s",a,b==null?void 0:b.componentStack)};c.render=function(){var a=this.state.error;return a!=null?i.jsxs("div",{className:p.errorRoot,children:[i.jsx("div",{className:p.errorText,children:"An error occurred. Please reload to try again."}),null]}):this.props.children};return a}(i.Component);function b(a){j(function(){if(d("WebDriverConfig").isJestE2ETestRun)return;var b=0,c=function(c){c.key==="r"&&(Date.now()-b<500?a.navigationManager.refresh():b=Date.now())};document.addEventListener("keypress",c);return function(){document.removeEventListener("keypress",c)}},[a])}var p=d("WebBloksStyle").createStyles({bloksAppEmbedded:{height:"100%",width:"100%"},bloksAppFullscreen:{height:"100vh",width:"100%"},errorRoot:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%",width:"100%"},errorText:{fontWeight:"bold"}}),q=d("WebBloksStyle").createStylesIfSupported({key:"height",value:"100dvh",type:"regular"},{bloksAppFullscreenDVH:{height:"100dvh !important"}});b={width:"100%",height:"100%"};g.WebBloksApp=a;g.createInitialScreenForObjectSet=m;g.bloksRootStyles=b}),98);
__d("WebBloksAssetRenderer",["CometVisualCompletionAttributes","URI","WebBloksStyle","coerceImageishSprited","coerceImageishURL","getImageSourceURLFromImageish","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function k(a){return a instanceof(h||(h=c("URI")))?a.toString():a}b=j.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var e=d("WebBloksStyle").classNames(a.className,"img"),f=k(a.src);if(f==null)return j.jsx("img",babelHelpers["extends"]({},a,{className:e}));var g=c("coerceImageishSprited")(f),h=!!g&&a.alt!=null&&String(a.alt)!==""?j.jsx("u",{children:a.alt}):null;if(typeof f==="string")return j.jsx("img",babelHelpers["extends"]({},a,{className:e,src:f,children:h}));if(g){a.src;var i=a.style,l=babelHelpers.objectWithoutPropertiesLoose(a,["src","style"]);return j.jsx("i",babelHelpers["extends"]({},l,c("CometVisualCompletionAttributes").CSS_IMG,{className:d("WebBloksStyle").classNames(e,g.type==="css"?g.className:void 0),ref:b,style:g.type==="cssless"?babelHelpers["extends"]({},i,g.style):i,children:h}))}l=c("getImageSourceURLFromImageish")(f);g=c("coerceImageishURL")(f);return a.width===void 0&&a.height===void 0&&g?j.jsx("img",babelHelpers["extends"]({},a,{className:e,height:g.height,src:l,ref:b,width:g.width,children:h})):j.jsx("img",babelHelpers["extends"]({},a,{className:e,ref:b,src:l,children:h}))}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),98);
__d("WebBloksMergeRefs",["WebBloksErrors","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return i(function(){return j.apply(void 0,b)},[].concat(b))}function j(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return function(a){b.forEach(function(b){if(b==null)return;if(typeof b==="function"){b(a);return}if(typeof b==="object"){b.current=a;return}})}}g["default"]=a}),98);
__d("WebBloksViewpointManager",["WebBloksViewpoint"],(function(a,b,c,d,e,f,g){var h="data-bloks-visibility-state";a=function(){function a(){var a=this;this.$1=new Map();this.$2=null;this.$3=null;this.$4=!1;this.$5=new Set();this.$9=function(){for(var b=a.$5,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;if(!(e instanceof HTMLElement&&e instanceof Element))return;var f=a.$1.get(e);if(!f)return;var g;document.visibilityState==="visible"?g=a.$13(e):g=a.$12(e);a.$11(g,f)}}}var b=a.prototype;b.track=function(a,b,c){c===void 0&&(c="default");c=new Map([[c,b]]);this.$1.set(a,c);this.$2||this.$6();b=this.$2;if(b!=null)for(var a=this.$1.keys(),c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;b.observe(e)}this.$3||this.$7();this.$4||this.$8()};b.untrack=function(){for(var a=this.$1,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d,e;if(b){if(c>=a.length)break;e=a[c++]}else{c=a.next();if(c.done)break;e=c.value}e=e;e=e[0];(d=this.$2)==null?void 0:d.unobserve(e)}(d=this.$2)==null?void 0:d.disconnect();this.$2=null;(e=this.$3)==null?void 0:e.disconnect();this.$3=null;document.removeEventListener("visibilitychange",this.$9);this.$4=!1};b.$10=function(a){var b=[],c=[],d=[];for(var a=a,e=Array.isArray(a),f=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=a.length)break;g=a[f++]}else{f=a.next();if(f.done)break;g=f.value}g=g;var i=g.type,j=g.attributeName,k=g.removedNodes;g=g.target;if(i==="childList")for(var k=k,l=Array.isArray(k),m=0,k=l?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var n;if(l){if(m>=k.length)break;n=k[m++]}else{m=k.next();if(m.done)break;n=m.value}n=n;n instanceof HTMLElement&&b.push(n)}if(g instanceof HTMLElement){n=g.getAttribute(h);i==="attributes"&&j===h&&(n==="exited"?c.push(g):n==="entered"&&d.push(g))}}for(m=0;m<b.length;m++){l=b[m];for(k=this.$1,i=Array.isArray(k),j=0,k=i?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(i){if(j>=k.length)break;n=k[j++]}else{j=k.next();if(j.done)break;n=j.value}g=n;f=g[0];e=g[1];if(l.contains(f)){(a=this.$2)==null?void 0:a.unobserve(f);this.$1["delete"](f);this.$11(this.$12(l),e)}}}for(n=0;n<c.length;n++){g=c[n];for(a=this.$1,f=Array.isArray(a),e=0,a=f?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(f){if(e>=a.length)break;j=a[e++]}else{e=a.next();if(e.done)break;j=e.value}i=j;k=i[0];l=i[1];g.contains(k)&&this.$11(this.$12(g),l)}}for(m=0;m<d.length;m++){b=d[m];for(j=this.$1,i=Array.isArray(j),k=0,j=i?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(i){if(k>=j.length)break;l=j[k++]}else{k=j.next();if(k.done)break;l=k.value}e=l;f=e[0];a=e[1];b.contains(f)&&this.$11(this.$13(b),a)}}};b.$7=function(){var a=this,b=new MutationObserver(function(b){return a.$10(b)});document.body!==null&&b.observe(document.body,{attributes:!0,attributeFilter:["data-bloks-visibility-state"],childList:!0,subtree:!0});this.$3=b};b.$6=function(){var a=this,b=new IntersectionObserver(function(b){return a.$14(b)},{threshold:[0,.2,.4,.6,.8,1]});this.$2=b};b.$14=function(a){for(var b=0;b<a.length;b++){var c=a[b],e=c.isIntersecting;e=e===void 0?!1:e;var f=c.intersectionRatio,g=c.target;if(!(g instanceof HTMLElement&&g instanceof Element))return;var h=this.$1.get(g);if(!h)return;var i=null;e===!0||f>0?this.$5.has(c.target)?i="intersecting":i="entered":i="exited";e=new(d("WebBloksViewpoint").ViewpointSnapshot)({element:g,percentVisible:c.intersectionRatio,state:i});this.$11(e,h)}f=a.filter(function(a){return a.isIntersecting===!0||a.intersectionRatio>0}).map(function(a){return a.target});this.$5=new Set(f)};b.$8=function(){document.addEventListener("visibilitychange",this.$9),this.$4=!0};b.$11=function(a,b){for(var b=b,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e[0];e=e[1];e(a)}};b.$13=function(a){return new(d("WebBloksViewpoint").ViewpointSnapshot)({element:a,percentVisible:1,state:"entered"})};b.$12=function(a){return new(d("WebBloksViewpoint").ViewpointSnapshot)({element:a,percentVisible:0,state:"exited"})};return a}();g["default"]=a}),98);
__d("WebBloksViewpointProvider",["WebBloksViewpointContext","WebBloksViewpointManager","react"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState;function a(a){a=a.children;var b=k(null),d=b[0],e=b[1];j(function(){var a=document.body;a!=null&&a instanceof HTMLElement&&d===null&&e(function(){return new(c("WebBloksViewpointManager"))()});return function(){d==null?void 0:d.untrack()}},[d]);return i.jsx(c("WebBloksViewpointContext").Provider,{value:d,children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useWebBloksAnalytics",["react"],(function(a,b,c,d,e,f,g){var h;b=h||d("react");var i=b.useEffect,j=b.useRef;function a(a,b){var c=j(null),d=a.analytics;i(function(){var a=d==null?void 0:d.subscribe(b),c=d==null?void 0:d.subscribeFrameRate();return function(){c==null?void 0:c(),a==null?void 0:a()}},[d,b,c]);return c}g["default"]=a}),98);
__d("WebBloksEntryPoint.react",["WebBloksApp","WebBloksEntryPointContainerContext","WebBloksEnvironmentContext","WebBloksMergeRefs","WebBloksServerData","WebBloksTheme","WebBloksUtils","WebBloksViewpointProvider","react","useWebBloksAnalytics"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useRef;function a(a){var b,e=a.embeddedAppParams,f=a.environment,g=a.externalObjectSet,h=a.payload,k=a.style;k=k===void 0?d("WebBloksApp").bloksRootStyles:k;a=a.theme;h&&h.server_data!=null&&d("WebBloksServerData").handleWebBloksServerData(d("WebBloksUtils").cast(h.server_data));e=(e=e)!=null?e:{};var l=e.appId,m=e.params;e=e.externalVariables;b=c("useWebBloksAnalytics")(f,(b=l)!=null?b:"");var n=j(null);b=c("WebBloksMergeRefs")(b,n);a=i.jsx(c("WebBloksViewpointProvider"),{children:i.jsx(d("WebBloksTheme").WebBloksThemeProvider,{initialTheme:a,children:i.jsx(d("WebBloksEnvironmentContext").WebBloksEnvironmentProvider,{environment:f,children:i.jsx(d("WebBloksEntryPointContainerContext").WebBloksEntryPointContainerContextProvider,{value:n,children:i.jsx(d("WebBloksApp").WebBloksApp,{node:h,appId:l,params:m,externalObjectSet:g,externalVariables:e})})})})});return i.jsx("div",{style:k,ref:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WebBloksFragment",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(i.Fragment,{children:a.children})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WebBloksLogger",[],(function(a,b,c,d,e,f){a=function(){function a(){}var b=a.prototype;b.warn=function(a){var b;for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];(b=console).warn.apply(b,["[wbloks] "+a].concat(d))};b.mustfix=function(a){var b;for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];(b=console).error.apply(b,["[wbloks] "+a].concat(d))};b.scriptError=function(a,b,c,d){this.mustfix(a,b)};return a}();f["default"]=a}),66);
__d("WebBloksEnvironment",["CoreWebBloksEnvironmentConfig","StdlibWebBloksEnvironmentConfig","WebBloksFragment","WebBloksI18nUtils","WebBloksLogger","react"],(function(a,b,c,d,e,f,g){var h,i=(h||d("react")).useState,j=["actions","components","extensionHandlers","traversalKeys"];function a(){var a,b=(a=window.navigator)==null?void 0:a.languages,e=b!=null&&d("WebBloksI18nUtils").isLocaleRtl(b),f={actions:{},components:{},extensionHandlers:{},containerConfigs:{},traversalKeys:{},disableHistoryStack:!1,enableCometRouter:!1,embedded:!1,allowScreenOverflow:!1,appLoader:null,bridgeOverrides:{},logger:new(c("WebBloksLogger"))(),locale:b,isRtl:e,accessibilityModule:{FocusAppWrapper:c("WebBloksFragment"),FocusRegion:c("WebBloksFragment")}};for(var g=arguments.length,h=new Array(g),i=0;i<g;i++)h[i]=arguments[i];var j=[d("CoreWebBloksEnvironmentConfig").CORE_ENVIRONMENT_CONFIG,d("StdlibWebBloksEnvironmentConfig").STDLIB_ENVIRONMENT_CONFIG].concat(h);return j.reduce(function(a,b){return k(a,b)},f)}function b(a){return i(a)[0]}function k(a,b){if(!b)return a;var c=babelHelpers["extends"]({},a),d=Object.keys(b);for(var e=0;e<d.length;e++){var f=d[e];b[f]!=null&&(c[f]=b[f])}j.forEach(function(d){c[d]=Object.assign({},a[d],b[d])});return c}g.createEnvironment=a;g.useWebBloksEnvironmentStore=b;g.mergeEnvironmentConfig=k}),98);
__d("WebBloksHasteAnimationFrameRateAnalytics",["Promise","QuickPerformanceLogger","WebBloksErrors","qpl"],(function(a,b,c,d,e,f,g){var h,i,j=60,k=[30,48,j,120,240,300],l="sfd",m="lfd",n="animation_key",o="bloks_logging_id",p="ts",q=c("qpl")._(36713009,"1890"),r=0;a=function(){function a(){this.$1=null,this.$2=null,this.$3()}var e=a.prototype;e.$3=function(){var a=this;try{void this.$4().then(function(b){a.$1=b})}catch(a){throw new(d("WebBloksErrors").WebBloksError)("Failed to initialize WebBloksHasteAnimationFrameRateAnalytics")}};e.$5=function(a){return k.reduce(function(b,c){return Math.abs(c-a)<Math.abs(b-a)?c:b})};e.$4=function(){var a=this;return new(i||(i=b("Promise")))(function(b){window.requestAnimationFrame(function(c){window.requestAnimationFrame(function(d){return b(c<d?a.$5(1e3/(d-c)):j)})})})};e.reset=function(){this.$2=null};e.resume=function(a){this.$2=a};e.incrementDroppedFrames=function(a,b,d){var e=this.$1,f=this.$2;if(e!==null&&f!==null&&b>f){f=b-f;e=1e3/e;f=Math.max(Math.round(f/e)-1,0);e=f>=4?f/4:0;a=a!=null?this.$6(a):r;var g=(h||(h=c("QuickPerformanceLogger"))).getMarker(q,a);if(g!=null){var i;g=(g=g.annotations)==null?void 0:g["int"];i=((i=g==null?void 0:g[l])!=null?i:0)+f;g=((f=g==null?void 0:g[m])!=null?f:0)+e;(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(q,{"int":(f={},f[l]=i,f[p]=d,f),"double":(e={},e[m]=g,e)},{instanceKey:a})}}this.$2=b};e.onStart=function(a,b){var d;this.$2=null;var e=a!=null?this.$6(a):r;(h||(h=c("QuickPerformanceLogger"))).markerStart(q,e);h.markerAnnotate(q,{string:(d={},d[n]=a,d[o]=b,d)},{instanceKey:e})};e.onEnd=function(a){a=a!=null?this.$6(a):r;(h||(h=c("QuickPerformanceLogger"))).markerEnd(q,2,a)};e.$6=function(a){var b=0;for(var c=0;c<a.length;c++){var d=a.charCodeAt(c);b=(b<<5)-b+d;b&=b}return Math.abs(b)};return a}();g["default"]=a}),98);
__d("WebBloksHasteAsyncActionAnalytics",["QPLJoinUtils","QuickPerformanceLogger","Random","guid","qpl"],(function(a,b,c,d,e,f,g){var h,i=Math.round(d("Random").random()*1e3),j=c("qpl")._(36707139,"1111"),k=c("guid")();a=function(){function a(){this.$1=j,this.$1=j}var b=a.prototype;b.onStart=function(a,b){(h||(h=c("QuickPerformanceLogger"))).markerStart(this.$1,i,a,{cancelExisting:!0}),d("QPLJoinUtils").setJoinId(h,this.$1,k,{instanceKey:i}),h.markerAnnotate(this.$1,{string:{app_id:b}},{instanceKey:i})};b.onEnd=function(a){(h||(h=c("QuickPerformanceLogger"))).markerEnd(this.$1,2,i,a.startTime)};b.onCancel=function(){(h||(h=c("QuickPerformanceLogger"))).markerDrop(this.$1,i)};return a}();g["default"]=a}),98);
__d("WebBloksHasteTTRCAnalytics",["QPLJoinUtils","QuickPerformanceLogger","Random","guid","qpl"],(function(a,b,c,d,e,f,g){var h,i=Math.round(d("Random").random()*1e3),j=c("qpl")._(719983200,"2401"),k=c("qpl")._(720000263,"2371"),l=c("guid")();a=function(){function a(){this.$1=j,this.$1=j}var b=a.prototype;b.setMarkerId=function(a){a===720000263?this.$1=k:this.$1=j};b.onStart=function(a,b){(h||(h=c("QuickPerformanceLogger"))).markerStart(this.$1,i,a,{cancelExisting:!0}),d("QPLJoinUtils").setJoinId(h,this.$1,l,{instanceKey:i}),h.markerAnnotate(this.$1,{string:{app_id:b}},{instanceKey:i})};b.onEnd=function(a){(h||(h=c("QuickPerformanceLogger"))).markerEnd(this.$1,2,i,a.startTime)};return a}();g["default"]=a}),98);
__d("WebBloksHasteAnalytics",["WebBloksHasteAnimationFrameRateAnalytics","WebBloksHasteAsyncActionAnalytics","WebBloksHasteTTRCAnalytics"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.performanceObserver=null,this.$3=null,this.$2=new(c("WebBloksHasteAsyncActionAnalytics"))(),this.$1=new(c("WebBloksHasteTTRCAnalytics"))()}var b=a.prototype;b.$4=function(){var a=this;if(window.PerformanceObserver==null)return;this.performanceObserver=new PerformanceObserver(function(b){b.getEntries().forEach(function(b){var c=b.name,d=b.entryType;if(c==null&&d!=="mark")return;d=(d=b==null?void 0:b.detail)!=null?d:null;switch(c){case"--web-bloks-ttrc-start":if((d==null?void 0:d.markerId)!=null){(c=a.$1)==null?void 0:c.setMarkerId(d==null?void 0:d.markerId)}(c=a.$1)==null?void 0:c.onStart(b.startTime,d==null?void 0:d.appId);break;case"--web-bloks-ttrc-end":(c=a.$1)==null?void 0:c.onEnd(b);break;case"--web-bloks-animation-start":(c=a.$3)==null?void 0:c.onStart((c=d==null?void 0:d.animationID)!=null?c:null,d==null?void 0:d.loggingID);break;case"--web-bloks-animation-frame":(c=a.$3)==null?void 0:c.incrementDroppedFrames((c=d==null?void 0:d.animationID)!=null?c:null,b.startTime,d==null?void 0:d.timestamp);break;case"--web-bloks-animation-resume":(c=a.$3)==null?void 0:c.resume(b.startTime);break;case"--web-bloks-animation-end":(c=a.$3)==null?void 0:c.onEnd(d==null?void 0:d.animationID);break;case"--web-bloks-async-action-start":a.$2.onStart(b.startTime,d==null?void 0:d.appId);break;case"--web-bloks-async-action-success":(c=a.$2)==null?void 0:c.onEnd(b);break;case"--web-bloks-async-action-error":a.$2.onCancel();break}})})};b.subscribe=function(){var a,b=this;this.performanceObserver==null&&this.$4();(a=this.performanceObserver)==null?void 0:a.observe({entryTypes:["mark"]});return function(){return b.$5()}};b.$5=function(){var a;(a=this.performanceObserver)==null?void 0:a.disconnect()};b.subscribeFrameRate=function(){var a=this;this.$3=new(c("WebBloksHasteAnimationFrameRateAnalytics"))();return function(){var b;return(b=a.$3)==null?void 0:b.reset()}};return a}();g["default"]=a}),98);
__d("WebBloksHasteAppLoader",["AbstractWebBloksAppLoader","URI","WebBloksVersioningID","getAsyncParams","webBloksFetchJson"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.$WebBloksHasteAppLoader$p_1=b;return c}var e=b.prototype;e.makePostRequest=function(a,b){return c("webBloksFetchJson")(new(h||(h=c("URI")))(a).addQueryData({__bkv:d("WebBloksVersioningID").versioningID}).toString(),babelHelpers["extends"]({},c("getAsyncParams")("POST"),b))};e.getAsyncFetchURI=function(a,b,c){return this.$WebBloksHasteAppLoader$p_1.getURIBuilder().setParams({appid:a,type:c}).getURI().toString()};e.getAsyncFetchData=function(a,b,c){return{params:b!==null?JSON.stringify(b):null}};return b}(d("AbstractWebBloksAppLoader").AbstractWebBloksAppLoader);g.WebBloksHasteAppLoader=a}),98);
__d("WebBloksHasteLogger",["FBLogger","QuickPerformanceLogger","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("qpl")._(36705544,"1960");a=function(){function a(){this.$1=function(){return c("FBLogger")("wbloks")}}var b=a.prototype;b.warn=function(a,b){for(var c=arguments.length,d=new Array(c>2?c-2:0),e=2;e<c;e++)d[e-2]=arguments[e];if(b instanceof Error){var f;(f=this.$1().catching(b).addMetadata("WEBBLOKS","ERROR_STACK",b.stack)).info.apply(f,[a].concat(d))}else{var g;(g=this.$1()).info.apply(g,[a,b].concat(d))}};b.mustfix=function(a,b){for(var c=arguments.length,d=new Array(c>2?c-2:0),e=2;e<c;e++)d[e-2]=arguments[e];if(b instanceof Error){var f;(f=this.$1().catching(b)).mustfix.apply(f,[a].concat(d))}else{var g;(g=this.$1()).mustfix.apply(g,[a,b].concat(d))}};b.scriptError=function(a,b,d,e){(h||(h=c("QuickPerformanceLogger"))).markerStart(i);h.markerAnnotate(i,{string:{exception_message:String(b),bloks_logging_id:d==null?"unknown_callsite":d},string_array:{bloks_raw_stack_trace:e}});h.markerEnd(i,2);e=(d=e==null?void 0:e.join(":"))!=null?d:"(unknown)";b instanceof Error?this.$1().addMetadata("WEBBLOKS","ERROR_STACK",e).catching(b).mustfix(a):this.$1().addMetadata("WEBBLOKS","ERROR_STACK",e).mustfix(a,b)};return a}();g["default"]=a}),98);
__d("XWebBloksAsyncRawController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/async/wbloks/fetch/",{appid:{type:"String",required:!0},params:{type:"String"},type:{type:"Enum",required:!0,enumType:1},debug_tooling_metadata_token:{type:"String"}})}),null);
__d("WebBloksHasteEnvironment",["ix","ACQWebBloksEnvironmentConfig","CurrentLocale","HasteSharedWebBloksPrimitives","WebBloksAssetRenderer","WebBloksEnvironment","WebBloksHasteAnalytics","WebBloksHasteAppLoader","WebBloksHasteLogger","WebBloksI18nUtils","WebBloksUtils","XWebBloksAsyncRawController","cr:5126"],(function(a,b,c,d,e,f,g,h){"use strict";var i={navCross:h("1356754"),settings:h("1361369"),nav3DotHorizontal:h("184566"),chevronLeft:h("1362297"),chevronLeftDark:h("166735"),chevronLeft24:h("1296473"),appMessenger:h("1350889"),navIcon:h("1729923"),navShoppingCart:h("1795210"),navInfoCircle:h("1346159")};function a(){var a=j(),e=d("WebBloksI18nUtils").isLocaleRtl(a),f=d("WebBloksEnvironment").createEnvironment({analytics:new(c("WebBloksHasteAnalytics"))(),appLoader:new(d("WebBloksHasteAppLoader").WebBloksHasteAppLoader)(c("XWebBloksAsyncRawController")),actions:d("HasteSharedWebBloksPrimitives").ACTIONS,components:d("HasteSharedWebBloksPrimitives").COMPONENTS,extensionHandlers:d("HasteSharedWebBloksPrimitives").EXTENSION_HANDLERS,navigationTrackingUtils:null,debugMetadataProvider:b("cr:5126")?new(b("cr:5126"))():null,logger:new(c("WebBloksHasteLogger"))(),AssetRenderer:d("WebBloksUtils").cast(c("WebBloksAssetRenderer")),staticAssets:i,locale:a,isRtl:e});for(var g=arguments.length,h=new Array(g),k=0;k<g;k++)h[k]=arguments[k];var l=[d("ACQWebBloksEnvironmentConfig").ACQ_ENVIRONMENT_CONFIG].concat(h);return l.reduce(function(a,b){return d("WebBloksEnvironment").mergeEnvironmentConfig(a,b)},f)}function j(){var a=c("CurrentLocale").get().split("_"),b=a[0];a=a[1];return b+"-"+a.toUpperCase()}g.createWebBloksHasteEnvironment=a}),98);/*FB_PKG_DELIM*/
__d("PolarisAPILikePost",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("PolarisInstapi").apiPost("/api/v1/web/likes/{media_id}/like/",{path:{media_id:a}})}g.likePost=a}),98);
__d("PolarisAPIPostNotifyGuardianCall",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){var e="/api/v1/users/notify_guardian_call/";a={guardian_igid:a,reported_category:c,reported_igid:b};return d("PolarisInstapi").apiPost(e,{body:a}).then(function(a){return a.data})}g.postNotifyGuardianCall=a}),98);
__d("PolarisAPISavePost",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("PolarisInstapi").apiPost("/api/v1/web/save/{media_id}/save/",{path:{media_id:a}})}g.savePost=a}),98);
__d("PolarisAPIUnlikePost",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("PolarisInstapi").apiPost("/api/v1/web/likes/{media_id}/unlike/",{path:{media_id:a}})}g.unlikePost=a}),98);
__d("PolarisAPIUnsavePost",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("PolarisInstapi").apiPost("/api/v1/web/save/{media_id}/unsave/",{path:{media_id:a}})}g.unsavePost=a}),98);
__d("PolarisFRXBlockUserFollowupModal.react",["CometPlaceholder.react","I64","IGDSConfirmDialog.react","IGDSGlimmer.react","JSResourceForInteraction","PolarisBlockDialogContainer.react","PolarisFRXWebReportStrings","PolarisGenericStrings","PolarisLinkBuilder","PolarisNavigationUtils","PolarisReactRedux.react","PolarisReportConstants","isStringNullOrEmpty","lazyLoadComponent","polarisRelationshipSelectors.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));b=h;b.useCallback;var k=b.c,l=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGDBlockUserDialog.react").__setRef("PolarisFRXBlockUserFollowupModal.react"));function m(a,b){a=a.userToBlock.id;return d("polarisRelationshipSelectors.react").getRelationship(b.relationships,a)}function n(a){a.onClose&&a.onClose()}function a(a){var b=k(24),e;b[0]!==a?(e=function(b){return m(a,b)},b[0]=a,b[1]=e):e=b[1];e=d("PolarisReactRedux.react").useSelector(e);var f=a.isGroupThread,g=a.onClose,h=a.shouldReportAsInstamadillo,q=a.threadKey,r=a.userToBlock,s=a.useSimpleBlockModalWithoutRefresh,t=r.fbidV2,u=r.id;r=r.username;var v=o(a.frxObjectType),w;b[2]!==g?(w=function(){g()},b[2]=g,b[3]=w):w=b[3];w=w;if(v&&r!=null){b[4]===Symbol["for"]("react.memo_cache_sentinel")?(v=j.jsx(c("IGDSGlimmer.react"),{index:0}),b[4]=v):v=b[4];var x;b[5]!==u?(x=(i||(i=d("I64"))).of_string(u),b[5]=u,b[6]=x):x=b[6];f=(f=f)!=null?f:!1;h=(h=h)!=null?h:!1;b[7]!==x||b[8]!==f||b[9]!==w||b[10]!==h||b[11]!==q||b[12]!==r?(v=j.jsx(c("CometPlaceholder.react"),{fallback:v,children:j.jsx(l,{clickPoint:"report",contactID:x,isAfterReport:!0,isBlocked:!1,isGroup:f,onClose:w,shouldReportAsInstamadillo:h,threadKey:q,userName:r})}),b[7]=x,b[8]=f,b[9]=w,b[10]=h,b[11]=q,b[12]=r,b[13]=v):v=b[13];return v}if(!u)return null;if(s===!0){b[14]!==a?(x=j.jsx(p,babelHelpers["extends"]({},a)),b[14]=a,b[15]=x):x=b[15];return x}b[16]!==a?(f=function(){return n(a)},b[16]=a,b[17]=f):f=b[17];b[18]!==t||b[19]!==f||b[20]!==e||b[21]!==u||b[22]!==r?(w=j.jsx(c("PolarisBlockDialogContainer.react"),{fbidV2:t,onClose:f,relationship:e,userId:u,username:r}),b[18]=t,b[19]=f,b[20]=e,b[21]=u,b[22]=r,b[23]=w):w=b[23];return w}function o(a){switch(a){case d("PolarisReportConstants").FRXObjectType.DIRECT_MESSAGE:case d("PolarisReportConstants").FRXObjectType.DIRECT_MESSAGE_THREAD:case d("PolarisReportConstants").FRXObjectType.ENCRYPTED_DIRECT_MESSAGE:return!0;default:return!1}}function p(a){var b=k(18),e=a.userToBlock;e=e.username;var f,g,h,i;b[0]!==e?(g=c("isStringNullOrEmpty")(e)?null:d("PolarisLinkBuilder").buildUserLink(e),f=c("isStringNullOrEmpty")(g),b[0]=e,b[1]=f,b[2]=g,b[3]=h,b[4]=i):(f=b[1],g=b[2],h=b[3],i=b[4]);if(!f){i=d("PolarisGenericStrings").CANCEL_TEXT;b[5]!==g||b[6]!==a?(f={confirmLabel:d("PolarisFRXWebReportStrings").VIEW_PROFILE_BUTTON_TEXT,onConfirm:function(){d("PolarisNavigationUtils").openURLWithFullPageReload(g),n(a)}},b[5]=g,b[6]=a,b[7]=f):f=b[7];h=f}else{i=d("PolarisGenericStrings").CLOSE_TEXT;b[8]===Symbol["for"]("react.memo_cache_sentinel")?(f={},b[8]=f):f=b[8];h=f}f=h;var l=i,m;b[9]!==a?(m=function(){return n(a)},b[9]=a,b[10]=m):m=b[10];var o;b[11]!==e?(o=d("PolarisFRXWebReportStrings").getBlockUserModalTitle(e),b[11]=e,b[12]=o):o=b[12];b[13]!==h||b[14]!==i||b[15]!==m||b[16]!==o?(e=j.jsx(c("IGDSConfirmDialog.react"),babelHelpers["extends"]({},f,{body:d("PolarisFRXWebReportStrings").BLOCK_USER_THROUGH_PROFILE_MODAL_CONTENT,cancelLabel:l,onClose:m,title:o})),b[13]=h,b[14]=i,b[15]=m,b[16]=o,b[17]=e):e=b[17];return e}g["default"]=a}),98);
__d("PolarisFRXNotifyGuardianFollowupModal.react",["IGDSConfirmDialog.react","PolarisFRXWebReportStrings","nullthrows","react","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function k(a){a.onClose&&a.onClose()}function l(a,b,c){a.onNotify&&a.onNotify(b,c)}function a(a){var b=i(16),e=c("usePolarisViewer")();e=e==null?void 0:e.guardianId;var f;b[0]!==e?(f=c("nullthrows")(e),b[0]=e,b[1]=f):f=b[1];var g=f;b[2]!==a||b[3]!==g?(e={confirmLabel:d("PolarisFRXWebReportStrings").SEND_BUTTON_TEXT,onConfirm:function(){l(a,!0,g)}},b[2]=a,b[3]=g,b[4]=e):e=b[4];f=e;b[5]!==a.guardianUsername||b[6]!==a.reportedTagTitle||b[7]!==a.reportedUsername?(e=d("PolarisFRXWebReportStrings").getNotifyGuardianModalText(a.guardianUsername,a.reportedTagTitle,a.reportedUsername),b[5]=a.guardianUsername,b[6]=a.reportedTagTitle,b[7]=a.reportedUsername,b[8]=e):e=b[8];var h;b[9]!==a||b[10]!==g?(h=function(){l(a,!1,g),k(a)},b[9]=a,b[10]=g,b[11]=h):h=b[11];var m;b[12]!==f||b[13]!==e||b[14]!==h?(m=j.jsx(c("IGDSConfirmDialog.react"),babelHelpers["extends"]({},f,{body:e,cancelLabel:d("PolarisFRXWebReportStrings").DONT_SEND_BUTTON_TEXT,onClose:h,title:d("PolarisFRXWebReportStrings").NOTIFY_GUARDIAN_MODAL_TITLE_NO_QUESTION})),b[12]=f,b[13]=e,b[14]=h,b[15]=m):m=b[15];return m}g["default"]=a}),98);
__d("PolarisFRXReportBaseScreenModal.react",["cx","IGDSBox.react","IGDSDialog.react","IGDSDialogHeader.react","PolarisFRXWebReportConstants","PolarisFRXWebReportStrings","PolarisUA","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i,l=4,m=4,n=4,o=!1;function a(a,b,c){a=a||{};var e=a.response;a=a.type;if(a===d("PolarisFRXWebReportConstants").FRX_SCREEN_PAYLOAD_TYPE_INTS.CONFIRMATION)return{headerEnabled:!1};a=e||{};e=a.title;e=(a=e==null?void 0:e.text)!=null?a:d("PolarisFRXWebReportStrings").DEFAULT_MODAL_HEADER_TEXT;return{headerEnabled:!0,onBackButton:c,titleText:e,withBackButton:b}}function p(a){a.onClose&&a.onClose()}function b(a){var b,e=j(8),f=d("PolarisUA").isMobile()?"large":"default";b=(b=a.headerParams.titleText)!=null?b:void 0;var g;e[0]!==a?(g=function(){return p(a)},e[0]=a,e[1]=g):g=e[1];var h;e[2]!==a?(h=k.jsxs("div",{className:"_acgx"+(f==="large"?" _acqj":""),children:[k.jsx(q,babelHelpers["extends"]({},a)),k.jsx(r,babelHelpers["extends"]({},a))]}),e[2]=a,e[3]=h):h=e[3];e[4]!==b||e[5]!==g||e[6]!==h?(f=k.jsx(c("IGDSDialog.react"),{label:b,onClose:g,size:f,testid:void 0,children:h}),e[4]=b,e[5]=g,e[6]=h,e[7]=f):f=e[7];return f}function q(a){var b=j(11),d=a.headerParams,e=d.headerEnabled,f=d.titleText,g=d.onBackButton;d=d.withBackButton;d=d===void 0?o:d;if(!e)return null;b[0]!==d||b[1]!==g?(e=d&&g?{onBack:function(){return g()}}:void 0,b[0]=d,b[1]=g,b[2]=e):e=b[2];d=e;b[3]!==a?(e=function(){return p(a)},b[3]=a,b[4]=e):e=b[4];var h;b[5]!==f?(h=k.jsx(k.Fragment,{children:f}),b[5]=f,b[6]=h):h=b[6];b[7]!==e||b[8]!==d||b[9]!==h?(f=k.jsx(c("IGDSDialogHeader.react"),babelHelpers["extends"]({onClose:e},d,{children:h})),b[7]=e,b[8]=d,b[9]=h,b[10]=f):f=b[10];return f}function r(a){var b=j(5),d=a.children;a=a.disableDefaultBodyPaddingMargin;a=a===void 0?!1:a;var e,f;a?e=f=a=0:(e=l,a=n,f=m);var g;b[0]!==f||b[1]!==a||b[2]!==e||b[3]!==d?(g=k.jsx("div",{className:"_acgy",children:k.jsx("div",{className:"_acgz",children:k.jsx(c("IGDSBox.react"),{marginBottom:f,marginTop:a,paddingX:e,position:"relative",children:d})})}),b[0]=f,b[1]=a,b[2]=e,b[3]=d,b[4]=g):g=b[4];return g}g.DEFAULT_BODY_PADDING_X=l;g.DEFAULT_BODY_MARGIN_BOTTOM=m;g.DEFAULT_BODY_MARGIN_TOP=n;g.getDefaultScreenModalHeaderParamsFromScreenPayload=a;g.FRXReportBaseScreenModal=b}),98);
__d("PolarisFRXReportModalLinkUtils",["URI","polarisIsInternalURIString"],(function(a,b,c,d,e,f,g){"use strict";var h,i="help.instagram.com";function j(a){return c("polarisIsInternalURIString")(a)&&new(h||(h=c("URI")))(a).getDomain()===i}function a(a){return j(a)||!c("polarisIsInternalURIString")(a)}g.shouldLinkUseBlankTarget=a}),98);
__d("PolarisFRXReportMainButton.react",["PolarisFRXReportModalLinkUtils","PolarisIGCoreButton.react","isStringNullOrEmpty","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(13),e=a["data-testid"],f=a.disabled,g=a.href,h=a.onClick,k=a.primaryButton,l=a.spinner;a=a.text;var m;if(!c("isStringNullOrEmpty")(g)&&f!==!0){var n=d("PolarisFRXReportModalLinkUtils").shouldLinkUseBlankTarget(g)?"_blank":void 0,o;b[0]!==g||b[1]!==n?(o={href:g,target:n},b[0]=g,b[1]=n,b[2]=o):o=b[2];m=o}n=((g=k)!=null?g:!0)?"ig-primary-button":"ig-secondary-button";o=!!f;k=!!l;b[3]!==h?(g=function(){return h&&h()},b[3]=h,b[4]=g):g=b[4];b[5]!==m||b[6]!==n||b[7]!==e||b[8]!==o||b[9]!==k||b[10]!==g||b[11]!==a?(f=j.jsx(c("PolarisIGCoreButton.react"),babelHelpers["extends"]({},m,{color:n,"data-testid":void 0,disabled:o,loading:k,onClick:g,children:a})),b[5]=m,b[6]=n,b[7]=e,b[8]=o,b[9]=k,b[10]=g,b[11]=a,b[12]=f):f=b[12];return f}g["default"]=a}),98);
__d("PolarisFRXReportModalOptionList.react",["cx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(4),c=a.asRadio;a=a.children;c=c===void 0?!1:c;var d="_ac7r";if(c){b[0]!==a?(c=k.jsx("fieldset",{className:d,children:a}),b[0]=a,b[1]=c):c=b[1];return c}b[2]!==a?(c=k.jsx("div",{className:d,role:"list",children:a}),b[2]=a,b[3]=c):c=b[3];return c}g["default"]=a}),98);
__d("PolarisFRXReportModalRichTextRenderer.react",["IGDSText.react","PolarisFRXReportModalLinkUtils","PolarisFastLink.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k={BOLD:1,CODE:8,ITALIC:2,NONE:0,QUOTE:128,STRIKETHROUGH:16,SUBSCRIPT:32,SUPERSCRIPT:64,UNDERLINE:4},l={"#000000":"web-always-black","#00376B":"ig-link","#0095F6":"ig-primary-button","#262626":"ig-primary-text","#58C322":"DEPRECATED_green","#8E8E8E":"ig-secondary-text","#c7c7c7":"ig-tertiary-text","#ed4956":"ig-error-or-destructive","#ffffff":"web-always-white"};function a(a){var b=i(20),e=a.children,f=a.className,g=a.color,h=a["data-testid"],m=a.href,n=a.onClick;a=a.style;var o=e,p=m!==""&&m!=null,q;!p&&g!=null&&(q=g in l?l[g]:void 0);if(a!=null&&(g!=null||p))bb0:switch(a){case k.BOLD:b[0]!==q||b[1]!==e?(g=j.jsx(c("IGDSText.react").BodyEmphasized,{color:q,children:e}),b[0]=q,b[1]=e,b[2]=g):g=b[2];o=g;break bb0;case k.SUBSCRIPT:b[3]!==q||b[4]!==e?(p=j.jsx(c("IGDSText.react").Body2,{color:q,children:e}),b[3]=q,b[4]=e,b[5]=p):p=b[5];o=p;break bb0;default:b[6]!==q||b[7]!==e?(a=j.jsx(c("IGDSText.react").Body,{color:q,children:e}),b[6]=q,b[7]=e,b[8]=a):a=b[8];o=a}if(m!==""&&m!=null){b[9]!==n?(g=function(){return n&&n()},b[9]=n,b[10]=g):g=b[10];p=d("PolarisFRXReportModalLinkUtils").shouldLinkUseBlankTarget(m)?"_blank":void 0;b[11]!==f||b[12]!==h||b[13]!==m||b[14]!==g||b[15]!==p||b[16]!==o?(e=j.jsx(c("PolarisFastLink.react"),{className:f,"data-testid":void 0,href:m,onClick:g,target:p,children:o}),b[11]=f,b[12]=h,b[13]=m,b[14]=g,b[15]=p,b[16]=o,b[17]=e):e=b[17];return e}b[18]!==o?(a=j.jsx(j.Fragment,{children:o}),b[18]=o,b[19]=a):a=b[19];return a}g["default"]=a}),98);
__d("PolarisFRXReportModalOptionListItem.react",["cx","fbt","IGDSBox.react","IGDSChevronIcon.react","IGDSRadioButton.react","IGDSSpinner.react","PolarisFRXReportModalRichTextRenderer.react","isStringNullOrEmpty","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=(j||(j=d("react"))).c,l=j,m={BUTTON:"button",LINK:"link",RADIO:"radio"},n={DEFAULT:"default",GREY:"grey",RED:"red"},o=4;function p(a){a.onSelect&&a.onSelect()}function q(a){a=a.href;return c("isStringNullOrEmpty")(a)?m.BUTTON:m.LINK}function a(a){var b=k(37),d=a.children,e=a["data-testid"],f=a.href,g=a.variant,h=a.textColor,i=a.disabled;g=g===void 0?q(a):g;h=h===void 0?n.DEFAULT:h;var j=g===m.RADIO;d=d;if(!j){var s;b[0]!==d?(s=l.jsx(c("IGDSBox.react"),{flex:"grow",position:"relative",children:d}),b[0]=d,b[1]=s):s=b[1];var t;b[2]!==i||b[3]!==a?(t=i!==!0&&l.jsx(r,babelHelpers["extends"]({},a)),b[2]=i,b[3]=a,b[4]=t):t=b[4];var u;b[5]!==s||b[6]!==t?(u=l.jsxs(c("IGDSBox.react"),{alignContent:"center",alignItems:"center",direction:"row",padding:o,position:"relative",children:[s,t]}),b[5]=s,b[6]=t,b[7]=u):u=b[7];d=u}s="_abn2"+(h===n.RED?" _abn3":"")+(h===n.GREY?" _abn4":"");if(j){t=a.selected;u=a.value;h=u===void 0?"":u;b[8]!==s||b[9]!==d?(j=l.jsx("div",{className:s,children:d}),b[8]=s,b[9]=d,b[10]=j):j=b[10];b[11]!==a?(u=function(){return p(a)},b[11]=a,b[12]=u):u=b[12];var v;b[13]!==t||b[14]!==j||b[15]!==u||b[16]!==h?(v=l.jsx(c("IGDSRadioButton.react"),{isChecked:t,label:j,onChange:u,value:h}),b[13]=t,b[14]=j,b[15]=u,b[16]=h,b[17]=v):v=b[17];b[18]!==e||b[19]!==v?(t=l.jsx(c("IGDSBox.react"),{"data-testid":void 0,padding:o,children:v}),b[18]=e,b[19]=v,b[20]=t):t=b[20];return t}else if(g===m.LINK&&f!=null&&f!==""){b[21]!==a?(j=function(){return p(a)},b[21]=a,b[22]=j):j=b[22];b[23]!==s||b[24]!==e||b[25]!==f||b[26]!==j||b[27]!==d?(u=l.jsx(c("PolarisFRXReportModalRichTextRenderer.react"),{className:s,"data-testid":void 0,href:f,onClick:j,children:d}),b[23]=s,b[24]=e,b[25]=f,b[26]=j,b[27]=d,b[28]=u):u=b[28];return u}b[29]!==a?(h=function(){return p(a)},b[29]=a,b[30]=h):h=b[30];b[31]!==s||b[32]!==e||b[33]!==i||b[34]!==h||b[35]!==d?(v=l.jsx("button",{className:s,"data-testid":void 0,disabled:i,onClick:h,children:d}),b[31]=s,b[32]=e,b[33]=i,b[34]=h,b[35]=d,b[36]=v):v=b[36];return v}function r(a){var b=k(4);a=a.loading;if(a===!0){b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=l.jsx(c("IGDSSpinner.react"),{size:"small"}),b[0]=a):a=b[0];a=a}else{var d;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(d=l.jsx(c("IGDSChevronIcon.react"),{alt:i._("__JHASH__KmLwDGth6wW__JHASH__"),color:"ig-tertiary-text",direction:"next",size:17}),b[1]=d):d=b[1];a=d}b[2]!==a?(d=l.jsx(c("IGDSBox.react"),{alignContent:"center",alignItems:"center",direction:"row",marginStart:2,position:"relative",children:a}),b[2]=a,b[3]=d):d=b[3];return d}g.OPTION_LIST_ITEM_VARIANTS=m;g.OPTION_LIST_ITEM_TEXT_COLORS=n;g.FRXReportModalOptionListItem=a}),226);
__d("polarisGetGuardianInfo",["normalizr"],(function(a,b,c,d,e,f,g){"use strict";var h=new(d("normalizr").schema.Entity)("userInfo",{},{idAttribute:function(a){return String(a.pk)},processStrategy:function(a){return{username:a.username}}});function a(a){return d("normalizr").normalize(a,h).entities.userInfo}g["default"]=a}),98);
__d("PolarisFRXWebReportActions",["JSResourceForInteraction","PolarisAPIPostNotifyGuardianCall","PolarisDirectLogger","PolarisFRXWebReportConstants","PolarisInstapi","PolarisReportConstants","polarisGetGuardianInfo","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h=1,i=c("JSResourceForInteraction")("PolarisFRXWebSendSecureReportAction").__setRef("PolarisFRXWebReportActions");function a(a){a=babelHelpers["extends"]({},a,{frx_prompt_request_type:d("PolarisFRXWebReportConstants").FRX_SCREEN_INPUT_REQUEST_TYPE_INTS.START});return k(a,!0)}function b(a){var b=a.frxPromptRequestType,c=a.metadata,d=j(a);c=babelHelpers["extends"]({},c,d,{frx_prompt_request_type:b});return k(c,!1,(d=a.optionalParams)==null?void 0:d.thread_id,(b=a.optionalParams)==null?void 0:b.responsible_id)}function j(a){var b=a.context;a=a.optionalParams;var c=a.attachments,d=a.evidenceText,e=a.reportSubtype,f=a.selectedPromptButtonActionType,g=a.selectedTagTypes,h=a.selectedVictimID;a=a.tipNumber;var i={};b!=null&&(i.context=b);g!=null&&(i.selected_tag_types=JSON.stringify(g));f!=null&&(i.action_type=f);h!=null&&(i.victim_user_id=h);a!=null&&(i.tip_number=a);c!=null&&(i.attachments=c);d!=null&&(i.evidence_text=d);e!=null&&(i.report_subtype=e);return babelHelpers["extends"]({},i)}function k(a,b,e,f){return function(g,j){var k=h++;g({frxScreenRequestID:k,isInitScreen:b,type:"FRX_WEB_REPORT_SCREEN_API_REQUESTED"});j=d("PolarisInstapi").apiPost("/api/v1/web/reports/get_frx_prompt/",{body:a}).then(function(a){return a.data});j.then(function(b){var h=b.response;b=b.type;if(h==null||b==null)g({frxScreenRequestID:k,type:"FRX_WEB_REPORT_SCREEN_API_REQUEST_FAILED"});else{var j=h.frx_context;[d("PolarisReportConstants").FRXLocation.ENCRYPTED_DIRECT_MESSAGE,d("PolarisReportConstants").FRXLocation.ENCRYPTED_DIRECT_THREAD].includes(a.location)&&a.frx_prompt_request_type===d("PolarisFRXWebReportConstants").FRX_SCREEN_INPUT_REQUEST_TYPE_INTS.POLICY_EDUCATION&&f!==void 0&&e!==void 0&&j!==void 0&&c("promiseDone")(i.load().then(function(b){g(b(j,f,e,a.victim_user_id,a.location===d("PolarisReportConstants").FRXLocation.ENCRYPTED_DIRECT_MESSAGE?a.object_id:void 0))}));g({frxScreenRequestID:k,screenPayload:{frxScreenRequestID:k,response:h,type:b},type:"FRX_WEB_REPORT_SCREEN_API_REQUEST_SUCCESS"})}})["catch"](function(){g({frxScreenRequestID:k,type:"FRX_WEB_REPORT_SCREEN_API_REQUEST_FAILED"})})}}function e(a,b,c,e){return function(f,g){f({type:"FRX_WEB_NOTIFY_GUARDIAN_FOLLOWUP_MODAL_TO_CONFIMATION_MODAL"}),a&&d("PolarisAPIPostNotifyGuardianCall").postNotifyGuardianCall(b,c,e)["catch"](function(a){var b=new(d("PolarisDirectLogger").DirectLogger)("DirectActions");b.logError("Notify Guardian From Web",a)})}}function f(a){return babelHelpers["extends"]({type:"FRX_WEB_REPORT_REPORTING_MODAL_CLOSED"},a)}function l(){return{type:"FRX_WEB_REPORT_GO_BACK_ONE_SCREEN"}}function m(){return{type:"FRX_WEB_REPORT_START_UNFOLLOW_FOLLOWUP"}}function n(){return{type:"FRX_WEB_REPORT_START_BLOCK_FOLLOWUP"}}function o(){return{type:"FRX_WEB_REPORT_START_NOTIFY_GUARDIAN_FOLLOWUP"}}function p(){return function(a,b){a({type:"FRX_WEB_REPORT_DISABLE_NOTIFY_GUARDIAN_OPTION"})}}function q(a){return function(b,e){d("PolarisInstapi").apiGet("/api/v1/users/{user_id}/info/",{path:{user_id:a}}).then(function(d){d=d.data.user;d&&b({guardian:c("polarisGetGuardianInfo")(d)[a],type:"FRX_WEB_REPORT_STORE_GUARDIAN_INFORMATION"})})}}function r(a){return function(b,c){b({reportedTagTitle:a,type:"FRX_WEB_REPORT_STORE_REPORTED_TAG_TITLE"})}}g.doRequestInitFRXScreenAction=a;g.doRequestNextFRXScreenAction=b;g.doOpenNotifyGuardianFollowupModalToPreviousScreenAction=e;g.doReportingModalClosedAction=f;g.doGoBackOneFRXScreenAction=l;g.doStartUnfollowFollowupAction=m;g.doStartBlockFollowupAction=n;g.doStartNotifyGuardianFollowupAction=o;g.doDisableNotifyGuardianOption=p;g.doStoreGuardianInformation=q;g.doStoreReportedTagTitle=r}),98);
__d("PolarisFRXWebReportStateSelectors",["PolarisFRXWebReportConstants","PolarisFRXWebReportUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a.webFRXReport.pendingFRXScreenRequestID!==null}function h(a){return a.webFRXReport.screenHistoryStack}function b(a){return d("PolarisFRXWebReportUtils").getCurrentScreenFromHistoryStack(h(a))}function c(a){return h(a).length}function e(a){a=h(a);return a.findIndex(function(a){return a.type===d("PolarisFRXWebReportConstants").FRX_SCREEN_PAYLOAD_TYPE_INTS.CONFIRMATION})>=0}function f(a){return a.webFRXReport.currRenderStep}function i(a){return a.webFRXReport.disableNotifyGuardianOption}function j(a){return a.webFRXReport.guardianUsername}function k(a){return a.webFRXReport.reportedTagTitle}g.getIsFRXScreenRequestProcessing=a;g.getCurrScreenPayload=b;g.getScreenHistorySize=c;g.getIsConfirmationScreenInHistoryStack=e;g.getCurrRenderStep=f;g.getDisableNotifyGuardianOption=i;g.getGuardianUsername=j;g.getReportedTagTitle=k}),98);
__d("PolarisFRXReportModalFollowUpActionSection.react",["IGDSBox.react","IGDSText.react","PolarisFRXReportModalOptionList.react","PolarisFRXReportModalOptionListItem.react","PolarisFRXWebReportActions","PolarisFRXWebReportStateSelectors","PolarisFRXWebReportStrings","PolarisReactRedux.react","PolarisReportConstants","gkx","isStringNullOrEmpty","polarisRelationshipSelectors.react","react","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function k(a,b){a=a.reportedOwner.id;return d("polarisRelationshipSelectors.react").getRelationship(b.relationships,a)}function l(a,b){a=a.onSelectFollowupAction;a&&a(b)}var m=c("gkx")("4760");function a(a){var b=i(19),e=a.followUpActions,f;b[0]!==a?(f=function(b){return d("polarisRelationshipSelectors.react").followedByViewer(k(a,b))},b[0]=a,b[1]=f):f=b[1];var g=d("PolarisReactRedux.react").useSelector(f);b[2]!==a?(f=function(b){return d("polarisRelationshipSelectors.react").isBlockedByViewer(k(a,b))},b[2]=a,b[3]=f):f=b[3];var h=d("PolarisReactRedux.react").useSelector(f),r=c("usePolarisViewer")();if(b[4]!==a||b[5]!==g||b[6]!==h||b[7]!==r||b[8]!==e){b[10]!==a||b[11]!==g||b[12]!==h||b[13]!==r?(f=function(b,c){var e=b.action_type,f=b.beta_redirect_uri,i=b.name;if(e==null)return null;i=i==null?void 0:i.text;var k=function(){return l(a,b)};c="followup-"+c;switch(e){case d("PolarisReportConstants").FRXActionType.LEARN_MORE_ADS:case d("PolarisReportConstants").FRXActionType.LEARN_MORE_EDUCATION:case d("PolarisReportConstants").FRXActionType.OPEN_CROWDTANGLE:case d("PolarisReportConstants").FRXActionType.SELF_INJURY_EDUCATION_ACTION:case d("PolarisReportConstants").FRXActionType.EATING_DISORDER_EDUCATION_ACTION:return i==null||i===""||f==null||f===""?null:j.jsx(d("PolarisFRXReportModalOptionListItem.react").FRXReportModalOptionListItem,{href:f,onSelect:k,children:i},c);case d("PolarisReportConstants").FRXActionType.UNFOLLOW:return!g?null:j.jsx(o,{labelText:i,onSelect:k},c);case d("PolarisReportConstants").FRXActionType.BLOCK_ACTOR:return h?null:j.jsx(p,{labelText:i,onSelect:k},c);case d("PolarisReportConstants").FRXActionType.NOTIFY_GUARDIAN:return(r==null?void 0:r.isSupervisedUser)!==!0?null:j.jsx(q,{labelText:i,onSelect:k},c);default:return null}},b[10]=a,b[11]=g,b[12]=h,b[13]=r,b[14]=f):f=b[14];f=e.map(f).filter(n);b[4]=a;b[5]=g;b[6]=h;b[7]=r;b[8]=e;b[9]=f}else f=b[9];e=f;if(e.length===0)return null;var s;b[15]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsx(c("IGDSBox.react"),{marginTop:11,position:"relative"}),s=m&&j.jsx(c("IGDSBox.react"),{marginBottom:4,paddingX:4,children:j.jsx(c("IGDSText.react").BodyEmphasized,{children:d("PolarisFRXWebReportStrings").CONFIRMATION_MODAL_OTHER_STEPS_HEADER_TEXT})}),b[15]=f,b[16]=s):(f=b[15],s=b[16]);b[17]!==e?(f=j.jsxs(j.Fragment,{children:[f,s,j.jsx(c("PolarisFRXReportModalOptionList.react"),{children:e})]}),b[17]=e,b[18]=f):f=b[18];return f}function n(a){return a!=null}function o(a){var b=i(6),e=a.labelText,f=a.onSelect;a=c("isStringNullOrEmpty")(e)?d("PolarisFRXWebReportStrings").DEFAULT_UNFOLLOW_BUTTON_TEXT:e;var g=d("PolarisReactRedux.react").useDispatch();b[0]!==f||b[1]!==g?(e=function(){f(),g(d("PolarisFRXWebReportActions").doStartUnfollowFollowupAction())},b[0]=f,b[1]=g,b[2]=e):e=b[2];var h;b[3]!==e||b[4]!==a?(h=j.jsx(d("PolarisFRXReportModalOptionListItem.react").FRXReportModalOptionListItem,{onSelect:e,children:a}),b[3]=e,b[4]=a,b[5]=h):h=b[5];return h}function p(a){var b=i(6),e=a.labelText,f=a.onSelect;a=c("isStringNullOrEmpty")(e)?d("PolarisFRXWebReportStrings").DEFAULT_BLOCK_BUTTON_TEXT:e;var g=d("PolarisReactRedux.react").useDispatch();b[0]!==f||b[1]!==g?(e=function(){f(),g(d("PolarisFRXWebReportActions").doStartBlockFollowupAction())},b[0]=f,b[1]=g,b[2]=e):e=b[2];var h;b[3]!==e||b[4]!==a?(h=j.jsx(d("PolarisFRXReportModalOptionListItem.react").FRXReportModalOptionListItem,{onSelect:e,textColor:m?d("PolarisFRXReportModalOptionListItem.react").OPTION_LIST_ITEM_TEXT_COLORS.DEFAULT:d("PolarisFRXReportModalOptionListItem.react").OPTION_LIST_ITEM_TEXT_COLORS.RED,children:a}),b[3]=e,b[4]=a,b[5]=h):h=b[5];return h}function q(a){var b=i(8),e=a.labelText,f=a.onSelect;a=c("isStringNullOrEmpty")(e)?d("PolarisFRXWebReportStrings").DEFAULT_NOTIFY_GUARDIAN_BUTTON_TEXT:e;var g=d("PolarisReactRedux.react").useDispatch();e=d("PolarisReactRedux.react").useSelector(d("PolarisFRXWebReportStateSelectors").getDisableNotifyGuardianOption);var h=e===!0?d("PolarisFRXReportModalOptionListItem.react").OPTION_LIST_ITEM_TEXT_COLORS.GREY:d("PolarisFRXReportModalOptionListItem.react").OPTION_LIST_ITEM_TEXT_COLORS.DEFAULT,k;b[0]!==f||b[1]!==g?(k=function(){f(),g(d("PolarisFRXWebReportActions").doStartNotifyGuardianFollowupAction())},b[0]=f,b[1]=g,b[2]=k):k=b[2];var l;b[3]!==e||b[4]!==k||b[5]!==h||b[6]!==a?(l=j.jsx(d("PolarisFRXReportModalOptionListItem.react").FRXReportModalOptionListItem,{disabled:e,onSelect:k,textColor:h,children:a}),b[3]=e,b[4]=k,b[5]=h,b[6]=a,b[7]=l):l=b[7];return l}g["default"]=a}),98);
__d("PolarisTextWithEntities.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function k(a,b){return a.offset===b.offset&&(a.length===0||b.length===0)?a.length-b.length:a.offset-b.offset}function l(a){return[].concat(a.ranges).filter(Boolean).sort(k)}function a(a){var b=i(4);if(b[0]!==a){var c=0,d=[],e=a.text,f=l(a),g=[],h=[];for(var k=0;k<f.length;k++)g.push(f[k].offset),h.push(f[k].offset+f[k].length);k=[];var m=0;while(m<f.length){var n=f[m];if(h[m]<c){m=k.length>0?k.pop():m+1;continue}if(n.offset>c){var o=e.substring(c,n.offset);d.push(j.jsx(j.Fragment,{children:o},o+m));c=n.offset}o=0;for(var p=m+1;p<f.length;p++)if(g[p]<h[m]&&g[p]>=c){o=p;break}if(o!==0){p=e.substring(c,g[o]);d.push(j.jsx(j.Fragment,{children:a.rangeRenderer(p,n)},p+m));c=g[o];k.push(m);m=o;continue}p=e.substring(c,h[m]);d.push(j.jsx(j.Fragment,{children:a.rangeRenderer(p,n)},p+m));c=h[m];k.length>0?m=k.pop():m++}if(e.length>c){o=e.substr(c);b[2]!==o?(n=j.jsx(j.Fragment,{children:o},o),b[2]=o,b[3]=n):n=b[3];d.push(n)}p=a.textRenderer(d);b[0]=a;b[1]=p}else p=b[1];return p}g["default"]=a}),98);
__d("PolarisFRXReportModalRichText.react",["PolarisFRXReportModalRichTextRenderer.react","PolarisTextWithEntities.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function k(a){a=a.token;if(!a)return null;var b=a.color,c=a.style,d=a.uri;b==null&&(b=a["3"]);c==null&&(c=a["1"]);(d===""||d==null)&&(d=a["2"]);c!=null&&(c=parseInt(c,10));return{color:b,style:c,uri:d}}function l(a){if(!a)return[];var b=[];a.forEach(function(a){var c=a.length,d=a.offset;a=k(a)||{};var e=a.color,f=a.style;a=a.uri;c!=null&&d!=null&&(a!=null||e!=null||f!=null)&&b.push({color:e,length:c,offset:d,override_uri:a,style:f})});return b}function m(a,b){var d=b.color,e=b.override_uri;b=b.style;return j.jsx(c("PolarisFRXReportModalRichTextRenderer.react"),{color:d,href:e,style:b,children:a})}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b=i(5);a=a.richText;if(a==null)return null;var d=a.markup;a=a.text;if(a==null)return null;var e;b[0]!==d?(e=l(d),b[0]=d,b[1]=e):e=b[1];b[2]!==e||b[3]!==a?(d=j.jsx(c("PolarisTextWithEntities.react"),{rangeRenderer:m,ranges:e,text:a,textRenderer:n}),b[2]=e,b[3]=a,b[4]=d):d=b[4];return d}function n(a){return j.jsx(j.Fragment,{children:a})}g["default"]=a}),98);
__d("PolarisFRXWebReportAPIUtils",["PolarisInstapi","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";function a(a){d("PolarisInstapi").apiPost("/api/v1/web/reports/log_tag_selected/",{body:a})["catch"](c("emptyFunction"))}function b(a){d("PolarisInstapi").apiPost("/api/v1/web/reports/handle_guided_action/",{body:a})["catch"](c("emptyFunction"))}g.logFRXTagSelected=a;g.handleFRXGuidedAction=b}),98);
__d("PolarisFRXReportConfirmationScreenModalForSupervision.react",["IGDSBox.react","IGDSCircleCheckPanoOutlineIcon.react","IGDSText.react","PolarisFRXReportBaseScreenModal.react","PolarisFRXReportMainButton.react","PolarisFRXReportModalFollowUpActionSection.react","PolarisFRXReportModalRichText.react","PolarisFRXWebReportAPIUtils","PolarisFRXWebReportStrings","PolarisGenericStrings","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function k(a,b){b=b.action_type;if(b==null)return;a=a.screenPayload.response;d("PolarisFRXWebReportAPIUtils").handleFRXGuidedAction({action_type:b,context:a==null?void 0:a.context})}function a(a){var b=i(13),e=a.headerParams,f=a.onClose,g;b[0]!==f?(g=function(){return f&&f()},b[0]=f,b[1]=g):g=b[1];g=g;var h,k;b[2]!==a?(h=j.jsx(l,babelHelpers["extends"]({},a)),k=j.jsx(m,babelHelpers["extends"]({},a)),b[2]=a,b[3]=h,b[4]=k):(h=b[3],k=b[4]);b[5]!==g?(a=j.jsx(c("IGDSBox.react"),{marginBottom:d("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_MARGIN_BOTTOM,marginTop:4,paddingX:d("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_PADDING_X,position:"relative",children:j.jsx(c("PolarisFRXReportMainButton.react"),{onClick:g,text:d("PolarisGenericStrings").CLOSE_TEXT})}),b[5]=g,b[6]=a):a=b[6];var n;b[7]!==e||b[8]!==g||b[9]!==h||b[10]!==k||b[11]!==a?(n=j.jsxs(d("PolarisFRXReportBaseScreenModal.react").FRXReportBaseScreenModal,{disableDefaultBodyPaddingMargin:!0,headerParams:e,onClose:g,children:[h,k,a]}),b[7]=e,b[8]=g,b[9]=h,b[10]=k,b[11]=a,b[12]=n):n=b[12];return n}function l(a){var b=i(14);a=a.screenPayload;var e;b[0]!==a?(e=a||{},b[0]=a,b[1]=e):e=b[1];a=e;e=a.response;b[2]!==e?(a=e||{},b[2]=e,b[3]=a):a=b[3];e=a;a=e.follow_up_actions_title;e=e.subtitle;var f;b[4]!==e?(f=e?j.jsx(c("IGDSBox.react"),{marginTop:6,position:"relative",children:j.jsx(c("IGDSText.react").Section,{textAlign:"center",zeroMargin:!0,children:j.jsx(c("PolarisFRXReportModalRichText.react"),{richText:e})})}):null,b[4]=e,b[5]=f):f=b[5];e=f;f=null;if(a){var g;b[6]!==a?(g=j.jsx(c("IGDSText.react").Body,{color:"secondaryText",textAlign:"center",zeroMargin:!0,children:j.jsx(c("PolarisFRXReportModalRichText.react"),{richText:a})}),b[6]=a,b[7]=g):g=b[7];f=g;if(e){b[8]!==f?(a=j.jsx(c("IGDSBox.react"),{marginTop:2,position:"relative",children:f}),b[8]=f,b[9]=a):a=b[9];f=a}}b[10]===Symbol["for"]("react.memo_cache_sentinel")?(g=j.jsx(c("IGDSCircleCheckPanoOutlineIcon.react"),{alt:d("PolarisFRXWebReportStrings").CHECKMARK_ICON_ALT_TEXT,color:"ig-success",size:48}),b[10]=g):g=b[10];b[11]!==e||b[12]!==f?(a=j.jsx(c("IGDSBox.react"),{marginTop:d("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_MARGIN_TOP,paddingX:d("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_PADDING_X,position:"relative",children:j.jsxs(c("IGDSBox.react"),{alignContent:"center",alignItems:"center",marginTop:6,position:"relative",children:[g,e,f]})}),b[11]=e,b[12]=f,b[13]=a):a=b[13];return a}function m(a){var b=i(6),d=a.reportedOwner,e=a.screenPayload;e=e.response;e=e==null?void 0:e.follow_up_actions;if(!e||e.length===0)return null;var f;b[0]!==a?(f=function(b){k(a,b)},b[0]=a,b[1]=f):f=b[1];var g;b[2]!==e||b[3]!==f||b[4]!==d?(g=j.jsx(c("PolarisFRXReportModalFollowUpActionSection.react"),{followUpActions:e,onSelectFollowupAction:f,reportedOwner:d}),b[2]=e,b[3]=f,b[4]=d,b[5]=g):g=b[5];return g}g["default"]=a}),98);
__d("PolarisFRXInAppEscalationReportDropdownSelector.react",["cx","fbt","IGDSChevronIcon.react","PolarisIGCoreText","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this)||this;b.state={inputText:"",optionsVisible:!1};return b}var d=b.prototype;d.render=function(){var a=this,b=function(){var b=a.props.tags||null;return k.jsx("div",{className:"_ac4n",id:"dropdownOptions",children:b.map(function(a){return k.jsx("span",{className:"_ac4o",onClick:function(){return e(a)},role:"presentation",children:k.jsxs("div",{className:"_ac4p",children:[k.jsx(c("PolarisIGCoreText").Body,{color:"ig-primary-text",weight:"normal",zeroMargin:!0,children:a.title?a.title.text:""}),k.jsx("div",{className:"_ac4q"}),k.jsx(c("PolarisIGCoreText").Body,{color:"ig-secondary-text",size:"footnote",weight:"light",zeroMargin:!0,children:a.subtitle?a.subtitle.text:""})]})},a.tag_type)})})},d=function(){a.setState(function(a){return{optionsVisible:!a.optionsVisible}})},e=function(b){a.setState(function(a){return{inputText:b.title?b.title.text:"",optionsVisible:!a.optionsVisible}}),a.props.handleSetReportSubtype(b.tag_type)};return k.jsxs("span",{children:[k.jsxs("span",{className:"_ac4f",id:"optionList",onClick:d,role:"presentation",children:[k.jsxs("label",{className:"_ac4g",children:[k.jsx("span",{className:(this.props.showError===!1&&this.state.inputText===""?"_ac4h":"")+(this.state.inputText!==""?" _ac4i":"")+(this.props.showError===!0?" _ac4l":""),children:this.props.showError===!0?this.props.errorMessage:this.props.placeholder}),k.jsx("span",{className:(this.props.showError===!1?"_ac4j":"")+(this.props.showError===!0?" _ac4k":""),children:this.props.showError?this.props.placeholder:this.state.inputText})]}),k.jsx("div",{className:(this.state.optionsVisible?"":"_ac4r")+(this.state.optionsVisible?" _ac4s":""),children:k.jsx(c("IGDSChevronIcon.react"),{alt:i._("__JHASH__KmLwDGth6wW__JHASH__"),color:"ig-tertiary-text",direction:this.state.optionsVisible?"down":"next",size:17})})]}),this.state.optionsVisible?b():null]})};return b}(k.Component);g["default"]=a}),226);
__d("PolarisFRXInAppEscalationReportTextAreaInput.react",["cx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.$1=function(a){var b=a.currentTarget.value;c.setState(function(a){if(b.length>0&&!a.hasContent)return{hasContent:!0};else if(b.length===0)return{hasContent:!1};return{}})};c.state={hasContent:!!b.value,isFocused:!1};return c}var c=b.prototype;c.$2=function(a){this.setState({isFocused:a})};c.render=function(){var a=this;return j.jsxs("div",{className:"_acg-",children:[j.jsx("span",{className:(this.props.showError===!0?"_ach1":"")+(!this.state.isFocused&&!this.state.hasContent&&this.props.showError===!1?" _ach2":"")+((this.state.isFocused||this.state.hasContent)&&this.props.showError===!1?" _ach3":""),children:this.props.showError===!0?this.props.errorMessage:this.props.placeholder}),j.jsx("textarea",{className:(this.props.showError!==!0?"_acg_":"")+(this.props.showError===!0?" _ach0":""),id:this.props.id,name:this.props.name,onBlur:function(){return a.$2(!1)},onChange:this.props.onChange,onClick:function(){return a.$2(!0)},onInput:this.$1,placeholder:this.props.showError?this.props.placeholder:this.state.isFocused||this.state.hasContent?null:this.props.placeholder,value:this.props.value})]})};return b}(j.Component);g["default"]=a}),98);
__d("PolarisFRXReportModalPromptButton.react",["PolarisFRXReportMainButton.react","PolarisFRXWebReportStateSelectors","PolarisReactRedux.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(11),e=d("PolarisReactRedux.react").useSelector(d("PolarisFRXWebReportStateSelectors").getIsFRXScreenRequestProcessing),f=a.actionType,g=a.canSubmitOnClick,h=a.disabled,k=a.href,l=a.label,m=a.onSubmit;a=a.primaryButton;h=h===void 0?!1:h;a=a===void 0?!0:a;h=h||g&&e;var n;b[0]!==g||b[1]!==m||b[2]!==f?(n=function(){g&&m&&m(f)},b[0]=g,b[1]=m,b[2]=f,b[3]=n):n=b[3];e=g&&e;var o;b[4]!==h||b[5]!==k||b[6]!==n||b[7]!==a||b[8]!==e||b[9]!==l?(o=j.jsx(c("PolarisFRXReportMainButton.react"),{disabled:h,href:k,onClick:n,primaryButton:a,spinner:e,text:l}),b[4]=h,b[5]=k,b[6]=n,b[7]=a,b[8]=e,b[9]=l,b[10]=o):o=b[10];return o}g["default"]=a}),98);
__d("PolarisFRXInAppEscalationReportTypeScreenModal.react",["cx","fbt","IGDSBox.react","IGDSDivider.react","IGDSIconButton.react","IGDSVideoChatPanoOutlineIcon.react","IGDSXPanoFilledIcon.react","PolarisFRXInAppEscalationReportDropdownSelector.react","PolarisFRXInAppEscalationReportTextAreaInput.react","PolarisFRXReportBaseScreenModal.react","PolarisFRXReportModalPromptButton.react","PolarisFRXReportModalRichText.react","PolarisFRXWebReportStrings","PolarisFRXWebReportUtils","PolarisIGCoreText","PolarisImageFileForm.react","Promise","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||(k=d("react"));e=k;var m=e.useCallback,n=e.useState,o=12;function a(a){var e=a.headerParams,f=a.onClose,g=a.onSubmitScreen;a=a.screenPayload;var h=n(""),k=h[0],p=h[1];h=n([]);var q=h[0],r=h[1];h=n("");var s=h[0],t=h[1];h=n(!1);var u=h[0],v=h[1];h=n(!1);var w=h[0],x=h[1];(function(){return f&&f()});h=d("PolarisFRXWebReportUtils").getPromptButtonRenderPropsFromScreenPayload(a);function y(a){a!=null&&a.length>0&&z(a)}var z=m(function(a){(j||(j=b("Promise"))).all([].slice.call(a).map(function(a){return new(j||(j=b("Promise")))(function(b,c){var d=new FileReader();d.addEventListener("load",function(){b({data:d.result,name:a.name,type:a.type})});d.readAsDataURL(a)})})).then(function(a){return q.concat(a)}).then(function(a){r(a)})},[r,q]),A=function(){return q.length===0?null:l.jsx("div",{children:l.jsx("ul",{className:"_abmy",children:q.map(function(a,b){return l.jsxs("div",{className:"_abmz",children:[l.jsx("div",{className:"_abm-"}),l.jsx("div",{className:"_abm_",children:l.jsx("div",{className:"_abn0",children:l.jsx(c("IGDSIconButton.react"),{onClick:function(){return C(b)},children:l.jsx(c("IGDSXPanoFilledIcon.react"),{alt:i._("__JHASH__MUOkOji-l5l__JHASH__"),color:"web-always-white",size:o})})})}),B(a)]},a.name+b)})})})},B=function(a){return a.type.match(/image\//i)?l.jsx("img",{alt:a.name,className:"_abn1",src:a.data}):l.jsxs("div",{children:[l.jsx(c("IGDSVideoChatPanoOutlineIcon.react"),{}),l.jsx("figcaption",{children:a.name})]})},C=function(a){var b=q.slice(0);b.splice(a,1);r(b)};(function(){var a;return l.jsxs("div",{children:[l.jsxs(a=c("IGDSBox.react"),{direction:"row",marginBottom:4,marginTop:4,position:"relative",children:[l.jsxs(a,{alignContent:"start",position:"relative",children:[l.jsx(c("PolarisIGCoreText").Body,{color:"ig-primary-text",weight:"semibold",zeroMargin:!0,children:d("PolarisFRXWebReportStrings").IN_APP_ESCALATIONS_ATTACH_EVIDENCE_TEXT}),l.jsx(c("PolarisIGCoreText").Body2,{color:"ig-secondary-text",zeroMargin:!0,children:d("PolarisFRXWebReportStrings").DEFAULT_OPTIONAL_FIELD_TEXT})]}),l.jsx(a,{marginStart:"auto",position:"relative",children:l.jsx(d("PolarisImageFileForm.react").ImageFileForm,{acceptMimeTypes:["image/*","video/*"],multiple:!0,onFileChange:y,children:l.jsx(c("PolarisIGCoreText").Body,{color:"ig-primary-button",textAlign:"right",weight:"semibold",zeroMargin:!0,children:d("PolarisFRXWebReportStrings").IN_APP_ESCALATIONS_ADD_PHOTOS_TEXT})})})]}),l.jsx(a,{position:"relative",children:A()}),l.jsx(c("IGDSDivider.react"),{})]})});var D=function(){return g({attachments:q.map(function(a){return a.data}),evidenceText:k,reportSubtype:s})},E=function(){var a=!0;(s.trim()===""||s===null)&&(x(!0),a=!1);(k.trim()===""||k===null)&&(v(!0),a=!1);return a};h=h?l.jsx(c("PolarisFRXReportModalPromptButton.react"),babelHelpers["extends"]({},h,{onSubmit:function(){E()&&D()}})):null;var F=a.response.report_subtype_tags||[],G=a.response.subtype_selector_header?a.response.subtype_selector_header.text:"";return l.jsxs(d("PolarisFRXReportBaseScreenModal.react").FRXReportBaseScreenModal,{headerParams:e,onClose:f,children:[l.jsx(c("PolarisIGCoreText").Body,{color:"ig-primary-text",zeroMargin:!0,children:l.jsx(c("PolarisFRXReportModalRichText.react"),{richText:a.response.header})}),l.jsx("br",{}),l.jsx(c("IGDSDivider.react"),{}),l.jsx(c("IGDSBox.react"),{direction:"column",marginBottom:4,marginTop:4,position:"relative",children:l.jsx(c("PolarisFRXInAppEscalationReportDropdownSelector.react"),{"aria-label":"select subtype of report",errorMessage:d("PolarisFRXWebReportStrings").IN_APP_ESCALATIONS_ERROR_SELECT_SUBTYPE_ERROR_TEXT,handleSetReportSubtype:function(a){t(a!=null?a:""),x(!1)},placeholder:G,showError:w,tags:F})}),l.jsx(c("IGDSDivider.react"),{}),l.jsx(c("IGDSBox.react"),{flex:"grow",marginBottom:4,marginTop:4,position:"relative",children:l.jsx(c("PolarisFRXInAppEscalationReportTextAreaInput.react"),{"aria-label":"evidence_text",errorMessage:d("PolarisFRXWebReportStrings").IN_APP_ESCALATIONS_PLEASE_EXPLAIN_ERROR_TEXT,id:"evidence_input",name:"evidence_text",onChange:function(a){p(a.target.value),a.target.value.trim()!==""&&v(!1)},placeholder:d("PolarisFRXWebReportStrings").IN_APP_ESCALATIONS_EXPLAIN_PROMPT_TEXT,showError:u,value:k})}),l.jsx(c("IGDSDivider.react"),{}),l.jsx(c("IGDSBox.react"),{marginBottom:d("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_MARGIN_BOTTOM,marginTop:4,paddingX:d("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_PADDING_X,position:"relative"}),h]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("PolarisFRXReportConfirmationScreenModal.react",["IGDSBox.react","IGDSCircleCheckPanoOutlineIcon.react","IGDSText.react","PolarisFRXReportBaseScreenModal.react","PolarisFRXReportMainButton.react","PolarisFRXReportModalFollowUpActionSection.react","PolarisFRXReportModalRichText.react","PolarisFRXWebReportAPIUtils","PolarisFRXWebReportStrings","PolarisGenericStrings","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function k(a,b){b=b.action_type;if(b==null)return;a=a.screenPayload.response;d("PolarisFRXWebReportAPIUtils").handleFRXGuidedAction({action_type:b,context:a==null?void 0:a.context})}function a(a){var b=i(13),e=a.headerParams,f=a.onClose,g;b[0]!==f?(g=function(){return f&&f()},b[0]=f,b[1]=g):g=b[1];g=g;var h,k;b[2]!==a?(h=j.jsx(l,babelHelpers["extends"]({},a)),k=j.jsx(m,babelHelpers["extends"]({},a)),b[2]=a,b[3]=h,b[4]=k):(h=b[3],k=b[4]);b[5]!==g?(a=j.jsx(c("IGDSBox.react"),{marginBottom:d("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_MARGIN_BOTTOM,marginTop:4,paddingX:d("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_PADDING_X,position:"relative",children:j.jsx(c("PolarisFRXReportMainButton.react"),{"data-testid":void 0,onClick:g,text:d("PolarisGenericStrings").CLOSE_TEXT})}),b[5]=g,b[6]=a):a=b[6];var n;b[7]!==e||b[8]!==g||b[9]!==h||b[10]!==k||b[11]!==a?(n=j.jsxs(d("PolarisFRXReportBaseScreenModal.react").FRXReportBaseScreenModal,{disableDefaultBodyPaddingMargin:!0,headerParams:e,onClose:g,children:[h,k,a]}),b[7]=e,b[8]=g,b[9]=h,b[10]=k,b[11]=a,b[12]=n):n=b[12];return n}function l(a){var b=i(16);a=a.screenPayload;var e;b[0]!==a?(e=a||{},b[0]=a,b[1]=e):e=b[1];a=e;e=a.response;b[2]!==e?(a=e||{},b[2]=e,b[3]=a):a=b[3];e=a;a=e.follow_up_actions_title;e=e.subtitle;var f=c("gkx")("4760"),g;b[4]!==e?(g=e?j.jsx(c("IGDSBox.react"),{alignItems:"start",marginTop:6,position:"relative",children:f?j.jsx(c("IGDSText.react").TitleEmphasized,{textAlign:"center",zeroMargin:!0,children:j.jsx(c("PolarisFRXReportModalRichText.react"),{richText:e})}):j.jsx(c("IGDSText.react").Section,{textAlign:"center",zeroMargin:!0,children:j.jsx(c("PolarisFRXReportModalRichText.react"),{richText:e})})}):null,b[4]=e,b[5]=g):g=b[5];e=g;g=null;if(a){var h;b[6]!==a?(h=f?d("PolarisFRXWebReportStrings").CONFIRMATION_MODAL_HEADER_TEXT:j.jsx(c("PolarisFRXReportModalRichText.react"),{richText:a}),b[6]=a,b[7]=h):h=b[7];b[8]!==h?(a=j.jsx(c("IGDSText.react").Body,{color:"secondaryText",textAlign:"center",zeroMargin:!0,children:h}),b[8]=h,b[9]=a):a=b[9];g=a;if(e){b[10]!==g?(h=j.jsx(c("IGDSBox.react"),{marginTop:2,position:"relative",children:g}),b[10]=g,b[11]=h):h=b[11];g=h}}b[12]===Symbol["for"]("react.memo_cache_sentinel")?(a=!f&&j.jsx(c("IGDSCircleCheckPanoOutlineIcon.react"),{alt:d("PolarisFRXWebReportStrings").CHECKMARK_ICON_ALT_TEXT,color:"ig-success",size:48}),b[12]=a):a=b[12];b[13]!==e||b[14]!==g?(h=j.jsx(c("IGDSBox.react"),{marginTop:d("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_MARGIN_TOP,paddingX:d("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_PADDING_X,position:"relative",children:j.jsxs(c("IGDSBox.react"),{alignContent:"center",alignItems:"center",marginTop:f?2:6,position:"relative",children:[a,e,g]})}),b[13]=e,b[14]=g,b[15]=h):h=b[15];return h}function m(a){var b=i(6),d=a.reportedOwner,e=a.screenPayload;e=e.response;e=e==null?void 0:e.follow_up_actions;if(!e||e.length===0)return null;var f;b[0]!==a?(f=function(b){k(a,b)},b[0]=a,b[1]=f):f=b[1];var g;b[2]!==e||b[3]!==f||b[4]!==d?(g=j.jsx(c("PolarisFRXReportModalFollowUpActionSection.react"),{followUpActions:e,onSelectFollowupAction:f,reportedOwner:d}),b[2]=e,b[3]=f,b[4]=d,b[5]=g):g=b[5];return g}g["default"]=a}),98);
__d("PolarisFRXReportModalScreenContentSectionList.react",["IGDSBox.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k=4;function a(a){var b=i(7),d=a.sections;a=a.marginBetween;var e=a===void 0?k:a;if(b[0]!==d||b[1]!==e){b[3]!==e?(a=function(a,b){var d=b>0&&e!==0?j.jsx(c("IGDSBox.react"),{marginTop:e,position:"relative"}):null;return j.jsxs(j.Fragment,{children:[d,a]},"section-"+b)},b[3]=e,b[4]=a):a=b[4];a=d.filter(l).map(a);b[0]=d;b[1]=e;b[2]=a}else a=b[2];d=a;b[5]!==d?(a=j.jsx(j.Fragment,{children:d}),b[5]=d,b[6]=a):a=b[6];return a}function l(a){return!!a}g["default"]=a}),98);
__d("PolarisFRXReportModalInterstitialScreen.react",["IGDSBox.react","IGDSText.react","PolarisFRXReportBaseScreenModal.react","PolarisFRXReportModalPromptButton.react","PolarisFRXReportModalRichText.react","PolarisFRXReportModalScreenContentSectionList.react","PolarisFRXWebReportUtils","isStringNullOrEmpty","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k=2,l=100;function a(a){var b=i(24),e=a.headerParams,f=a.onClose,g=a.screenPayload,h=g.response,k;b[0]!==h?(k=h||{},b[0]=h,b[1]=k):k=b[1];h=k;k=h.body;var p=h.image_url,q=h.paragraphs,r=h.subtitle;h=h.tip_number;q=q?q[0]:null;h=k||h===3?l:l*2;var s;b[2]!==p||b[3]!==h?(s=c("isStringNullOrEmpty")(p)?null:j.jsx(c("IGDSBox.react"),{alignContent:"center",alignItems:"center",position:"relative",children:j.jsx("img",{alt:"",height:l,src:p,width:h})}),b[2]=p,b[3]=h,b[4]=s):s=b[4];p=s;b[5]!==r?(h=r?j.jsx(m,{subtitle:r}):null,b[5]=r,b[6]=h):h=b[6];s=h;b[7]!==k||b[8]!==q?(r=k?j.jsx(o,{body:k}):q?j.jsx(o,{body:q}):null,b[7]=k,b[8]=q,b[9]=r):r=b[9];h=r;b[10]!==g?(k=d("PolarisFRXWebReportUtils").getPromptButtonRenderPropsFromScreenPayload(g),b[10]=g,b[11]=k):k=b[11];q=k;b[12]!==q||b[13]!==a?(r=q?j.jsx(n,{parentProps:a,promptButtonProps:q}):null,b[12]=q,b[13]=a,b[14]=r):r=b[14];g=r;b[15]!==p||b[16]!==s||b[17]!==h||b[18]!==g?(k=j.jsx(c("PolarisFRXReportModalScreenContentSectionList.react"),{sections:[p,s,h,g]}),b[15]=p,b[16]=s,b[17]=h,b[18]=g,b[19]=k):k=b[19];b[20]!==e||b[21]!==f||b[22]!==k?(q=j.jsx(d("PolarisFRXReportBaseScreenModal.react").FRXReportBaseScreenModal,{headerParams:e,onClose:f,children:k}),b[20]=e,b[21]=f,b[22]=k,b[23]=q):q=b[23];return q}function m(a){var b=i(2);a=a.subtitle;var d;b[0]!==a?(d=j.jsx(c("IGDSBox.react"),{alignItems:"start",marginTop:k,position:"relative",children:j.jsx(c("IGDSText.react").Section,{textAlign:"center",children:j.jsx(c("PolarisFRXReportModalRichText.react"),{richText:a})})}),b[0]=a,b[1]=d):d=b[1];return d}function n(a){var b=i(6),d=a.parentProps;a=a.promptButtonProps;var e=d.onSubmitScreen;d=d.screenPayload;d=d.response;var f=d.tip_number;b[0]!==e||b[1]!==f?(d=function(a){return e({selectedPromptButtonActionType:a,tipNumber:f})},b[0]=e,b[1]=f,b[2]=d):d=b[2];var g;b[3]!==a||b[4]!==d?(g=j.jsx(c("PolarisFRXReportModalPromptButton.react"),babelHelpers["extends"]({},a,{onSubmit:d})),b[3]=a,b[4]=d,b[5]=g):g=b[5];return g}function o(a){var b=i(4);a=a.body;var d;b[0]!==a?(d=a?j.jsx(c("IGDSBox.react"),{position:"relative",children:j.jsx("div",{role:"listitem",children:j.jsx(c("IGDSBox.react"),{direction:"row",position:"relative",children:j.jsx(c("IGDSBox.react"),{flex:"grow",position:"relative",children:j.jsx(c("IGDSText.react").Body,{color:"secondaryText",textAlign:"center",zeroMargin:!0,children:j.jsx(c("PolarisFRXReportModalRichText.react"),{richText:a})})})})})}):null,b[0]=a,b[1]=d):d=b[1];a=d;b[2]!==a?(d=j.jsx(c("IGDSBox.react"),{position:"relative",children:a}),b[2]=a,b[3]=d):d=b[3];return d}g["default"]=a}),98);
__d("PolarisFRXReportModalPolicyEducationSection.react",["IGDSBox.react","IGDSText.react","PolarisFRXReportModalRichText.react","PolarisFRXReportModalScreenContentSectionList.react","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k=2,l=1,m="\u2022";function n(a,b){a=a.first_paragraph;var d=[];[a].forEach(function(a){if(!a||(a==null?void 0:a.text)==null||(a==null?void 0:a.text)==="")return;d.push(j.jsx(c("IGDSText.react"),{color:"secondaryText",size:"body",weight:b?"semibold":"normal",zeroMargin:!0,children:j.jsx(c("PolarisFRXReportModalRichText.react"),{richText:a})}))});return d}function o(a){a=a.policies;a=a===void 0?[]:a;if(!a||a.length===0)return[];var b=[];a.forEach(function(a){a=a.title;if(!a)return;b.push(j.jsx("div",{role:"listitem",children:j.jsxs(c("IGDSBox.react"),{direction:"row",position:"relative",children:[j.jsx(c("IGDSBox.react"),{marginEnd:2,position:"relative",children:j.jsx("div",{"aria-hidden":"true",children:j.jsx(c("IGDSText.react").Body2,{color:"secondaryText",zeroMargin:!0,children:m})})}),j.jsx(c("IGDSBox.react"),{flex:"grow",position:"relative",children:j.jsx(c("IGDSText.react").Body2,{color:"secondaryText",zeroMargin:!0,children:j.jsx(c("PolarisFRXReportModalRichText.react"),{richText:a})})})]})}))});return b}function a(a){var b=i(24);a=a.policyEducation;var d=a.second_paragraph,e=a.title,f;b[0]!==e?(f=e?j.jsx(c("IGDSText.react").Section,{zeroMargin:!0,children:j.jsx(c("PolarisFRXReportModalRichText.react"),{richText:e})}):null,b[0]=e,b[1]=f):f=b[1];e=f;b[2]!==a?(f=o(a),b[2]=a,b[3]=f):f=b[3];f=f;var g=f.length>0,h;b[4]!==a||b[5]!==g?(h=n(a,g),b[4]=a,b[5]=g,b[6]=h):h=b[6];a=h;b[7]!==a||b[8]!==e?(g=a.length>0?j.jsx(c("IGDSBox.react"),{marginTop:e?k:0,position:"relative",children:j.jsx(c("PolarisFRXReportModalScreenContentSectionList.react"),{marginBetween:k,sections:a})}):null,b[7]=a,b[8]=e,b[9]=g):g=b[9];h=g;b[10]!==f||b[11]!==e||b[12]!==h?(a=f.length>0?j.jsx(c("IGDSBox.react"),{marginTop:e||h?l:0,position:"relative",children:j.jsx("div",{role:"list",children:j.jsx(c("PolarisFRXReportModalScreenContentSectionList.react"),{marginBetween:l,sections:f})})}):null,b[10]=f,b[11]=e,b[12]=h,b[13]=a):a=b[13];g=a;f=c("gkx")("4760");b[14]!==d||b[15]!==g||b[16]!==e?(a=d?j.jsxs(c("IGDSBox.react"),{marginTop:g?f?3:1:0,position:"relative",children:[j.jsx(c("IGDSText.react"),{color:"secondaryText",size:"body",weight:"normal",zeroMargin:!0,children:j.jsx(c("PolarisFRXReportModalRichText.react"),{richText:d})}),j.jsx(c("IGDSBox.react"),{height:e?2:10,position:"relative"})]}):null,b[14]=d,b[15]=g,b[16]=e,b[17]=a):a=b[17];d=a;a=!f&&d;f=f&&d;b[18]!==e||b[19]!==a||b[20]!==h||b[21]!==g||b[22]!==f?(d=j.jsxs(c("IGDSBox.react"),{position:"relative",children:[e,a,h,g,f]}),b[18]=e,b[19]=a,b[20]=h,b[21]=g,b[22]=f,b[23]=d):d=b[23];return d}g["default"]=a}),98);
__d("PolarisFRXReportPolicyEducationScreenModal.react",["IGDSBox.react","IGDSText.react","PolarisFRXReportBaseScreenModal.react","PolarisFRXReportModalPolicyEducationSection.react","PolarisFRXReportModalPromptButton.react","PolarisFRXReportModalRichText.react","PolarisFRXReportModalScreenContentSectionList.react","PolarisFRXWebReportUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(26),e=a.headerParams,f=a.onClose,g=a.screenPayload,h=g.response,m;b[0]!==h?(m=h||{},b[0]=h,b[1]=m):m=b[1];h=m;m=h.policy_education;h=h.subtitle;var n;b[2]!==h?(n=h?j.jsx(k,{subtitle:h}):null,b[2]=h,b[3]=n):n=b[3];h=n;b[4]!==m?(n=m?j.jsx(c("PolarisFRXReportModalPolicyEducationSection.react"),{policyEducation:m}):null,b[4]=m,b[5]=n):n=b[5];n=n;var o;b[6]!==g?(o=d("PolarisFRXWebReportUtils").getPromptButtonRenderPropsFromScreenPayload(g),b[6]=g,b[7]=o):o=b[7];g=o;b[8]!==g||b[9]!==a?(o=g?j.jsx(l,{parentProps:a,promptButtonProps:g}):null,b[8]=g,b[9]=a,b[10]=o):o=b[10];g=o;a=null;if(m){o=m.education_button;if(o){m=(m=(m=o.title)==null?void 0:m.text)!=null?m:"";var p;b[11]!==o.action_type||b[12]!==o.url||b[13]!==m?(p={actionType:o.action_type,canSubmitOnClick:!1,href:o.url,label:m,primaryButton:!1},b[11]=o.action_type,b[12]=o.url,b[13]=m,b[14]=p):p=b[14];o=p;b[15]!==o?(m=j.jsx(c("PolarisFRXReportModalPromptButton.react"),babelHelpers["extends"]({},o)),b[15]=o,b[16]=m):m=b[16];a=m}}b[17]!==h||b[18]!==n||b[19]!==g||b[20]!==a?(p=j.jsx(c("PolarisFRXReportModalScreenContentSectionList.react"),{sections:[h,n,g,a]}),b[17]=h,b[18]=n,b[19]=g,b[20]=a,b[21]=p):p=b[21];b[22]!==e||b[23]!==f||b[24]!==p?(o=j.jsx(d("PolarisFRXReportBaseScreenModal.react").FRXReportBaseScreenModal,{headerParams:e,onClose:f,children:p}),b[22]=e,b[23]=f,b[24]=p,b[25]=o):o=b[25];return o}function k(a){var b=i(2);a=a.subtitle;var d;b[0]!==a?(d=j.jsx(c("IGDSBox.react"),{alignItems:"start",marginTop:2,position:"relative",children:j.jsx(c("IGDSText.react").Section,{children:j.jsx(c("PolarisFRXReportModalRichText.react"),{richText:a})})}),b[0]=a,b[1]=d):d=b[1];return d}function l(a){var b=i(5),d=a.parentProps;a=a.promptButtonProps;var e=d.onSubmitScreen;b[0]!==e?(d=function(a){return e(a)},b[0]=e,b[1]=d):d=b[1];var f;b[2]!==a||b[3]!==d?(f=j.jsx(c("PolarisFRXReportModalPromptButton.react"),babelHelpers["extends"]({},a,{onSubmit:d})),b[2]=a,b[3]=d,b[4]=f):f=b[4];return f}g["default"]=a}),98);
__d("PolarisFRXReportReviewScreenModalRootQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7566785723427516"}),null);
__d("PolarisFRXReportReviewScreenModalRootQuery$Parameters",["PolarisFRXReportReviewScreenModalRootQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("PolarisFRXReportReviewScreenModalRootQuery_instagramRelayOperation"),metadata:{},name:"PolarisFRXReportReviewScreenModalRootQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("PolarisFRXReportReviewScreenModalRootEntrypoint.entrypoint",["JSResourceForInteraction","PolarisFRXReportReviewScreenModalRootQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{queryReference:{parameters:c("PolarisFRXReportReviewScreenModalRootQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("PolarisFRXReportReviewScreenModalRoot.react").__setRef("PolarisFRXReportReviewScreenModalRootEntrypoint.entrypoint")};g["default"]=a}),98);
__d("PolarisFRXReportReviewScreenModal.react",["CometRelay","PolarisFRXReportReviewScreenModalRootEntrypoint.entrypoint","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useMemo;var j=b.c;function a(a){var b=j(9),e,f;b[0]!==a?(f=a.reportOwnerUsername,e=babelHelpers.objectWithoutPropertiesLoose(a,["reportOwnerUsername"]),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);var g=d("CometRelay").useRelayEnvironment();b[3]!==g?(a={getEnvironment:function(){return g}},b[3]=g,b[4]=a):a=b[4];a=a;a=a;a=d("CometRelay").useEntryPointLoader(a,c("PolarisFRXReportReviewScreenModalRootEntrypoint.entrypoint"));var h=a[0];a=a[1];h===null&&a({});b[5]!==h||b[6]!==e||b[7]!==f?(a=h?i.jsx(d("CometRelay").EntryPointContainer,{entryPointReference:h,props:{props:e,reportOwnerUsername:f}}):null,b[5]=h,b[6]=e,b[7]=f,b[8]=a):a=b[8];return a}g["default"]=a}),98);
__d("PolarisReportSearchBoxContainer.react",["PolarisMobileSearchBox.react","PolarisReactRedux.react","PolarisSearchActions","polarisSearchSelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");function a(a){var b=a.search;a=d("polarisSearchSelectors").getCurrentSearchContent(a);return{currentTab:b.currentSearchTab,discoverToken:"",loading:a.loading,rankToken:a.rankToken,results:a.results,searchedForQuery:a.searchedForQuery,selectedIndex:a.selectedIndex,suggested:b.suggested}}function b(a){return{onClearSearch:function(){a(d("PolarisSearchActions").clearSearch())},onNavigateToResult:function(b,c,e){a(d("PolarisSearchActions").navigateToResult(b,c,e))},onSearch:function(b,c,e,f,g){a(d("PolarisSearchActions").search(b,c,e))},onSelectResult:function(b,c){a(d("PolarisSearchActions").selectResult(b,c))}}}e=d("PolarisReactRedux.react").connect(a,b)(c("PolarisMobileSearchBox.react"));g["default"]=e}),98);
__d("PolarisReportButton.react",["PolarisIGCoreButton.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(5),d=a.children,e=a.color,f=a.disabled;a=a.onClick;e=e===void 0?"ig-primary-button":e;var g;b[0]!==e||b[1]!==f||b[2]!==a||b[3]!==d?(g=j.jsx(c("PolarisIGCoreButton.react"),{color:e,disabled:f,fullWidth:!0,large:!0,onClick:a,children:d}),b[0]=e,b[1]=f,b[2]=a,b[3]=d,b[4]=g):g=b[4];return g}g["default"]=a}),98);
__d("PolarisReportUserImpersonationListItem.react",["IGDSBox.react","IGDSListItem.react","IGDSText.react","PolarisAssetManagerGlyphMapping","PolarisGenericStrings","PolarisIGCoreIcon.react","PolarisReportButton.react","PolarisReportStrings","PolarisUserAvatar.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.props.onReport()},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.render=function(){var a=this.props.result;return i.jsx(c("IGDSListItem.react"),{addOnEnd:i.jsx(c("PolarisReportButton.react"),{onClick:this.$1,children:d("PolarisReportStrings").nextText}),addOnStart:i.jsx(c("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:a.profilePictureUrl,size:44,username:a.username}),subtitle:a.fullName,title:i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",display:"block",children:[i.jsx(c("IGDSText.react").BodyEmphasized,{breakWord:!0,children:a.username}),a.isVerified?i.jsx(c("IGDSBox.react"),{display:"inlineBlock",marginStart:1,children:i.jsx(c("PolarisIGCoreIcon.react"),{alt:d("PolarisGenericStrings").VERIFIED_TEXT,icon:d("PolarisAssetManagerGlyphMapping").ICONS.VERIFIED_SMALL})}):null]})})};return b}(i.Component);g.ReportUserImpersonationListItem=a}),98);
__d("PolarisReportUserImpersonationSearchBox.react",["cx","IGDSBox.react","PolarisReportSearchBoxContainer.react","PolarisReportUserImpersonationListItem.react","PolarisSearchConstants","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(21),e=a.fromWebview,f=a.onSelectVictim,g=a.reportedUserID,h=a.searchBoxPlaceHolder,i=a.userSearchResults,l=a.verifiedOnly;a=e===void 0?!1:e;b[0]!==h?(e=k.jsx(c("PolarisReportSearchBoxContainer.react"),{analyticsContext:void 0,disableResultKeyboardNav:!0,hideCancelButton:!0,isActive:!0,placeholder:h,searchContext:d("PolarisSearchConstants").SEARCH_CONTEXT.USER,useHistory:!0}),b[0]=h,b[1]=e):e=b[1];h=a?0:2;a=a?"_ac68":"";if(b[2]!==l||b[3]!==g||b[4]!==i||b[5]!==f){var m;b[7]!==l||b[8]!==g?(m=function(a){return l?a.isVerified&&a.pk!==g.toString():a.pk!==g.toString()},b[7]=l,b[8]=g,b[9]=m):m=b[9];var n;b[10]!==f?(n=function(a,b){return k.jsx(d("PolarisReportUserImpersonationListItem.react").ReportUserImpersonationListItem,{onReport:function(){return f(a)},result:a},b)},b[10]=f,b[11]=n):n=b[11];m=i.filter(m).map(n);b[2]=l;b[3]=g;b[4]=i;b[5]=f;b[6]=m}else m=b[6];b[12]!==a||b[13]!==m?(n=k.jsx("div",{className:a,children:m}),b[12]=a,b[13]=m,b[14]=n):n=b[14];b[15]!==h||b[16]!==n?(i=k.jsx(c("IGDSBox.react"),{color:"primaryBackground",marginTop:h,position:"relative",children:n}),b[15]=h,b[16]=n,b[17]=i):i=b[17];b[18]!==e||b[19]!==i?(a=k.jsxs("div",{children:[e,i]}),b[18]=e,b[19]=i,b[20]=a):a=b[20];return a}g["default"]=a}),98);
__d("PolarisFRXReportSelectVictimScreenModal.react",["IGDSBox.react","IGDSText.react","PolarisFRXReportBaseScreenModal.react","PolarisFRXReportModalRichText.react","PolarisFRXReportModalScreenContentSectionList.react","PolarisReactRedux.react","PolarisReportConstants","PolarisReportUserImpersonationSearchBox.react","PolarisSearchActions","PolarisSearchConstants","polarisSearchSelectors","react","useJSON"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useEffect,k=e.c;function l(a){a=a.allSearchResults;var b=[];for(var c=0;c<a.length;c++){var d=a[c];d.type==="USER_RESULT"&&b.push(d)}return b}function m(a){var b=k(3),c=a.onClearSearch,d;b[0]!==c?(a=function(){return function(){c()}},d=[c],b[0]=c,b[1]=a,b[2]=d):(a=b[1],d=b[2]);j(a,d)}function a(a){m(a);var b=a.headerParams,e=a.onClose,f=a.onSelectVictim,g=a.reportedOwner,h=a.screenPayload;h=h.response;var j=h||{};j=j.subtitle;h=h.context;g=g.id;j=j?i.jsx(c("IGDSBox.react"),{marginTop:2,position:"relative",children:i.jsx(c("IGDSText.react").BodyEmphasized,{children:i.jsx(c("PolarisFRXReportModalRichText.react"),{richText:j})})}):null;try{h=c("useJSON")((h=h)!=null?h:null);h=h==null?void 0:h.tags;h=(h==null?void 0:h.includes(d("PolarisReportConstants").IGUserImpersonationSomeoneIFollowTag.tag_type))===!0}catch(a){h=!1}h=!h;g=i.jsx(c("PolarisReportUserImpersonationSearchBox.react"),{onSelectVictim:function(a){return f(a)},reportedUserID:g,searchBoxPlaceHolder:d("PolarisSearchConstants").IMPERSONATION_SEARCH_TEXT,userSearchResults:l(a),verifiedOnly:h});return i.jsx(d("PolarisFRXReportBaseScreenModal.react").FRXReportBaseScreenModal,{headerParams:b,onClose:function(){return e&&e()},children:i.jsx(c("PolarisFRXReportModalScreenContentSectionList.react"),{sections:[j,g]})})}a.displayName=a.name+" [from "+f.id+"]";function b(a){a=d("polarisSearchSelectors").getCurrentSearchContent(a);a=a.results;return{allSearchResults:a}}e={onClearSearch:d("PolarisSearchActions").clearSearch};f=d("PolarisReactRedux.react").connect(b,e)(a);g["default"]=f}),98);
__d("PolarisFRXReportTagSelectionScreenModal.react",["IGDSBox.react","IGDSText.react","InstagramAdHideResponseFalcoEvent","PolarisFRXReportBaseScreenModal.react","PolarisFRXReportModalOptionList.react","PolarisFRXReportModalOptionListItem.react","PolarisFRXReportModalPolicyEducationSection.react","PolarisFRXReportModalPromptButton.react","PolarisFRXReportModalRichText.react","PolarisFRXReportModalScreenContentSectionList.react","PolarisFRXWebReportAPIUtils","PolarisFRXWebReportConstants","PolarisFRXWebReportStateSelectors","PolarisFRXWebReportStrings","PolarisFRXWebReportUtils","PolarisReactRedux.react","PolarisReportConstants","gkx","goUriOnNewWindow","isEmpty","isStringNullOrEmpty","polarisAdsSelectors.react","react","useJSON"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.useEffect,l=e.useRef,m=e.useState,n=e.c,o=null,p="",q=c("gkx")("4760");function r(a,b,e,f){var g=a.isFRXScreenRequestProcessing,h=a.onSubmitScreen;a=a.screenPayload.response;var i=b.setStateSelectedTagTitle;b=b.setStateSelectedTagType;var j=e.tag_type,k=e.title;k=(k=k==null?void 0:k.text)!=null?k:"";if(e.tag_click_override_url!=null){c("goUriOnNewWindow")(e.tag_click_override_url);return}if(g||j==null||j==="")return;b(j);i(k);d("PolarisFRXWebReportAPIUtils").logFRXTagSelected({context:a==null?void 0:a.context,selected_tag_type:j});h&&!f&&h({selectedPromptButtonActionType:null,selectedTagTitles:[k],selectedTagTypes:[j]})}function s(a,b,d){a=a.onSubmitScreen;var e=b.selectedTagTitle;b=b.selectedTagType;a&&!c("isStringNullOrEmpty")(b)&&a({selectedPromptButtonActionType:d,selectedTagTitles:[e],selectedTagTypes:[b]})}function t(){var a=n(3),b=m(o),c=b[0];b=b[1];var d=m(p),e=d[0];d=d[1];a[0]!==e||a[1]!==c?(d={selectedTagTitle:e,selectedTagType:c,setStateSelectedTagTitle:d,setStateSelectedTagType:b},a[0]=e,a[1]=c,a[2]=d):d=a[2];return d}function u(a,b){var c=b.setStateSelectedTagTitle,d=b.setStateSelectedTagType,e=a.screenPayload.frxScreenRequestID,f=l(),g=f.current;k(function(){f.current=e,e!==g&&(d(o),c(p))},[e,g,d,c])}function a(a){var b=n(7),c=t();u(a,c);var e=a.headerParams,f=a.onClose,g;b[0]!==a||b[1]!==c?(g=j.jsx(v,{parentProps:a,parentState:c}),b[0]=a,b[1]=c,b[2]=g):g=b[2];b[3]!==e||b[4]!==f||b[5]!==g?(a=j.jsx(d("PolarisFRXReportBaseScreenModal.react").FRXReportBaseScreenModal,{disableDefaultBodyPaddingMargin:!0,headerParams:e,onClose:f,children:g}),b[3]=e,b[4]=f,b[5]=g,b[6]=a):a=b[6];return a}function v(a){var b=n(34),e=a.parentProps;a=a.parentState;var f=e.screenPayload,g=f.response,i;b[0]!==g?(i=g||{},b[0]=g,b[1]=i):i=b[1];g=i;i=g.context;var k=g.policy_education,l=g.report_tags,m=g.second_subtitle;g=g.subtitle;i=c("useJSON")((i=i)!=null?i:null);i=i==null?void 0:i.tags;if(b[2]!==g){var o;o=g&&!(h||(h=c("isEmpty")))((o=g.text)==null?void 0:o.trim())?j.jsx(x,{subtitle:g}):null;b[2]=g;b[3]=o}else o=b[3];g=o;if(b[4]!==m){o=m&&!(h||(h=c("isEmpty")))((o=m.text)==null?void 0:o.trim())?j.jsx(y,{secondSubtitle:m}):null;b[4]=m;b[5]=o}else o=b[5];m=o;b[6]!==l||b[7]!==e||b[8]!==a?(o=l&&l.length>0?j.jsx(z,{parentProps:e,parentState:a,reportTags:l}):null,b[6]=l,b[7]=e,b[8]=a,b[9]=o):o=b[9];l=o;o=!q||!l;var p;b[10]!==k||b[11]!==o?(p=k&&o?j.jsx(A,{policyEducation:k}):null,b[10]=k,b[11]=o,b[12]=p):p=b[12];k=p;var r=w;b[13]===Symbol["for"]("react.memo_cache_sentinel")?(p=function(a){a=r(a);return a!==null&&j.jsx(c("IGDSBox.react"),{paddingX:4,children:j.jsx(c("IGDSText.react"),{color:"secondaryText",children:a})})},b[13]=p):p=b[13];p=p;var s;b[14]!==f?(s=d("PolarisFRXWebReportUtils").getPromptButtonRenderPropsFromScreenPayload(f),b[14]=f,b[15]=s):s=b[15];f=s;b[16]!==f||b[17]!==o||b[18]!==e||b[19]!==a?(s=f&&o?j.jsx(B,{parentProps:e,parentState:a,promptButtonProps:f}):null,b[16]=f,b[17]=o,b[18]=e,b[19]=a,b[20]=s):s=b[20];f=s;o=g!=null?d("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_MARGIN_TOP:0;e=k||f?d("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_MARGIN_BOTTOM:0;b[21]!==i?(a=q&&i&&p(i[0]),b[21]=i,b[22]=a):a=b[22];b[23]!==g||b[24]!==a||b[25]!==m||b[26]!==l||b[27]!==k||b[28]!==f?(s=j.jsx(c("PolarisFRXReportModalScreenContentSectionList.react"),{sections:[g,a,m,l,k,f]}),b[23]=g,b[24]=a,b[25]=m,b[26]=l,b[27]=k,b[28]=f,b[29]=s):s=b[29];b[30]!==e||b[31]!==o||b[32]!==s?(p=j.jsx(c("IGDSBox.react"),{marginBottom:e,marginTop:o,position:"relative",children:s}),b[30]=e,b[31]=o,b[32]=s,b[33]=p):p=b[33];return p}function w(a){if(a==null||a==="ig_bullying_or_harassment_comment_v3")return d("PolarisFRXWebReportStrings").DEFUALT_HEADER_DESCRIPTION_TEXT;else if(a==="drugs")return d("PolarisFRXWebReportStrings").DRUGS_TAG_DESCRIPTION_TEXT;else return null}function x(a){var b=n(2);a=a.subtitle;var e;b[0]!==a?(e=j.jsx(c("IGDSBox.react"),{alignItems:"start",marginTop:2,paddingX:d("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_PADDING_X,position:"relative",children:j.jsx(c("IGDSText.react").Section,{children:j.jsx(c("PolarisFRXReportModalRichText.react"),{richText:a})})}),b[0]=a,b[1]=e):e=b[1];return e}function y(a){var b=n(2);a=a.secondSubtitle;var e;b[0]!==a?(e=j.jsx(c("IGDSBox.react"),{marginTop:0,paddingX:d("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_PADDING_X,position:"relative",children:j.jsx(c("IGDSText.react"),{color:"secondaryText",size:"body",weight:"normal",zeroMargin:!0,children:j.jsx(c("PolarisFRXReportModalRichText.react"),{richText:a})})}),b[0]=a,b[1]=e):e=b[1];return e}function z(a){var b=n(24),e=a.parentProps,f=a.parentState;a=a.reportTags;var g=e.frxMetadata,h=e.isFRXScreenRequestProcessing,i=e.onSelectReportAd,k=e.screenPayload;k=k.response;k=k||{};k=k.style;var l=f.selectedTagType,m=q?!1:k===d("PolarisFRXWebReportConstants").FRX_TAG_SELECTION_STYLE_INTS.RADIO_BUTTONS,o=d("polarisAdsSelectors.react").useFRXReportAdLoggingParams(g.object_id,g.location);if(b[0]!==l||b[1]!==h||b[2]!==m||b[3]!==g.object_type||b[4]!==g.object_id||b[5]!==i||b[6]!==o||b[7]!==e||b[8]!==f||b[9]!==a){b[11]!==l||b[12]!==h||b[13]!==m||b[14]!==g.object_type||b[15]!==g.object_id||b[16]!==i||b[17]!==o||b[18]!==e||b[19]!==f?(k=function(a,b){var k=a.tag_type,n=a.title,p=l===k,q=h&&p&&!m,s=m?d("PolarisFRXReportModalOptionListItem.react").OPTION_LIST_ITEM_VARIANTS.RADIO:d("PolarisFRXReportModalOptionListItem.react").OPTION_LIST_ITEM_VARIANTS.BUTTON;b="tag-"+b;return j.jsx(d("PolarisFRXReportModalOptionListItem.react").FRXReportModalOptionListItem,{"data-testid":void 0,loading:q,onSelect:function(){g.object_type===d("PolarisReportConstants").FRXObjectType.AD&&(i!=null?i(k):c("InstagramAdHideResponseFalcoEvent").log(function(){return babelHelpers["extends"]({ad_id:g.object_id,response:k},o)})),r(e,f,a,m)},selected:p,value:b,variant:s,children:n==null?void 0:n.text},b)},b[11]=l,b[12]=h,b[13]=m,b[14]=g.object_type,b[15]=g.object_id,b[16]=i,b[17]=o,b[18]=e,b[19]=f,b[20]=k):k=b[20];k=a.map(k);b[0]=l;b[1]=h;b[2]=m;b[3]=g.object_type;b[4]=g.object_id;b[5]=i;b[6]=o;b[7]=e;b[8]=f;b[9]=a;b[10]=k}else k=b[10];a=k;b[21]!==m||b[22]!==a?(k=j.jsx(c("PolarisFRXReportModalOptionList.react"),{asRadio:m,children:a}),b[21]=m,b[22]=a,b[23]=k):k=b[23];return k}function A(a){var b=n(2);a=a.policyEducation;var e;b[0]!==a?(e=j.jsx(c("IGDSBox.react"),{paddingX:d("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_PADDING_X,position:"relative",children:j.jsx(c("PolarisFRXReportModalPolicyEducationSection.react"),{policyEducation:a})}),b[0]=a,b[1]=e):e=b[1];return e}function B(a){var b=n(7),e=a.parentProps,f=a.parentState;a=a.promptButtonProps;var g=f.selectedTagType;g=!g;var h;b[0]!==e||b[1]!==f?(h=function(a){return s(e,f,a)},b[0]=e,b[1]=f,b[2]=h):h=b[2];var i;b[3]!==a||b[4]!==g||b[5]!==h?(i=j.jsx(c("IGDSBox.react"),{paddingX:d("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_PADDING_X,position:"relative",children:j.jsx(c("PolarisFRXReportModalPromptButton.react"),babelHelpers["extends"]({},a,{disabled:g,onSubmit:h}))}),b[3]=a,b[4]=g,b[5]=h,b[6]=i):i=b[6];return i}function b(a){return{isFRXScreenRequestProcessing:d("PolarisFRXWebReportStateSelectors").getIsFRXScreenRequestProcessing(a)}}f=d("PolarisReactRedux.react").connect(b,null)(a);g["default"]=f}),98);
__d("PolarisFRXReportUtils",[],(function(a,b,c,d,e,f){"use strict";var g=["ig_ad_ip_violation","ig_ad_ip_violation","ig_intellectual_property_v1","ig_ar_effect_ip_violation","ig_intellectual_property_direct_message","ig_hashtag_intellectual_property","ig_ad_spam","ig_spam_v3","ig_spam_direct_message","ig_spam","ig_bullying_or_harassment_comment_v3","ig_bullying_or_harassment_direct_message","ig_hashtag_bullying_or_harassment","ig_ar_effect_harassment_or_bullying","ig_harassment_or_bullying","ig_nudity_v2","ig_nudity_direct_message","ig_clips_audio_page_nudity","ig_clips_effect_page_nudity","ig_clips_prompt_page_nudity","ig_hashtag_nudity","ig_ar_effect_nudity_or_pornography","ig_nudity","ig_ad_sexually_inappropriate","ig_iab_sexually_inappropriate","product_sexualized_content_or_adult_products","bi_commerce_sexualized_or_adult_content","inappropriate_content","ig_commerce_ugc_graphic_content","bi_commerce_abusive_or_harmful","ig_violence_parent","ig_ad_violent_prohibited","ig_ar_effect_violence","ig_violence_direct_message","ig_hashtag_violence","ig_violence_v3","ig_violence","ig_dangerous_org_or_individual","ig_hate_speech_v3","ig_ar_effect_hate_speech","ig_hate_speech_direct_message","ig_hashtag_hate_speech","ig_hate_speech","ig_i_dont_like_it_v3","ig_ar_effect_i_dont_like_it","ig_i_dont_like_it_direct_message","ig_ad_offensive","ig_self_injury_v3","ig_ar_effect_self_injury","ig_hashtag_self_injury","ig_self_injury","ig_self_injury_direct_message","ig_ad_scam_misleading","ig_product_scam_fraud_v2","ig_product_scam_fraud_reportable","ig_iab_scam_misleading","bi_commerce_misleading_or_possible_scam","ig_sale_of_illegal_or_regulated_goods_v3","ig_sale_of_illegal_or_regulated_goods_direct_message","ig_sale_of_illegal_or_regulated_goods_v2","ig_ar_effect_drugs","ig_ar_effect_firearms","bi_commerce_alcohol_tobacco_and_weapons","bi_commerce_animal_products_or_sales","ig_false_news","ig_ar_effect_false_information","ig_report_report_as_unlawful","bi_commerce_discriminatory_listing","discrimination","ig_something_else","something_else","ig_ad_political","ig_eating_disorder","ig_nft_metadata_mismatch","bi_commerce_buying_or_selling","ig_commerce_ugc_manipulation","ig_commerce_ugc_irrelevance","ig_commerce_review_irrelevant","ig_commerce_fake_review","ig_commerce_product_answer_irrelevant","ig_commerce_product_question_irrelevant","ig_user_impersonation","ig_unwanted_joiner","ig_iab_excessive_ads","ig_iab_other","page_place_inaccurate_info","bi_commerce_service_or_job","product_no_intent_to_sale","bi_commerce_appears_to_be_counterfeit","bi_commerce_health_or_wellness","bi_commerce_other_prohibited","bi_commerce_no_service_offered","bi_commerce_health_or_medical","information_misuse","dont_recognize_activity"];function a(a){return g.includes(a)}f.shouldUseTagType=a}),66);
__d("PolarisFRXReportScreenModal.react",["IGDSBox.react","IGDSSpinner.react","PolarisFRXInAppEscalationReportTypeScreenModal.react","PolarisFRXReportBaseScreenModal.react","PolarisFRXReportConfirmationScreenModal.react","PolarisFRXReportModalInterstitialScreen.react","PolarisFRXReportPolicyEducationScreenModal.react","PolarisFRXReportReviewScreenModal.react","PolarisFRXReportSelectVictimScreenModal.react","PolarisFRXReportTagSelectionScreenModal.react","PolarisFRXReportUtils","PolarisFRXWebReportActions","PolarisFRXWebReportConstants","PolarisFRXWebReportStateSelectors","PolarisFRXWebReportStrings","PolarisFRXWebReportUtils","PolarisReactRedux.react","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useState,k=e.c;function l(a){a.onClose&&a.onClose()}function m(a){var b=a.isFRXScreenRequestProcessing;a=a.onGoBackOneFRXScreen;a&&!b&&a()}function n(a,b){var c=a.frxMetadata,e=a.isFRXScreenRequestProcessing,f=a.onRequestNextFRXScreen,g=a.onStoreReportedTagTitle,h=a.reportedTagTitle;a=a.screenPayload;if(e)return;e=a||{};a=e.response;e=e.type;a=a||{};a=a.context;var i=b==null?void 0:b.selectedTagTypes;i=i!=null&&i.length>0?i[0]:null;var j=b==null?void 0:b.selectedTagTitles;j=j!=null&&j.length>0?j[0]:"";h===""&&i!=null&&d("PolarisFRXReportUtils").shouldUseTagType(i)&&j!==""&&g(j);h=d("PolarisFRXWebReportUtils").getNextFRXScreenInputRequestTypeFromScreenPayloadType(e);if(!h)return;f({context:a,frxPromptRequestType:h,metadata:c,optionalParams:b})}function a(a){var b=k(71),e=a.frxMetadata,f=a.hasMountedScreenFlow,g=a.hasPreviousScreens,h=a.isFRXScreenRequestProcessing,q=a.onSelectReportAd,r=a.reportedOwner,s=a.screenPayload,t=a.showFRXDropOffSurveyModal,u=a.threadId,v;b[0]!==a?(v=function(){return m(a)},b[0]=a,b[1]=v):v=b[1];var w;b[2]!==s||b[3]!==g||b[4]!==v?(w=d("PolarisFRXReportBaseScreenModal.react").getDefaultScreenModalHeaderParamsFromScreenPayload(s,g,v),b[2]=s,b[3]=g,b[4]=v,b[5]=w):w=b[5];g=w;v=j(!1);w=v[0];var x=v[1];b[6]!==a?(v=function(){x(!0),l(a)},b[6]=a,b[7]=v):v=b[7];var y=v;b[8]!==g||b[9]!==y?(v=i.jsx(p,{headerParams:g,onClose:y}),b[8]=g,b[9]=y,b[10]=v):v=b[10];v=v;if(!s){if(h||!f||w){b[11]!==g||b[12]!==y?(h=i.jsx(o,{headerParams:g,onClose:y}),b[11]=g,b[12]=y,b[13]=h):h=b[13];return h}return v}f=s.type;switch(f){case d("PolarisFRXWebReportConstants").FRX_SCREEN_PAYLOAD_TYPE_INTS.TAG_SELECTION:b[14]!==y||b[15]!==t?(w=function(){y(),t!=null&&t()},b[14]=y,b[15]=t,b[16]=w):w=b[16];b[17]!==a?(h=function(b){n(a,babelHelpers["extends"]({},b))},b[17]=a,b[18]=h):h=b[18];b[19]!==e||b[20]!==g||b[21]!==w||b[22]!==q||b[23]!==h||b[24]!==s?(f=i.jsx(c("PolarisFRXReportTagSelectionScreenModal.react"),{frxMetadata:e,headerParams:g,onClose:w,onSelectReportAd:q,onSubmitScreen:h,screenPayload:s}),b[19]=e,b[20]=g,b[21]=w,b[22]=q,b[23]=h,b[24]=s,b[25]=f):f=b[25];return f;case d("PolarisFRXWebReportConstants").FRX_SCREEN_PAYLOAD_TYPE_INTS.POLICY_EDUCATION:b[26]!==y||b[27]!==t||b[28]!==a||b[29]!==r||b[30]!==u||b[31]!==g||b[32]!==s?(e=c("gkx")("4760")?i.jsx(c("PolarisFRXReportReviewScreenModal.react"),{headerParams:g,onClose:function(){y(),t!=null&&t()},onSubmitScreen:function(b){n(a,{responsible_id:r.id,selectedPromptButtonActionType:b,thread_id:u})},reportOwnerUsername:r.username,screenPayload:s}):i.jsx(c("PolarisFRXReportPolicyEducationScreenModal.react"),{headerParams:g,onClose:function(){y(),t!=null&&t()},onSubmitScreen:function(b){n(a,{responsible_id:r.id,selectedPromptButtonActionType:b,thread_id:u})},screenPayload:s}),b[26]=y,b[27]=t,b[28]=a,b[29]=r,b[30]=u,b[31]=g,b[32]=s,b[33]=e):e=b[33];return e;case d("PolarisFRXWebReportConstants").FRX_SCREEN_PAYLOAD_TYPE_INTS.PROCESS_EDUCATION:b[34]!==a?(w=function(b){n(a,babelHelpers["extends"]({},b))},b[34]=a,b[35]=w):w=b[35];b[36]!==g||b[37]!==y||b[38]!==w||b[39]!==s?(q=i.jsx(c("PolarisFRXReportModalInterstitialScreen.react"),{headerParams:g,onClose:y,onSubmitScreen:w,screenPayload:s}),b[36]=g,b[37]=y,b[38]=w,b[39]=s,b[40]=q):q=b[40];return q;case d("PolarisFRXWebReportConstants").FRX_SCREEN_PAYLOAD_TYPE_INTS.ESCALATION:b[41]!==a?(h=function(b){n(a,{selectedPromptButtonActionType:b})},b[41]=a,b[42]=h):h=b[42];b[43]!==g||b[44]!==y||b[45]!==h||b[46]!==s?(f=i.jsx(c("PolarisFRXReportModalInterstitialScreen.react"),{headerParams:g,onClose:y,onSubmitScreen:h,screenPayload:s}),b[43]=g,b[44]=y,b[45]=h,b[46]=s,b[47]=f):f=b[47];return f;case d("PolarisFRXWebReportConstants").FRX_SCREEN_PAYLOAD_TYPE_INTS.CONFIRMATION:b[48]!==g||b[49]!==y||b[50]!==r||b[51]!==s?(e=i.jsx(c("PolarisFRXReportConfirmationScreenModal.react"),{headerParams:g,onClose:y,reportedOwner:r,screenPayload:s}),b[48]=g,b[49]=y,b[50]=r,b[51]=s,b[52]=e):e=b[52];return e;case d("PolarisFRXWebReportConstants").FRX_SCREEN_PAYLOAD_TYPE_INTS.SELECT_VICTIM:b[53]!==y||b[54]!==t?(w=function(){y(),t!=null&&t()},b[53]=y,b[54]=t,b[55]=w):w=b[55];b[56]!==a?(q=function(b){n(a,{selectedVictimID:b.pk})},b[56]=a,b[57]=q):q=b[57];b[58]!==g||b[59]!==w||b[60]!==q||b[61]!==r||b[62]!==s?(h=i.jsx(c("PolarisFRXReportSelectVictimScreenModal.react"),{headerParams:g,onClose:w,onSelectVictim:q,reportedOwner:r,screenPayload:s}),b[58]=g,b[59]=w,b[60]=q,b[61]=r,b[62]=s,b[63]=h):h=b[63];return h;case d("PolarisFRXWebReportConstants").FRX_SCREEN_PAYLOAD_TYPE_INTS.IN_APP_ESCALATION_REPORT_TYPE:b[64]!==a?(f=function(b){n(a,babelHelpers["extends"]({},b))},b[64]=a,b[65]=f):f=b[65];b[66]!==g||b[67]!==y||b[68]!==f||b[69]!==s?(e=i.jsx(c("PolarisFRXInAppEscalationReportTypeScreenModal.react"),{headerParams:g,onClose:y,onSubmitScreen:f,screenPayload:s}),b[66]=g,b[67]=y,b[68]=f,b[69]=s,b[70]=e):e=b[70];return e;default:return v}}function o(a){var b=k(4),e=a.headerParams;a=a.onClose;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=i.jsx(c("IGDSBox.react"),{alignContent:"center",alignItems:"center",justifyContent:"center",minHeight:122,position:"relative",children:i.jsx(c("IGDSSpinner.react"),{})}),b[0]=f):f=b[0];b[1]!==e||b[2]!==a?(f=i.jsx(d("PolarisFRXReportBaseScreenModal.react").FRXReportBaseScreenModal,{headerParams:e,onClose:a,children:f}),b[1]=e,b[2]=a,b[3]=f):f=b[3];return f}function p(a){var b=k(3),c=a.headerParams;a=a.onClose;var e;b[0]!==c||b[1]!==a?(e=i.jsx(d("PolarisFRXReportBaseScreenModal.react").FRXReportBaseScreenModal,{headerParams:c,onClose:a,children:d("PolarisFRXWebReportStrings").DEFAULT_ERROR_MESSAGE_TEXT}),b[0]=c,b[1]=a,b[2]=e):e=b[2];return e}function b(a){return{isFRXScreenRequestProcessing:d("PolarisFRXWebReportStateSelectors").getIsFRXScreenRequestProcessing(a),reportedTagTitle:d("PolarisFRXWebReportStateSelectors").getReportedTagTitle(a)}}f={onRequestNextFRXScreen:d("PolarisFRXWebReportActions").doRequestNextFRXScreenAction,onStoreReportedTagTitle:d("PolarisFRXWebReportActions").doStoreReportedTagTitle};e=d("PolarisReactRedux.react").connect(b,f)(a);g["default"]=e}),98);
__d("PolarisFRXUnfollowUserFollowupModal.react",["PolarisConnectionsLogger","PolarisUnfollowDialog.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(6),e=a.onClose;a=a.userToUnfollow;a=a.id;if(!a)return null;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f={},b[0]=f):f=b[0];var g;b[1]!==e?(g=function(){return e&&e()},b[1]=e,b[2]=g):g=b[2];b[3]!==g||b[4]!==a?(f=j.jsx(c("PolarisUnfollowDialog.react"),{analyticsContext:d("PolarisConnectionsLogger").CONNECTIONS_CONTAINER_MODULES.frx_web_reporting,analyticsExtra:f,onClose:g,userId:a}),b[3]=g,b[4]=a,b[5]=f):f=b[5];return f}g["default"]=a}),98);
__d("PolarisFRXReportModal.react",["IGDSBox.react","IGDSSpinner.react","PolarisFRXBlockUserFollowupModal.react","PolarisFRXNotifyGuardianFollowupModal.react","PolarisFRXReportBaseScreenModal.react","PolarisFRXReportConfirmationScreenModalForSupervision.react","PolarisFRXReportScreenModal.react","PolarisFRXUnfollowUserFollowupModal.react","PolarisFRXWebReportActions","PolarisFRXWebReportState","PolarisFRXWebReportStateSelectors","PolarisFRXWebReportStrings","PolarisReactRedux.react","PolarisReportConstants","nullthrows","react","usePolarisAnalyticsContext","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useEffect;e.useMemo;var k=e.useState,l=e.c;function m(a){var b=a.frxObjectType,c=a.isAfterConfirmationScreen,d=a.onClose,e=a.onConfirm,f=a.onDoReportingModalClosedAction;a=a.reportedObjectID;c&&e!=null&&e();f({isAfterConfirmationScreen:c,reportedObjectID:a,reportedObjectType:b});d&&d()}function n(a){a=a.onGoBackOneFRXScreen;a()}function o(a,b,c){if(b===!0){var d=a.onDoDisableNotifyGuardianOption;d()}d=a.onDoOpenNotifyGuardianFollowupModalToPreviousScreen;var e=a.reportedOwner.id;d(b,c,e,a.reportedTagTitle)}function p(a,b,c,d){var e=l(6),f=a.onRequestInitFRXScreen,g;e[0]!==b||e[1]!==f||e[2]!==d||e[3]!==c?(a=function(){b||(f(d),c(!0))},g=[c,b,d,f],e[0]=b,e[1]=f,e[2]=d,e[3]=c,e[4]=a,e[5]=g):(a=e[4],g=e[5]);j(a,g)}function a(a){var b=l(58),e=k(!1),f=e[0];e=e[1];var g=a.containerModule,h=a.currScreenPayload,j=a.currRenderStep,q=a.screenHistorySize,r=a.reportedObjectID,s=a.frxEntryPoint,t=a.frxLocation,u=a.frxObjectType,v=a.reportedOwner,w=a.showFRXDropOffSurveyModal,x=a.useSimpleBlockModalWithoutRefresh,y=a.threadId,z=a.threadKey,A=a.onSelectReportAd,B=a.isGroupThread,C=a.shouldReportAsInstamadillo;s=s===void 0?d("PolarisReportConstants").FRXEntryPoint.CHEVRON_BUTTON:s;var D=c("usePolarisAnalyticsContext")(),E=d("PolarisReactRedux.react").useDispatch();g=(g=g)!=null?g:D;b[0]!==g||b[1]!==s||b[2]!==t||b[3]!==r||b[4]!==u?(D={container_module:g,entry_point:s,location:t,object_id:r,object_type:u},b[0]=g,b[1]=s,b[2]=t,b[3]=r,b[4]=u,b[5]=D):D=b[5];g=D;s=g;p(a,f,e,s);b[6]!==a?(t=function(){return m(a)},b[6]=a,b[7]=t):t=b[7];r=t;D=q>1;b[8]!==a?(g=function(){return n(a)},b[8]=a,b[9]=g):g=b[9];b[10]!==h||b[11]!==D||b[12]!==g?(e=d("PolarisFRXReportBaseScreenModal.react").getDefaultScreenModalHeaderParamsFromScreenPayload(h,D,g),b[10]=h,b[11]=D,b[12]=g,b[13]=e):e=b[13];t=e;b[14]!==t||b[15]!==r?(D=i.jsx(d("PolarisFRXReportBaseScreenModal.react").FRXReportBaseScreenModal,{headerParams:t,onClose:r,children:d("PolarisFRXWebReportStrings").DEFAULT_ERROR_MESSAGE_TEXT}),b[14]=t,b[15]=r,b[16]=D):D=b[16];g=D;b[17]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx(c("IGDSBox.react"),{alignContent:"center",alignItems:"center",justifyContent:"center",minHeight:122,position:"relative",children:i.jsx(c("IGDSSpinner.react"),{})}),b[17]=e):e=b[17];b[18]!==t||b[19]!==r?(D=i.jsx(d("PolarisFRXReportBaseScreenModal.react").FRXReportBaseScreenModal,{headerParams:t,onClose:r,children:e}),b[18]=t,b[19]=r,b[20]=D):D=b[20];e=D;D=c("usePolarisViewer")();D!==null&&(D==null?void 0:D.guardianId)!==null&&(D==null?void 0:D.guardianId)!==""&&E(d("PolarisFRXWebReportActions").doStoreGuardianInformation(c("nullthrows")(D==null?void 0:D.guardianId)));E=d("PolarisReactRedux.react").useSelector(d("PolarisFRXWebReportStateSelectors").getGuardianUsername);switch(j){case d("PolarisFRXWebReportState").FRX_WEB_REPORT_RENDER_STEP_STRS.UNFOLLOW:b[21]!==r||b[22]!==v?(D=i.jsx(c("PolarisFRXUnfollowUserFollowupModal.react"),{onClose:r,userToUnfollow:v}),b[21]=r,b[22]=v,b[23]=D):D=b[23];return D;case d("PolarisFRXWebReportState").FRX_WEB_REPORT_RENDER_STEP_STRS.BLOCK:b[24]!==u||b[25]!==B||b[26]!==r||b[27]!==C||b[28]!==z||b[29]!==v||b[30]!==x?(j=i.jsx(c("PolarisFRXBlockUserFollowupModal.react"),{frxObjectType:u,isGroupThread:B,onClose:r,shouldReportAsInstamadillo:C,threadKey:z,userToBlock:v,useSimpleBlockModalWithoutRefresh:x}),b[24]=u,b[25]=B,b[26]=r,b[27]=C,b[28]=z,b[29]=v,b[30]=x,b[31]=j):j=b[31];return j;case d("PolarisFRXWebReportState").FRX_WEB_REPORT_RENDER_STEP_STRS.NOTIFY_GUARDIAN:b[32]!==a?(D=function(b,c){return o(a,b,c)},b[32]=a,b[33]=D):D=b[33];u=v==null?void 0:v.username;b[34]!==E||b[35]!==r||b[36]!==D||b[37]!==a.reportedTagTitle||b[38]!==u?(B=i.jsx(c("PolarisFRXNotifyGuardianFollowupModal.react"),{guardianUsername:E,onClose:r,onNotify:D,reportedTagTitle:a.reportedTagTitle,reportedUsername:u}),b[34]=E,b[35]=r,b[36]=D,b[37]=a.reportedTagTitle,b[38]=u,b[39]=B):B=b[39];return B;case d("PolarisFRXWebReportState").FRX_WEB_REPORT_RENDER_STEP_STRS.NOTIFY_GUARDIAN_FOLLOWUP:if(!h)return!f?e:g;b[40]!==t||b[41]!==r||b[42]!==v||b[43]!==h?(C=i.jsx(c("PolarisFRXReportConfirmationScreenModalForSupervision.react"),{headerParams:t,onClose:r,reportedOwner:v,screenPayload:h}),b[40]=t,b[41]=r,b[42]=v,b[43]=h,b[44]=C):C=b[44];return C;case d("PolarisFRXWebReportState").FRX_WEB_REPORT_RENDER_STEP_STRS.DEFAULT:default:z=q>1;b[45]!==a?(x=function(){return n(a)},b[45]=a,b[46]=x):x=b[46];b[47]!==s||b[48]!==f||b[49]!==z||b[50]!==r||b[51]!==x||b[52]!==A||b[53]!==v||b[54]!==h||b[55]!==w||b[56]!==y?(j=i.jsx(c("PolarisFRXReportScreenModal.react"),{frxMetadata:s,hasMountedScreenFlow:f,hasPreviousScreens:z,onClose:r,onGoBackOneFRXScreen:x,onSelectReportAd:A,reportedOwner:v,screenPayload:h,showFRXDropOffSurveyModal:w,threadId:y}),b[47]=s,b[48]=f,b[49]=z,b[50]=r,b[51]=x,b[52]=A,b[53]=v,b[54]=h,b[55]=w,b[56]=y,b[57]=j):j=b[57];return j}}function b(a){var b;return{currRenderStep:(b=d("PolarisFRXWebReportStateSelectors")).getCurrRenderStep(a),currScreenPayload:b.getCurrScreenPayload(a),isAfterConfirmationScreen:b.getIsConfirmationScreenInHistoryStack(a),reportedTagTitle:b.getReportedTagTitle(a),screenHistorySize:b.getScreenHistorySize(a)}}f={onDoDisableNotifyGuardianOption:d("PolarisFRXWebReportActions").doDisableNotifyGuardianOption,onDoOpenNotifyGuardianFollowupModalToPreviousScreen:d("PolarisFRXWebReportActions").doOpenNotifyGuardianFollowupModalToPreviousScreenAction,onDoReportingModalClosedAction:d("PolarisFRXWebReportActions").doReportingModalClosedAction,onGoBackOneFRXScreen:d("PolarisFRXWebReportActions").doGoBackOneFRXScreenAction,onRequestInitFRXScreen:d("PolarisFRXWebReportActions").doRequestInitFRXScreenAction};e=d("PolarisReactRedux.react").connect(b,f)(a);g["default"]=e}),98);
__d("polarisCommentSelectors.react",["PolarisPaginationUtils","PolarisReactRedux.react","nullthrows","polarisCreateSelectorWithArg","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).c;e=c("polarisCreateSelectorWithArg")(function(a){return a.comments.byId},function(a){return a.comments.byPostId},function(a,b){return function(e){e=b.get(e);if(e==null)return null;var f=e.commentIds;return f.toSeq().map(function(b){return c("nullthrows")(a.get(b))}).slice(f.count()-d("PolarisPaginationUtils").getVisibleCount(e.pagination),f.count()).filter(function(a){return!a.deleted&&!a.didReportAsSpam})}});f=c("polarisCreateSelectorWithArg")(function(a){return a.posts.byId},function(a){return a.comments.byId},function(a,b){return function(d){d=c("nullthrows")(a.get(d));d=d.previewCommentIds;return d==null?[]:d.map(function(a){return b.get(a)}).filter(Boolean)}});function a(a,b){return c("nullthrows")(a.comments.byId.get(b))}function b(a){var b=i(2),c;b[0]!==a?(c=function(b){return a==null?null:b.comments.translationById.get(a)},b[0]=a,b[1]=c):c=b[1];return d("PolarisReactRedux.react").useSelector(c)}g.selectVisibleCommentsForPostId=e;g.getPreviewCommentsForPostId=f;g.getCommentById=a;g.useCommentTranslation=b}),98);
__d("usePolarisComment",["PolarisReactRedux.react","polarisCommentSelectors.react","polarisUserSelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).c;function a(a,b){var c=i(3),e;c[0]!==a||c[1]!==b?(e=function(c){c=d("polarisCommentSelectors.react").getCommentById(c,a);return b(c)},c[0]=a,c[1]=b,c[2]=e):e=c[2];return d("PolarisReactRedux.react").useSelector(e)}function b(a,b){var c=i(3),e;c[0]!==a||c[1]!==b?(e=function(c){var e=d("polarisCommentSelectors.react").getCommentById(c,a);c=d("polarisUserSelectors").getUserByIdOrThrows(c,e.userId);return b(e,c)},c[0]=a,c[1]=b,c[2]=e):e=c[2];return d("PolarisReactRedux.react").useSelector(e)}function c(a){var b=i(2),c;b[0]!==a?(c=function(b){return a==null?null:(b=b.comments.byId.get(a))!=null?b:null},b[0]=a,b[1]=c):c=b[1];return d("PolarisReactRedux.react").useSelector(c)}g.useComment=a;g.useCommentAndOwner=b;g.useCommentOrNull=c}),98);
__d("PolarisCommentTranslationPrompt.react",["fbt","CometPressable.react","IGDSText.react","PolarisCommentActions","PolarisReactRedux.react","polarisCommentSelectors.react","react","usePolarisComment"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.c;function a(a){var b,e=k(22),f=a.commentId,g=a.inFeed,i=a.isCaptionWithTranslation;a=a.isOverMedia;a=a===void 0?!1:a;var l=d("PolarisReactRedux.react").useDispatch();b=((b=d("usePolarisComment").useCommentOrNull(f))==null?void 0:b.hasTranslation)===!0;i=i===!0||b;b=d("polarisCommentSelectors.react").useCommentTranslation(f);var m=b==null?void 0:b.translatedText,n;e[0]!==f||e[1]!==m||e[2]!==l?(n=function(){if(f==null)return;m!=null?l(d("PolarisCommentActions").showCommentTranslatedText(f)):l(d("PolarisCommentActions").translateComment(f))},e[0]=f,e[1]=m,e[2]=l,e[3]=n):n=e[3];n=n;if(i!==!0)return null;i=g===!0?"primaryText":"secondaryText";if((b==null?void 0:b.loading)===!0){g=a?"webAlwaysWhite":i;var o;e[4]===Symbol["for"]("react.memo_cache_sentinel")?(o=h._("__JHASH__ptT8MaSFAMY__JHASH__"),e[4]=o):o=e[4];e[5]!==g?(o=j.jsx(c("IGDSText.react").Body2Emphasized,{color:g,children:o}),e[5]=g,e[6]=o):o=e[6];return o}if((b==null?void 0:b.showTranslatedText)===!0){e[7]!==f||e[8]!==l?(g=function(){f!=null&&l(d("PolarisCommentActions").showCommentOriginalText(f))},e[7]=f,e[8]=l,e[9]=g):g=e[9];o=a?"webAlwaysWhite":i;e[10]===Symbol["for"]("react.memo_cache_sentinel")?(b=h._("__JHASH__S6WOgu9Fr2q__JHASH__"),e[10]=b):b=e[10];e[11]!==o?(b=j.jsx(c("IGDSText.react").Body2Emphasized,{color:o,children:b}),e[11]=o,e[12]=b):b=e[12];e[13]!==g||e[14]!==b?(o=j.jsx(c("CometPressable.react"),{onPress:g,overlayDisabled:!0,children:b}),e[13]=g,e[14]=b,e[15]=o):o=e[15];return o}g=a?"webAlwaysWhite":i;e[16]===Symbol["for"]("react.memo_cache_sentinel")?(b=h._("__JHASH__Q7Q4mAm1c2E__JHASH__"),e[16]=b):b=e[16];e[17]!==g?(o=j.jsx(c("IGDSText.react").Body2Emphasized,{color:g,children:b}),e[17]=g,e[18]=o):o=e[18];e[19]!==n||e[20]!==o?(a=j.jsx(c("CometPressable.react"),{onPress:n,overlayDisabled:!0,children:o}),e[19]=n,e[20]=o,e[21]=a):a=e[21];return a}g["default"]=a}),226);
__d("PolarisPostCaptionTranslationPrompt.react",["IGDSBox.react","PolarisCommentTranslationPrompt.react","react","usePolarisPost"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(6),e=a.inFeed,f=a.marginBottom;a=a.postId;f=f===void 0?0:f;var g=d("usePolarisPost").usePost(a,l);a=d("usePolarisPost").usePost(a,k);if(g!==!0||a==null)return null;b[0]!==a||b[1]!==e?(g=j.jsx(c("PolarisCommentTranslationPrompt.react"),{commentId:a,inFeed:e,isCaptionWithTranslation:!0}),b[0]=a,b[1]=e,b[2]=g):g=b[2];b[3]!==f||b[4]!==g?(a=j.jsx(c("IGDSBox.react"),{marginBottom:f,children:g}),b[3]=f,b[4]=g,b[5]=a):a=b[5];return a}function k(a){return a.captionCommentId}function l(a){return a.captionHasTranslation}g["default"]=a}),98);
__d("PolarisPostComment.react",["cx","fbt","CometRelay","IGDSBox.react","IGDSButton.react","IGDSIconButton.react","IGDSMoreHorizontalPanoOutlineIcon.react","IGDSText.react","IGDSVerifiedBadge.react","Locale","PolarisApproveCommentDialog.react","PolarisCommentActions","PolarisCommentLikeListsActions","PolarisCommentOptionsDialog.react","PolarisCommentTranslationPrompt.react","PolarisConfig","PolarisDoubleTappable","PolarisEngagementLogger","PolarisFastLink.react","PolarisIGCoreConstants","PolarisIgWellbeingRestrictManageCommentFalcoEvent","PolarisLikeButton.react","PolarisLinkBuilder","PolarisLoggedOutIntentDialog.entrypoint","PolarisNavigationActions","PolarisPendingCommentActions","PolarisPostCaptionTranslationPrompt.react","PolarisPostGifComment.react","PolarisPostStrings","PolarisPostVariants","PolarisReactRedux.react","PolarisTimestamp.react","PolarisTruncatedText.react","PolarisUA","PolarisUserAvatarWithStories.react","PolarisUserHoverCard.react","PolarisUserText.react","PolarisViewpointReact.react","joinClasses","nullthrows","polarisPostSelectors","polarisUserSelectors","react","useIGDSEntryPointDialog"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=(j||(j=d("react"))).c,l=j,m=750;function n(a){var b=k(20),e=a.parentProps,f=e.commentOwnerId,g=e.commentOwnerUsername,h=e.isAuthorVerified,i=e.isCaption,j=e.isRestrictedPending,m=e.postOwnerIsUnpublished;e=e.showRichComment;h=h===void 0?!1:h;i=i===void 0?!1:i;m=m===void 0?!1:m;e=e===void 0?!1:e;a=j&&!a.parentState.showRestrictedContent;var n=i?"h2":"h3";if(a){b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=l.jsx(c("IGDSBox.react"),{marginBottom:1,position:"relative",children:l.jsx(c("IGDSText.react"),{color:"tertiaryText",size:"body",weight:"semibold",children:d("PolarisPostStrings").RESTRICTED_ACCOUNT_HEADER_TEXT})}),b[0]=a):a=b[0];return a}else if(!i||m!==!0){a="_a9zc"+(j===!0?" _a9zd":"");b[1]!==g?(i=d("PolarisLinkBuilder").buildUserLink(c("nullthrows")(g)),b[1]=g,b[2]=i):i=b[2];b[3]!==g?(m=c("nullthrows")(g),b[3]=g,b[4]=m):m=b[4];b[5]!==i||b[6]!==m?(j=l.jsx(c("IGDSButton.react"),{display:"block",href:i,label:m,variant:"secondary_link"}),b[5]=i,b[6]=m,b[7]=j):j=b[7];b[8]!==f||b[9]!==g||b[10]!==j?(i=l.jsx(c("IGDSBox.react"),{marginEnd:1,position:"relative",children:l.jsx(c("PolarisUserHoverCard.react"),{display:"inline",userId:f,username:g,children:j})}),b[8]=f,b[9]=g,b[10]=j,b[11]=i):i=b[11];b[12]!==e||b[13]!==h?(m=e&&h&&l.jsx(c("IGDSBox.react"),{marginEnd:1,position:"relative",children:l.jsx(c("IGDSVerifiedBadge.react"),{size:"small"})}),b[12]=e,b[13]=h,b[14]=m):m=b[14];b[15]!==n||b[16]!==a||b[17]!==i||b[18]!==m?(f=l.jsxs(n,{className:a,children:[i,m]}),b[15]=n,b[16]=a,b[17]=i,b[18]=m,b[19]=f):f=b[19];return f}return null}function o(a){var b=k(10);a=a.parentProps;var e=a.captionCreatedAt,f=a.commentThreadId,g=a.disableTimestampNav,h=a.id,i=a.isCaption,j=a.isEdited,m=a.postedAt;a=a.postShortcode;i=i===void 0?!1:i;j=j===void 0?!1:j;i=i&&j&&e!=null?e:m;b[0]!==i?(j=l.jsx(c("PolarisTimestamp.react"),{className:"_a9ze _a9zf",value:i}),b[0]=i,b[1]=j):j=b[1];e=j;if(a!=null&&h!=null){b[2]!==f||b[3]!==h||b[4]!==a?(m=f!=null&&f!==h?d("PolarisLinkBuilder").buildReplyPermalink(a,f,h,d("PolarisUA").isMobile()):d("PolarisLinkBuilder").buildCommentPermalink(a,h,d("PolarisUA").isMobile()),b[2]=f,b[3]=h,b[4]=a,b[5]=m):m=b[5];i=m;j=g===!0?p:void 0;b[6]!==i||b[7]!==j||b[8]!==e?(f=l.jsx(c("PolarisFastLink.react"),{className:"_a9zg",href:i,onClick:j,children:e}),b[6]=i,b[7]=j,b[8]=e,b[9]=f):f=b[9];e=f}return e}function p(a){return a.preventDefault()}var q=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(a=e=b.call.apply(b,[this].concat(g))||this,e.state={showApproveCommentDialog:!1,showCommentOptionsDialog:!1,showRestrictedContent:!1},e.$3=function(){e.setState({showCommentOptionsDialog:!0})},e.$4=function(){if(!d("PolarisUA").isMobile()||e.props.showRichComment!==!0||e.props.isCaption===!0)return;e.$1=window.setTimeout(e.$3,m)},e.$2=function(){window.clearTimeout(e.$1)},e.$5=function(){e.setState({showCommentOptionsDialog:!1})},e.$6=function(){e.setState({showCommentOptionsDialog:!1}),e.props.onDeleteComment()},e.$7=function(){var a=e.props,b=a.id;a=a.onDeleteCommentClick;a&&a(c("nullthrows")(b))},e.$8=function(a){var b=e.props,c=b.onLikeComment;b=b.onUnlikeComment;a?c():b()},e.$9=function(){var a=e.props,b=a.isRestrictedPending;b=b===void 0?!1:b;var c=a.likedByViewer;c=c===void 0?!1:c;var d=a.loggedIn;a=a.onLikeComment;!c&&!b&&d&&a()},e.$10=function(){var a=e.props,b=a.code,f=a.fetchCommentLikes,g=a.id,h=a.loggedIn,i=a.onLikeCountClick,j=a.onLoggedOutIntentClick;a=a.onLoggedOutIntentClickLoginModal;if(h)i&&(f(),i(c("nullthrows")(g)));else{h="post_comment_like_count";d("PolarisUA").isDesktop()?a(d("PolarisLinkBuilder").buildMediaLink(c("nullthrows")(b)),h):j(h)}},e.$11=function(a){var b=e.props,f=b.analyticsContext,g=b.commentOwnerId,h=b.commentThreadId,i=b.id,j=b.isRestrictedPending,k=b.mediaType,l=b.postId,m=b.postOwnerId;b=b.viewerId;switch(a.state){case"entered":if(i!=null&&b!=null){d("PolarisEngagementLogger").logCommentImpression({commentAuthorId:g,commentId:i,commentThreadId:h,containerModule:f,mediaAuthorId:m,mediaId:l,mediaType:k});j&&c("PolarisIgWellbeingRestrictManageCommentFalcoEvent").log({action:"impression",actorIgUserid:g,commentId:i,commentThreadId:h,parentMediaId:l,step:"pending_comment"});return}}},e.$12=function(){var a=e.props,b=a.code,f=a.loggedIn,g=a.onLoggedOutIntentClick,h=a.onLoggedOutIntentClickLoginModal;a=a.onReplyClick;if(f)a();else{f="post_comment_reply";d("PolarisUA").isDesktop()?h(d("PolarisLinkBuilder").buildMediaLink(c("nullthrows")(b)),f):g(f)}},e.$13=function(){var a=e.props,b=a.commentOwnerId,d=a.commentThreadId,f=a.id;a=a.postId;c("PolarisIgWellbeingRestrictManageCommentFalcoEvent").log({action:"click",actorIgUserid:b,commentId:f,commentThreadId:d,parentMediaId:a,step:"pending_comment_see_hidden"});e.setState({showRestrictedContent:!0})},e.$14=function(){var a=e.props,b=a.commentOwnerId,d=a.commentThreadId,f=a.id;a=a.postId;c("PolarisIgWellbeingRestrictManageCommentFalcoEvent").log({action:"click",actorIgUserid:b,commentId:f,commentThreadId:d,parentMediaId:a,step:"pending_comment_approve"});e.setState({showApproveCommentDialog:!0})},e.$15=function(){e.setState({showApproveCommentDialog:!1})},e.$16=function(){var a=e.props,b=a.commentOwnerId,d=a.commentThreadId,f=a.id;a=a.postId;c("PolarisIgWellbeingRestrictManageCommentFalcoEvent").log({action:"click",actorIgUserid:b,commentId:f,commentThreadId:d,parentMediaId:a,step:e.state.showRestrictedContent?"pending_comment_delete":"pending_comment_delete_hidden"});e.$7()},a)||babelHelpers.assertThisInitialized(e)}var e=a.prototype;e.componentWillUnmount=function(){this.$2()};e.$17=function(){var a=this.props,b=a.code,e=a.id,f=a.likeCount;a=a.loggedIn;if(f==null||f===0)return null;var g=f.toLocaleString(),h=i._("__JHASH__7PgeOKK7Hd0__JHASH__",[i._param("like count",g)]);g=i._("__JHASH__-wTB86PYRly__JHASH__",[i._param("like count",g)]);h=f===1?h:g;return f>0&&(d("PolarisUA").isDesktop()||!a?l.jsx("button",{className:"_a9ze",onClick:this.$10,children:l.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",weight:"semibold",zeroMargin:!0,children:h})}):l.jsx(c("PolarisFastLink.react"),{className:"_a9ze _amp7",href:"/p/"+c("nullthrows")(b)+"/c/"+c("nullthrows")(e)+"/liked_by/",children:h}))};e.render=function(){var a=this,b=this.props,e=b.className,f=b.commentingDisabledForViewer,g=b.commentOwnerAvatar,h=b.commentOwnerId,i=b.commentOwnerUsername,j=b.commentThreadId,k=b.customPaddingStyle,m=b.giphyMediaInfo,p=b.hideUserAvatar,q=p===void 0?!1:p,r=b.id;p=b.isCaption;var s=p===void 0?!1:p;p=b.isEdited;var t=p===void 0?!1:p;p=b.isPermalinkedComment;p=p===void 0?!1:p;var u=b.isRestrictedPending,v=b.likedByViewer,w=b.postId,x=b.postOwnerId,y=b.postOwnerIsUnpublished,z=b.reducedAvatarMargin,A=b.showCommentOptionsInline,B=A===void 0?!1:A;A=b.showRemoveIcon;var C=b.showRichComment,D=C===void 0?!1:C;C=b.translation;var E=b.variant;b=b.viewerId;var F=this.props.text.toString();(C==null?void 0:C.showTranslatedText)===!0&&C.translatedText!=null&&(F=C.translatedText);var G=!s&&b!=null&&(b===h||x===b),H=G&&A&&!D,I=!s&&b!=null&&!H&&!u;C=d("PolarisConfig").isLoggedOutFRXEligible()&&p;var J=C||D&&!d("PolarisUA").isMobile()&&!s&&b!=null,K=E===d("PolarisPostVariants").VARIANTS.feed?c("PolarisTruncatedText.react"):c("PolarisUserText.react"),L=!!s||!I&&!G,M=u&&!this.state.showRestrictedContent,N=u&&this.state.showRestrictedContent;A=m!=null;var O=A?(b=m==null?void 0:(p=m.first_party_cdn_proxied_images)==null?void 0:(C=p.fixed_height)==null?void 0:C.url)!=null?b:m==null?void 0:(E=m.images)==null?void 0:(A=E.fixed_height)==null?void 0:A.url:void 0,P=l.jsx("div",{className:B===!0?"_a9ze":"",children:l.jsx("div",{className:(B!==!0?"_a9zh":"")+(B===!0?" _a9zi":""),children:l.jsx(c("IGDSIconButton.react"),{"data-testid":void 0,onClick:this.$3,children:l.jsx(c("IGDSBox.react"),{alignItems:"center",height:24,justifyContent:"center",position:"relative",width:24,children:l.jsx(c("IGDSMoreHorizontalPanoOutlineIcon.react"),{alt:d("PolarisPostStrings").COMMENT_OPTIONS_ALT_TEXT,color:"ig-secondary-text"})})})})});return l.jsx(d("PolarisViewpointReact.react").Viewpoint,{action:this.$11,id:F.replace(" ","-"),children:function(b){return l.jsxs(d("PolarisDoubleTappable").DoubleTappable,{onDoubleClick:a.$9,role:"button",children:[l.jsx("li",{className:c("joinClasses")((D?"_a9zj":"")+(k==="compact"?" _a9zk":"")+" _a9zl",e),onMouseDown:a.$4,onMouseUp:a.$2,onTouchEnd:a.$2,onTouchMove:a.$2,onTouchStart:a.$4,ref:b,children:l.jsxs("div",{className:"_a9zm","data-testid":void 0,children:[l.jsxs("div",{className:(L?"_a9zn":"")+" _a9zo",children:[D&&!q&&l.jsx(c("PolarisUserHoverCard.react"),{display:"block",userId:h,username:i,children:l.jsx(c("PolarisUserAvatarWithStories.react"),{className:"_a9zp"+(z===!0?" _a9zq":"")+(u===!0?" _a9zd":""),isLink:!y,profilePictureUrl:(b=g)!=null?b:"",size:c("PolarisIGCoreConstants").AVATAR_SIZES.small,storyEntrypoint:"post_comment",username:i})}),l.jsxs("div",{className:"_a9zr",children:[l.jsx(n,{parentProps:a.props,parentState:a.state}),!M&&(O!=null?l.jsx(c("PolarisPostGifComment.react"),{gifSrc:O}):l.jsx("div",{className:"_a9zs"+(u===!0?" _a9zd":""),"data-testid":void 0,children:l.jsx(K,{display:"inline",headlineTag:s===!0?"h1":void 0,size:"body",value:F})})),D&&l.jsx(c("IGDSBox.react"),{marginBottom:1,marginTop:2,position:"relative",children:l.jsxs(c("IGDSText.react").Body2,{color:"secondaryText",dir:c("Locale").isRTL()?"rtl":"ltr",children:[s&&t&&l.jsxs(l.Fragment,{children:[d("PolarisPostStrings").CAPTION_EDITED_TEXT,"\xa0\xb7\xa0"]}),l.jsx(o,{parentProps:a.props}),s&&l.jsx(c("IGDSBox.react"),{display:"inlineBlock",position:"relative",children:l.jsx(c("PolarisPostCaptionTranslationPrompt.react"),{postId:w})}),!s&&!u&&l.jsxs(l.Fragment,{children:[a.$17(),f!==!0&&l.jsx("button",{className:"_a9ze",onClick:a.$12,children:l.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",weight:"semibold",zeroMargin:!0,children:d("PolarisPostStrings").REPLY_TEXT})}),r!=null&&l.jsx(c("IGDSBox.react"),{display:"inlineBlock",marginEnd:2,position:"relative",children:l.jsx(c("PolarisCommentTranslationPrompt.react"),{commentId:r})}),J&&B===!0&&P]}),M&&l.jsx("button",{className:"_a9ze",onClick:a.$13,children:l.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",weight:"semibold",zeroMargin:!0,children:d("PolarisPostStrings").RESTRICT_SEE_COMMENT_TEXT})}),N&&l.jsx("button",{className:"_a9ze",onClick:a.$14,children:l.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",weight:"semibold",zeroMargin:!0,children:d("PolarisApproveCommentDialog.react").APPROVE_COMMENT_CTA})}),u&&l.jsx("button",{className:"_a9ze",onClick:a.$16,children:l.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",weight:"semibold",zeroMargin:!0,children:d("PolarisPostStrings").RESTRICT_DELETE_COMMENT_TEXT})})]})})]})]}),H&&l.jsx("button",{className:"_a9zt",onClick:a.$7,title:d("PolarisPostStrings").DELETE_COMMENT_TEXT,children:l.jsx(c("IGDSText.react"),{color:"tertiaryText",size:"footnote",weight:"semibold",zeroMargin:!0,children:d("PolarisPostStrings").DELETE_COMMENT_TEXT})}),J&&!B&&P,I&&l.jsx(c("PolarisLikeButton.react"),{className:"_a9zu",isLiked:!!v,onChange:a.$8,padding:0,size:12})]})}),a.state.showCommentOptionsDialog&&r!=null&&l.jsx(c("PolarisCommentOptionsDialog.react"),{canDeleteComment:!!G,commentId:r,commentOwnerAvatar:(b=g)!=null?b:"",commentOwnerId:h,commentOwnerUsername:i,mediaOwnerId:x,onClose:a.$5,onDelete:a.$6}),a.state.showApproveCommentDialog&&r!=null&&l.jsx(d("PolarisApproveCommentDialog.react").ApproveCommentDialog,{commentId:r,commentOwnerId:h,commentOwnerUsername:i,commentThreadId:j,onClose:a.$15,postId:w})]})}})};return a}(l.PureComponent);q.defaultProps={showRichComment:!1};function a(a,b){var e=b.commentOwnerId,f=b.postId,g=b.postOwnerId;e=d("polarisUserSelectors").getUserByIdOrThrows(a,e);f=d("polarisPostSelectors").getPostOrNullById(a,f);b=b.id;b==null&&(b=f==null?void 0:f.captionCommentId);return{commentOwnerAvatar:e.profilePictureUrl,commentOwnerId:c("nullthrows")(e.id),commentOwnerUsername:c("nullthrows")(e.username),postOwnerIsUnpublished:d("polarisUserSelectors").getUserByIdOrThrows(a,g).isUnpublished,postShortcode:f&&f.code,translation:b!=null?a.comments.translationById.get(b):null,viewerId:a.users.viewerId}}function b(a,b){var e={commentAuthorId:b.commentOwnerId,commentId:b.id||"",containerModule:b.analyticsContext,mediaAuthorId:b.postOwnerId,mediaId:b.id||"",mediaType:b.mediaType||0};return{fetchCommentLikes:function(){return a(d("PolarisCommentLikeListsActions").requestCommentLikes(c("nullthrows")(b.id)))},onDeleteComment:function(){return a(d("PolarisCommentActions").deleteComment(b.postId,b.id||"",b.analyticsContext))},onLikeComment:function(b){return a(d("PolarisCommentActions").likeComment(babelHelpers["extends"]({},e,{userId:b||""})))},onReplyClick:function(e){return a(d("PolarisPendingCommentActions").changePendingComment(b.postId,"@"+(e||"")+" ",c("nullthrows")(b.commentThreadId),b.commentOwnerId,e))},onUnlikeComment:function(b){return a(d("PolarisCommentActions").unlikeComment(babelHelpers["extends"]({},e,{userId:b||""})))}}}function e(a,b,c){return babelHelpers["extends"]({},a,b,c,{onLikeComment:function(){return b.onLikeComment(a.viewerId)},onReplyClick:function(){return b.onReplyClick(a.commentOwnerUsername)},onUnlikeComment:function(){return b.onUnlikeComment(a.viewerId)}})}function f(a){var b=k(10),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={routeParams:{},routeProps:{}},b[0]=e):e=b[0];e=c("useIGDSEntryPointDialog")(c("PolarisLoggedOutIntentDialog.entrypoint"),e);var f=e[0],g=d("PolarisReactRedux.react").useDispatch(),h=d("CometRelay").useRelayEnvironment();b[1]!==g||b[2]!==h?(e=function(a,b,c){var e=d("PolarisUA").isDesktop()||d("PolarisConfig").isLoggedOutFRXEligible()?"feature_wall":"content_wall";g(d("PolarisNavigationActions").openLoginModal(h,e,a,b,c,a))},b[1]=g,b[2]=h,b[3]=e):e=b[3];e=e;var i;b[4]!==f?(i=function(a){return f({source:a})},b[4]=f,b[5]=i):i=b[5];var j;b[6]!==a||b[7]!==i||b[8]!==e?(j=l.jsx(q,babelHelpers["extends"]({},a,{onLoggedOutIntentClick:i,onLoggedOutIntentClickLoginModal:e})),b[6]=a,b[7]=i,b[8]=e,b[9]=j):j=b[9];return j}h=d("PolarisReactRedux.react").connect(a,b,e)(f);g["default"]=h}),226);
__d("PolarisThreadedCommentSelectors",["PolarisPaginationUtils","immutable-4.0.0-rc.9","nullthrows","polarisCreateSelectorWithArg"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return!a.deleted&&!a.didReportAsSpam}b=c("polarisCreateSelectorWithArg")(function(a){return a.posts.byId},function(a){return a.comments.byId},function(a){return a.threadedComments.parentByPostId},function(a,b,e){return function(f){var g=e[f];f=a.get(f);if(!g||!f)return d("immutable-4.0.0-rc.9").List();var i=g.commentIds;g=d("PolarisPaginationUtils").getVisibleCount(g.pagination);f=f.hasRankedComments===!0?0:i.count()-g;return i.map(function(a){return c("nullthrows")(b.get(a))}).slice(f,f+g).filter(function(a){return h(a)})}});e=c("polarisCreateSelectorWithArg")(function(a){return a.comments.byId},function(a){return a.threadedComments.childByParentId},function(a,b){return function(e){e=c("nullthrows")(b[e]);var f=e.commentIds;e=e.pagination;f=f.map(function(b){return c("nullthrows")(a.get(b))});e=f.count()-d("PolarisPaginationUtils").getVisibleCount(e);var g=f.slice(e,f.count()).filter(function(a){return h(a)});f=f.slice(0,e).filter(function(a){return h(a)});e=f.map(function(a){return a.id});return{remainingCachedShowableChildCommentIds:e,visibleChildComments:g}}});f=c("polarisCreateSelectorWithArg")(function(a){return a.comments.byId},function(a){return a.threadedComments.childByParentId},function(a,b){return function(a){a=c("nullthrows")(b[a]);return a.count||0}});function a(a,b){return!!a.threadedComments.initialCommentsLoading[b]}g.selectVisibleParentCommentsForPostId=b;g.selectChildCommentsForParentIdSplitByVisibility=e;g.getTotalChildCommentCountForParentId=f;g.getThreadedCommentsLoading=a}),98);
__d("PolarisCommentThread.react",["cx","fbt","IGDSBox.react","IGDSSpinner.react","PolarisConfig","PolarisIGCoreButton.react","PolarisInteractionsLogger","PolarisPaginationUtils","PolarisPostComment.react","PolarisPostVariants","PolarisReactRedux.react","PolarisThreadedCommentActions","PolarisThreadedCommentSelectors","isStringNullOrEmpty","nullthrows","polarisCommentReducer","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=(j||(j=d("react"))).c,l=j;function m(a){var b=k(24),e=a.childComment,f=a.disableTimestampNav;a=a.parentProps;var g=a.analyticsContext,h=a.code,i=a.commentingDisabledForViewer,j=a.hideUserAvatar,m=a.loggedIn,n=a.onDeleteCommentClick,o=a.onLikeCountClick,p=a.parentComment,q=a.postId,r=a.postOwnerId,s=a.reducedAvatarMargin,t=a.showCommentOptionsInline;a=a.showRemoveIcon;j=!!j;var u;b[0]!==g||b[1]!==h||b[2]!==i||b[3]!==e.userId||b[4]!==e.giphyMediaInfo||b[5]!==e.id||b[6]!==e.isAuthorVerified||b[7]!==e.isRestrictedPending||b[8]!==e.likeCount||b[9]!==e.likedByViewer||b[10]!==e.postedAt||b[11]!==e.text||b[12]!==p.id||b[13]!==f||b[14]!==j||b[15]!==m||b[16]!==n||b[17]!==o||b[18]!==q||b[19]!==r||b[20]!==s||b[21]!==t||b[22]!==a?(u=l.jsx(c("PolarisPostComment.react"),{analyticsContext:g,className:"_a9ye",code:h,commentingDisabledForViewer:i,commentOwnerId:e.userId,commentThreadId:p.id,disableTimestampNav:f,giphyMediaInfo:e.giphyMediaInfo,hideUserAvatar:j,id:e.id,isAuthorVerified:e.isAuthorVerified,isRestrictedPending:e.isRestrictedPending,likeCount:e.likeCount,likedByViewer:e.likedByViewer,loggedIn:m,onDeleteCommentClick:n,onLikeCountClick:o,postedAt:e.postedAt,postId:q,postOwnerId:r,reducedAvatarMargin:s,showCommentOptionsInline:t,showRemoveIcon:a,showRichComment:!0,text:e.text,variant:d("PolarisPostVariants").VARIANTS.flexible},e.id),b[0]=g,b[1]=h,b[2]=i,b[3]=e.userId,b[4]=e.giphyMediaInfo,b[5]=e.id,b[6]=e.isAuthorVerified,b[7]=e.isRestrictedPending,b[8]=e.likeCount,b[9]=e.likedByViewer,b[10]=e.postedAt,b[11]=e.text,b[12]=p.id,b[13]=f,b[14]=j,b[15]=m,b[16]=n,b[17]=o,b[18]=q,b[19]=r,b[20]=s,b[21]=t,b[22]=a,b[23]=u):u=b[23];return u}b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={hasPermalinkedReplyBeenHidden:!1},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentDidUpdate=function(a,b){(a.parentComment.id!==this.props.parentComment.id||a.permalinkedReplyId!==this.props.permalinkedReplyId)&&this.setState({hasPermalinkedReplyBeenHidden:!1})};e.$1=function(){var a=this.props,b=a.childCommentsCacheCanShowMoreWithoutFetch,c=a.childCommentsCanFetchMorePagination,d=a.childCommentsHasNextPage,e=a.permalinkedReply;a=a.remainingCachedShowableChildCommentIds;return e!=null&&d===!0&&b===!0&&c!==!0&&a.count()===1&&a.get(0)===e.id};e.$2=function(a){var b=this.props.childCommentsHasNextPage;return b!==!0||a&&this.$1()};e.$3=function(a){var b=this.props,c=b.analyticsContext,e=b.childCommentsCacheCanShowMoreWithoutFetch,f=b.childCommentsIsFetching,g=b.hideReplies,h=b.loadChildComments,i=b.loadChildCommentsV2,j=b.onHidePermalinkReply,k=b.parentComment,l=k.id;k=k.userId;var m=b.permalinkedReply,n=b.postId,o=b.postOwnerId;b=b.showReplies;if(f)return;else a?(g(l),d("PolarisInteractionsLogger").logInteractionAction({commentAuthorId:k,commentId:l,containerModule:c,eventName:"instagram_child_comments_collapse",mediaAuthorId:o,mediaId:n}),m!=null&&(j!=null&&j(),this.setState({hasPermalinkedReplyBeenHidden:!0}))):e?b(l):d("PolarisConfig").isLoggedIn()?i(n,l):h(l)};e.$4=function(a,b){var d=this,e=this.props,f=e.childCommentsIsFetching,g=e.replyPagerNodeRef;e=e.totalChildCommentCount;var h=this.$2(b),j=b?1:0;j=a+j;e=e-j;h&&!f?j=i._("__JHASH__l0QlXOkD0E9__JHASH__"):e<=0?j=i._("__JHASH__obWV52hm5rV__JHASH__"):j=i._("__JHASH__vGrwkOmYrh5__JHASH__",[i._param("hidden replies",e)]);return l.jsx("li",{className:"_a9yg",ref:g,children:l.jsxs(c("IGDSBox.react"),{direction:"row",marginBottom:a>0?4:0,marginTop:b?2:0,position:"relative",children:[l.jsxs(c("PolarisIGCoreButton.react"),{borderless:!0,onClick:function(){return d.$3(h)},children:[l.jsx("div",{className:"_a9yh"}),l.jsx("span",{className:"_a9yi",children:j})]}),f&&l.jsx("div",{className:"_a9yj",children:l.jsx(c("IGDSSpinner.react"),{size:"small"})})]})})};e.render=function(){var a=this,b=this.props,e=b.analyticsContext,f=b.code,g=b.commentingDisabledForViewer,h=b.customIndentationPadding,i=b.hideUserAvatar,j=b.innerRef,k=b.isPermalinkedComment,n=b.loggedIn,o=b.onDeleteCommentClick,p=b.onLikeCountClick,q=b.parentComment,r=b.permalinkedReply,s=b.permalinkedReplyAnimating,t=b.permalinkedReplyId,u=b.permalinkedReplyNodeRef,v=b.postId,w=b.postOwnerId,x=b.reducedAvatarMargin,y=b.showCommentOptionsInline,z=b.showRemoveIcon,A=b.totalChildCommentCount;b=b.visibleChildComments;var B=this.state.hasPermalinkedReplyBeenHidden,C=null;r&&!(B&&b.count()===0)&&(C=l.jsx("div",{className:"_a9yk"+(s===!0&&!B?" _a9yl":""),ref:u,children:l.jsx(m,{childComment:r,disableTimestampNav:!0,parentProps:this.props})}));s=b.map(function(b,d){return C&&c("nullthrows")(r).id===b.id?null:l.jsx(m,{childComment:b,parentProps:a.props},d)}).filter(function(a){return a!=null});B=this.$4(s.count(),C!=null);u=h!=null?{margin:"12px 0 0 "+h+"px",width:"calc(100% - "+h+"px)"}:void 0;return l.jsxs("ul",{className:"_a9ym",ref:j,children:[l.jsx(c("PolarisPostComment.react"),{analyticsContext:e,code:f,commentingDisabledForViewer:g,commentOwnerId:q.userId,commentThreadId:q.id,disableTimestampNav:k===!0&&t==null,giphyMediaInfo:q.giphyMediaInfo,hideUserAvatar:!!i,id:q.id,isAuthorVerified:q.isAuthorVerified,isPermalinkedComment:k,isRestrictedPending:q.isRestrictedPending,likeCount:q.likeCount,likedByViewer:q.likedByViewer,loggedIn:n,onDeleteCommentClick:o,onLikeCountClick:p,postedAt:q.postedAt,postId:v,postOwnerId:w,reducedAvatarMargin:x,showCommentOptionsInline:y,showRemoveIcon:z,showRichComment:!0,text:q.text,variant:d("PolarisPostVariants").VARIANTS.flexible}),A!==0&&l.jsx("li",{children:l.jsxs("ul",{className:"_a9yo",style:u,children:[C,B,s]})})]})};return b}(l.Component);function a(a,b){var e=b.parentComment;b=b.permalinkedReplyId;var f=d("PolarisThreadedCommentSelectors").selectChildCommentsForParentIdSplitByVisibility(a,e.id),g=f.remainingCachedShowableChildCommentIds;f=f.visibleChildComments;var h=d("PolarisThreadedCommentSelectors").getTotalChildCommentCountForParentId(a,e.id);e=(e=a.threadedComments.childByParentId[e.id])!=null?e:d("polarisCommentReducer").EMPTY_POST_COMMENTS_STATE;e=e.pagination;var i=null;c("isStringNullOrEmpty")(b)||(i=a.comments.byId.get(b));return{childCommentsCacheCanShowMoreWithoutFetch:d("PolarisPaginationUtils").getVisibleCount(e)<d("PolarisPaginationUtils").getLoadedCount(e),childCommentsCanFetchMorePagination:d("PolarisPaginationUtils").canFetchMorePagination(e),childCommentsHasNextPage:d("PolarisPaginationUtils").hasNextPage(e),childCommentsIsFetching:d("PolarisPaginationUtils").isFetching(e),permalinkedReply:i,remainingCachedShowableChildCommentIds:g,totalChildCommentCount:h||0,visibleChildComments:f}}e={hideReplies:d("PolarisThreadedCommentActions").hideChildComments,loadChildComments:d("PolarisThreadedCommentActions").requestNextChildCommentPage,loadChildCommentsV2:d("PolarisThreadedCommentActions").requestNextChildCommentPageV2,showReplies:d("PolarisThreadedCommentActions").showChildComments};f=d("PolarisReactRedux.react").connect(a,e)(b);g["default"]=f}),226);
__d("PolarisDeleteCommentModal.react",["fbt","IGCoreDialog.react","PolarisCommentActions","PolarisGenericStrings","PolarisReactRedux.react","polarisLogAction","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(15),e=a.analyticsContext,f=a.commentId,g=a.onClose,i=a.postId,l=d("PolarisReactRedux.react").useDispatch();b[0]!==e||b[1]!==l||b[2]!==i||b[3]!==f||b[4]!==g?(a=function(a){c("polarisLogAction")("commentDelete",{source:e}),l(d("PolarisCommentActions").deleteComment(i,f,e)),g(a)},b[0]=e,b[1]=l,b[2]=i,b[3]=f,b[4]=g,b[5]=a):a=b[5];a=a;var m;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(m=h._("__JHASH__-8Hu0_GPJrv__JHASH__"),b[6]=m):m=b[6];b[7]!==a?(m=k.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{color:"ig-error-or-destructive",onClick:a,children:m}),b[7]=a,b[8]=m):m=b[8];b[9]!==g?(a=k.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{onClick:g,children:d("PolarisGenericStrings").CANCEL_TEXT}),b[9]=g,b[10]=a):a=b[10];var n;b[11]!==g||b[12]!==m||b[13]!==a?(n=k.jsxs(d("IGCoreDialog.react").IGCoreDialog,{onModalClose:g,children:[m,a]}),b[11]=g,b[12]=m,b[13]=a,b[14]=n):n=b[14];return n}g["default"]=a}),226);
__d("PolarisEmbedHashHelpers",["memoize"],(function(a,b,c,d,e,f,g){"use strict";a=c("memoize")(function(){var a=window.location.hash;a=decodeURIComponent(a.substring(a.indexOf("#")+1));try{a=JSON.parse(a)}catch(b){a={}}return{clientId:a.ci,offset:a.os,sdkLoadEnd:a.le,sdkLoadStart:a.ls}});g.getHashPayload=a}),98);
__d("polarisGetEmbedRequestID",["nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("nullthrows")(document.querySelector(".Embed"));return a.getAttribute("data-request-id")}g["default"]=a}),98);
__d("PolarisEmbedLogger",["InstagramQueryParamsHelper","PolarisEmbedHashHelpers","PolarisLogger","PolarisLoggerUtils","PolarisPigeonLogger","gkx","polarisGetEmbedRequestID"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=d("PolarisLoggerUtils").trimAndSanitizeUrl(a||window.location.href);var b=c("polarisGetEmbedRequestID")();return b!=null?d("InstagramQueryParamsHelper").appendQueryParams(a,{ig_rid:b}):a}function a(a,b,e){if(!c("gkx")("25394"))return;var f=d("PolarisLogger").getExtra(),g=f.url;f=babelHelpers.objectWithoutPropertiesLoose(f,["url"]);a=babelHelpers["extends"]({client_id:d("PolarisEmbedHashHelpers").getHashPayload().clientId,event_name:a.actionName,is_copyright_blocked:a.isCopyrightBlocked,media_id:a.mediaId,media_type:a.mediaType,owner_id:a.ownerId===""?null:a.ownerId},f);f=babelHelpers["extends"]({obj_id:h(g),obj_type:"url"},e);d("PolarisLogger").logPigeonEvent(d("PolarisPigeonLogger").createEvent("instagram_web_embeds",a,f),b)}function i(a,b,c){var e=d("PolarisLogger").getAnonymousExtra(),f=e.url;e=babelHelpers.objectWithoutPropertiesLoose(e,["url"]);a=babelHelpers["extends"]({client_id:d("PolarisEmbedHashHelpers").getHashPayload().clientId,event_name:a.actionName,is_copyright_blocked:a.isCopyrightBlocked,media_id:a.mediaId,media_type:a.mediaType,owner_id:a.ownerId===""?null:a.ownerId},e);e=babelHelpers["extends"]({obj_id:h(f),obj_type:"url"},c);d("PolarisLogger").logPigeonEvent(d("PolarisPigeonLogger").createEvent("instagram_web_embeds_anonymous",a,e),b)}function b(a){var b=a.isCopyrightBlocked,c=a.mediaId,d=a.mediaType;a=a.ownerId;i({actionName:"view",isCopyrightBlocked:b,mediaId:c,mediaType:d,ownerId:a})}function e(a,b,e){if(!c("gkx")("25394"))return;a=d("PolarisLogger").getExtra(a);var f=a.url;a=babelHelpers.objectWithoutPropertiesLoose(a,["url"]);a=babelHelpers["extends"]({client_id:d("PolarisEmbedHashHelpers").getHashPayload().clientId,parent_url:window.document.referrer},a);f=babelHelpers["extends"]({obj_id:h(f),obj_type:"url"},e);d("PolarisLogger").logPigeonEvent(d("PolarisPigeonLogger").createEvent("instagram_web_embed_perf_events",a,f),b)}g.logEmbedAction=a;g.logEmbedPageView=b;g.logEmbedTimings=e}),98);
__d("PolarisEmbedVideoWatchAgain.react",["cx","fbt","PolarisEmbedLogger","PolarisFastLink.react","PolarisLinkBuilder","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=(j||(j=d("react"))).c,l=j,m=i._("__JHASH__WT4Q1op-CT7__JHASH__"),n=i._("__JHASH__IQuGN-11QOS__JHASH__"),o="https://www.instagram.com";function p(a){var b=k(4),d=a.className,e=a.href;a=a.onClick;var f;b[0]!==d||b[1]!==e||b[2]!==a?(f=l.jsx(c("PolarisFastLink.react"),{"aria-label":m,className:d,href:e,onClick:a,target:"_blank"}),b[0]=d,b[1]=e,b[2]=a,b[3]=f):f=b[3];return f}function a(a){var b=k(18),e=a.post;a=e.code;a=a!=null&&a.length>0?d("PolarisLinkBuilder").buildMediaLink(a):"";a=""+o+a+"?utm_source=ig_embed&utm_campaign=embed_video_watch_again";var f;b[0]!==e.id||b[1]!==e.owner?(f=function(){var a;d("PolarisEmbedLogger").logEmbedAction({actionName:"videoWatchAgainClick",mediaId:e.id,mediaType:"video",ownerId:((a=e.owner)==null?void 0:a.id)||""})},b[0]=e.id,b[1]=e.owner,b[2]=f):f=b[2];f=f;var g;b[3]!==a||b[4]!==f?(g=l.jsx(c("PolarisFastLink.react"),{"aria-label":n,className:"_aarb _9zwu",href:a,onClick:f,target:"_blank"}),b[3]=a,b[4]=f,b[5]=g):g=b[5];var h;b[6]!==a||b[7]!==f?(h=l.jsx(c("PolarisFastLink.react"),{"aria-label":n,className:"_aarc",href:a,onClick:f,target:"_blank",children:n}),b[6]=a,b[7]=f,b[8]=h):h=b[8];var i;b[9]!==g||b[10]!==h?(i=l.jsx("div",{className:"_aar9",children:l.jsxs("div",{className:"_aara",children:[g,h]})}),b[9]=g,b[10]=h,b[11]=i):i=b[11];b[12]!==a||b[13]!==f?(g=l.jsx(p,{className:"_aard",href:a,onClick:f}),b[12]=a,b[13]=f,b[14]=g):g=b[14];b[15]!==i||b[16]!==g?(h=l.jsxs(l.Fragment,{children:[i,g]}),b[15]=i,b[16]=g,b[17]=h):h=b[17];return h}g["default"]=a}),226);
__d("PolarisEmbedVideo.react",["cx","PolarisEmbedLogger","PolarisEmbedVideoWatchAgain.react","PolarisUserTagIndicatorWithSheet.react","PolarisVideoHeight","PolarisVideoPlayButton.react","Run","joinClasses","keyMirror","nullthrows","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k="video/mp4",l=c("keyMirror")({finished:null,paused:null,playing:null}),m="embedVideo";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.$1=j.createRef();c.$2=!1;c.$3=null;c.handleVisiblityChange=function(){c.state.playerState!=null&&document.visibilityState&&document.visibilityState==="hidden"&&c.stop()};c.handleBeforeUnload=function(){c.state.playerState===l.playing&&c.stop()};c.handlePlayerPlayEvent=function(){c.setState({playerState:l.playing})};c.handlePlayerPauseEvent=function(){c.pause()};c.handlePlayerEndedEvent=function(){c.stop()};c.handleContainerClick=function(a){c.state.playerState!==l.playing?c.play():c.pause()};b={playerState:null};c.state=b;return c}var e=b.prototype;e.componentDidMount=function(){document.addEventListener("visibilitychange",this.handleVisiblityChange);this.$3=d("Run").onBeforeUnload(this.handleBeforeUnload);var a=c("nullthrows")(this.$1.current);a.addEventListener("play",this.handlePlayerPlayEvent);a.addEventListener("pause",this.handlePlayerPauseEvent);a.addEventListener("ended",this.handlePlayerEndedEvent)};e.componentDidUpdate=function(a){this.props.isVisible===!1&&a.isVisible===!0&&this.pause()};e.componentWillUnmount=function(){this.handleBeforeUnload();document.removeEventListener("visibilitychange",this.handleVisiblityChange);this.$3!=null&&(this.$3.remove(),this.$3=null);var a=c("nullthrows")(this.$1.current);a.removeEventListener("play",this.handlePlayerPlayEvent);a.removeEventListener("pause",this.handlePlayerPauseEvent);a.removeEventListener("ended",this.handlePlayerEndedEvent)};e.play=function(){if(this.state.playerState===l.playing)return;if(this.$2===!1){var a;d("PolarisEmbedLogger").logEmbedAction({actionName:"videoFirstPlayClick",mediaId:this.props.post.id,mediaType:"video",ownerId:((a=this.props.post.owner)==null?void 0:a.id)||""});this.$2=!0}c("nullthrows")(this.$1.current).play()};e.pause=function(){if(this.state.playerState!==l.playing)return;c("nullthrows")(this.$1.current).pause();this.setState({playerState:l.paused})};e.stop=function(){if(this.state.playerState===l.finished)return;var a=c("nullthrows")(this.$1.current);a.pause();a.currentTime=0;this.setState({playerState:l.finished})};e.render=function(){var a=this.props,b=a.className;a=a.post;var e=this.state.playerState,f={},g={};d("PolarisVideoHeight").setVideoHeightCompensation(a,!0,f,g);var h=e===l.finished;e=!e||e===l.paused;return j.jsxs("div",{className:c("joinClasses")(b,"_aand"),style:f,children:[j.jsx("div",{style:g,children:j.jsx("video",{className:"_aane",controls:!1,controlsList:void 0,"data-testid":void 0,loop:!1,playsInline:!0,poster:a.src,preload:"none",ref:this.$1,src:a.videoUrl,type:k})}),h?j.jsx(c("PolarisEmbedVideoWatchAgain.react"),{post:a}):j.jsx(c("PolarisVideoPlayButton.react"),{onClick:this.handleContainerClick,showPlayButton:e}),a.usertags&&a.usertags.length>=1&&j.jsx(c("PolarisUserTagIndicatorWithSheet.react"),{analyticsContext:m,mediaId:a.id,post:a,usertags:a.usertags})]})};return b}(j.Component);g["default"]=a}),98);
__d("PolarisHotKeys.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.c;c={keyMap:{}};var l=i.createContext(c);function a(a){var b=k(13),c=a.children,d=a.className,e=a.isButton,f=a.keyMap;a=e===void 0?!1:e;e=j(l).keyMap;var g=n,h=m;b[0]!==f?(e=function(a){if(f[a.key]!=null&&h()&&g(a)){var b=f[a.key];b();a.stopPropagation()}},b[0]=f,b[1]=e):e=b[1];e=e;var o=a?"button":"presentation";a=a?"0":"-1";var p;b[2]!==f?(p={keyMap:f},b[2]=f,b[3]=p):p=b[3];var q;b[4]!==c||b[5]!==e||b[6]!==o||b[7]!==a||b[8]!==d?(q=typeof c==="function"?c(e,o,a):i.jsx("div",{className:d,onKeyUp:e,role:o,tabIndex:a,children:c}),b[4]=c,b[5]=e,b[6]=o,b[7]=a,b[8]=d,b[9]=q):q=b[9];b[10]!==p||b[11]!==q?(c=i.jsx(l.Provider,{value:p,children:q}),b[10]=p,b[11]=q,b[12]=c):c=b[12];return c}function m(){var a;return((a=document.activeElement)==null?void 0:a.tagName.toLowerCase())!=="textarea"&&((a=document.activeElement)==null?void 0:a.tagName.toLowerCase())!=="input"}function n(a){return!(a.ctrlKey||a.altKey||a.metaKey)}g["default"]=a}),98);
__d("PolarisInFeedPostModalContext",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=(h||d("react")).createContext;b=a(c("emptyFunction"));g.InFeedPostModalContext=b}),98);
__d("PolarisKeywordSearchExploreHooks.react",["PolarisDynamicExploreActions","PolarisDynamicExploreTypes","PolarisReactRedux.react","polarisDynamicExploreSelectors","react","usePolarisSelector"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).c;function a(a,b){var e=i(10),f=d("PolarisReactRedux.react").useDispatch(),g;e[0]!==a?(g=function(b){return d("polarisDynamicExploreSelectors").getSupportedSectionalItems(b,d("PolarisDynamicExploreTypes").DYNAMIC_EXPLORE_GRID_TYPES.keyword_grid,a)},e[0]=a,e[1]=g):g=e[1];var h=c("usePolarisSelector")(g),j=b===!0?d("PolarisDynamicExploreActions").requestKeywordExploreGridWithHashtagSerp:d("PolarisDynamicExploreActions").requestKeywordExploreGrid,k;e[2]!==h.length||e[3]!==f||e[4]!==j||e[5]!==a?(k=function(){h.length===0&&f(j({keyword:a,retryHandler:k}))},e[2]=h.length,e[3]=f,e[4]=j,e[5]=a,e[6]=k):k=e[6];g=k;e[7]!==h||e[8]!==g?(b=[h,g],e[7]=h,e[8]=g,e[9]=b):b=e[9];return b}function b(a,b){var e=i(10),f=d("PolarisReactRedux.react").useDispatch(),g;e[0]!==a?(g=function(b){return(b=b.dynamicExplore.keywordExploreGrid[a])==null?void 0:b.pagination},e[0]=a,e[1]=g):g=e[1];var h=c("usePolarisSelector")(g),j=b===!0?d("PolarisDynamicExploreActions").requestKeywordExploreGridWithHashtagSerp:d("PolarisDynamicExploreActions").requestKeywordExploreGrid,k;e[2]!==f||e[3]!==j||e[4]!==h||e[5]!==a?(k=function(){f(j({cursor:h==null?void 0:h.cursor,keyword:a,rankToken:h==null?void 0:h.rankToken,retryHandler:k}))},e[2]=f,e[3]=j,e[4]=h,e[5]=a,e[6]=k):k=e[6];g=k;e[7]!==h||e[8]!==g?(b=[h,g],e[7]=h,e[8]=g,e[9]=b):b=e[9];return b}function e(a){var b=i(2),e;b[0]!==a?(e=function(b){return d("polarisDynamicExploreSelectors").getGridItems(b,d("PolarisDynamicExploreTypes").DYNAMIC_EXPLORE_GRID_TYPES.keyword_grid,a)},b[0]=a,b[1]=e):e=b[1];return c("usePolarisSelector")(e)}g.useKeywordExploreSectionalItems=a;g.useKeywordExplorePagination=b;g.useKeywordExploreGridItems=e}),98);
__d("PolarisLikedByListContainerLazy.react",["CometPlaceholder.react","JSResourceForInteraction","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisLikedByListContainer.react").__setRef("PolarisLikedByListContainerLazy.react"));function a(a){var b=i(2),d;b[0]!==a?(d=j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(k,babelHelpers["extends"]({},a))}),b[0]=a,b[1]=d):d=b[1];return d}g["default"]=a}),98);
__d("PolarisPhotoWrapper.react",["InstagramODS","PolarisClickEventLoggerProvider.react","PolarisExternalLink.react","PolarisSponsoredPostContext.react","PolarisTrackingNodeProvider.react","PolarisUA","polarisAdsSelectors.react","react","react-forget-runtime","usePolarisOffsiteTrackingDataURLParams"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useContext;var j=b.c;function k(a){var b=j(7),d=a.children,e=a.externalURL;a=a.wrappedRef;var f=l,g=c("usePolarisOffsiteTrackingDataURLParams")(e),h;b[0]!==e||b[1]!==g||b[2]!==d?(h=function(a){return i.jsx("div",{ref:a,children:i.jsx(c("PolarisExternalLink.react"),{className:"x4gyw5p",href:e,ignoreDoubleClick:!0,onClick:f,queryParams:g,children:d})})},b[0]=e,b[1]=g,b[2]=d,b[3]=h):h=b[3];var k;b[4]!==a||b[5]!==h?(k=i.jsx(c("PolarisClickEventLoggerProvider.react"),{ignoreDoubleClick:!0,children:i.jsx(c("PolarisTrackingNodeProvider.react"),{ref:a,trackingNode:86,children:h})}),b[4]=a,b[5]=h,b[6]=k):k=b[6];return k}function l(){c("InstagramODS").incr("web.ads.feed.link_click")}e=i.forwardRef(a);function a(a,b){var e=j(10),f=a.children;a=a.postId;var g=d("polarisAdsSelectors.react").useFeedAdInfo(a,n),h=d("react-forget-runtime").useContextWithBailoutExperiment__unstable(d("PolarisSponsoredPostContext.react").PolarisSponsoredPostContext,m);h=h.singleImageAdAsCta;if(e[0]!==(g==null?void 0:g.ctaItems)||e[1]!==a){var l;l=g==null?void 0:(l=g.ctaItems)==null?void 0:(l=l.get(a))==null?void 0:l.ctaLinkUrl;e[0]=g==null?void 0:g.ctaItems;e[1]=a;e[2]=l}else l=e[2];var o=l;if(o!=null&&h&&d("PolarisUA").isDesktop()){e[3]!==o||e[4]!==b||e[5]!==f?(g=i.jsx(c("PolarisTrackingNodeProvider.react"),{trackingNode:12,children:function(a){return i.jsx("div",{ref:a,children:i.jsx(k,{externalURL:o,wrappedRef:b,children:f})})}}),e[3]=o,e[4]=b,e[5]=f,e[6]=g):g=e[6];return g}e[7]!==b||e[8]!==f?(a=i.jsx("div",{ref:b,children:f}),e[7]=b,e[8]=f,e[9]=a):a=e[9];return a}function m(a){return[a.singleImageAdAsCta]}function n(a){return a}f=e;g["default"]=f}),98);
__d("PolarisVideoViewedTimeAction",["convertToViewabilityPercentage","gkx","memoizeStringOnly","polarisVideoEventLogger","polarisVideoUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=c("memoizeStringOnly")(function(a){return new Map()}),i=c("memoizeStringOnly")(function(a){return new Map()}),j=c("memoizeStringOnly")(function(){return new Map()});function k(a){a=a.video;var b=a.getDeclarativeVideoRef();return{lastStartPosition:(b=b==null?void 0:b.getCurrentTime())!=null?b:0,loopCount:a.getLoopCount()}}function l(a){var b=a.adTrackingToken,c=a.context,e=a.initialData,f=a.post;a=a.video;var g=a.getDeclarativeVideoRef();return{adTrackingToken:b,analyticsContext:c,carouselParentId:f.carouselParentId,currentVideoTime:d("polarisVideoUtils").getCurrentVideoTime(g),dashInfo:d("polarisVideoUtils").getDashInfo(f),duration:g==null?void 0:g.getDuration(),id:f.id,isAd:!0,lastStartPosition:e.lastStartPosition,loopCount:a.getLoopCount()-e.loopCount,ownerId:(b=f.owner)==null?void 0:b.id,postedAt:f.postedAt,sequenceNumber:a.getNextSequenceNumber(),timeAtVideoPause:d("polarisVideoUtils").getTimeAtVideoPause(g),trackingToken:f.trackingToken,videoWidth:g==null?void 0:(c=g.getVideo())==null?void 0:c.videoWidth}}function a(a,b,e,f){return function(g){if(b.current==null)return;var m=b.current,n=h(e),o=i(e),p=a.id;g.percentVisible>=.5&&!n.has(p)&&n.set(p,k({video:m}));g.percentVisible>=1&&!o.has(p)&&o.set(p,k({video:m}));var q=n.get(p);q!=null&&g.percentVisible<.5&&(n["delete"](p),d("polarisVideoEventLogger").logVideoViewedTime(l({adTrackingToken:f,context:e,initialData:q,post:a,video:m})));n=o.get(p);n&&g.percentVisible<1&&(o["delete"](p),d("polarisVideoEventLogger").logVideoFullViewedTime(l({adTrackingToken:f,context:e,initialData:n,post:a,video:m})));if(!c("gkx")("25360"))return;q=j(e);o=q.get(p);n=c("convertToViewabilityPercentage")(g.percentVisible);g=m.getDeclarativeVideoRef();if(n!==o){q.set(p,n);d("polarisVideoEventLogger").logVideoViewabilityChanged({adTrackingToken:f,analyticsContext:e,carouselParentId:a.carouselParentId,currentVideoTime:d("polarisVideoUtils").getCurrentVideoTime(g),currentViewabilityPercentage:n,dashInfo:d("polarisVideoUtils").getDashInfo(a),duration:g==null?void 0:g.getDuration(),id:a.id,isAd:!0,ownerId:(o=a.owner)==null?void 0:o.id,sequenceNumber:m.getNextSequenceNumber(),trackingToken:a.trackingToken})}}}g.makeVideoViewTimeAction=a}),98);
__d("PolarisMedia_DEPRECATED.react",["PolarisDoubleTappable","PolarisEmbedVideo.react","PolarisFeedSeenStateManagerSingleton","PolarisIGCoreToast.react","PolarisIsLoggedInDesktop","PolarisLikeAnimation.react","PolarisMediaVideo.react","PolarisPhoto.react","PolarisPhotoWithIndicator.react","PolarisPhotoWrapper.react","PolarisSensitivityOverlay.react","PolarisSidecarMedia.react","PolarisVideoViewedTimeAction","PolarisViewpointReact.react","nullthrows","polarisVideoUtils","polarisWithRemountOnChange","react","usePolarisMediaSensitivityOverlay"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useState;function a(a){var b=j(!1),e=b[0],f=b[1];b=j(!1);var g=b[0],h=b[1];b=j(0);var k=b[0],l=b[1],m=c("PolarisFeedSeenStateManagerSingleton").get();b=function(){a.onLike&&(a.onLike(),l(k+1))};var n=function(){f(!0)},o=function(){f(!1)},p=function(c,d){var e=a.onMediaRendered,b=a.post;if(b.isVideo===!0)return;e&&e({mediaType:"Photo",resourceName:c,timeTaken:d})},q=function(a){switch(a.state){case"entered":case"updated":a=a.percentVisible>.2;g!==a&&h(a);break;case"exited":h(!1)}},r=function(b,c){if(b===!0&&a.autoplay===!0){if(d("polarisVideoUtils").isFeed(a.analyticsContext))return!1;if(c===0&&d("PolarisIsLoggedInDesktop").isLoggedInDesktop())return!0}return!1},s=a.adInfo,t=a.analyticsContext,u=a.asSidecarChild,v=a.autoplay;a.checkIsSensitivityOverlayDisabledCallback;var w=a.commentsAreStacked,x=a.firstSidecarChildSrc;a.hasViewInsights;var y=a.id;a.initialCarouselIndex;var z=a.isEmbed,A=a.isVisible,B=a.mediaFooter;a.onLike;a.onMediaRendered;var C=a.onSensitivityOverlayCleared;a.onSetModal;var D=a.onSidecarChildIndexChange,E=a.onToastClose,F=a.onVideoFinished,G=a.onVideoLoop,H=a.post,aa=a.relationship,I=a.sensitivityOverlayMediaOverlayInfoLoggingProps,ba=a.showToast,J=a.toastString,ca=a.viewer,da=a.visiblePosition,K=babelHelpers.objectWithoutPropertiesLoose(a,["adInfo","analyticsContext","asSidecarChild","autoplay","checkIsSensitivityOverlayDisabledCallback","commentsAreStacked","firstSidecarChildSrc","hasViewInsights","id","initialCarouselIndex","isEmbed","isVisible","mediaFooter","onLike","onMediaRendered","onSensitivityOverlayCleared","onSetModal","onSidecarChildIndexChange","onToastClose","onVideoFinished","onVideoLoop","post","relationship","sensitivityOverlayMediaOverlayInfoLoggingProps","showToast","toastString","viewer","visiblePosition"]),L=H||{},M=L.dimensions,ea=L.displayResources,N=L.upcomingEvent,O=L.id,P=L.isVideo;P=P===void 0?!1:P;var Q=L.mediaPreview,R=L.owner,S=L.sidecarChildren;S=S===void 0?[]:S;var T=L.src;L=L.usertags;var U=S&&S.length>0,V=[];!U&&d("polarisVideoUtils").isFeed(t)&&V.push(function(a){m.addImpressionFromPost(H,a)});var W=!1;C=c("usePolarisMediaSensitivityOverlay")(H,t,C,a.checkIsSensitivityOverlayDisabledCallback);var fa=C.handleHideSensitivityOverlay,X=C.mediaOverlayCoverInfo;C=C.shouldShowSensitivityOverlay;if(R&&C){I=I||{};var Y=I.checkIfMediaOverlayInfoImpressionLoggingDisabled;I=I.onLoggedMediaOverlayInfoImpression;Y=i.jsx(c("PolarisSensitivityOverlay.react"),{analyticsContext:t,asSidecarChild:u,dimensions:M,disableMediaOverlayInfoImpressionLogging:Y!=null?Y(O):!1,isPhoto:!P&&!U,isVisible:A,mediaId:O,mediaOverlayCoverInfo:X,onLoggedMediaOverlayInfoImpression:I,onShowPostClicked:function(){return fa(H)},ownerId:R.id,previewData:Q})}else if(U){if(w===!0)W=!0,X=a;else{a.mediaFooter;I=babelHelpers.objectWithoutPropertiesLoose(a,["mediaFooter"]);X=I}Y=i.jsx(c("PolarisSidecarMedia.react"),babelHelpers["extends"]({},X,{onChildIndexChange:D,sidecarChildren:S}))}else if(P){var Z=g;R=[q];Q=i.createRef();s!=null&&s.tracking_token!=null&&R.push(d("PolarisVideoViewedTimeAction").makeVideoViewTimeAction(a.post,Q,t,s.tracking_token));Y=i.jsx(d("PolarisViewpointReact.react").Viewpoint,{action:[].concat(R,V),id:H.id,children:function(b){return i.jsxs("div",{ref:b,children:[z===!0?i.jsx(c("PolarisEmbedVideo.react"),{className:a.className,isVisible:Z,post:H}):i.jsx(c("PolarisMediaVideo.react"),{adInfo:s,analyticsContext:t,asSidecarChild:u,autoplay:v,className:a.className,firstSidecarChildSrc:x,isVisible:Z,onFinished:F,onLoop:G,post:H,relationship:aa,shouldAutoPlay:r(Z,da),upcomingEventMediaId:y}),ba===!0&&J!=null&&i.jsx(c("PolarisIGCoreToast.react"),{absolutePosition:!0,duration:3e3,onClose:E,wide:!0,children:J})]})}})}else{U={dimensions:M,likeEventCount:k,onPhotoRendered:p,postId:O,src:c("nullthrows")(T),srcSet:ea};var $;L&&L.length>0||N?$=i.jsx(d("PolarisPhotoWithIndicator.react").PhotoWithIndicator,babelHelpers["extends"]({},K,U,{analyticsContext:t,isFocused:e,isVisible:A,upcomingEvent:N,upcomingEventMediaId:y,upcomingEventThumbnailSrc:c("nullthrows")(u===!0?x:T),usertags:L,viewer:ca})):$=i.jsx(c("PolarisPhoto.react"),babelHelpers["extends"]({},K,U,{analyticsContext:t}));w=[].concat(V);I=i.jsx(d("PolarisViewpointReact.react").Viewpoint,{action:w,id:H.id,children:function(a){return i.jsx(c("PolarisPhotoWrapper.react"),{postId:H.id,ref:a,children:$})}});Y=i.jsxs(d("PolarisDoubleTappable").DoubleTappable,{onBlur:o,onDoubleClick:b,onFocus:n,role:"button",children:[I,i.jsx(c("PolarisLikeAnimation.react"),{likeEventCount:k},k)]})}B!=null&&!W&&!C&&(Y=i.jsxs(i.Fragment,{children:[Y,B]}));return Y}a.displayName=a.name+" [from "+f.id+"]";function b(a,b){return a.id!==b.id}e=c("polarisWithRemountOnChange")(b)(a);g["default"]=e}),98);
__d("PolarisSidecarChild.react",["IGDSBox.react","PolarisMedia_DEPRECATED.react","PolarisOrganicImpressionAction","PolarisViewpointReact.react","PolarisVpvdImpressionAction","cr:5000","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var e=i(43),f;if(e[0]!==a){var g=a.index,h=a.media,k=a.mediaWidth;a.onChildIndexChange;var l=a.sidecarChildIndex,m=a.sidecarChildren,n=a.analyticsContext,o=a.isVisible;a.mediaFooter;var p=a.onMediaRendered,q=a.post,r=babelHelpers.objectWithoutPropertiesLoose(a,["index","media","mediaWidth","onChildIndexChange","sidecarChildIndex","sidecarChildren","analyticsContext","isVisible","mediaFooter","onMediaRendered","post"]);g=g;h=h;f=k;k=l;l=m;m=n;n=o;o=p;p=q;q=r;e[0]=a;e[1]=h;e[2]=l;e[3]=k;e[4]=g;e[5]=n;e[6]=q;e[7]=m;e[8]=o;e[9]=f;e[10]=p}else h=e[1],l=e[2],k=e[3],g=e[4],n=e[5],q=e[6],m=e[7],o=e[8],f=e[9],p=e[10];e[11]!==h||e[12]!==l||e[13]!==k||e[14]!==g||e[15]!==n||e[16]!==q||e[17]!==m||e[18]!==o?(r=h.isUpsell===!0&&b("cr:5000")!=null?j.jsx(b("cr:5000"),{upsellSidecarChild:h}):j.jsx(c("PolarisMedia_DEPRECATED.react"),babelHelpers["extends"]({},q,{accessibilityCaption:h.accessibilityCaption,analyticsContext:m,asSidecarChild:!0,firstSidecarChildSrc:l[0].src,isVisible:k===g?n:!1,onMediaRendered:o,post:h})),e[11]=h,e[12]=l,e[13]=k,e[14]=g,e[15]=n,e[16]=q,e[17]=m,e[18]=o,e[19]=r):r=e[19];var s=r;if(g===0){e[20]!==h.id||e[21]!==f||e[22]!==s?(a=j.jsx(c("IGDSBox.react"),{position:"relative",width:f,children:s},h.id),e[20]=h.id,e[21]=f,e[22]=s,e[23]=a):a=e[23];return a}e[24]!==h||e[25]!==m?(k=d("PolarisOrganicImpressionAction").makeCarouselImpressionAction(h,m),e[24]=h,e[25]=m,e[26]=k):k=e[26];n=l[0];e[27]!==h||e[28]!==n||e[29]!==g||e[30]!==p.id||e[31]!==m?(q=d("PolarisVpvdImpressionAction").makeCarouselVpvdImpressionAction(h,n,g,p.id,m),e[27]=h,e[28]=n,e[29]=g,e[30]=p.id,e[31]=m,e[32]=q):q=e[32];e[33]!==k||e[34]!==q?(o=[k,q],e[33]=k,e[34]=q,e[35]=o):o=e[35];e[36]!==f||e[37]!==s?(r=function(a){return j.jsx(c("IGDSBox.react"),{containerRef:a,position:"relative",width:f,children:s})},e[36]=f,e[37]=s,e[38]=r):r=e[38];e[39]!==o||e[40]!==h.id||e[41]!==r?(a=j.jsx(d("PolarisViewpointReact.react").Viewpoint,{action:o,id:h.id,children:r},h.id),e[39]=o,e[40]=h.id,e[41]=r,e[42]=a):a=e[42];return a}g["default"]=a}),98);
__d("usePolarisSidecarMediaOrUpsell",["PolarisConfig","PolarisUA","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).c,j=4,k=2;function a(a){var b=i(3),c=a.post;a=a.sidecarChildren;if(d("PolarisConfig").isLoggedIn()||d("PolarisUA").isDesktop()||a.some(l)||c.dimensions===null||c.owner===null)return a;var e;if(b[0]!==a||b[1]!==c){e=[].concat(a);var f=e.length>=j?k:null;if(f!=null&&e[f-1].mediaPreview!=null){var g={dimensions:c.dimensions,id:"",isUpsell:!0,isVideo:!1,mediaPreview:e[f-1].mediaPreview,owner:c.owner,src:""};e.splice(f,0,g)}b[0]=a;b[1]=c;b[2]=e}else e=b[2];return e}function l(a){return a.mediaOverlayInfo!=null}g["default"]=a}),98);
__d("PolarisSidecarMedia.react",["PolarisSidecarChild.react","PolarisSidecar_DEPRECATED.react","qex","react","usePolarisSidecarMediaOrUpsell"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.c;function a(a){var b=j(23),e,f,g,h;b[0]!==a?(g=a.sidecarChildren,h=a.initialCarouselIndex,f=a.post,e=babelHelpers.objectWithoutPropertiesLoose(a,["sidecarChildren","initialCarouselIndex","post"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h):(e=b[1],f=b[2],g=b[3],h=b[4]);b[5]!==e.onChildIndexChange?(a=function(a,b,c){return[e.onChildIndexChange].filter(Boolean).forEach(function(d){return d(a,b,c)})},b[5]=e.onChildIndexChange,b[6]=a):a=b[6];a=a;var l;b[7]!==f||b[8]!==g?(l={post:f,sidecarChildren:g},b[7]=f,b[8]=g,b[9]=l):l=b[9];var m=c("usePolarisSidecarMediaOrUpsell")(l);b[10]!==m||b[11]!==f||b[12]!==e?(g=function(a,b){return m.map(function(d,g){return i.jsx(c("PolarisSidecarChild.react"),babelHelpers["extends"]({index:g,media:d,mediaWidth:a,post:f,sidecarChildIndex:b,sidecarChildren:m},e),g)})},b[10]=m,b[11]=f,b[12]=e,b[13]=g):g=b[13];l=g;b[14]!==m?(g=m.map(k).filter(Boolean),b[14]=m,b[15]=g):g=b[15];g=g;var n;b[16]!==g||b[17]!==h||b[18]!==e.mediaFooter||b[19]!==m.length||b[20]!==a||b[21]!==l?(n=i.jsx(d("PolarisSidecar_DEPRECATED.react").Sidecar,{dimensions:g,hoverTriggeredPager:c("qex")._("6")===!0,initialCarouselIndex:h,mediaFooter:e.mediaFooter,numSidecarChildren:m.length,onChildIndexChange:a,renderSidecarChildren:l}),b[16]=g,b[17]=h,b[18]=e.mediaFooter,b[19]=m.length,b[20]=a,b[21]=l,b[22]=n):n=b[22];g=n;return g}function k(a){a=a.dimensions;return a}g["default"]=a}),98);
__d("PolarisMediaContainer.react",["PolarisMedia_DEPRECATED.react","PolarisReactRedux.react","polarisPostSelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");function a(a,b){return{onMediaRendered:d("polarisPostSelectors").getOnMediaRendered(a,b.onPostMediaRendered)}}function b(a,b){return{onSidecarChildIndexChange:function(a,c,d){a=b.onPostSidecarChildIndexChange;a&&a(c)}}}function e(a,b,c){c.onPostMediaRendered;c.onPostSidecarChildIndexChange;c=babelHelpers.objectWithoutPropertiesLoose(c,["onPostMediaRendered","onPostSidecarChildIndexChange"]);return babelHelpers["extends"]({},c,a,b)}f=d("PolarisReactRedux.react").connect(a,b,e)(c("PolarisMedia_DEPRECATED.react"));g["default"]=f}),98);
__d("PolarisPostActionLikePost",["PolarisAPILikePost","PolarisAdsEngagementLogger","PolarisEngagementLogger","PolarisGenericStrings","PolarisSentryFeedbackActions","PolarisToastActions","QPLUserFlow","polarisLogAction","qpl"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,e){return function(f){c("polarisLogAction")("likeAttempt",b);c("QPLUserFlow").start(c("qpl")._(379204822,"720"),{annotations:{string:{source:b==null?void 0:b.source}}});f({postId:a,type:"LIKE_POST_REQUESTED"});return d("PolarisAPILikePost").likePost(a).then(function(){e!=null?d("PolarisAdsEngagementLogger").logAdLike(b,e):d("PolarisEngagementLogger").logOrganicLike(b),c("QPLUserFlow").endSuccess(c("qpl")._(379204822,"720")),f({postId:a,type:"LIKE_POST_SUCCEEDED"})},function(e){var g;c("polarisLogAction")("likeFailure",b);c("QPLUserFlow").endFailure(c("qpl")._(379204822,"720"),"request_failed");g=((g=e.responseObject)==null?void 0:g.spam)||!1;if(g){var i,j,k,l;g=(g=e.responseObject)==null?void 0:g.feedback_title;i=(i=e.responseObject)==null?void 0:i.feedback_message;j=(j=e.responseObject)==null?void 0:j.feedback_url;k=(k=e.responseObject)==null?void 0:k.feedback_action;l=(l=e.responseObject)==null?void 0:l.feedback_appeal_label;e=(e=e.responseObject)==null?void 0:e.restriction_enrollment_data;f(d("PolarisSentryFeedbackActions").showSentryFeedback({action:k,feedback_appeal_label:l,message:i,restriction_enrollment_data:e,source:b.source,sourceOfAction:"like_post",title:g,url:j}))}f({postId:a,type:"LIKE_POST_FAILED"});f(d("PolarisToastActions").showToast({actionHandler:function(){return f(h(a,b))},actionText:d("PolarisGenericStrings").RETRY_TEXT,text:d("PolarisGenericStrings").GENERIC_ERROR_MESSAGE}))})}}g.likePost=h}),98);
__d("PolarisPostActionRemovePostFromCollection",["InstagramODS","PolarisAPIEditCollection"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.collectionId,e=a.postId;return function(a){a({collectionId:b,postId:e,type:"REMOVE_POST_FROM_COLLECTION_REQUESTED"});c("InstagramODS").incr("web.unsaveFromCollection.attempt");return d("PolarisAPIEditCollection").editCollection({collectionId:b,postIdsToRemove:[e]}).then(function(){a({collectionId:b,postId:e,type:"REMOVE_POST_FROM_COLLECTION_SUCCEEDED"}),c("InstagramODS").incr("web.unsaveFromCollection.success")})["catch"](function(){a({collectionId:b,postId:e,type:"REMOVE_POST_FROM_COLLECTION_FAILED"}),c("InstagramODS").incr("web.unsaveFromCollection.failure")})}}g.removePostFromCollection=a}),98);
__d("PolarisPostActionSavePost",["PolarisAPISavePost","PolarisAdsEngagementLogger","polarisLogAction"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){return function(f){c("polarisLogAction")("saveAttempt",b);f({postId:a,type:"SAVE_POST_REQUESTED"});return d("PolarisAPISavePost").savePost(a).then(function(){c("polarisLogAction")("saveSuccess",b),f({postId:a,type:"SAVE_POST_SUCCEEDED"}),e!=null&&d("PolarisAdsEngagementLogger").logAdSave(e)},function(){c("polarisLogAction")("saveFailure",b),f({postId:a,type:"SAVE_POST_FAILED"})})}}g.savePost=a}),98);
__d("PolarisPostActionUnlikePost",["PolarisAPIUnlikePost","PolarisAdsEngagementLogger","PolarisEngagementLogger","PolarisGenericStrings","PolarisSentryFeedbackActions","PolarisToastActions","QPLUserFlow","polarisLogAction","qpl"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,e){return function(f){c("polarisLogAction")("unlikeAttempt",b);c("QPLUserFlow").start(c("qpl")._(379198902,"749"),{annotations:{string:{source:b==null?void 0:b.source}}});f({postId:a,type:"UNLIKE_POST_REQUESTED"});return d("PolarisAPIUnlikePost").unlikePost(a).then(function(){e!=null?d("PolarisAdsEngagementLogger").logAdUnlike(b,e):d("PolarisEngagementLogger").logOrganicUnlike(b),c("QPLUserFlow").endSuccess(c("qpl")._(379198902,"749")),f({postId:a,type:"UNLIKE_POST_SUCCEEDED"})},function(e){var g;g=((g=e.responseObject)==null?void 0:g.spam)||!1;if(g){var i,j,k,l;g=(g=e.responseObject)==null?void 0:g.feedback_title;i=(i=e.responseObject)==null?void 0:i.feedback_message;j=(j=e.responseObject)==null?void 0:j.feedback_url;k=(k=e.responseObject)==null?void 0:k.feedback_action;l=(l=e.responseObject)==null?void 0:l.feedback_appeal_label;e=(e=e.responseObject)==null?void 0:e.restriction_enrollment_data;f(d("PolarisSentryFeedbackActions").showSentryFeedback({action:k,feedback_appeal_label:l,message:i,restriction_enrollment_data:e,source:b.source,sourceOfAction:"unlike_post",title:g,url:j}))}c("polarisLogAction")("unlikeFailure",b);c("QPLUserFlow").endFailure(c("qpl")._(379198902,"749"),"request_failed");f({postId:a,type:"UNLIKE_POST_FAILED"});f(d("PolarisToastActions").showToast({actionHandler:function(){return f(h(a,b))},actionText:d("PolarisGenericStrings").RETRY_TEXT,text:d("PolarisGenericStrings").GENERIC_ERROR_MESSAGE}))})}}g.unlikePost=h}),98);
__d("PolarisPostActionUnsavePost",["PolarisAPIUnsavePost","PolarisAdsEngagementLogger","polarisLogAction"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){return function(f){c("polarisLogAction")("unsaveAttempt",b);f({postId:a,type:"UNSAVE_POST_REQUESTED"});return d("PolarisAPIUnsavePost").unsavePost(a).then(function(){c("polarisLogAction")("unsaveSuccess",b),f({postId:a,type:"UNSAVE_POST_SUCCEEDED"}),e!=null&&d("PolarisAdsEngagementLogger").logAdUnsave(e)},function(){c("polarisLogAction")("unsaveFailure",b),f({postId:a,type:"UNSAVE_POST_FAILED"})})}}g.unsavePost=a}),98);
__d("PolarisPostCoauthorReviewOverlayFooterCTA.react",["fbt","FBLogger","IGDSBox.react","IGDSButton.react","IGDSText.react","JSResourceForInteraction","PolarisConfig","PolarisUserHoverCard.react","PolarisUserLink.react","err","gkx","polarisGetPostFromGraphMediaInterface","react","useIGDSLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.c,l=c("JSResourceForInteraction")("PolarisCoauthorReviewDialog.react").__setRef("PolarisPostCoauthorReviewOverlayFooterCTA.react");function a(a){var b,e=k(22),f=a.invitedCoauthorProducers,g=a.mediaId,i=a.mediaShortcode,m=a.productType,n=a.user;a=c("useIGDSLazyDialog")(l);var o=a[0];e[0]!==o||e[1]!==g||e[2]!==i||e[3]!==m||e[4]!==n?(a=function(){var a;o({mediaId:(a=g)!=null?a:"",mediaShortcode:(a=i)!=null?a:"",productType:m,username:(a=n==null?void 0:n.username)!=null?a:""})},e[0]=o,e[1]=g,e[2]=i,e[3]=m,e[4]=n,e[5]=a):a=e[5];a=a;if(n==null||n.username==null||g==null){var p=c("err")("PolarisPostCoauthorReviewOverlayFooterCTA requires a post user");c("FBLogger")("ig_web").catching(p);return null}var q=d("PolarisConfig").getViewerIdOrZero();p=f!=null&&f.some(function(a){return(a==null?void 0:a.id)===q});if(!p)return null;f=!n.isUnpublished;p=(p=n==null?void 0:n.username)!=null?p:"";b=(b=n==null?void 0:n.username)!=null?b:"";var r;e[6]!==b?(r=j.jsx(c("PolarisUserLink.react"),{username:b}),e[6]=b,e[7]=r):r=e[7];e[8]!==f||e[9]!==n.id||e[10]!==p||e[11]!==r?(b=j.jsx(c("PolarisUserHoverCard.react"),{display:"inline-block",isUserAvailable:f,userId:n.id,username:p,children:r}),e[8]=f,e[9]=n.id,e[10]=p,e[11]=r,e[12]=b):b=e[12];f=b;e[13]!==f?(p=h._("__JHASH__zobFUCqiyEo__JHASH__",[h._param("media_owner_username",f)]),e[13]=f,e[14]=p):p=e[14];r=p;e[15]!==f?(b=h._("__JHASH__8prry3BHUcp__JHASH__",[h._param("media_owner_username",f)]),e[15]=f,e[16]=b):b=e[16];p=b;e[17]!==m||e[18]!==p||e[19]!==r||e[20]!==a?(f=c("gkx")("4757")?j.jsxs(c("IGDSBox.react"),{alignItems:"center",color:"primaryBackground",direction:"row",justifyContent:"between",paddingX:3,paddingY:2,position:"relative",children:[j.jsx(c("IGDSBox.react"),{flex:"shrink",marginEnd:5,marginStart:1,maxWidth:350,overflow:"auto",wrap:!0,children:j.jsx(c("IGDSText.react").Body,{color:"primaryText",maxLines:3,zeroMargin:!0,children:m===d("polarisGetPostFromGraphMediaInterface").PRODUCT_TYPE_CLIPS?p:r})}),j.jsx(c("IGDSBox.react"),{flex:"shrink",marginEnd:1,children:j.jsx(c("IGDSButton.react"),{display:"inline",label:h._("__JHASH__NhLz7AVpjs2__JHASH__"),onClick:a,variant:"tertiary"})})]}):null,e[17]=m,e[18]=p,e[19]=r,e[20]=a,e[21]=f):f=e[21];return f}g["default"]=a}),226);
__d("PolarisPostCommentInputPicker.react",["CometPlaceholder.react","PolarisUA","deferredLoadComponent","react","requireDeferredForDisplay","stylex","usePolarisIsOnAdsActivityPage","usePolarisIsOnFeedPage"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i,l=c("deferredLoadComponent")(c("requireDeferredForDisplay")("PolarisPostCommentInput.react").__setRef("PolarisPostCommentInputPicker.react")),m={familiarFeedPlaceholder:{alignItems:"x1qjc9v5",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexShrink:"x2lah0s",height:"x1d6elog",$$css:!0},placeholder:{alignItems:"x1qjc9v5",borderTopColor:"x5ur3kl",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexShrink:"x2lah0s",height:"xnnlda6",marginTop:"x1gslohp",position:"x1n2onr6",$$css:!0}};b=k.forwardRef(a);function a(a,b){var e=j(12),f;e[0]!==a?(f=babelHelpers["extends"]({},a),e[0]=a,e[1]=f):f=e[1];a=c("usePolarisIsOnFeedPage")();var g=c("usePolarisIsOnAdsActivityPage")();a=(a||g)&&f.inModal!==!0&&d("PolarisUA").isDesktop();g=a?m.familiarFeedPlaceholder:m.placeholder;e[2]!==g?(a=(h||(h=c("stylex")))(g),e[2]=g,e[3]=a):a=e[3];e[4]!==a?(g=k.jsx("div",{className:a}),e[4]=a,e[5]=g):g=e[5];e[6]!==f||e[7]!==b?(a=k.jsx(l,babelHelpers["extends"]({},f,{ref:b})),e[6]=f,e[7]=b,e[8]=a):a=e[8];e[9]!==g||e[10]!==a?(f=k.jsx(c("CometPlaceholder.react"),{fallback:g,name:"PostCommentInputPicker",children:a}),e[9]=g,e[10]=a,e[11]=f):f=e[11];return f}e=b;g["default"]=e}),98);
__d("PolarisPostModalRenderingContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||(h=d("react"));var i=h.useContext,j=b.createContext({isInModal:!1});function a(){return i(j)}g.PolarisPostModalRenderingContext=j;g.usePolarisPostModalRenderingContext=a}),98);
__d("PolarisPostFeatures.react",["FBLogger","PolarisPostConstants","PolarisPostModalRenderingContext.react","PolarisPostVariants","PolarisReactRedux.react","PolarisRelationshipTypes","PolarisUA","polarisRelationshipSelectors.react","react","usePolarisDisplayProperties","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).c,j=[{overrides:{threeLineHeaderEnabled:!0},predicate:"isThreeLineHeaderEnabled"},{overrides:{avatarSize:d("PolarisPostConstants").AVATAR_SIZE_SMALL,commentsAreStacked:!0},predicate:"isFeed"},{overrides:{avatarSize:d("PolarisPostConstants").AVATAR_SIZE_SMALL,commentsAreStacked:!0},predicate:"isWidePhotoOnMediumScreen"},{overrides:{avatarSize:d("PolarisPostConstants").AVATAR_SIZE_SMALL,hasThreadedSidebarComments:!0,showPostButton:!0},predicate:"isRichCommentsEnabled"},{overrides:{avatarSize:d("PolarisPostConstants").AVATAR_SIZE_SMALL,commentsAreStacked:!0,hasThreadedSidebarComments:!1,showPostButton:!0},predicate:"isStackedScreenSize"},{overrides:{hasPhotosOfYouOption:!0},predicate:"isViewerInUserTags"},{overrides:{showFollowButton:!1},predicate:"isFeedAndOwnerFollowedByViewer"},{overrides:{showFollowButton:!1},predicate:"isModalAndOwnerFollowedByViewer"},{overrides:{canViewerProvideFeedback:!1},predicate:"isOwnerPrivate"},{overrides:{canViewerProvideFeedback:!0},predicate:"isOwnerFollowedByViewer"},{overrides:{canViewerProvideFeedback:!0,showFollowButton:!1},predicate:"isOwnerTheViewer"},{overrides:{showFollowButton:!1},predicate:"isOwnerUnpublished"},{overrides:{showFollowButton:!1},predicate:"isBlocked"},{overrides:{showFollowButton:!1},predicate:"hasFollowHashtagInfo"},{overrides:{canViewerProvideFeedback:!1},predicate:"isLoggedOut"}],k={avatarSize:d("PolarisPostConstants").AVATAR_SIZE_LARGE,canViewerProvideFeedback:!0,commentsAreStacked:!1,hasPhotosOfYouOption:!1,hasThreadedSidebarComments:!1,showFollowButton:!0,showPostButton:!1,threeLineHeaderEnabled:!1};function l(a){var b=a.isInModal,c=a.owner,e=a.post,f=a.relationship,g=a.variant,h=a.viewer;a=a.viewportWidth;g=g===d("PolarisPostVariants").VARIANTS.feed;var i=Boolean(h),j=!h,k=(h==null?void 0:h.id)===c.id,l=f.followedByViewer.state===d("PolarisRelationshipTypes").FOLLOW_STATUS_FOLLOWING,m=Boolean(e.followHashtagInfo),n=Boolean(e.location)&&(e.sponsors||[]).length>0;return{hasFollowHashtagInfo:m,isBlocked:f.hasBlockedViewer.state===d("PolarisRelationshipTypes").BLOCK_STATUS_BLOCKED,isFavorited:((m=f.favoritedByViewer)==null?void 0:m.state)===d("PolarisRelationshipTypes").FAVORITE_STATUS_FAVORITED,isFeed:g,isFeedAndOwnerFollowedByViewer:g&&l,isLoggedIn:i,isLoggedOut:j,isModalAndOwnerFollowedByViewer:b&&l,isOwnerFollowedByViewer:l,isOwnerPrivate:Boolean(c.isPrivate),isOwnerTheViewer:k,isOwnerUnpublished:Boolean(c.isUnpublished),isRichCommentsEnabled:!0,isSidecar:(e.sidecarChildren||[]).length>0,isStackedScreenSize:a<d("PolarisPostConstants").SIDEBAR_VARIANT_CUTOFF,isThreeLineHeaderEnabled:n,isViewerInUserTags:i&&(e.usertags||[]).some(function(a){return a.user.id===(h==null?void 0:h.id)}),isWidePhotoOnMediumScreen:Boolean(e.dimensions&&e.dimensions.width/e.dimensions.height>1.5&&a>d("PolarisPostConstants").SIDEBAR_VARIANT_CUTOFF&&a<=d("PolarisPostConstants").MEDIUM_SCREEN_MAX)}}function m(a){var b=l(a);a=b.isBlocked;var d=b.isFavorited,e=b.isLoggedIn,f=b.isSidecar,g=b.isStackedScreenSize;return babelHelpers["extends"]({isBlocked:a,isFavorited:d,isLoggedIn:e,isSidecar:f,isStackedScreenSize:g},j.filter(function(a){a=a.predicate;var d=b[a];if(typeof d!=="boolean")throw c("FBLogger")("instagram_web").mustfixThrow("Could not find predicate %s",a);return d}).reduce(function(a,b){b=b.overrides;return babelHelpers["extends"]({},a,b)},k))}function a(a){var b=i(12),e=a.owner,f=a.path,g=a.post;a=a.variant;var h;b[0]!==e.id?(h=function(a){return d("polarisRelationshipSelectors.react").getRelationship(a.relationships,e.id)},b[0]=e.id,b[1]=h):h=b[1];h=d("PolarisReactRedux.react").useSelector(h);var j=c("usePolarisViewer")(),k=c("usePolarisDisplayProperties")(),l=k.viewportHeight;k=k.viewportWidth;var n=d("PolarisPostModalRenderingContext.react").usePolarisPostModalRenderingContext();n=n.isInModal;if(b[2]!==n||b[3]!==e||b[4]!==f||b[5]!==g||b[6]!==h||b[7]!==a||b[8]!==j||b[9]!==l||b[10]!==k){var o={isInModal:n,isMobile:d("PolarisUA").isMobile(),owner:e,path:f,post:g,relationship:h,variant:a,viewer:j,viewportHeight:l,viewportWidth:k};o=m(o);b[2]=n;b[3]=e;b[4]=f;b[5]=g;b[6]=h;b[7]=a;b[8]=j;b[9]=l;b[10]=k;b[11]=o}else o=b[11];return o}g.getPostFeatures=m;g.usePolarisPostFeatures=a}),98);
__d("PolarisPostFastShareButton.react",["CometPlaceholder.react","IGDContactSearchDialogType.flow","IGDSDirectPanoOutlineIcon.react","IGDSecureShareSheetDialogPlaceholder.react","JSResourceForInteraction","PolarisConfig","PolarisIGCoreSVGIconButton.react","PolarisPostModalContext.react","PolarisPostStrings","PolarisPostTypeUtils","QPLUserFlow","lazyLoadComponent","polarisLogAction","qpl","react","useIGDSLazyDialog","useIGDSecureShareSheetInteractionLogger","useIGDShareSheetOnSubmitPost","usePolarisPost","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;b.useMemo;var j=b.useState,k=b.c,l=c("JSResourceForInteraction")("IGDSecureShareSheetDialog.react").__setRef("PolarisPostFastShareButton.react"),m=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGWebBloksApp").__setRef("PolarisPostFastShareButton.react"));function a(a){var b=k(37),e=a.analyticsContext,f=a["data-testid"],g=a.mediaId,h=a.mediaOverlayInfo,p=a.postId,q=a.sharingFrictionInfo,r=d("usePolarisPost").usePost(p,o),s=d("PolarisPostModalContext.react").useSetPostModal();a=c("useIGDSLazyDialog")(l,n);var t=a[0];p=a[1];a=j(!1);var u=a[0],v=a[1],w=(q==null?void 0:q.bloksAppUrl)!=null&&(q==null?void 0:q.shouldHaveSharingFriction)===!0;a=h!=null?h:r.mediaOverlayInfo;b[0]!==r||b[1]!==a?(h=babelHelpers["extends"]({},r,{mediaOverlayInfo:a}),b[0]=r,b[1]=a,b[2]=h):h=b[2];a=h;var x=a,y=c("useIGDShareSheetOnSubmitPost")(x),z=d("useIGDSecureShareSheetInteractionLogger").useLogShareSheetInteraction();b[3]!==e||b[4]!==r||b[5]!==w||b[6]!==s||b[7]!==z||b[8]!==t||b[9]!==y||b[10]!==x?(h=function(){c("polarisLogAction")("shareClick",{source:e,type:d("PolarisPostTypeUtils").getPostType(r)});c("QPLUserFlow").start(c("qpl")._(379205139,"1723"),{annotations:{string:{source:e}}});if(!w)if(!d("PolarisConfig").isLoggedIn())s("share");else{var a=c("uuidv4")();z("igd_sharesheet_open",{flowInstanceId:a,shareType:d("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.SHARESHEET,source:e});t({flowInstanceId:a,onSubmit:y,post:x})}else v(!0)},b[3]=e,b[4]=r,b[5]=w,b[6]=s,b[7]=z,b[8]=t,b[9]=y,b[10]=x,b[11]=h):h=b[11];a=h;b[12]!==g||b[13]!==e?(h={media_id:g,module:e},b[12]=g,b[13]=e,b[14]=h):h=b[14];h=h;var A=h;b[15]!==w||b[16]!==u||b[17]!==q||b[18]!==z||b[19]!==e||b[20]!==t||b[21]!==y||b[22]!==x||b[23]!==g||b[24]!==A?(h=function(){return!w?null:u&&(q==null?void 0:q.bloksAppUrl)!=null&&i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(m,{appId:q==null?void 0:q.bloksAppUrl,bridgeOverrides_DEPRECATED:{onOpenShareSheetClick:function(){v(!1);var a=c("uuidv4")();z("igd_sharesheet_open",{flowInstanceId:a,shareType:d("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.SHARESHEET,source:e});t({flowInstanceId:a,onSubmit:y,post:x})},onResumeStoryPlayback:function(){v(!1)}},params:A},g)})},b[15]=w,b[16]=u,b[17]=q,b[18]=z,b[19]=e,b[20]=t,b[21]=y,b[22]=x,b[23]=g,b[24]=A,b[25]=h):h=b[25];h=h;var B;b[26]===Symbol["for"]("react.memo_cache_sentinel")?(B=i.jsx(c("IGDSDirectPanoOutlineIcon.react"),{alt:d("PolarisPostStrings").SHARE_TEXT,color:"ig-secondary-text",size:24}),b[26]=B):B=b[26];var C;b[27]===Symbol["for"]("react.memo_cache_sentinel")?(C=i.jsx(c("IGDSDirectPanoOutlineIcon.react"),{alt:d("PolarisPostStrings").SHARE_TEXT,color:"ig-primary-text",size:24}),b[27]=C):C=b[27];b[28]!==f||b[29]!==a||b[30]!==p?(B=i.jsx(c("PolarisIGCoreSVGIconButton.react"),{"data-testid":void 0,hover:B,onClick:a,ref:p,children:C}),b[28]=f,b[29]=a,b[30]=p,b[31]=B):B=b[31];b[32]!==h?(C=h(),b[32]=h,b[33]=C):C=b[33];b[34]!==B||b[35]!==C?(f=i.jsxs(i.Fragment,{children:[B,C]}),b[34]=B,b[35]=C,b[36]=f):f=b[36];return f}function n(a){return i.jsx(c("IGDSecureShareSheetDialogPlaceholder.react"),{onClose:a})}n.displayName=n.name+" [from "+f.id+"]";function o(a){return a}g["default"]=a}),98);
__d("PolarisSaveButton.react",["IGDSIconButton.react","IGDSSavePanoFilledIcon.react","IGDSSavePanoOutlineIcon.react","JSResourceForInteraction","PolarisIGCoreAnchoredPopover.react","PolarisIGCorePressable.react","PolarisPostStrings","PolarisReactRedux.react","PolarisSavedCollectionPicker.react","PolarisSavedPostsActionRequestNextSavedCollections","PolarisUA","nullthrows","polarisSavedPostsSelectors","react","useIGDSLazyDialog","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useState,k=b.c,l=24,m=-16,n=5;function a(a){var b=k(40),e=a.analyticsContext,f=a.collectionsPostSavedTo,g=a["data-testid"],h=a.isSaved,p=a.onSaveMedia,q=a.onSaveMediaToCollection,r=a.onShowToast,s=a.postId,t=a.thumbnailSrcSet,u=d("PolarisReactRedux.react").useDispatch(),v=c("usePolarisViewer")(),w=!v;b[0]!==w||b[1]!==v?(a=function(a){if(w)return null;var b=c("nullthrows")(v);return d("polarisSavedPostsSelectors").getAllSavedCollectionsForUser(a,c("nullthrows")(b.id))},b[0]=w,b[1]=v,b[2]=a):a=b[2];var x=d("PolarisReactRedux.react").useSelector(a);b[3]!==w||b[4]!==v?(a=function(a){if(w)return null;var b=c("nullthrows")(v);return d("polarisSavedPostsSelectors").getSavedCollectionsPaginationForUser(a,c("nullthrows")(b.id))},b[3]=w,b[4]=v,b[5]=a):a=b[5];var y=d("PolarisReactRedux.react").useSelector(a);b[6]!==x||b[7]!==y?(a=function(){if(x==null||y==null)return!1;return x.length>=n?!0:!y.moreAvailable&&x.length>1},b[6]=x,b[7]=y,b[8]=a):a=b[8];var z=a;b[9]!==w?(a=!w&&d("PolarisUA").isDesktop(),b[9]=w,b[10]=a):a=b[10];a=a;var A=z()&&a,B=function(a){a.preventDefault(),p(!h),!h===!0&&A&&(r!=null&&r(),F(!0))},C=function(){if(!w&&!z()&&!c("nullthrows")(y).isFetching){var a=c("nullthrows")(v);u(d("PolarisSavedPostsActionRequestNextSavedCollections").requestInitialSavedCollections(c("nullthrows")(a.id)))}F(!1)},D=j(!1),E=D[0];D=D[1];var F=D;b[11]===Symbol["for"]("react.memo_cache_sentinel")?(D=c("JSResourceForInteraction")("PolarisCreateCollectionWithPostModal.react").__setRef("PolarisSaveButton.react"),b[11]=D):D=b[11];D=c("useIGDSLazyDialog")(D);var G=D[0];b[12]!==A||b[13]!==F||b[14]!==G||b[15]!==p||b[16]!==s||b[17]!==e||b[18]!==t||b[19]!==f||b[20]!==E||b[21]!==q||b[22]!==h?(D=A?i.jsx(c("PolarisSavedCollectionPicker.react"),{collectionsPostSavedTo:f,hidePopover:E,onSaveMedia:p,onSaveMediaToCollection:q,postId:s,postIsSaved:h,setHidePopover:F,setShowCreateCollectionModal:function(){return G({onSaveChange:p,postId:s,source:e,srcSet:t})}}):null,b[12]=A,b[13]=F,b[14]=G,b[15]=p,b[16]=s,b[17]=e,b[18]=t,b[19]=f,b[20]=E,b[21]=q,b[22]=h,b[23]=D):D=b[23];b[24]!==h||b[25]!==a?(f=h||!a?null:i.jsx(c("IGDSSavePanoOutlineIcon.react"),{alt:d("PolarisPostStrings").SAVE_TEXT,color:"ig-secondary-text",size:l}),b[24]=h,b[25]=a,b[26]=f):f=b[26];b[27]!==h?(E=h?i.jsx(c("IGDSSavePanoFilledIcon.react"),{alt:d("PolarisPostStrings").UNSAVE_TEXT,color:"ig-primary-text",size:l}):i.jsx(c("IGDSSavePanoOutlineIcon.react"),{alt:d("PolarisPostStrings").SAVE_TEXT,color:"ig-primary-text",size:l}),b[27]=h,b[28]=E):E=b[28];b[29]!==g||b[30]!==f||b[31]!==B||b[32]!==E?(q=i.jsx(c("IGDSIconButton.react"),{"data-testid":void 0,hover:f,onClick:B,padding:8,children:E}),b[29]=g,b[30]=f,b[31]=B,b[32]=E,b[33]=q):q=b[33];b[34]!==C||b[35]!==q?(a=i.jsx(c("PolarisIGCorePressable.react"),{onMouseEnter:C,onPress:o,children:q}),b[34]=C,b[35]=q,b[36]=a):a=b[36];b[37]!==D||b[38]!==a?(g=i.jsx(c("PolarisIGCoreAnchoredPopover.react"),{content:D,offsetTop:m,preferredPositionX:"center",preferredPositionY:"top",showOnHover:!0,children:a}),b[37]=D,b[38]=a,b[39]=g):g=b[39];return g}function o(){}g["default"]=a}),98);
__d("usePolarisMediaSaveToCollectionReduxHandler",["PolarisPostActionAddPostToCollection","PolarisPostActionRemovePostFromCollection","PolarisReactRedux.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.c;function a(a){var b=i(3),c=d("PolarisReactRedux.react").useDispatch(),e;b[0]!==c||b[1]!==a?(e=function(b,e){b?c(d("PolarisPostActionRemovePostFromCollection").removePostFromCollection({collectionId:e,postId:a})):c(d("PolarisPostActionAddPostToCollection").addPostToCollection({collectionId:e,postIds:[a]}))},b[0]=c,b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),98);
__d("PolarisPostFeedbackControls_DEPRECATED.react",["IGRouter_DO_NOT_USE.react","PolarisCommentButton.react","PolarisConfig","PolarisFeedActionOpenPostModalForId","PolarisInFeedPostModalContext","PolarisInteractionsLogger","PolarisLikeButton.react","PolarisPostFastShareButton.react","PolarisPostVariants","PolarisReactRedux.react","PolarisSaveButton.react","PolarisSponsoredPostContext.react","PolarisTrackingConstants","PolarisUA","XPolarisMobileAllCommentsControllerRouteBuilder","logPolarisPostModalOpen","polarisLogAction","polarisPostSelectors","react","react-forget-runtime","stylex","usePolarisMediaSaveToCollectionReduxHandler","usePolarisNavigateToLogin","usePolarisPostShowSavedToastHandler","usePolarisSelector"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useContext,l=b.c,m={commentButton:{display:"x1rg5ohu",$$css:!0},commentButtonLeftAligned:{marginEnd:"x1emribx",order:"x182iqb8",$$css:!0},likeButton:{display:"x1rg5ohu",marginStart:"xp7jhwk",$$css:!0},likeButtonLeftAligned:{marginEnd:"x1emribx",order:"x9ek82g",$$css:!0},root:{display:"x78zum5",flexDirection:"x1q0g3np",marginTop:"x1gslohp",$$css:!0},saveButton:{borderTopWidth:"x972fbf",borderEndWidth:"xcfux6l",borderBottomWidth:"x1qhh985",borderStartWidth:"xm0m39n",display:"x1rg5ohu",font:"xln7xf2",fontSize:"xk390pu",marginTop:"xdj266r",marginBottom:"xat24cr",marginEnd:"x1sre0sj",marginStart:"x1gryazu",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",verticalAlign:"x11njtxf",$$css:!0},saveButtonLeftAligned:{marginEnd:"x1emribx",marginStart:"x1mh8g0r",order:"xo1ph6p",$$css:!0},shareButton:{display:"x1rg5ohu",$$css:!0},shareButtonLeftAligned:{marginEnd:"x1emribx",order:"x14yy4lh",$$css:!0}};function a(a){var b=l(70),e=a.analyticsContext,f=a.canViewerProvideFeedback,g=a.canViewerReshare,i=a.code,o=a.commentsDisabled,p=a.containerRef,q=a.customAlignment,r=a.hideShareButton,s=a.isBlocked,t=a.isSidecar,u=a.isVideo,v=a.likedByViewer,w=a.mediaId,x=a.onCommentClick,y=a.onLikeChange,z=a.onSaveChange,A=a.ownerIsPrivate,B=a.ownerUsername,C=a.postId,D=a.savedByViewer,E=a.sharingFrictionInfo,F=a.variant,G=a.xstyle,H=a.history,I=d("PolarisReactRedux.react").useDispatch();b[0]!==C?(a=function(a){return d("polarisPostSelectors").getPostById(a,C)},b[0]=C,b[1]=a):a=b[1];a=c("usePolarisSelector")(a);var J;b[2]!==C?(J=function(a){return d("polarisPostSelectors").getSavedCollectionsForPost(a,C)},b[2]=C,b[3]=J):J=b[3];J=c("usePolarisSelector")(J);var K=c("usePolarisPostShowSavedToastHandler")(),L=d("react-forget-runtime").useContextWithBailoutExperiment__unstable(d("PolarisSponsoredPostContext.react").PolarisSponsoredPostContext,n),M=L.canUserSeePersistentCta,N=k(d("PolarisInFeedPostModalContext").InFeedPostModalContext),O=c("usePolarisNavigateToLogin")(i,B);b[4]!==y||b[5]!==e||b[6]!==O?(L=function(a){d("PolarisConfig").isLoggedIn()?y(a,"button"):(c("polarisLogAction")("likeAttempt",{source:e}),O("like"))},b[4]=y,b[5]=e,b[6]=O,b[7]=L):L=b[7];B=L;b[8]!==z||b[9]!==e||b[10]!==O?(L=function(a){d("PolarisConfig").isLoggedIn()?z(a):(c("polarisLogAction")("saveAttempt",{source:e}),O("save"))},b[8]=z,b[9]=e,b[10]=O,b[11]=L):L=b[11];L=L;var P=c("usePolarisMediaSaveToCollectionReduxHandler")(C),Q;b[12]!==e||b[13]!==u||b[14]!==F||b[15]!==I||b[16]!==C||b[17]!==N||b[18]!==t||b[19]!==M||b[20]!==i||b[21]!==H||b[22]!==x||b[23]!==O?(Q=function(){var a=d("PolarisUA").isMobile();c("polarisLogAction")("commentButtonClicked",{isLoggedIn:d("PolarisConfig").isLoggedIn(),source:e,type:u?"video":"photo"});if(d("PolarisConfig").isLoggedIn())if(d("PolarisUA").isDesktop()&&F===d("PolarisPostVariants").VARIANTS.feed)I(d("PolarisFeedActionOpenPostModalForId").openPostModalForId(C)),N(C),c("logPolarisPostModalOpen")(e,d("PolarisInteractionsLogger").getMediaTypeFromPost({isSidecar:t,isVideo:u}),"feed_comment");else if(F===d("PolarisPostVariants").VARIANTS.feed||a){a=c("XPolarisMobileAllCommentsControllerRouteBuilder").buildURL((a={},a[d("PolarisTrackingConstants").ENABLE_PERSISTENT_CTA]=M||void 0,a.shortcode=i,a));H.push(a)}else x();else O("comment")},b[12]=e,b[13]=u,b[14]=F,b[15]=I,b[16]=C,b[17]=N,b[18]=t,b[19]=M,b[20]=i,b[21]=H,b[22]=x,b[23]=O,b[24]=Q):Q=b[24];Q=Q;f=!d("PolarisConfig").isLoggedIn()||f;if(s||!f)return null;s=A!==!0&&Boolean(g);f=q==="left";A=f&&m.likeButtonLeftAligned;b[25]!==A?(g=(h||(h=c("stylex")))(m.likeButton,A),b[25]=A,b[26]=g):g=b[26];b[27]!==g||b[28]!==v||b[29]!==B?(q=j.jsx(c("PolarisLikeButton.react"),{className:g,"data-testid":void 0,isLiked:v,onChange:B}),b[27]=g,b[28]=v,b[29]=B,b[30]=q):q=b[30];b[31]!==o||b[32]!==f||b[33]!==Q?(A=!o&&j.jsx(c("PolarisCommentButton.react"),{className:(h||(h=c("stylex")))(m.commentButton,f&&m.commentButtonLeftAligned),"data-testid":void 0,onClick:Q}),b[31]=o,b[32]=f,b[33]=Q,b[34]=A):A=b[34];b[35]!==s||b[36]!==r||b[37]!==f||b[38]!==e||b[39]!==w||b[40]!==C||b[41]!==E?(g=s&&r!==!0&&j.jsx("span",{className:(h||(h=c("stylex")))(m.shareButton,f&&m.shareButtonLeftAligned),children:j.jsx(c("PolarisPostFastShareButton.react"),{analyticsContext:e,"data-testid":void 0,mediaId:w,mediaOverlayInfo:null,postId:C,sharingFrictionInfo:E})}),b[35]=s,b[36]=r,b[37]=f,b[38]=e,b[39]=w,b[40]=C,b[41]=E,b[42]=g):g=b[42];b[43]!==q||b[44]!==A||b[45]!==g?(v=j.jsxs(j.Fragment,{children:[q,A,g]}),b[43]=q,b[44]=A,b[45]=g,b[46]=v):v=b[46];B=v;b[47]!==G?(o=(h||(h=c("stylex")))(m.root,G),b[47]=G,b[48]=o):o=b[48];Q=f&&m.saveButtonLeftAligned;b[49]!==Q?(s=(h||(h=c("stylex")))(m.saveButton,Q),b[49]=Q,b[50]=s):s=b[50];if(b[51]!==J){w=(r=J)!=null?r:[];b[51]=J;b[52]=w}else w=b[52];b[53]!==e||b[54]!==w||b[55]!==D||b[56]!==L||b[57]!==P||b[58]!==K||b[59]!==C||b[60]!==a.displayResources?(E=j.jsx(c("PolarisSaveButton.react"),{analyticsContext:e,collectionsPostSavedTo:w,"data-testid":void 0,isSaved:D,onSaveMedia:L,onSaveMediaToCollection:P,onShowToast:K,postId:C,thumbnailSrcSet:a.displayResources}),b[53]=e,b[54]=w,b[55]=D,b[56]=L,b[57]=P,b[58]=K,b[59]=C,b[60]=a.displayResources,b[61]=E):E=b[61];b[62]!==s||b[63]!==E?(q=j.jsx("span",{className:s,children:E}),b[62]=s,b[63]=E,b[64]=q):q=b[64];b[65]!==o||b[66]!==p||b[67]!==B||b[68]!==q?(A=j.jsxs("section",{className:o,ref:p,children:[B,q]}),b[65]=o,b[66]=p,b[67]=B,b[68]=q,b[69]=A):A=b[69];return A}function n(a){return[a.canUserSeePersistentCta]}e=d("IGRouter_DO_NOT_USE.react").withIGRouter(a);g["default"]=e}),98);
__d("PolarisPostFooter.react",["IGDSBox.react","PolarisBoostUtils.react","PolarisPostBoostButton.react","PolarisPostViewInsights.react","nullthrows","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k={marginTop0:{marginTop:"xdj266r",$$css:!0},marginTop16:{marginTop:"xw7yly9",$$css:!0}};function a(a){var b=i(20),e=a.analyticsContext,f=a.bloksAppId,g=a.boostedStatus,h=a.boostUnavailableIdentifier,l=a.boostUnavailableReason,m=a.className,n=a.hasViewInsights,o=a.mediaId,p=a.productType;a=a.viewerId;a=d("PolarisBoostUtils.react").useIsEligibleForBoost(g!=null&&a!=null);if(!n&&!a)return null;var q=n?"between":"end",r=n?k.marginTop0:k.marginTop16,s;b[0]!==n||b[1]!==f||b[2]!==o?(s=n&&j.jsx(c("PolarisPostViewInsights.react"),{bloksAppId:f,mediaId:o}),b[0]=n,b[1]=f,b[2]=o,b[3]=s):s=b[3];b[4]!==a||b[5]!==p||b[6]!==g||b[7]!==e||b[8]!==h||b[9]!==l||b[10]!==o?(n=a&&p!=="ad"&&j.jsx(c("PolarisPostBoostButton.react"),{analyticsContext:e,boostedStatus:c("nullthrows")(g),boostUnavailableIdentifier:h,boostUnavailableReason:l,mediaId:o,productType:c("nullthrows")(p)}),b[4]=a,b[5]=p,b[6]=g,b[7]=e,b[8]=h,b[9]=l,b[10]=o,b[11]=n):n=b[11];b[12]!==q||b[13]!==r||b[14]!==s||b[15]!==n?(f=j.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:q,paddingX:4,paddingY:3,position:"relative",xstyle:r,children:[s,n]}),b[12]=q,b[13]=r,b[14]=s,b[15]=n,b[16]=f):f=b[16];b[17]!==m||b[18]!==f?(a=j.jsx("section",{className:m,children:f}),b[17]=m,b[18]=f,b[19]=a):a=b[19];return a}g["default"]=a}),98);
__d("PolarisPostRemoveCommentsSelectors",["reselect"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a.postRemoveComments}b=d("reselect").createSelector(a,function(a){a=a.isVisible;return a});g.getPostRemoveCommentsIsVisible=b}),98);
__d("PolarisPreviewComments.react",["cx","fbt","IGDSSpinner.react","PolarisBatchDOM","PolarisBigNumber.react","PolarisCommentActionConstants","PolarisCommentActions","PolarisIGCoreButton.react","PolarisInteractionsLogger","PolarisLinkBuilder","PolarisLoggedOutIntentDialog.entrypoint","PolarisPostComment.react","PolarisPostVariants","PolarisReactRedux.react","PolarisUA","browserHistory_DO_NOT_USE","isStringNullOrEmpty","joinClasses","polarisCommentSelectors.react","polarisPostSelectors","react","useIGDSEntryPointDialog","usePolarisDisplayProperties"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react"));f=j;f.useMemo;var l=f.c,m=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(a=c=b.call.apply(b,[this].concat(f))||this,c.$2=function(a){var b=c.props,e=b.analyticsContext,f=b.code,g=b.id,h=b.loadMore,i=b.loggedIn,j=b.mediaType,k=b.onLoggedOutIntentClick,l=b.ownerId;b=b.variant;var m=d("PolarisUA").isMobile();a.preventDefault();if(b===d("PolarisPostVariants").VARIANTS.feed||m){a=d("PolarisLinkBuilder").buildMediaCommentsLink(f,m);i?(d("browserHistory_DO_NOT_USE").browserHistory.push(a),d("PolarisInteractionsLogger").logInteractionAction({containerModule:e,eventName:"instagram_organic_comment_view_all",mediaAuthorId:l,mediaId:g,mediaType:j})):k("post_comment_view_all")}else h(g,f),d("PolarisInteractionsLogger").logInteractionAction({containerModule:e,eventName:"instagram_organic_comment_view_more",mediaAuthorId:l,mediaId:g,mediaType:j})},a)||babelHelpers.assertThisInitialized(c)}var e=a.prototype;e.componentDidUpdate=function(a,b,c){var e=this,f=a.commentSaveIsInFlight&&!this.props.commentSaveIsInFlight,g=this.$1;if(!g)return;d("PolarisBatchDOM").measure(function(){var b=g.scrollTop;f?b=g.scrollHeight:c!=null?b=g.scrollHeight-c:e.props.id!==a.id&&(b=0);d("PolarisBatchDOM").mutate(function(){g.scrollTop=b})})};e.getSnapshotBeforeUpdate=function(a){var b=a.comments,c=this.props.comments;if(a.id===this.props.id&&c&&b&&c.count()>b.count()){a=this.$1;if(a)return a.scrollHeight-a.scrollTop}return null};e.render=function(){var a=this,b=this.props,e=b.analyticsContext,f=b.captionAndTitle,g=b.captionIsEdited,h=b.className,i=b.commentsAreStacked,j=b.commentsDisabled,l=b.commentsHasNextPage,m=b.commentsTotalCount,n=b.handleDeleteCommentClick,o=b.id,p=b.loggedIn,q=b.mediaType,r=b.ownerId,s=b.postedAt,t=b.previewComments,u=b.showRemoveCommentIcons,v=b.variant;b=j!==!0&&(l===!0||t!=null&&t.length<m);if((f==null||f==="")&&m===0&&!b)return null;l=t;return k.jsx("div",{className:c("joinClasses")("_acri"+(!d("PolarisUA").isMobile()&&v===d("PolarisPostVariants").VARIANTS.flexible&&!i?" _acrj":""),h),ref:function(b){return a.$1=b},children:k.jsxs("ul",{className:"_acrk",children:[!c("isStringNullOrEmpty")(f)&&k.jsx(c("PolarisPostComment.react"),{analyticsContext:e,commentOwnerId:r,isCaption:!0,isEdited:!!g,isRestrictedPending:!1,loggedIn:p,mediaType:q,postedAt:s,postId:o,postOwnerId:r,showRemoveIcon:!1,text:f,variant:v},"captionAndTitle"),b&&this.renderLoadMoreCommentsLink(),j!==!0&&l&&l.map(function(a){return k.jsx(c("PolarisPostComment.react"),{analyticsContext:e,commentOwnerId:a.userId,id:a.id,isAuthorVerified:a.isAuthorVerified,isRestrictedPending:a.isRestrictedPending,likedByViewer:a.likedByViewer,loggedIn:p,mediaType:q,onDeleteCommentClick:n,postedAt:a.postedAt,postId:o,postOwnerId:r,showRemoveIcon:u,text:a.text,variant:v},a.id)})]})})};e.renderLoadMoreCommentsLink=function(){var a=this.props,b=a.comments,e=a.commentsIsFetching,f=a.commentsTotalCount;a=a.variant;var g=i._("__JHASH__EzDl3Q5qBhq__JHASH__");b&&b.count()+d("PolarisCommentActionConstants").PAGE_SIZE>=f||a===d("PolarisPostVariants").VARIANTS.feed||d("PolarisUA").isMobile()?b=i._("__JHASH__goQVaKpz6ee__JHASH__",[i._param("count",k.jsx(c("PolarisBigNumber.react"),{value:f}))]):b=g;return k.jsxs("li",{className:"_acrl",children:[k.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,dangerouslySetClassName:{__className:"_acrm"},disabled:e,onClick:this.$2,children:b}),e&&k.jsx("div",{className:"_acrn",children:k.jsx(c("IGDSSpinner.react"),{position:"static",size:"small"})})]})};return a}(k.PureComponent);function a(a,b){var c=d("polarisCommentSelectors.react").getPreviewCommentsForPostId(a,b.id);b=d("polarisPostSelectors").getNumCommentsForPostId(a,b.id);a=a.navigation.pageIdentifier||"";return{analyticsContext:a,commentSaveIsInFlight:!1,commentsHasNextPage:!1,commentsIsFetching:!1,commentsTotalCount:b,previewComments:c}}function b(){var a=l(2),b=c("usePolarisDisplayProperties")();b=b.viewportWidth;var d;a[0]!==b?(d={viewportWidth:b},a[0]=b,a[1]=d):d=a[1];b=d;return b}h={loadMore:d("PolarisCommentActions").requestNextCommentPage};function e(a){var b=l(6),d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d={routeParams:{},routeProps:{}},b[0]=d):d=b[0];d=c("useIGDSEntryPointDialog")(c("PolarisLoggedOutIntentDialog.entrypoint"),d);var e=d[0];b[1]!==e?(d=function(a){return e({source:a})},b[1]=e,b[2]=d):d=b[2];var f;b[3]!==a||b[4]!==d?(f=k.jsx(m,babelHelpers["extends"]({},a,{onLoggedOutIntentClick:d})),b[3]=a,b[4]=d,b[5]=f):f=b[5];return f}f=d("PolarisReactRedux.react").connect(a,h)(e);a=d("PolarisReactRedux.react").connectHooks(b)(f);g["default"]=a}),226);
__d("PolarisThreadedComments.react",["cx","IGDSBox.react","IGDSDivider.react","PolarisBatchDOM","PolarisCommentCover.react","PolarisCommentThread.react","PolarisCommentsContainerPlaceholder.react","PolarisCommentsSectionText.react","PolarisCommentsSortContext.react","PolarisCommentsStrings","PolarisConfig","PolarisInteractionsLogger","PolarisLinkBuilder","PolarisNoCommentsPlaceholder.react","PolarisPaginationUtils","PolarisPendingCommentState","PolarisPostComment.react","PolarisPostVariants","PolarisReactRedux.react","PolarisSortCommentsUtil","PolarisThreadedCommentActions","PolarisThreadedCommentSelectors","PolarisThreadedCommentsLoadMoreButton.react","PolarisUA","cr:1342","isStringNullOrEmpty","nullthrows","polarisCommentReducer","polarisUserSelectors","react","requestIdleCallback"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i,l={commentsCover:{marginStart:"x16n37ib",$$css:!0}};function m(a,b){var c=b.getBoundingClientRect().top;c=c-b.scrollTop;b=a.getBoundingClientRect().top;return b-c}function n(a){var b=j(22),d=a.innerRef,e=a.isPermalinkedComment,f=a.onHidePermalinkReply,g=a.parentComment,h=a.parentProps,i=a.parentState,l=a.permalinkedReplyId,m=a.permalinkedReplyNodeRef;a=a.replyPagerNodeRef;var n=h.analyticsContext,o=h.code,p=h.commentingDisabledForViewer,q=h.customIndentationPadding,r=h.handleDeleteCommentClick,s=h.hideUserAvatar,t=h.id,u=h.isDeletingComments,v=h.loggedIn,w=h.onLikeCountClick,x=h.ownerId,y=h.reducedAvatarMargin;h=h.showCommentOptionsInline;i=i.commentPermalinkAnimEnabled;var z;b[0]!==n||b[1]!==o||b[2]!==p||b[3]!==q||b[4]!==s||b[5]!==d||b[6]!==e||b[7]!==v||b[8]!==r||b[9]!==f||b[10]!==w||b[11]!==g||b[12]!==i||b[13]!==l||b[14]!==m||b[15]!==t||b[16]!==x||b[17]!==y||b[18]!==a||b[19]!==h||b[20]!==u?(z=k.jsx(c("PolarisCommentThread.react"),{analyticsContext:n,code:o,commentingDisabledForViewer:p,customIndentationPadding:q,hideUserAvatar:s,innerRef:d,isPermalinkedComment:e,loggedIn:v,onDeleteCommentClick:r,onHidePermalinkReply:f,onLikeCountClick:w,parentComment:g,permalinkedReplyAnimating:i,permalinkedReplyId:l,permalinkedReplyNodeRef:m,postId:t,postOwnerId:x,reducedAvatarMargin:y,replyPagerNodeRef:a,showCommentOptionsInline:h,showRemoveIcon:u}),b[0]=n,b[1]=o,b[2]=p,b[3]=q,b[4]=s,b[5]=d,b[6]=e,b[7]=v,b[8]=r,b[9]=f,b[10]=w,b[11]=g,b[12]=i,b[13]=l,b[14]=m,b[15]=t,b[16]=x,b[17]=y,b[18]=a,b[19]=h,b[20]=u,b[21]=z):z=b[21];return z}f=function(a){babelHelpers.inheritsLoose(e,a);function e(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.$2=k.createRef(),c.$3=k.createRef(),c.$4=k.createRef(),c.$5=[],c.state={commentPermalinkAnimEnabled:!1,commentsSortOrder:c.props.sortOrder,isAutoscrollingCommentPermalink:!1,replyPermalinkLastHideTime:null,showHiddenComments:!1},c.$13=function(a){a=c.props;var b=a.analyticsContext,e=a.code,f=a.hasRankedComments,g=a.id,h=a.loadMore,i=a.mediaType;a=a.ownerId;h(g,f,e);d("PolarisInteractionsLogger").logInteractionAction({containerModule:b,eventName:"instagram_child_comments_load_more",mediaAuthorId:a,mediaId:g,mediaType:i})},c.$14=function(){c.setState({showHiddenComments:!0})},c.$15=function(a){c.setState({commentsSortOrder:a})},b)||babelHelpers.assertThisInitialized(c)}var f=e.prototype;f.$6=function(){return this.$2.current||null};f.$7=function(){return this.$3.current||null};f.$8=function(){return this.$4.current||null};f.$9=function(a,b,e,f){var g=this;this.setState({commentPermalinkAnimEnabled:!1,isAutoscrollingCommentPermalink:!0});d("PolarisBatchDOM").measure(function(){var h,i=m(b,a);if(e){var j=m(e,a),k=e.getBoundingClientRect().height,l=a.getBoundingClientRect().height;l=Math.max(l-k,0);h=Math.max(i,j-l)}else h=i;d("PolarisBatchDOM").mutate(function(){a.scrollTop=h;var b=function(){g.setState({commentPermalinkAnimEnabled:!0,isAutoscrollingCommentPermalink:!1})};f?c("requestIdleCallback")(function(){b()}):b()})})};f.componentDidMount=function(){var a=this.$1;if(!a)return;var b=this.$6();if(b)this.$9(a,b,this.$7(),!0);else if(!this.props.hasRankedComments){if(d("PolarisUA").isDesktop())return;a.scrollTop=a.scrollHeight}};f.componentDidUpdate=function(a,b,c){var d=this.$1;if(!d)return;var e=this.$6();if(e)if(this.state.isAutoscrollingCommentPermalink)return;else if(this.props.permalinkedCommentId!==a.permalinkedCommentId||this.props.permalinkedReplyId!==a.permalinkedReplyId||this.props.permalinkedComment!==a.permalinkedComment){this.$9(d,e,this.$7(),!1);return}this.$10(a,b,c,d,e)};f.$10=function(a,b,c,e,f){var g=this,h=a.commentSaveIsInFlight&&!this.props.commentSaveIsInFlight;c=c||{};var i=c.newCommentCachedOffset,j=a.id===this.props.id&&a.permalinkedCommentId===this.props.permalinkedCommentId&&a.permalinkedReplyId===this.props.permalinkedReplyId&&b.replyPermalinkLastHideTime!==this.state.replyPermalinkLastHideTime,k=this.$8();h&&!a.commentWasReply&&(this.$5[0]&&this.$5[0].scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"}));d("PolarisBatchDOM").measure(function(){var b=null;h&&!a.commentWasReply&&!g.props.hasRankedComments?b=e.scrollHeight:i!=null?b=e.scrollHeight-i:j&&f&&k&&(b=g.$11(e,f,k));d("PolarisBatchDOM").mutate(function(){b!=null&&(e.scrollTop=b)})})};f.$11=function(a,b,c){c=m(c,a);b=m(b,a);var d=6;c=Math.max(c-d,b);return a.scrollTop>c?c:null};f.getSnapshotBeforeUpdate=function(a,b){b=a.comments;var c=this.props.comments,d=this.$1;return d&&a.id===this.props.id&&c.count()>b.count()&&!this.props.hasRankedComments?{newCommentCachedOffset:d.scrollHeight-d.scrollTop}:null};f.$12=function(){this.setState({replyPermalinkLastHideTime:new Date().valueOf()})};f.render=function(){var a=this,e=this.props,f=e.analyticsContext,g=e.captionAndTitle,h=e.captionCreatedAt,i=e.captionIsEdited,j=e.className,m=e.comments,o=e.commentsDisabled,p=e.commentsHasNextPage,q=e.disableScroll,r=e.hasCoveredComments,s=e.hasRankedComments,t=e.hideUserAvatar,u=e.id,v=e.initialCommentsLoading,w=e.isOwnerVerified,x=e.loggedIn,y=e.mediaType,z=e.ownerId,A=e.permalinkedComment,B=e.permalinkedReplyId,C=e.postedAt,D=e.reducedAvatarMargin,E=e.requestComments,F=e.showCommentOptionsInline;e=e.showPagerBelowComments;p=o!==!0&&Boolean(p);var G=v&&m.size===0;if((g==null||g==="")&&m.count()===0&&!p&&!G)return d("PolarisUA").isDesktop()?k.jsx("div",{className:j,children:k.jsx(c("PolarisNoCommentsPlaceholder.react"),{})}):k.jsx("div",{className:j});var H=null,I=null,J=null;if(!G&&o!=null){H=A?k.jsx("div",{className:"_a9z3"+(this.state.commentPermalinkAnimEnabled&&!B?" _a9yl":""),ref:this.$2,children:k.jsx(n,{isPermalinkedComment:!0,onHidePermalinkReply:function(){return a.$12()},parentComment:A,parentProps:this.props,parentState:this.state,permalinkedReplyId:B,permalinkedReplyNodeRef:this.$3,replyPagerNodeRef:this.$4})}):null;var K=function(){var b;return(b=a.props.comments.findIndex(function(a){return a.isAuthorVerified===!1}))!=null?b:-1};I=m.map(function(b,e){if(A&&b.id===A.id)return null;return b.isCovered===!0?null:k.jsxs(c("IGDSBox.react"),{marginBottom:4,children:[k.jsx(n,{innerRef:function(b){return a.$5[e]=b},parentComment:b,parentProps:a.props,parentState:a.state},e),a.props.sortOrder===d("PolarisSortCommentsUtil").CommentsOptionValues.META_VERIFIED&&K()===e+1&&k.jsx(c("IGDSDivider.react"),{})]},e)}).filter(function(a){return!!a});J=m.filter(function(a){return a.isCovered===!0}).map(function(b,c){return k.jsx(n,{innerRef:function(b){return a.$5[c]=b},parentComment:b,parentProps:a.props,parentState:a.state},c)})}o=null;c("isStringNullOrEmpty")(g)||(o=k.jsx(c("PolarisPostComment.react"),{analyticsContext:f,captionCreatedAt:h,className:(d("PolarisUA").isMobile()?"_a9z4":"")+" _a9z5",commentOwnerId:z,hideUserAvatar:!!t,isAuthorVerified:!!w,isCaption:!0,isEdited:!!i,isRestrictedPending:!1,loggedIn:x,mediaType:y,postedAt:c("nullthrows")(C),postId:u,postOwnerId:z,reducedAvatarMargin:D,showCommentOptionsInline:F,showRemoveIcon:!1,showRichComment:!0,text:g,variant:d("PolarisPostVariants").VARIANTS.flexible},"captionAndTitle"));B=p&&this.renderLoadMoreCommentsLink(H!=null);f=s||e===!0;h=function(a){return E(u,void 0,a)};t=d("PolarisSortCommentsUtil").showCommentsSortOptions(this.props.sortOrder,m.size);w=function(){return m.some(function(a){return a.isAuthorVerified===!0})};i=this.props.sortOrder===d("PolarisSortCommentsUtil").CommentsOptionValues.META_VERIFIED&&!w();x=k.jsx(c("IGDSBox.react"),{marginEnd:d("PolarisUA").isMobile()?4:0,marginStart:d("PolarisUA").isMobile()?4:0,children:k.jsx(c("IGDSDivider.react"),{})});return k.jsx(d("PolarisCommentsSortContext.react").PolarisCommentsSortContextProvider,{commentsSortOrder:this.state.commentsSortOrder,setCommentsSortOrder:this.$15,children:k.jsx("div",{className:j,children:k.jsxs("ul",{className:"_a9z6"+(q?" _a9z7":"")+(H!==null?" _a9z8":"")+(o===null?" _a9z9":"")+(!B||f?" _a9za":""),ref:function(b){return a.$1=b},children:[o,k.jsxs(c("IGDSBox.react"),{direction:"column",display:"flex",children:[t&&b("cr:1342")!=null&&k.jsx(c("IGDSBox.react"),{marginStart:12,marginTop:2,children:k.jsx(b("cr:1342"),{commentsCount:m.size,fetchComments:h})}),H]}),G?k.jsx(c("PolarisCommentsContainerPlaceholder.react"),{}):null,!f&&B,k.jsx(c("IGDSBox.react"),{children:v?k.jsx(c("PolarisCommentsContainerPlaceholder.react"),{}):k.jsxs(c("IGDSBox.react"),{children:[i&&k.jsx(c("PolarisCommentsSectionText.react"),{commentsDivider:x,marginStart:12,text:d("PolarisSortCommentsUtil").NO_META_VERIFIED_COMMENTS}),k.jsxs(c("IGDSBox.react"),{children:[!d("PolarisConfig").isLoggedOutFRXEligible()&&I,f&&B,!B&&r&&!this.state.showHiddenComments&&k.jsx(c("PolarisCommentCover.react"),{onClick:this.$14,postId:u,postOwnerId:z,xstyle:l.commentsCover}),this.state.showHiddenComments&&k.jsxs(k.Fragment,{children:[k.jsx(c("PolarisCommentsSectionText.react"),{commentsDivider:x,marginStart:12,text:d("PolarisCommentsStrings").COVERED_COMMENTS}),J]})]})]})})]})})})};f.renderLoadMoreCommentsLink=function(a){var b=this.props,e=b.code,f=b.commentsIsFetching;b=b.hasRankedComments;e=d("PolarisLinkBuilder").buildMediaCommentsLink(c("nullthrows")(e),d("PolarisUA").isMobile());var g;b?(b=0,g=0):a?(b=2,g=2):(b=0,g=4);return k.jsx("li",{children:k.jsx(c("PolarisThreadedCommentsLoadMoreButton.react"),{commentsIsFetching:f,handleLoadMoreCommentsClick:this.$13,marginBottom:g,marginTop:b,url:e})})};return e}(k.PureComponent);function a(a,b){var c,e,f=b.id,g=b.ownerId;b=b.permalinkedCommentId;var h=d("PolarisThreadedCommentSelectors").getThreadedCommentsLoading(a,f),i=d("PolarisThreadedCommentSelectors").selectVisibleParentCommentsForPostId(a,f);c=(c=a.threadedComments.parentByPostId[f])!=null?c:d("polarisCommentReducer").EMPTY_POST_COMMENTS_STATE;var j=c.count;c=c.pagination;e=(e=a.pendingComments[f])!=null?e:d("PolarisPendingCommentState").EMPTY_PENDING_COMMENT;var k=null;!h&&b!=null&&b!==""&&(k=a.comments.byId.get(b));b=(f=(b=a.threadedComments.parentByPostId[f])==null?void 0:b.sortOrder)!=null?f:d("PolarisSortCommentsUtil").CommentsOptionValues.TOP;return{comments:i,commentSaveIsInFlight:e.committing,commentsHasNextPage:d("PolarisPaginationUtils").hasNextPage(c),commentsIsFetching:d("PolarisPaginationUtils").isFetching(c),commentsTotalCount:j!=null?j:0,commentWasReply:e.repliedToCommentId!=null,hasCoveredComments:i.some(function(a){return a.isCovered===!0}),initialCommentsLoading:h,isOwnerVerified:d("polarisUserSelectors").getUserByIdOrThrows(a,g).isVerified,permalinkedComment:k,sortOrder:b}}function e(a){return{loadMore:function(b,c,e){d("PolarisConfig").isLoggedIn()?a(d("PolarisThreadedCommentActions").requestNextParentCommentPageV2(b,c)):a(d("PolarisThreadedCommentActions").requestNextParentCommentPage(b,c,e))},requestComments:function(b,c,e){a(d("PolarisThreadedCommentActions").requestInitialComments(b,c,e))}}}h=d("PolarisReactRedux.react").connect(a,e)(f);g["default"]=h}),98);
__d("PolarisThreadedCommentsLoader.react",["CometErrorBoundary.react","CometPlaceholder.react","FBLogger","IGDSBox.react","IGDSSpinner.react","PolarisReactRedux.react","PolarisThreadedCommentActions","react","usePolarisGetQuerySetup"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function k(a){var b=i(2),e=a.children,f=a.initialCommentsQuery;a=a.postId;var g;b[0]!==a?(g=d("PolarisThreadedCommentActions").setupPostComments(a),b[0]=a,b[1]=g):g=b[1];c("usePolarisGetQuerySetup")(f,g);return e}function a(a){var b=i(11),e=a.children,f=a.initialCommentsQuery,g=a.postId,h=d("PolarisReactRedux.react").useDispatch();b[0]!==h||b[1]!==g?(a=function(a){h(d("PolarisThreadedCommentActions").initialCommentsError(g)),c("FBLogger")("ig_web").catching(a)},b[0]=h,b[1]=g,b[2]=a):a=b[2];a=a;var m;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(m=j.jsx(c("IGDSBox.react"),{direction:"row",justifyContent:"center",position:"relative",children:j.jsx(c("IGDSSpinner.react"),{})}),b[3]=m):m=b[3];b[4]!==f||b[5]!==g||b[6]!==e?(m=j.jsx(c("CometPlaceholder.react"),{fallback:m,children:j.jsx(k,{initialCommentsQuery:f,postId:g,children:e})}),b[4]=f,b[5]=g,b[6]=e,b[7]=m):m=b[7];b[8]!==a||b[9]!==m?(f=j.jsx(c("CometErrorBoundary.react"),{fallback:l,onError:a,children:m}),b[8]=a,b[9]=m,b[10]=f):f=b[10];return f}function l(){return null}g["default"]=a}),98);
__d("PolarisPostComments.react",["PolarisDeleteCommentModal.react","PolarisPostRemoveCommentsSelectors","PolarisPostVariants","PolarisPreviewComments.react","PolarisReactRedux.react","PolarisThreadedComments.react","PolarisThreadedCommentsLoader.react","PolarisUA","nullthrows","polarisUserSelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={commentToDeleteId:null,showDeleteCommentModal:!1},c.$1=function(a){c.setState({commentToDeleteId:a,showDeleteCommentModal:!0})},c.$2=function(){c.setState({commentToDeleteId:null,showDeleteCommentModal:!1})},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.$3=function(){return this.props.variant!==d("PolarisPostVariants").VARIANTS.feed&&!d("PolarisUA").isMobile()};e.render=function(){var a=this.props,b=a.analyticsContext,d=a.caption,e=a.captionCreatedAt,f=a.captionIsEdited,g=a.className,h=a.code,j=a.commentingDisabledForViewer,k=a.commentsAreStacked,l=a.commentsDisabled,m=a.customIndentationPadding,n=a.hasRankedComments,o=a.hideUserAvatar,p=a.id,q=a.initialCommentsQuery,r=a.mediaType,s=a.onLikeCountClick,t=a.ownerId,u=a.permalinkedCommentId,v=a.permalinkedReplyId,w=a.postedAt,x=a.reducedAvatarMargin,y=a.showCommentOptionsInline,z=a.showRemoveCommentIcons,A=a.variant;a=a.viewerId;a=a!=null;this.$3()?(e=i.jsx(c("PolarisThreadedComments.react"),{analyticsContext:b,captionAndTitle:d,captionCreatedAt:e,captionIsEdited:f,className:g,code:h,commentingDisabledForViewer:j,commentsDisabled:l,customIndentationPadding:m,handleDeleteCommentClick:this.$1,hasRankedComments:n,hideUserAvatar:!!o,id:p,isDeletingComments:z,loggedIn:a,mediaType:r,onLikeCountClick:s,ownerId:t,permalinkedCommentId:u,permalinkedReplyId:v,postedAt:w,reducedAvatarMargin:x,showCommentOptionsInline:y}),q!=null&&(e=i.jsx(c("PolarisThreadedCommentsLoader.react"),{initialCommentsQuery:q,postId:p,children:e}))):e=i.jsx(c("PolarisPreviewComments.react"),{captionAndTitle:d,captionIsEdited:f,className:g,code:h,commentsAreStacked:k,commentsDisabled:l,handleDeleteCommentClick:this.$1,id:p,loggedIn:a,mediaType:r,ownerId:t,postedAt:w,showRemoveCommentIcons:z,variant:A});return i.jsxs(i.Fragment,{children:[e,this.state.showDeleteCommentModal&&i.jsx(c("PolarisDeleteCommentModal.react"),{analyticsContext:b,commentId:c("nullthrows")(this.state.commentToDeleteId),onClose:this.$2,postId:p})]})};return b}(i.PureComponent);b.defaultProps={variant:d("PolarisPostVariants").VARIANTS.flexible};function a(a){return{showRemoveCommentIcons:d("PolarisPostRemoveCommentsSelectors").getPostRemoveCommentsIsVisible(a),viewerId:(a=d("polarisUserSelectors").getViewer__DEPRECATED(a))==null?void 0:a.id}}e=d("PolarisReactRedux.react").connect(a)(b);g["default"]=e}),98);
__d("PolarisPostFastPreviewCaption.react",["IGDSBox.react","PolarisPostFastCommentPrimitive.react","PolarisPostFastCrawlerComment.react","PolarisUA","nullthrows","polarisCommentSelectors.react","react","usePolarisIsOnFeedPage","usePolarisPost"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(10),e=a.enableTruncation,f=a.inModal;a=a.postId;var g=c("usePolarisIsOnFeedPage")();g=g&&f!==!0&&d("PolarisUA").isDesktop();f=d("usePolarisPost").usePostAndOwner(a,p);var h=d("usePolarisPost").usePostAndOwner(a,o),q=d("usePolarisPost").usePostAndOwner(a,n),r=d("usePolarisPost").usePostAndOwner(a,m),s=d("usePolarisPost").usePost(a,l);a=d("usePolarisPost").usePost(a,k);a=d("polarisCommentSelectors.react").useCommentTranslation(a);if(s==null||s==="")return null;(a==null?void 0:a.showTranslatedText)===!0&&a.translatedText!=null&&(s=a.translatedText);a=g?2:1;b[0]!==e||b[1]!==r||b[2]!==q||b[3]!==s||b[4]!==f||b[5]!==h?(g=e===!0?j.jsx(c("PolarisPostFastCrawlerComment.react"),{isAuthorUnpublished:r,isAuthorVerified:q,text:s,userId:f,username:h}):j.jsx(c("PolarisPostFastCommentPrimitive.react"),{isAuthorUnpublished:r,isAuthorVerified:q,isCaption:!0,text:s,userId:f,username:h}),b[0]=e,b[1]=r,b[2]=q,b[3]=s,b[4]=f,b[5]=h,b[6]=g):g=b[6];b[7]!==a||b[8]!==g?(e=j.jsx(c("IGDSBox.react"),{marginBottom:a,position:"relative",children:g}),b[7]=a,b[8]=g,b[9]=e):e=b[9];return e}function k(a){return a.captionCommentId}function l(a){return a.caption}function m(a,b){return b.isUnpublished}function n(a,b){return b.isVerified}function o(a,b){return c("nullthrows")(b.username)}function p(a,b){return c("nullthrows")(b.id)}g["default"]=a}),98);
__d("PolarisPostFastCommentLikeButton.react",["PolarisCommentActions","PolarisConfig","PolarisInteractionsLogger","PolarisLikeButton.react","PolarisReactRedux.react","react","usePolarisAnalyticsContext","usePolarisComment","usePolarisPost"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function k(a,b){var e=i(8),f=d("usePolarisComment").useComment(a,m),g=d("usePolarisPost").usePost(b,d("PolarisInteractionsLogger").getMediaTypeFromPost),h=d("usePolarisPost").usePostAndOwner(b,l),j=c("usePolarisAnalyticsContext")();if(e[0]===Symbol["for"]("react.memo_cache_sentinel")){var k;k=(k=d("PolarisConfig").getViewerId())!=null?k:"";e[0]=k}else k=e[0];e[1]!==f||e[2]!==a||e[3]!==j||e[4]!==h||e[5]!==b||e[6]!==g?(k={commentAuthorId:f,commentId:a,containerModule:j,mediaAuthorId:h,mediaId:b,mediaType:g,userId:k},e[1]=f,e[2]=a,e[3]=j,e[4]=h,e[5]=b,e[6]=g,e[7]=k):k=e[7];return k}function l(a,b){return b.id}function m(a){return a.id}function a(a){var b=i(7),e=a.color,f=a.commentId;a=a.postId;var g=d("PolarisReactRedux.react").useDispatch(),h=k(f,a);a=d("usePolarisComment").useComment(f,n);b[0]!==g||b[1]!==h?(f=function(a){a?g(d("PolarisCommentActions").likeComment(h)):g(d("PolarisCommentActions").unlikeComment(h))},b[0]=g,b[1]=h,b[2]=f):f=b[2];f=f;var l;b[3]!==e||b[4]!==a||b[5]!==f?(l=j.jsx(c("PolarisLikeButton.react"),{color:e,isLiked:a,onChange:f,padding:0,size:12}),b[3]=e,b[4]=a,b[5]=f,b[6]=l):l=b[6];return l}function n(a){return a.likedByViewer}b=j.memo(a);g["default"]=b}),98);
__d("PolarisPostFastPreviewComment.react",["PolarisPostFastCommentPrimitive.react","nullthrows","react","usePolarisComment"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b,e=i(5);a=a.commentId;var f=(b=d("usePolarisComment")).useCommentAndOwner(a,n),g=b.useCommentAndOwner(a,m),h=b.useComment(a,l);b=b.useComment(a,k);e[0]!==b||e[1]!==h||e[2]!==f||e[3]!==g?(a=j.jsx(c("PolarisPostFastCommentPrimitive.react"),{isAuthorVerified:b,text:h,userId:f,username:g}),e[0]=b,e[1]=h,e[2]=f,e[3]=g,e[4]=a):a=e[4];return a}function k(a){return a.isAuthorVerified}function l(a){return a.text}function m(a,b){return c("nullthrows")(b.username)}function n(a,b){return c("nullthrows")(b.id)}g["default"]=a}),98);
__d("PolarisPostFastViewAllComments.react",["fbt","CometRelay","IGDSText.react","PolarisBigNumber.react","PolarisConfig","PolarisFastLink.react","PolarisFeedActionOpenPostModalForId","PolarisInFeedPostModalContext","PolarisInteractionsLogger","PolarisLoggedOutCtaLogger","PolarisNavigationActions","PolarisReactRedux.react","PolarisSponsoredPostContext.react","PolarisTrackingConstants","PolarisUA","XPolarisMobileAllCommentsControllerRouteBuilder","logPolarisPostModalOpen","nullthrows","react","react-forget-runtime","usePolarisAnalyticsContext","usePolarisPost"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useContext,l=b.c;function a(a){var b=l(25),e=a.postId;a=d("usePolarisPost").usePost(e,o);var f=d("usePolarisPost").usePost(e,n),g=d("usePolarisPost").usePost(e,d("PolarisInteractionsLogger").getMediaTypeFromPost),i=d("react-forget-runtime").useContextWithBailoutExperiment__unstable(d("PolarisSponsoredPostContext.react").PolarisSponsoredPostContext,m),p=i.canUserSeePersistentCta;b[0]!==p?(i=function(a){var b;return c("XPolarisMobileAllCommentsControllerRouteBuilder").buildURL((b={},b[d("PolarisTrackingConstants").ENABLE_PERSISTENT_CTA]=p||void 0,b.shortcode=c("nullthrows")(a.code),b))},b[0]=p,b[1]=i):i=b[1];var q=d("usePolarisPost").usePost(e,i),r=d("PolarisReactRedux.react").useDispatch(),s=c("usePolarisAnalyticsContext")(),t=k(d("PolarisInFeedPostModalContext").InFeedPostModalContext);b[2]===Symbol["for"]("react.memo_cache_sentinel")?(i=!d("PolarisConfig").isLoggedIn()&&d("PolarisUA").isMobile(),b[2]=i):i=b[2];var u=i;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(i=u||d("PolarisConfig").isLoggedIn()&&d("PolarisUA").isDesktop(),b[3]=i):i=b[3];i=i;var v=d("CometRelay").useRelayEnvironment(),w;b[4]!==r||b[5]!==v||b[6]!==e?(w=function(a,b){var c=d("PolarisUA").isDesktop()||d("PolarisConfig").isLoggedOutFRXEligible()?"feature_wall":"content_wall";r(d("PolarisNavigationActions").openLoginModal(v,c,a,b,null,e))},b[4]=r,b[5]=v,b[6]=e,b[7]=w):w=b[7];var x=w;b[8]!==s||b[9]!==f||b[10]!==e||b[11]!==g||b[12]!==r||b[13]!==t||b[14]!==x?(w=function(a,b){d("PolarisConfig").isLoggedIn()?(d("PolarisInteractionsLogger").logInteractionAction({containerModule:s,eventName:"instagram_organic_comment_view_all",mediaAuthorId:f,mediaId:e,mediaType:g}),d("PolarisUA").isDesktop()&&(a.preventDefault(),r(d("PolarisFeedActionOpenPostModalForId").openPostModalForId(e)),c("logPolarisPostModalOpen")(s,g,"feed_view_all_comments"),t(e))):u&&(a.preventDefault(),d("PolarisLoggedOutCtaLogger").logLoggedOutCtaEvent({ctaType:"user_action",ctaVersion:"",eventName:"post_comment_view_all_click",module:s||""}),x(b,"post_comment_view_all"))},b[8]=s,b[9]=f,b[10]=e,b[11]=g,b[12]=r,b[13]=t,b[14]=x,b[15]=w):w=b[15];var y=w;b[16]!==y||b[17]!==q?(w=function(a){return y(a,q)},b[16]=y,b[17]=q,b[18]=w):w=b[18];var z;b[19]!==a?(z=j.jsx(c("IGDSText.react"),{color:"secondaryText",zeroMargin:!0,children:a===1?h._("__JHASH__72aa16zdD4E__JHASH__"):h._("__JHASH__goQVaKpz6ee__JHASH__",[h._param("count",j.jsx(c("PolarisBigNumber.react"),{value:a}))])}),b[19]=a,b[20]=z):z=b[20];b[21]!==q||b[22]!==w||b[23]!==z?(a=j.jsx(c("PolarisFastLink.react"),{"data-testid":void 0,href:q,onClick:w,shouldOpenModal:i,children:z}),b[21]=q,b[22]=w,b[23]=z,b[24]=a):a=b[24];return a}function m(a){return[a.canUserSeePersistentCta]}function n(a){return c("nullthrows")((a=a.owner)==null?void 0:a.id)}function o(a){return a.numComments||0}g["default"]=a}),226);
__d("PolarisPostFastPreviewCommentsList.react",["IGDSBox.react","PolarisConfig","PolarisPostFastCommentLikeButton.react","PolarisPostFastPreviewComment.react","PolarisPostFastViewAllComments.react","PolarisReactRedux.react","PolarisThreadedCommentSelectors","PolarisUA","isTruthy","polarisCommentSelectors.react","react","usePolarisIsOnAdsActivityPage","usePolarisIsOnFeedPage","usePolarisPost"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useMemo,k=b.c;function l(a){var b=k(13),e=a.postId;a=a.previewCommentIds;var f=c("usePolarisIsOnFeedPage")(),g=c("usePolarisIsOnAdsActivityPage")(),h;b[0]!==f||b[1]!==g?(h=(f||g)&&d("PolarisUA").isDesktop(),b[0]=f,b[1]=g,b[2]=h):h=b[2];f=h;var j=f;if(d("PolarisConfig").isLoggedOutFRXEligible())return null;if(a.length>0){g=f?1:0;if(b[3]!==j||b[4]!==e||b[5]!==a){b[7]!==j||b[8]!==e?(h=function(a){return i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",marginBottom:1,position:"relative",children:[i.jsx(c("PolarisPostFastPreviewComment.react"),{commentId:a}),d("PolarisConfig").isLoggedIn()&&i.jsx(c("IGDSBox.react"),{marginStart:j?2:0,position:"relative",children:i.jsx(c("PolarisPostFastCommentLikeButton.react"),{color:j?"ig-secondary-icon":void 0,commentId:a,postId:e})})]},a)},b[7]=j,b[8]=e,b[9]=h):h=b[9];f=a.map(h);b[3]=j;b[4]=e;b[5]=a;b[6]=f}else f=b[6];b[10]!==g||b[11]!==f?(h=i.jsx(c("IGDSBox.react"),{marginBottom:g,position:"relative",children:f}),b[10]=g,b[11]=f,b[12]=h):h=b[12];return h}return null}function a(a){var b=a.inModal,e=a.postId;a=a.shouldIncreaseCommentPreviews;a=a===void 0?!1:a;var f=c("usePolarisIsOnFeedPage")();f=f&&b!==!0&&d("PolarisUA").isDesktop();var g=c("isTruthy")(a);b=d("usePolarisPost").usePost(e,function(a){return!a.commentsDisabled});var h=d("PolarisReactRedux.react").useSelector(function(a){return g?d("PolarisThreadedCommentSelectors").selectVisibleParentCommentsForPostId(a,e).toArray():d("polarisCommentSelectors.react").getPreviewCommentsForPostId(a,e)});a=j(function(){return h.map(function(a){return a.id})},[h]);var k=d("usePolarisPost").usePost(e,function(a){return(a=a.numComments)!=null?a:0}),m=k>a.length;if(!b||k<=0)return null;b=!d("PolarisConfig").isLoggedIn()&&a.length>0&&!g;return i.jsxs(i.Fragment,{children:[m&&i.jsx(c("IGDSBox.react"),{alignItems:"start",marginBottom:f?2:1,position:"relative",children:i.jsx(c("PolarisPostFastViewAllComments.react"),{postId:e})}),i.jsx(l,{postId:e,previewCommentIds:b?a.slice(-1):a})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostPreviewCommentsPicker.react",["CometPlaceholder.react","IGDSBox.react","IGDSSpinner.react","PolarisPostCaptionTranslationPrompt.react","PolarisPostComments.react","PolarisPostFastPreviewCaption.react","PolarisPostFastPreviewCommentsList.react","PolarisPostVariants","PolarisUA","react","usePolarisIsOnAdsActivityPage","usePolarisIsOnFeedPage","xigRequireInterop"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var e=i(33),f=c("usePolarisIsOnFeedPage")(),g=c("usePolarisIsOnAdsActivityPage")(),h;e[0]!==f||e[1]!==g?(h=(f||g)&&d("PolarisUA").isDesktop(),e[0]=f,e[1]=g,e[2]=h):h=e[2];f=h;g=a.variant!==d("PolarisPostVariants").VARIANTS.feed&&!d("PolarisUA").isMobile();if(g){e[3]===Symbol["for"]("react.memo_cache_sentinel")?(h=j.jsx(c("IGDSSpinner.react"),{position:"absolute"}),e[3]=h):h=e[3];e[4]!==a.className?(g=j.jsx("div",{className:a.className,children:h}),e[4]=a.className,e[5]=g):g=e[5];e[6]!==a?(h=j.jsx(c("PolarisPostComments.react"),babelHelpers["extends"]({},a)),e[6]=a,e[7]=h):h=e[7];var k;e[8]!==g||e[9]!==h?(k=j.jsx(c("CometPlaceholder.react"),{fallback:g,children:h}),e[8]=g,e[9]=h,e[10]=k):k=e[10];return k}e[11]===Symbol["for"]("react.memo_cache_sentinel")?(g=c("xigRequireInterop")(b("PolarisPostFastPreviewCommentsList.react")),e[11]=g):g=e[11];h=g["default"];e[12]===Symbol["for"]("react.memo_cache_sentinel")?(k=c("xigRequireInterop")(b("PolarisPostFastPreviewCaption.react")),e[12]=k):k=e[12];g=k["default"];e[13]!==g||e[14]!==a.enableTruncation||e[15]!==a.inModal||e[16]!==a.id?(k=j.jsx(g,{enableTruncation:a.enableTruncation,inModal:a.inModal,postId:a.id}),e[13]=g,e[14]=a.enableTruncation,e[15]=a.inModal,e[16]=a.id,e[17]=k):k=e[17];e[18]!==f||e[19]!==a.id?(g=f&&j.jsx(c("PolarisPostCaptionTranslationPrompt.react"),{inFeed:!0,marginBottom:2,postId:a.id}),e[18]=f,e[19]=a.id,e[20]=g):g=e[20];e[21]!==h||e[22]!==a.inModal||e[23]!==a.id||e[24]!==a.shouldIncreaseCommentPreviews?(f=j.jsx(h,{inModal:a.inModal,postId:a.id,shouldIncreaseCommentPreviews:a.shouldIncreaseCommentPreviews}),e[21]=h,e[22]=a.inModal,e[23]=a.id,e[24]=a.shouldIncreaseCommentPreviews,e[25]=f):f=e[25];e[26]!==k||e[27]!==g||e[28]!==f?(h=j.jsxs(c("IGDSBox.react"),{position:"relative",children:[k,g,f]}),e[26]=k,e[27]=g,e[28]=f,e[29]=h):h=e[29];e[30]!==a.className||e[31]!==h?(k=j.jsx("div",{className:a.className,children:h}),e[30]=a.className,e[31]=h,e[32]=k):k=e[32];return k}g["default"]=a}),98);
__d("PolarisPostLikers.react",["CometRelay","IGDSBox.react","IGDSText.react","IGRouter_DO_NOT_USE.react","PolarisConfig","PolarisFacepile.next.react","PolarisLikedByListActions","PolarisLikedByListButton.react","PolarisLikedByText.react","PolarisLinkBuilder","PolarisNavigationActions","PolarisPostUtils","PolarisReactRedux.react","PolarisUA","polarisLogAction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k=function(b){babelHelpers.inheritsLoose(a,b);function a(a){var c;c=b.call(this,a)||this;c.$2=function(){c.props.onLike()};c.$3=function(a){c.$1(),!c.props.viewer&&c.props.inModal!==!0?(a.preventDefault(),c.props.onGoToLoginModal(c.props.code)):d("PolarisUA").isDesktop()&&(a.preventDefault(),c.props.onViewLikedByList(c.props.mediaId),c.props.onLikeCountClick(a))};return c}var e=a.prototype;e.$1=function(){c("polarisLogAction")("likeCountClick")};e.render=function(){var a=d("PolarisPostUtils").getOrderedUsersForLikedByList(this.props.users,this.props.viewer).map(function(a){return a.profilePictureUrl}).filter(Boolean),b=j.jsx(c("PolarisFacepile.next.react"),{avatarSize:this.props.avatarSize,border:"transparent",userProfilePicUrls:a}),e=!!this.props.viewer;return j.jsxs(c("IGDSBox.react"),{direction:"row",flex:"grow",position:"relative",children:[a.length>0&&e===!0&&j.jsx(c("IGDSBox.react"),{alignItems:"start",direction:"column",justifyContent:"start",marginEnd:1,position:"relative",children:j.jsx(c("PolarisLikedByListButton.react"),{code:this.props.code,inModal:this.props.inModal,onClick:this.$3,children:b})}),j.jsx(c("IGDSBox.react"),{alignItems:"start",direction:"column",flex:"grow",margin:"auto",position:"relative",wrap:!0,children:j.jsx(c("IGDSText.react"),{zeroMargin:!0,children:j.jsx(c("PolarisLikedByText.react"),{code:this.props.code,hideCounts:this.props.hideCounts,inModal:!!this.props.inModal,onClick:this.$3,onLike:this.$2,topLikers:this.props.topLikers,totalCount:this.props.totalCount,users:this.props.users})})})]})};return a}(j.Component);function a(a){return{onViewLikedByList:function(b){return a(d("PolarisLikedByListActions").requestNativeLikedByList(b))}}}function b(a){var b=i(10),c=d("PolarisReactRedux.react").useDispatch(),e=d("CometRelay").useRelayEnvironment(),f;b[0]!==c||b[1]!==e?(f=function(a){a=d("PolarisLinkBuilder").buildMediaLink(a);c(d("PolarisNavigationActions").openLoginModal(e,"content_wall",a,null,null,a))},b[0]=c,b[1]=e,b[2]=f):f=b[2];f=f;var g;b[3]!==c||b[4]!==e?(g=function(a,b){var f=d("PolarisUA").isDesktop()||d("PolarisConfig").isLoggedOutFRXEligible()?"feature_wall":"content_wall";c(d("PolarisNavigationActions").openLoginModal(e,f,a,b,null,a))},b[3]=c,b[4]=e,b[5]=g):g=b[5];g=g;var h;b[6]!==a||b[7]!==f||b[8]!==g?(h=j.jsx(k,babelHelpers["extends"]({},a,{onGoToLoginModal:f,onLoggedOutIntentClickLoginModal:g})),b[6]=a,b[7]=f,b[8]=g,b[9]=h):h=b[9];return h}e=d("IGRouter_DO_NOT_USE.react").withIGRouter(d("PolarisReactRedux.react").connect(null,a)(b));g["default"]=e}),98);
__d("PolarisPostSocialProof.react",["PolarisPostLikers.react","PolarisPostVariants","PolarisPostViews.react","PolarisShouldHideLikeCountsWithControls","PolarisUA","nullthrows","polarisGetPostFromGraphMediaInterface","react","usePolarisIsOnAdsActivityPage","usePolarisIsOnFeedPage"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(28),e=a.analyticsContext,f=a.canLike,g=a.className,h=a.code,k=a.containerRef,l=a.inModal,m=a.likeAndViewCountsDisabled,n=a.likedByViewer,o=a.likers,p=a.mediaId,q=a.numPreviewLikes,r=a.onLikeChange,s=a.onLikeCountClick,t=a.productType,u=a.topLikers,v=a.variant,w=a.videoViews,x=a.viewer;a=a.viewerIsOwner;var y=w!=null&&w>0,z=q!==0,A=c("usePolarisIsOnFeedPage")(),B=c("usePolarisIsOnAdsActivityPage")();v===d("PolarisPostVariants").VARIANTS.feed?v=z||y:v=z||y||f;z=x==null?void 0:x.hideLikeAndViewCounts;b[0]!==z||b[1]!==m||b[2]!==a?(f=d("PolarisShouldHideLikeCountsWithControls").shouldHideLikeCountsWithControls(z,m,a),b[0]=z,b[1]=m,b[2]=a,b[3]=f):f=b[3];z=f;m=y&&!z&&!d("polarisGetPostFromGraphMediaInterface").isClipsProductType(t);if(!v)return null;b[4]!==A||b[5]!==B||b[6]!==l?(a=(A||B)&&l!==!0&&d("PolarisUA").isDesktop(),b[4]=A,b[5]=B,b[6]=l,b[7]=a):a=b[7];f=a;b[8]!==m||b[9]!==w||b[10]!==e||b[11]!==q||b[12]!==f||b[13]!==l||b[14]!==r||b[15]!==h||b[16]!==z||b[17]!==n||b[18]!==p||b[19]!==s||b[20]!==u||b[21]!==o||b[22]!==x?(y=m?j.jsx(c("PolarisPostViews.react"),{analyticsContext:e,likeCount:q,viewCount:c("nullthrows")(w)}):j.jsx(c("PolarisPostLikers.react"),{avatarSize:f?"micro":void 0,code:h,hideCounts:z,inModal:!!l,likedByViewer:n,mediaId:p,onLike:function(){r(!0,"beTheFirstPrompt")},onLikeCountClick:s,topLikers:u,totalCount:q,users:o,viewer:x}),b[8]=m,b[9]=w,b[10]=e,b[11]=q,b[12]=f,b[13]=l,b[14]=r,b[15]=h,b[16]=z,b[17]=n,b[18]=p,b[19]=s,b[20]=u,b[21]=o,b[22]=x,b[23]=y):y=b[23];b[24]!==g||b[25]!==k||b[26]!==y?(t=j.jsx("section",{className:g,ref:k,children:y}),b[24]=g,b[25]=k,b[26]=y,b[27]=t):t=b[27];return t}g["default"]=a}),98);
__d("PolarisPostDetailsSection.react",["IGDSBox.react","IGDSText.react","PolarisCommentLikedByListContainerLazy.react","PolarisConfig","PolarisFeedPageConstants","PolarisGenericStrings","PolarisHotKeys.react","PolarisInteractionsLogger","PolarisLikedByListContainerLazy.react","PolarisLikedByListVariant","PolarisPendingCommentState","PolarisPoliticalContextButton.react","PolarisPostCaptionTranslationPrompt.react","PolarisPostCommentInputPicker.react","PolarisPostConstants","PolarisPostFeatures.react","PolarisPostFeedbackControls_DEPRECATED.react","PolarisPostFooter.react","PolarisPostModalRenderingContext.react","PolarisPostPreviewCommentsPicker.react","PolarisPostSocialProof.react","PolarisPostTimestamp.react","PolarisPostVariants","PolarisReactRedux.react","PolarisUA","isStringNullOrEmpty","nullthrows","polarisAdsSelectors.react","qex","react","stylex","usePolarisDisplayProperties","usePolarisIsOnAdsActivityPage","usePolarisIsOnFeedPage","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useEffect,aa=b.useRef,l=b.useState,ba=b.c,m={commentingDisabledForViewerBox:{alignItems:"x6s0dn4",borderTopColor:"x1xp8e9x",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",display:"x78zum5",height:"x1dnml7z",justifyContent:"xl56j7k",marginTop:"x1gslohp",order:"x1hrcb2b",$$css:!0},commentingDisabledForViewerBoxFamiliarFeed:{borderTopStyle:"x1ejq31n",borderEndStyle:"xd10rxx",borderBottomStyle:"x1sy0etr",borderStartStyle:"x17r0tee",height:"xxeg0ib",$$css:!0},commentingDisabledForViewerBoxV2:{marginTop:"xdj266r",$$css:!0},commentInput:{paddingBottom:"x10b6aqq",paddingTop:"x1yrsyyn",$$css:!0},commentInputAsSidebar:{order:"x1hrcb2b",$$css:!0},commentInputHidden:{display:"x1s85apg",minHeight:"x1wxaq2x",$$css:!0},commentInputStatic:{paddingEnd:"x1pi30zi",$$css:!0},commentInputV2:{paddingBottom:"xjkvuk6",paddingTop:"x1iorvi4",$$css:!0},commentInputV2WithRichComments:{paddingEnd:"xn6708d",paddingStart:"x1ye3gou",$$css:!0},comments:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minHeight:"x2lwn1j",overflowX:"xw2csxc",overflowY:"x1odjw0f",position:"x1n2onr6",$$css:!0},commentsAsSidebar:{marginTop:"xdj266r",marginEnd:"x1kncehz",marginBottom:"xat24cr",marginStart:"x10ndw75",order:"x9ek82g",overflowX:"x6ikm8r",$$css:!0},commentsMarginBottom:{marginBottom:"x12nagc",$$css:!0},commentsMarginBottomDense:{marginBottom:"xat24cr",$$css:!0},commentsV2:{marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"x4ii5y1",marginStart:"x1mh8g0r",paddingTop:"xexx8yu",paddingEnd:"xn6708d",paddingBottom:"x18d9i69",paddingStart:"x1ye3gou",$$css:!0},commentsWithRichComments:{marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"x4ii5y1",marginStart:"x1mh8g0r",paddingTop:"xexx8yu",paddingEnd:"x1pi30zi",paddingBottom:"x18d9i69",paddingStart:"x1swvt13",$$css:!0},expandedSidebarContainerResponsive:{borderTopStartRadius:"x168nmei",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"xo71vjh",$$css:!0},feedback:{marginTop:"x1gslohp",paddingBottom:"xwib8y2",paddingTop:"x1yrsyyn",$$css:!0},feedbackAsSidebar:{borderTopColor:"x1xp8e9x",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",order:"xo1ph6p",$$css:!0},feedbackV2:{paddingBottom:"x10b6aqq",paddingTop:"xexx8yu",$$css:!0},feedbackV2WithRichComments:{paddingEnd:"xn6708d",paddingStart:"x1ye3gou",$$css:!0},feedbackWithRichComments:{paddingEnd:"x1pi30zi",paddingStart:"x1swvt13",$$css:!0},mediaInfo:{boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",minWidth:"x1q2y9iw",paddingTop:"xexx8yu",paddingEnd:"x1pi30zi",paddingBottom:"x18d9i69",paddingStart:"x1swvt13",position:"x1n2onr6",width:"xh8yej3",$$css:!0},mediaInfoAsSidebar:{boxSizing:"x9f619",flexGrow:"x1iyjqo2",paddingEnd:"xxbr6pl",paddingStart:"xbbxn1n",$$css:!0},mediaInfoFamiliarFeed:{borderTopStyle:"x1ejq31n",borderEndStyle:"xd10rxx",borderBottomStyle:"x1sy0etr",borderStartStyle:"x17r0tee",$$css:!0},mediaInfoWithRichComments:{borderStartColor:"x18l3tf1",borderStartStyle:"x26u7qi",borderStartWidth:"xy80clv",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",$$css:!0},msite:{borderBottomColor:"xh05dso",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",$$css:!0},politicalContext:{marginBottom:"x1e56ztr",$$css:!0},politicalContextV2:{paddingEnd:"xn6708d",paddingStart:"x1ye3gou",$$css:!0},politicalContextWithRichComments:{paddingEnd:"x1pi30zi",paddingStart:"x1swvt13",$$css:!0},responsiveViewInsights:{marginStart:"x169t7cy",width:"x1j7kr1c",$$css:!0},roundedSidebarContainer:{borderTopStartRadius:"x168nmei",borderTopEndRadius:"x13lgxp2",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",$$css:!0},sectionWithNoPadding:{overflowX:"x1plvlek",overflowY:"xryxfnj",paddingEnd:"x4uap5",paddingStart:"xkhd6sd",$$css:!0},sidebarContainer:{display:"x78zum5",flexDirection:"xdt5ytf",pointerEvents:"x67bb7w",position:"x1n2onr6",$$css:!0},sidebarContainerAsSidebar:{backgroundColor:"xvbhtw8",height:"x5yr21d",width:"x4h1yfo",$$css:!0},sidebarContainerFeedRoot:{backgroundColor:"xvbhtw8",$$css:!0},sidebarContainerInModal:{backgroundColor:"xvbhtw8",height:"x5yr21d",$$css:!0},sidebarContainerV2:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",$$css:!0},socialProof:{marginBottom:"x1e56ztr",$$css:!0},socialProofAsSidebar:{marginBottom:"x12nagc",order:"x182iqb8",$$css:!0},socialProofV2:{paddingEnd:"xn6708d",paddingStart:"x1ye3gou",$$css:!0},socialProofWithRichComments:{paddingEnd:"x1pi30zi",paddingStart:"x1swvt13",$$css:!0},timestamp:{marginBottom:"x1yztbdb",$$css:!0},timestampAsSidebar:{order:"x1h3rv7z",$$css:!0},timestampDense:{marginBottom:"x1e56ztr",$$css:!0},timestampV2:{paddingStart:"x1ye3gou",$$css:!0},timestampWithRichComments:{paddingStart:"x1swvt13",$$css:!0},viewInsights:{borderBottomStyle:"x1sy0etr",borderTopColor:"x1xp8e9x",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",order:"x14yy4lh",$$css:!0},viewInsightsWithStackedCommentsSidecar:{marginBottom:"x1hyhr7",marginTop:"x1gde2r1",$$css:!0}};function a(a){var b=ba(80),e=a.analyticsContext,f=a.bloksAppId,g=a.currSidecarIndex,i=a.currSidecarItem,n=a.enableTruncation,o=a.handleLikeChange,p=a.handleSaveChange,q=a.hasDenserFeedRedesign,r=a.hasSidebarInRedesign,s=a.hasViewInsights,t=a.initialCommentsQuery,u=a.owner,v=a.permalinkedCommentId,w=a.permalinkedReplyId,x=a.post,y=a.postAuthorId,z=a.postAuthorUsername,A=a.postFeedbackControlsRef,B=a.postHeader,C=a.redesignWithoutSidebar,D=a.redesignWithSidebar,E=a.shouldIncreaseCommentPreviews,F=a.showDetailsAsSidebar,G=a.variant,H=a.viewer,I=!d("PolarisUA").isDesktop();a=l(null);var J=a[0],K=a[1];a=l(!1);var da=a[0],ea=a[1];a=l(!1);var fa=a[0],ga=a[1];a=c("usePolarisDisplayProperties")();var ha=a.viewportWidth,ia=aa(null);b[0]!==x.commentsDisabled||b[1]!==x.commentingDisabledForViewer||b[2]!==fa||b[3]!==ha?(a=function(){return x.commentsDisabled!==!0&&x.commentingDisabledForViewer!==!0&&(fa||ha>=d("PolarisPostConstants").SIDEBAR_VARIANT_CUTOFF)},b[0]=x.commentsDisabled,b[1]=x.commentingDisabledForViewer,b[2]=fa,b[3]=ha,b[4]=a):a=b[4];var L=a;b[5]!==x.id?(a=function(a){return(a=a.pendingComments[x.id])!=null?a:d("PolarisPendingCommentState").EMPTY_PENDING_COMMENT},b[5]=x.id,b[6]=a):a=b[6];a=d("PolarisReactRedux.react").useSelector(a);var M=a.committing,N=c("usePrevious")(M);a=d("PolarisPostModalRenderingContext.react").usePolarisPostModalRenderingContext();var O=a.isInModal;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){ga(!0),ia.current&&ia.current.focusAndScroll()},b[7]=a):a=b[7];var ja=a;b[8]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){ea(!1)},b[8]=a):a=b[8];var ka=a;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(a){ea(!0)},b[9]=a):a=b[9];var la=a;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){K(null)},b[10]=a):a=b[10];var ma=a;b[11]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(a){K(a)},b[11]=a):a=b[11];var na=a;b[12]!==H||b[13]!==x.commentsDisabled?(a=H?{c:function(){x.commentsDisabled!==!0&&ja()}}:{},b[12]=H,b[13]=x.commentsDisabled,b[14]=a):a=b[14];a=a;var P=c("usePrevious")(x),Q,R;b[15]!==P||b[16]!==x?(Q=function(){P!=null&&x!=null&&P!==x&&(K(null),ea(!1))},R=[x,P],b[15]=P,b[16]=x,b[17]=Q,b[18]=R):(Q=b[17],R=b[18]);k(Q,R);b[19]!==N||b[20]!==M?(Q=function(){N===!0&&M===!1&&ga(!1)},R=[M,N],b[19]=N,b[20]=M,b[21]=Q,b[22]=R):(Q=b[21],R=b[22]);k(Q,R);b[23]!==u||b[24]!==x||b[25]!==G?(Q={owner:u,post:x,variant:G},b[23]=u,b[24]=x,b[25]=G,b[26]=Q):Q=b[26];R=d("PolarisPostFeatures.react").usePolarisPostFeatures(Q);var S=R.canViewerProvideFeedback,T=R.commentsAreStacked,U=R.hasThreadedSidebarComments,V=R.isBlocked,W=R.isSidecar,oa=R.isStackedScreenSize,pa=R.showPostButton,X=d("polarisAdsSelectors.react").useFeedAdInfo(x==null?void 0:x.id,ca),Y=X==null?void 0:(Q=X.political_context)==null?void 0:Q.byline_text;R=c("usePolarisIsOnFeedPage")();Q=c("usePolarisIsOnAdsActivityPage")();var Z;b[27]!==R||b[28]!==Q||b[29]!==O?(Z=(R||Q)&&O!==!0&&d("PolarisUA").isDesktop(),b[27]=R,b[28]=Q,b[29]=O,b[30]=Z):Z=b[30];R=Z;var $=R;Q=D?"grow":"none";b[31]!==G||b[32]!==F||b[33]!==O||b[34]!==q||b[35]!==C||b[36]!==D||b[37]!==r||b[38]!==T||b[39]!==B||b[40]!==U||b[41]!==$||b[42]!==e||b[43]!==f||b[44]!==x||b[45]!==W||b[46]!==s||b[47]!==H||b[48]!==S||b[49]!==A||b[50]!==g||b[51]!==V||b[52]!==i||b[53]!==o||b[54]!==p||b[55]!==u||b[56]!==Y||b[57]!==y||b[58]!==n||b[59]!==t||b[60]!==v||b[61]!==w||b[62]!==E||b[63]!==L||b[64]!==X||b[65]!==pa||b[66]!==oa||b[67]!==da||b[68]!==z||b[69]!==J?(Z=function(a,b,k){return j.jsxs("div",{className:(h||(h=c("stylex")))(m.sidebarContainer,G===d("PolarisPostVariants").VARIANTS.feed&&m.sidebarContainerFeedRoot,F&&!O===!0&&m.sidebarContainerAsSidebar,O&&m.sidebarContainerInModal,!O===!0&&q&&m.sidebarContainerV2,C&&m.roundedSidebarContainer,D&&m.expandedSidebarContainerResponsive),onKeyUp:a,role:b,tabIndex:k,children:[(O===!0?r:!T)?B:null,j.jsxs("div",{className:h(m.mediaInfo,F&&m.mediaInfoAsSidebar,U&&m.mediaInfoWithRichComments,$&&m.mediaInfoFamiliarFeed),children:[j.jsx(c("PolarisPostFooter.react"),{analyticsContext:e,bloksAppId:f,boostedStatus:x.boostedStatus,boostUnavailableIdentifier:x.boostUnavailableIdentifier,boostUnavailableReason:x.boostUnavailableReason,className:h(d("PolarisUA").isMobile()?m.msite:m.viewInsights,!r&&m.responsiveViewInsights,T&&W&&d("PolarisUA").isMobile()&&c("qex")._("2979")!==!0&&m.viewInsightsWithStackedCommentsSidecar),hasViewInsights:s,mediaId:x.id,productType:x.productType,viewerId:H==null?void 0:H.id}),j.jsx(c("PolarisPostFeedbackControls_DEPRECATED.react"),{analyticsContext:e,canViewerProvideFeedback:S,canViewerReshare:x.viewerCanReshare,code:c("nullthrows")(x.code),commentsDisabled:!!x.commentsDisabled,containerRef:A,currSidecarIndex:g,hideShareButton:x.igMediaSharingDisabled===!0,isBlocked:V,isSidecar:W,isVideo:!!x.isVideo,likedByViewer:!!x.likedByViewer,mediaId:i!=null?i.id:x.id,numSteps:(a=x.sidecarChildren)==null?void 0:a.length,onCommentClick:ja,onLikeChange:o,onSaveChange:p,ownerIsPrivate:u.isPrivate,ownerUsername:u.username,postId:x.id,savedByViewer:!!x.savedByViewer,sharingFrictionInfo:i!=null?i.sharingFrictionInfo:x.sharingFrictionInfo,variant:G,xstyle:[m.feedback,q&&m.feedbackV2,q&&U&&m.feedbackV2WithRichComments,F&&m.feedbackAsSidebar,U&&m.feedbackWithRichComments,$&&m.sectionWithNoPadding]}),Y!=null&&j.jsx(c("PolarisPoliticalContextButton.react"),{className:(h||(h=c("stylex")))(m.politicalContext,U&&m.politicalContextWithRichComments,q&&U&&m.politicalContextV2),text:Y}),x.code!=null&&j.jsx(c("PolarisPostSocialProof.react"),{analyticsContext:e,canLike:!V&&S,className:(h||(h=c("stylex")))(m.socialProof,F&&m.socialProofAsSidebar,U&&m.socialProofWithRichComments,q&&U&&m.socialProofV2,$&&m.sectionWithNoPadding),code:c("nullthrows")(x.code),inModal:O,likeAndViewCountsDisabled:x.likeAndViewCountsDisabled,likedByViewer:!!x.likedByViewer,likers:x.likers||[],mediaId:x.id,numPreviewLikes:x.numPreviewLikes||0,onLikeChange:o,onLikeCountClick:la,productType:x.productType,topLikers:x.topLikers,variant:G,videoViews:x.videoViews,viewer:H,viewerIsOwner:y===(H==null?void 0:H.id)}),j.jsx(c("PolarisPostPreviewCommentsPicker.react"),{analyticsContext:e,caption:x.caption,captionCreatedAt:x.captionCreatedAt,captionHasTranslation:x.captionHasTranslation,captionId:x.captionCommentId,captionIsEdited:x.captionIsEdited,className:h(m.comments,!I&&m.commentsMarginBottom,I&&m.commentsMarginBottomDense,F&&m.commentsAsSidebar,U&&m.commentsWithRichComments,q&&U&&m.commentsV2,$&&m.sectionWithNoPadding),code:x.code,commentingDisabledForViewer:(b=x.commentingDisabledForViewer)!=null?b:!1,commentsAreStacked:T,commentsDisabled:x.commentsDisabled,commentsQuery:null,enableTruncation:n,hasRankedComments:x.hasRankedComments===!0,id:x.id,initialCommentsQuery:t,inModal:O,mediaType:d("PolarisInteractionsLogger").getMediaTypeFromPost(x),onLikeCountClick:na,owner:u,ownerId:y,permalinkedCommentId:v,permalinkedReplyId:w,postedAt:c("nullthrows")(x.postedAt),postId:x.id,shouldIncreaseCommentPreviews:E,showCommentOptionsInline:!0,title:x.title,variant:G}),!$&&j.jsx("div",{className:(h||(h=c("stylex")))(!I&&m.timestamp,I&&m.timestampDense,F&&m.timestampAsSidebar,U&&m.timestampWithRichComments,q&&U&&m.timestampV2),children:x.isSponsored===!0?null:j.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",position:"relative",children:[j.jsx(c("PolarisPostTimestamp.react"),{code:c("nullthrows")(x.code),isVideo:x.isVideo,postedAt:c("nullthrows")(x.postedAt),productType:(k=x.productType)!=null?k:"",username:u.username}),e===d("PolarisFeedPageConstants").FEED_PAGE_ANALYTICS_CONTEXT&&j.jsx(c("IGDSBox.react"),{marginStart:2,position:"relative",children:j.jsx(c("PolarisPostCaptionTranslationPrompt.react"),{inFeed:!0,postId:x.id})})]})}),(d("PolarisConfig").isIOS()||L())&&j.jsx(c("PolarisPostCommentInputPicker.react"),{adInfo:X,analyticsContext:e,canViewerProvideFeedback:S,hasPostButton:pa,id:x.id,inModal:O,isRevampVersion:!1,isVideo:x.isVideo,ownerId:u.id,ref:ia,xstyle:[m.commentInput,F&&m.commentInputAsSidebar,q&&m.commentInputV2,q&&U&&m.commentInputV2WithRichComments,!L()&&m.commentInputHidden,!oa&&m.commentInputStatic]},x.id),!L()&&d("PolarisUA").isDesktop()&&x.commentsDisabled!==!0&&x.commentingDisabledForViewer===!0&&j.jsx("div",{className:(h||(h=c("stylex")))(m.commentingDisabledForViewerBox,q&&m.commentingDisabledForViewerBoxV2,$&&m.commentingDisabledForViewerBoxFamiliarFeed),children:j.jsx(c("IGDSText.react"),{color:"tertiaryText",textAlign:"center",children:d("PolarisGenericStrings").COMMENTING_LIMITED})})]}),da&&j.jsx(c("PolarisLikedByListContainerLazy.react"),{display:c("PolarisLikedByListVariant").Modal,isOwnerTheViewer:(H==null?void 0:H.id)===y,likeAndViewCountsDisabled:x.likeAndViewCountsDisabled,likeCount:x.numLikes||0,mediaId:x.id,onClose:ka,ownerUsername:z,productType:(a=x.productType)!=null?a:"",shortcode:c("nullthrows")(x.code),viewCount:x.videoViews}),!c("isStringNullOrEmpty")(J)&&j.jsx(c("PolarisCommentLikedByListContainerLazy.react"),{commentId:J,display:c("PolarisLikedByListVariant").Modal,onClose:ma})]})},b[31]=G,b[32]=F,b[33]=O,b[34]=q,b[35]=C,b[36]=D,b[37]=r,b[38]=T,b[39]=B,b[40]=U,b[41]=$,b[42]=e,b[43]=f,b[44]=x,b[45]=W,b[46]=s,b[47]=H,b[48]=S,b[49]=A,b[50]=g,b[51]=V,b[52]=i,b[53]=o,b[54]=p,b[55]=u,b[56]=Y,b[57]=y,b[58]=n,b[59]=t,b[60]=v,b[61]=w,b[62]=E,b[63]=L,b[64]=X,b[65]=pa,b[66]=oa,b[67]=da,b[68]=z,b[69]=J,b[70]=Z):Z=b[70];b[71]!==a||b[72]!==Z?(R=j.jsx(c("PolarisHotKeys.react"),{keyMap:a,children:Z}),b[71]=a,b[72]=Z,b[73]=R):R=b[73];b[74]!==Q||b[75]!==R?(a=j.jsx(c("IGDSBox.react"),{flex:Q,position:"relative",children:R}),b[74]=Q,b[75]=R,b[76]=a):a=b[76];Z=a;if(D){b[77]===Symbol["for"]("react.memo_cache_sentinel")?(Q="x1qjc9v5 x972fbf xcfux6l x1qhh985 xm0m39n x9f619 x78zum5 xdt5ytf x1iyjqo2 x5wqa0o xln7xf2 xk390pu xdj266r x11i5rnm xat24cr x1mh8g0r x65f84u x1vq45kp xexx8yu x4uap5 x18d9i69 xkhd6sd x1n2onr6 x11njtxf",b[77]=Q):Q=b[77];b[78]!==Z?(R=j.jsx("div",{className:Q,children:Z}),b[78]=Z,b[79]=R):R=b[79];return R}return Z}function ca(a){return a}g["default"]=a}),98);
__d("PolarisPostHeaderFavoritedIconButton.react",["IGDSBox.react","IGDSIconButton.react","IGDSStarPanoFilledGradientIcon.react","PolarisFavoritesStrings","PolarisPostModalContext.react","polarisLogAction","react","usePolarisAnalyticsContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(5);a=a.isFavorited;var e=d("PolarisPostModalContext.react").useSetPostModal(),f=c("usePolarisAnalyticsContext")();if(a&&(f==="feedPage"||f==="postPage")){b[0]!==e?(a=function(){c("polarisLogAction")("favoriteIconInPostHeaderClick"),e("favorites")},b[0]=e,b[1]=a):a=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsx(c("IGDSBox.react"),{marginEnd:2,position:"relative",children:j.jsx(c("IGDSStarPanoFilledGradientIcon.react"),{alt:d("PolarisFavoritesStrings").FAVORITED_ICON_ALT,size:16})}),b[2]=f):f=b[2];b[3]!==a?(f=j.jsx(c("IGDSIconButton.react"),{onClick:a,children:f}),b[3]=a,b[4]=f):f=b[4];return f}return null}g["default"]=a}),98);
__d("PolarisPostInvitedCoauthorsOverlayFooterCTA.react",["fbt","IGDSBox.react","IGDSText.react","PolarisConfig","PolarisInvitedCoauthorsCountWithSheet.react","PolarisUserHoverCard.react","PolarisUserLink.react","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(19),e=a.invitedCoauthorProducers,f=a.mediaId;a=a.user;var g=d("PolarisConfig").getViewerIdOrZero(),i=e!=null;if(!i||(a==null?void 0:a.id)!==g||a==null||(a==null?void 0:a.username)==null)return null;b[0]!==e?(i=e==null?void 0:e.map(m),b[0]=e,b[1]=i):i=b[1];g=i;if(b[2]!==e){i=(a=e)!=null?a:[];b[2]=e;b[3]=i}else i=b[3];b[4]!==i?(a=i.map(l),b[4]=i,b[5]=a):a=b[5];i=a;b[6]!==g?(a=h._("__JHASH__3rTLclQQrhx__JHASH__",[h._param("invited_coauthor_username",g!=null&&g[0])]),b[6]=g,b[7]=a):a=b[7];a=a;var n;b[8]!==g?(n=h._("__JHASH__rDBE8Eo_1-o__JHASH__",[h._param("invited_coauthor_username_1",g!=null&&g[0]),h._param("invited_coauthor_username_2",g!=null&&g[1])]),b[8]=g,b[9]=n):n=b[9];n=n;var o;b[10]!==g||b[11]!==i||b[12]!==f?(o=h._("__JHASH__KlWz6CNCQZP__JHASH__",[h._param("invited_coauthor_username_1",g!=null&&g[0]),h._implicitParam("=m2",k.jsx(c("PolarisInvitedCoauthorsCountWithSheet.react"),{analyticsContext:"post_invited_coauthors_overlay_footer_cta",coauthors:i,mediaId:f,children:h._("__JHASH__H-6onCvv7IF__JHASH__")}))]),b[10]=g,b[11]=i,b[12]=f,b[13]=o):o=b[13];g=o;b[14]!==e||b[15]!==a||b[16]!==n||b[17]!==g?(i=e!=null&&e.length>0&&c("gkx")("4757")?k.jsx(c("IGDSBox.react"),{alignItems:"center",color:"primaryBackground",direction:"row",justifyContent:"between",paddingX:3,paddingY:2,position:"relative",children:k.jsx(c("IGDSBox.react"),{flex:"shrink",marginEnd:5,marginStart:1,maxWidth:350,overflow:"auto",wrap:!0,children:k.jsx(c("IGDSText.react").Body,{color:"primaryText",maxLines:3,zeroMargin:!0,children:e.length===1?a:e.length===2?n:e.length>2?g:null})})}):null,b[14]=e,b[15]=a,b[16]=n,b[17]=g,b[18]=i):i=b[18];return i}function l(a){var b;return{user:{fullName:(b=a.fullName)!=null?b:"",id:a.id,isVerified:(b=a.isVerified)!=null?b:!1,profilePictureUrl:(b=a.profilePictureUrl)!=null?b:"",username:(b=a.username)!=null?b:""}}}function m(a,b){var d;return k.jsx(c("PolarisUserHoverCard.react"),{display:"inline-block",isUserAvailable:!(a==null?void 0:a.isUnpublished),userId:(d=a==null?void 0:a.id)!=null?d:"",username:(d=a==null?void 0:a.username)!=null?d:"",children:k.jsx(c("PolarisUserLink.react"),{username:(d=a==null?void 0:a.username)!=null?d:""})},b)}m.displayName=m.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("PolarisPostFastOptionsButton.react",["fbt","IGDSBox.react","IGDSIconButton.react","IGDSMoreHorizontalPanoOutlineIcon.react","IGDSMoreVerticalPanoOutline24Icon.react","InstagramAdActionMenuFalcoEvent","PolarisContainerModuleUtils","PolarisPostModalContext.react","PolarisViewpointActionUtils","identityFunction","polarisAdsSelectors.react","polarisLogAction","react","usePolarisAnalyticsContext","usePolarisPost","usePolarisViewer"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i,l=h._("__JHASH__cFipUAiTKQi__JHASH__");function m(a){var b=j(3),d=a.color;a=a.orientation;a=a==="horizontal"?c("IGDSMoreHorizontalPanoOutlineIcon.react"):c("IGDSMoreVerticalPanoOutline24Icon.react");var e;b[0]!==a||b[1]!==d?(e=k.jsx(c("IGDSBox.react"),{alignItems:"center",height:24,justifyContent:"center",position:"relative",width:24,children:k.jsx(a,{alt:l,color:d})}),b[0]=a,b[1]=d,b[2]=e):e=b[2];return e}function a(a){var b=j(27),e=a.className,f=a.orientation,g=a.padding,h=a.postId;a=f===void 0?"horizontal":f;var i=d("PolarisPostModalContext.react").useSetPostModal(),l=c("usePolarisAnalyticsContext")();b[0]!==l?(f=d("PolarisContainerModuleUtils").getContainerModule(l),b[0]=l,b[1]=f):f=b[1];var p=f,q=d("usePolarisPost").usePost(h,c("identityFunction")),r=!!q.isVideo;f=c("usePolarisViewer")();var s=f==null?void 0:f.id,t=d("polarisAdsSelectors.react").useFeedAdInfo(h,o),u=d("polarisAdsSelectors.react").useFeedAdInfo(h,n);b[2]!==q?(f=d("PolarisViewpointActionUtils").getMPKForFeedMedia(q),b[2]=q,b[3]=f):f=b[3];var v=f;b[4]!==h||b[5]!==l||b[6]!==r||b[7]!==q.isSponsored||b[8]!==s||b[9]!==t||b[10]!==v||b[11]!==p||b[12]!==u||b[13]!==i?(f=function(){c("polarisLogAction")("postOptionsClick",{mediaId:h,source:l,type:r?"video":"photo"}),q.isSponsored===!0&&s!=null&&c("InstagramAdActionMenuFalcoEvent").log(function(){return{ad_id:t,m_pk:v,pigeon_reserved_keyword_module:p,pk:s,source_of_action:p,tracking_token:u}}),i("options")},b[4]=h,b[5]=l,b[6]=r,b[7]=q.isSponsored,b[8]=s,b[9]=t,b[10]=v,b[11]=p,b[12]=u,b[13]=i,b[14]=f):f=b[14];f=f;var w;b[15]!==a?(w=k.jsx(m,{color:"ig-secondary-text",orientation:a}),b[15]=a,b[16]=w):w=b[16];var x;b[17]!==a?(x=k.jsx(m,{color:"ig-primary-text",orientation:a}),b[17]=a,b[18]=x):x=b[18];b[19]!==w||b[20]!==f||b[21]!==g||b[22]!==x?(a=k.jsx(c("IGDSIconButton.react"),{"data-testid":void 0,hover:w,onClick:f,padding:g,children:x}),b[19]=w,b[20]=f,b[21]=g,b[22]=x,b[23]=a):a=b[23];b[24]!==e||b[25]!==a?(w=k.jsx("div",{className:e,children:a}),b[24]=e,b[25]=a,b[26]=w):w=b[26];return w}function n(a){return a==null?void 0:a.tracking_token}function o(a){return a==null?void 0:a.ad_id}b=k.memo(a);g["default"]=b}),226);
__d("PolarisPostOptionsButtonPicker.react",["PolarisPostFastOptionsButton.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(5),d=a.buttonClassName;a=a.mediaPK;var e;b[0]!==a?(e=j.jsx(c("PolarisPostFastOptionsButton.react"),{postId:a}),b[0]=a,b[1]=e):e=b[1];b[2]!==d||b[3]!==e?(a=j.jsx("div",{className:d,children:e}),b[2]=d,b[3]=e,b[4]=a):a=b[4];return a}g["default"]=a}),98);
__d("PolarisPostPageRouteReferrerContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({referrerTracePolicy:null});g["default"]=b}),98);
__d("PolarisSponsoredPostCTAFooter.react",["InstagramODS","PolarisClickEventLoggerProvider.react","PolarisPostFooterCTA.react","PolarisPostUtils","PolarisTrackingNodeProvider.react","polarisAdsSelectors.react","react","usePolarisSponsoredPostCTAFooterDominantColor"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(17),e=a.isMediaRendered,f=a.post;a=a.sidecarIndex;var g=d("polarisAdsSelectors.react").useFeedAdInfo(f.id,l),h=f.isSidecar;a=h===!0?(h=d("PolarisPostUtils").getCurrentSidecarItemFromPost(f,a))==null?void 0:h.id:f.id;b[0]!==e||b[1]!==a||b[2]!==f?(h={isMediaRendered:e,mediaId:a,post:f},b[0]=e,b[1]=a,b[2]=f,b[3]=h):h=b[3];e=c("usePolarisSponsoredPostCTAFooterDominantColor")(h);var m=e.ctaDominantColor;f=e.ctaFooterViewpointRef;if(a==null)return null;if(b[4]!==(g==null?void 0:g.ctaItems)||b[5]!==a){h=g==null?void 0:(h=g.ctaItems)==null?void 0:(e=h.get(a))==null?void 0:e.ctaLinkUrl;b[4]=g==null?void 0:g.ctaItems;b[5]=a;b[6]=h}else h=b[6];var n=h;if(b[7]!==(g==null?void 0:g.ctaItems)||b[8]!==a){e=g==null?void 0:(e=g.ctaItems)==null?void 0:(h=e.get(a))==null?void 0:h.ctaLinkText;b[7]=g==null?void 0:g.ctaItems;b[8]=a;b[9]=e}else e=b[9];var o=e,p=k;if(n!=null&&o!=null){b[10]!==m||b[11]!==n||b[12]!==o?(h=function(a){return j.jsx("div",{ref:a,children:j.jsx(c("PolarisPostFooterCTA.react"),{ctaDominantColor:m,"data-testid":void 0,disableAnimation:!1,externalURL:n,forceBottomBorder:!0,isActive:!0,isForAd:!0,onClick:p,showChevron:!0,text:o})})},b[10]=m,b[11]=n,b[12]=o,b[13]=h):h=b[13];b[14]!==f||b[15]!==h?(g=j.jsx(c("PolarisClickEventLoggerProvider.react"),{children:j.jsx(c("PolarisTrackingNodeProvider.react"),{ref:f,trackingNode:86,children:h})}),b[14]=f,b[15]=h,b[16]=g):g=b[16];return g}return null}function k(){c("InstagramODS").incr("web.ads.feed.link_click")}function l(a){return a}g["default"]=a}),98);
__d("PolarisUnsaveFromCollectionDialog.react",["fbt","IGCoreDialog.react","PolarisGenericStrings","PolarisUA","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(16),c=a.onClose,e=a.onUnsaveFromAll;a=a.onUnsaveFromCollection;var f;b[0]!==a?(f=a?h._("__JHASH__HVkWD3QgXEe__JHASH__"):h._("__JHASH__Gl54JxLo7Pe__JHASH__"),b[0]=a,b[1]=f):f=b[1];var g;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._("__JHASH__CSnwTDU3-Jd__JHASH__"),b[2]=g):g=b[2];var i;b[3]!==a?(i=a&&k.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{color:"ig-error-or-destructive",onClick:a,children:h._("__JHASH__x0m8qdE4Y2N__JHASH__")}),b[3]=a,b[4]=i):i=b[4];b[5]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._("__JHASH__e0klumbklCI__JHASH__"),b[5]=a):a=b[5];b[6]!==e?(a=k.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{color:d("PolarisUA").isDesktop()?"ig-error-or-destructive":"ig-primary-button",onClick:e,children:a}),b[6]=e,b[7]=a):a=b[7];b[8]!==c?(e=k.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{onClick:c,children:d("PolarisGenericStrings").CANCEL_TEXT}),b[8]=c,b[9]=e):e=b[9];b[10]!==f||b[11]!==c||b[12]!==i||b[13]!==a||b[14]!==e?(g=k.jsxs(d("IGCoreDialog.react").IGCoreDialog,{body:f,onModalClose:c,title:g,children:[i,a,e]}),b[10]=f,b[11]=c,b[12]=i,b[13]=a,b[14]=e,b[15]=g):g=b[15];return g}g["default"]=a}),226);
__d("polarisPostModalHelpers",["fbt","FBLogger","justknobx"],(function(a,b,c,d,e,f,g,h){"use strict";var i=1032,j=55,k=500,l=250,m=h._("__JHASH__l_M0CG6unzO__JHASH__");h=h._("__JHASH__wVnrOsb2lsR__JHASH__");var n=-1,o=1;function a(a){var b="";switch(a){case"profilePage":case"selfProfilePage":b="profilePageModal";break;case"locationPage":b="locationPageModal";break;case"tagPage":b="tagPageModal";break;case"exploreLandingPage":b="discoverMediaPageModal";break;case"DirectThreadPage":b="directThreadPageModal";break;case"ClipsAudioPage":b="clipsAudioPageModal";break;case"feedPage":b="feedPageModal";break;case"KeywordSearchExplorePage":b="keywordSearchExplorePageModal";break;case"adsActivityFeed":b="adActivityFeedModal";break;case"ExploreSERPPage":b="ExploreSERPPageModal";break;default:c("FBLogger")("ig_web").mustfix("Unexpected analytics context: "+a)}return b}function b(a){a=a.match(new RegExp("^(.+/)(saved)/(.+)/(.+)/"));return a!=null?a[4]:null}function d(a){return!!a.match(new RegExp("/p/"))}function e(a){a=a.match(new RegExp("/([^/]+)/[^/]*$"));return a?a[1]:null}function p(a,b,c,d){if(a.height>a.width){var e=c/a.height;d.style.maxHeight=c;d.style.maxWidth=a.width*e;d.style.aspectRatio=a.width+" / "+a.height}else b&&(d.style.aspectRatio="1"),d.style.maxHeight=c,d.style.maxWidth=c;return d}function q(a,b,c,d){c.style.maxWidth=b;b=b/a.width;c.style.maxHeight=a.height*b+d;c.style.aspectRatio=a.width*b+" / "+(a.height*b+d);return c}function f(a){var b=a.dimensions,d=a.footerHeight;d=d===void 0?j:d;var e=a.viewportHeight,f=a.viewportWidth,g=a.hasSidebarInRedesign;a=a.hasFooter;a=a===void 0?!1:a;if(b==null||e===0||f===0)return null;var h={style:{maxHeight:0,maxWidth:0}},m=f-64*2-(g?k:0);if(b){var n=e>f&&a===!0?m:g?e-24*2:e-24*2-l;n>i&&c("justknobx")._("64")&&(n=i);if(a===!1)h=p(b,g,n,h);else{a=b.height;a=(n-d)/a;h.style.maxHeight=n;!g?h=q(b,n,h,d):b.height>=b.width?e>f?h=q(b,n,h,d):b.width*a>m?h=q(b,m,h,d):(h.style.maxHeight=n,h.style.aspectRatio=b.width*a+" / "+(b.height*a+d),h.style.maxWidth=b.width*a):(h.style.aspectRatio=b.width*a>b.height*a+d?"1":b.width*a+" / "+(b.height*a+d),h.style.maxWidth=e>f?n:b.width*a>b.height*a+d?n:b.width*a)}g&&(h.style.flexBasis=h.style.maxWidth)}return h}g.PREVIOUS_ARROW_TITLE=m;g.NEXT_ARROW_TITLE=h;g.LEFT_DELTA=n;g.RIGHT_DELTA=o;g.getModalPageIdFromAnalyticsContext=a;g.getCollectionIdFromPath=b;g.isPostUrl=d;g.getPostCodeFromPath=e;g.getMediaContainerProps=f}),226);
__d("PolarisPost.react",["cx","CometErrorBoundary.react","IGDSBox.react","PolarisContainerModuleUtils","PolarisFollowButtonContainer.react","PolarisHeroPageletLogger","PolarisHotKeys.react","PolarisIGCoreConstants","PolarisInsightsUtils","PolarisInteractionsLogger","PolarisMediaContainer.react","PolarisOrganicImpressionAction","PolarisPanavisionQEHelpers","PolarisPostActionLikePost","PolarisPostActionRemovePostFromCollection","PolarisPostActionSavePost","PolarisPostActionUnlikePost","PolarisPostActionUnsavePost","PolarisPostCoauthorReviewOverlayFooterCTA.react","PolarisPostConstants","PolarisPostDetailsSection.react","PolarisPostFeatures.react","PolarisPostHeader.react","PolarisPostHeaderFavoritedIconButton.react","PolarisPostInvitedCoauthorsOverlayFooterCTA.react","PolarisPostModalContext.react","PolarisPostModalRenderingContext.react","PolarisPostOptionsButtonPicker.react","PolarisPostOverlayInfoFooterCTA.react","PolarisPostPageRouteReferrerContext.react","PolarisPostSuggestedHeader.react","PolarisPostToast.react","PolarisPostToastProvider.react","PolarisPostUtils","PolarisPostVariants","PolarisReactRedux.react","PolarisRoutePropUtils","PolarisSavedPostsActionEditCollection","PolarisSavedPostsTypes","PolarisSponsoredPostCTAFooter.react","PolarisTrackingNodeProvider.react","PolarisUA","PolarisUnsaveFromCollectionDialog.react","PolarisViewpointActionUtils","PolarisViewpointReact.react","PolarisVpvdImpressionAction","browserHistory_DO_NOT_USE","hero-tracing","joinClasses","nullthrows","polarisAdsSelectors.react","polarisDeveloperSettings","polarisLogAction","polarisPostModalHelpers","polarisPostSelectors","polarisRelationshipSelectors.react","polarisUserSelectors","polarisWithPPRLogging","react","useMergeRefs","usePolarisDisplayProperties","usePolarisIsOnFeedPage","usePolarisPostSetURLSidecarIndex","usePolarisShowFooterCTA","usePolarisViewer","usePrevious"],(function(a,b,c,d,e,f,g,aa){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useContext,k=e.useEffect,l=e.useRef,m=e.useState,n=e.c;function a(a){var b=a.adImpressionRefs,e=a.analyticsContext,f=a.autoplay,g=a.className,aa=a.enableTruncation,h=a.id;a.imageMediaActsAsCta;var n=a.initialCarouselIndex,o=a.initialCommentsQuery,p=a.isSponsored;p=p===void 0?!1:p;var q=a.isVisible,ba=a.lightLetterbox,ca=a.onMediaRendered,da=a.permalinkedCommentId,ea=a.permalinkedReplyId,r=a.position,fa=a.shortcode,ga=a.shouldIncreaseCommentPreviews,s=a.testid;s=s===void 0?"post":s;s=a.variant;var t=s===void 0?d("PolarisPostVariants").VARIANTS.flexible:s;s=a.viewpointActionsForSponsoredPost;var ha=a.visiblePosition,ia=a.willScrollTo,u=d("PolarisReactRedux.react").useDispatch(),v=d("PolarisReactRedux.react").useSelector(function(a){return d("polarisPostSelectors").getPostById(a,h)}),w=c("nullthrows")(v.owner).id;a=(a=v.group)==null?void 0:a.id;var ja=(a=a)!=null?a:w;a=j(c("PolarisPostPageRouteReferrerContext.react"));a=a.referrerTracePolicy;var x=j(d("PolarisRoutePropUtils").PolarisRoutePropContext);x=x==null?void 0:x.routePropQE.getBool("isElevatedFollowButton");var y=v.invitedCoauthorProducers,ka=d("PolarisReactRedux.react").useSelector(function(a){return d("polarisUserSelectors").getUserByIdOrThrows(a,w)}),z=d("PolarisReactRedux.react").useSelector(function(a){return d("polarisUserSelectors").getUserByIdOrThrows(a,ja)}),la=d("PolarisReactRedux.react").useSelector(function(a){return d("polarisRelationshipSelectors.react").getRelationship(a.relationships,ja)}),A=c("usePolarisViewer")(),B=!!(A==null?void 0:A.canSeeOrganicInsights),C=!!v.canSeeInsightsAsBrand,D=d("polarisAdsSelectors.react").useFeedAdInfo(v==null?void 0:v.id,function(a){return a}),E=c("usePolarisDisplayProperties")(),ma=E.viewportHeight;E=E.viewportWidth;var F=d("PolarisPostModalRenderingContext.react").usePolarisPostModalRenderingContext(),G=F.isInModal,H=(n=(F=n)!=null?F:d("PolarisPostUtils").getInitialSidecarIndexFromPost(v))!=null?n:0;v.isSidecar===!0&&(H<0||v.sidecarChildren!=null&&H>=v.sidecarChildren.length)&&(H=0);F=m(H);var I=F[0],na=F[1];n=m({});var J=n[0],oa=n[1];F=m(!1);n=F[0];var pa=F[1];F=m({});var K=F[0],qa=F[1];F=m(!1);var ra=F[0],L=F[1];F=m(!1);var sa=F[0],ta=F[1];F=m(null);var ua=F[0],va=F[1];F=l(null);var wa=c("usePolarisPostSetURLSidecarIndex")();k(function(){ia==="top"&&window.setTimeout(function(){window.scrollTo(0,0)})},[ia]);var M=c("usePrevious")(v);k(function(){M!=null&&v.id!==M.id&&(oa({}),qa({}))},[v,M]);k(function(){fa!=null&&v.isSidecar===!0&&wa(I+1)},[I,v.isSidecar,wa,fa]);var xa=function(a){pa(!0),ca!=null&&ca(v.id,a)},ya=function(a){na(a)},N=function(a,b){var c;c={containerModule:d("PolarisContainerModuleUtils").getContainerModule(e),inventorySource:v.inventorySource,mediaAuthorId:(c=v.owner)==null?void 0:c.id,mediaId:v.id,rankingInfoToken:v.loggingInfoToken,source:e,sourceOfLike:b,trackingToken:v.trackingToken};b=null;(D==null?void 0:D.ad_id)!=null&&(D==null?void 0:D.tracking_token)!=null&&Y!=null&&(b={adId:D==null?void 0:D.ad_id,adTrackingToken:D==null?void 0:D.tracking_token,viewerId:Y});a?v.likedByViewer!==!0&&u(d("PolarisPostActionLikePost").likePost(v.id,c,b)):u(d("PolarisPostActionUnlikePost").unlikePost(v.id,c,b))},za=function(){N(!0,"double_tap_media")},Aa=function(a){var b={source:e},f=null;if((D==null?void 0:D.ad_id)!=null&&(D==null?void 0:D.tracking_token)!=null&&Y!=null){var g;f={adId:D==null?void 0:D.ad_id,adTrackingToken:D==null?void 0:D.tracking_token,analyticsContext:e,followStatus:d("PolarisViewpointActionUtils").getFollowStatus(la),mediaPk:d("PolarisViewpointActionUtils").getMPKForFeedMedia(v),mediaType:d("PolarisInteractionsLogger").getMediaTypeFromPost(v),ownerId:(g=v.owner)==null?void 0:g.id,viewerId:Y}}a?v.savedByViewer!==!0&&u(d("PolarisPostActionSavePost").savePost(v.id,b,f)):v.savedByViewer===!0&&(v.savedByViewerToCollection===!0?(c("polarisLogAction")("removeSavedItemFromCollectionDialogShown"),L(!0)):u(d("PolarisPostActionUnsavePost").unsavePost(v.id,b,f)))},Ba=function(){c("polarisLogAction")("removeSavedItemFromCollectionDialogCancelled"),L(!1)},Ca=function(){L(!1),u(d("PolarisPostActionUnsavePost").unsavePost(v.id,{source:e})),c("polarisLogAction")("removeSavedItemFromCollectionDialogAccepted")},Da=function(){var b={source:e};L(!1);var a=d("browserHistory_DO_NOT_USE").browserHistory.location.pathname;a=d("polarisPostModalHelpers").getCollectionIdFromPath(a);a!=null&&A!=null&&(u(d("PolarisPostActionRemovePostFromCollection").removePostFromCollection({collectionId:a,postId:v.id})),u(d("PolarisSavedPostsActionEditCollection").editCollection({collectionId:a,postIdsToRemove:[v.id],source:b.source,userId:c("nullthrows")(A==null?void 0:A.id)})))},Ea=function(a){Ga(a)&&Ia(a.id)},Fa=function(a){Ja(a)},Ga=function(a){return J[a.id]===!0},Ha=function(a){return K[a]===!0},Ia=function(a){var b=babelHelpers["extends"]({},J);b[a]=!0;oa(b)},Ja=function(a){var b=babelHelpers["extends"]({},K);b[a]=!0;qa(b)},O=function(a){ta(!0),va(a)},Ka=function(){ta(!1)},P=d("browserHistory_DO_NOT_USE").browserHistory.location.pathname,Q=d("PolarisPostFeatures.react").usePolarisPostFeatures({owner:z,path:P,post:v,variant:t}),R=Q.commentsAreStacked,La=Q.hasPhotosOfYouOption,Ma=Q.hasThreadedSidebarComments,S=Q.isFavorited,Na=Q.isSidecar,Oa=Q.isStackedScreenSize;Q=Q.showFollowButton;P=d("polarisPostModalHelpers").getCollectionIdFromPath(P);var Pa=P!=null&&P!==d("PolarisSavedPostsTypes").SAVED_COLLECTION_TYPE.ALL_MEDIA_AUTO_COLLECTION;P=!!Q&&(!v.coauthorProducers||v.coauthorProducers.length===0)&&!p;var T=E>=d("PolarisPostConstants").SIDEBAR_VARIANT_CUTOFF,Qa=T&&G===!0,U=!T&&G===!0,Ra=G===!0?T:!R;Q=c("usePolarisIsOnFeedPage")();var V=e==="adsActivityFeed",W=(Q||V)&&G!==!0&&d("PolarisUA").isDesktop(),X=(Q||V)&&G!==!0&&d("PolarisUA").isDesktop(),Sa=d("PolarisPostUtils").getCurrentSidecarItemFromPost(v,I),Ta=i.jsxs("div",{className:"_aasi"+(W?" _aasj":"")+(U?" _aask":"")+(X?" _ai9a":""),children:[v.inventorySource==="mixed_unconnected"&&Q&&!G&&i.jsx(c("PolarisPostSuggestedHeader.react"),{postId:v.id,rankingInfoToken:v.loggingInfoToken,title:(V=v.explore)==null?void 0:V.title}),i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",position:"relative",children:[i.jsx(c("PolarisPostHeader.react"),{adTitle:D==null?void 0:D.ad_title,analyticsContext:e,clipsAttributionInfo:v.clipsAttributionInfo,clipsAudioAttributionInfo:v.clipsMusicAttributionInfo,coauthorProducers:v.coauthorProducers,displayFBPageName:D==null?void 0:D.display_fb_page_name,followHashtagInfo:v.followHashtagInfo,headerAvatarSize:c("PolarisIGCoreConstants").AVATAR_SIZES.small,inModal:G,isAffiliate:v.isAffiliate===!0,isPaidPartnership:v.isPaidPartnership===!0,isSharedToCloseFriends:v.audience==="MediaAudience.BESTIES",isSponsored:v.isSponsored===!0,isVideo:!!v.isVideo,location:v.location,mediaId:v.id,onDisabledClipsAudioAttributionClick:O,owner:z,postedAt:v.postedAt,shouldShowFollowButton:P&&!x,showVerifiedBadge:!0,sidebarVariantOptionsButton:Ma,sponsoredLabel:D==null?void 0:D.label,sponsors:v.sponsors,transparencyLabelOwner:v.owner},v.id),i.jsx(c("PolarisPostHeaderFavoritedIconButton.react"),{isFavorited:S}),x?i.jsx(c("PolarisFollowButtonContainer.react"),{analyticsContext:e,borderless:!1,"data-testid":void 0,isInline:!1,primaryCTAColor:"ig-lox-dynamic-black",userId:z.id,username:(Q=z.username)!=null?Q:""}):null,i.jsx(c("PolarisPostOptionsButtonPicker.react"),{buttonClassName:"_aasm"+(W||d("PolarisPanavisionQEHelpers").hasDenserMobileWebFeed()?" _aasn":"")+(X?" _agh1":""),mediaPK:v.id})]})]});V=d("PolarisInsightsUtils").getViewInsightsInfo(A,w,v,C,B);var Ua=V.bloksAppId,Va=V.hasViewInsights,Y=A==null?void 0:A.id;O=p&&s!=null?s:[d("PolarisOrganicImpressionAction").makePostImpressionAction(v,e,a,r),d("PolarisVpvdImpressionAction").makePostVpvdImpressionAction(v,e)];P=d("PolarisViewpointReact.react").useViewpoint({action:O,id:"viewpoint"+v.id});x=[P].concat((S=b)!=null?S:[]);var Wa=c("useMergeRefs").apply(void 0,x),Xa=A?{l:function(){N(!v.likedByViewer,"button")},s:function(){Aa(!v.savedByViewer)}}:{};Q=c("usePolarisShowFooterCTA")(v,I,J,p);var Z=null;p?Z=i.jsx(c("PolarisSponsoredPostCTAFooter.react"),{isMediaRendered:n,post:v,sidecarIndex:I}):Q||!G?Z=i.jsx(d("PolarisPostOverlayInfoFooterCTA.react").PolarisPostOverlayInfoFooterCTA,{analyticsContext:e,currentSidecarIndex:I,dynamicFooterRef:F,idsWithClearedBlurOverlays:J,idsWithDisabledMediaOverlayInfoImpressionLogging:K,onLogOverlayImpression:function(a){return Fa(a)},rootPost:v}):y!=null&&y.length>0&&(Z=i.jsxs("div",{children:[i.jsx(c("PolarisPostCoauthorReviewOverlayFooterCTA.react"),{invitedCoauthorProducers:y,mediaId:v.id,mediaShortcode:v.code,productType:v.productType,user:v.owner}),i.jsx(c("PolarisPostInvitedCoauthorsOverlayFooterCTA.react"),{invitedCoauthorProducers:y,mediaId:v.id,user:v.owner})]}));C=Z!=null;var $=d("polarisPostModalHelpers").getMediaContainerProps({dimensions:v.dimensions,footerHeight:C?(B=F.current)==null?void 0:B.offsetHeight:void 0,hasFooter:C,hasSidebarInRedesign:T,viewportHeight:ma,viewportWidth:E}),Ya=!1,Za={border:v.isSeen===!0?"2px solid green":"2px solid red"};return i.jsx(d("PolarisPostToastProvider.react").PostToastProvider,{children:function(a){return i.jsx(d("PolarisPostModalContext.react").PostModalContext,{post:v,children:i.jsx(d("hero-tracing").HeroPagelet,{name:d("PolarisHeroPageletLogger").getHeroPageletLogName(d("PolarisHeroPageletLogger").PageletLogName.POST,r),ref:Wa,children:function(b,h){return i.jsx(c("PolarisHotKeys.react"),{keyMap:Xa,children:function(j,k,l){return i.jsx(c("PolarisTrackingNodeProvider.react"),{ref:b,trackingNode:301,children:function(b){return i.jsxs("article",{className:c("joinClasses")(g,"_aatb"+(t===d("PolarisPostVariants").VARIANTS.feed?" _aatc":"")+(Oa?" _aatd":"")+(Oa?"":" _aate")+(R?" _aatf":"")+(Ra?" _aatg":"")+(Na?" _aath":"")+(Ma?" _aati":"")+(Va?" _aatj":"")),"data-testid":void 0,onKeyUp:j,ref:b,role:k,style:Ya?Za:{},tabIndex:l,children:[i.jsxs(c("IGDSBox.react"),{alignSelf:U?"center":void 0,direction:(G===!0?T:!R)?"row":"column",display:"flex",justifyContent:"center",maxHeight:"inherit",maxWidth:U&&($==null?void 0:$.style)!=null?$.style.maxWidth:"inherit",position:"relative",children:[(G===!0?!T:R)?Ta:null,i.jsx("div",babelHelpers["extends"]({},G===!0?$:{},{className:"_aatk"+(G===!0?" _aatl":"")+(Qa&&v.dimensions!=null&&v.dimensions.width>=v.dimensions.height?" _aatm":"")+(ba===!0?" _aatn":"")+(X?" _aiao":""),children:i.jsx(c("PolarisMediaContainer.react"),{accessibilityCaption:v.accessibilityCaption,adInfo:D,analyticsContext:e,autoplay:f,checkIsSensitivityOverlayDisabledCallback:function(a){return Ga(a)},className:"_aato",commentsAreStacked:R,hasPhotosOfYouOption:La,hasViewInsights:Va,id:v.id,initialCarouselIndex:H,inModal:G,isVisible:q,mediaFooter:Z,onLike:A?za:null,onPostMediaRendered:xa,onPostSidecarChildIndexChange:ya,onSensitivityOverlayCleared:Ea,onToastClose:Ka,position:r,post:v,relationship:la,sensitivityOverlayMediaOverlayInfoLoggingProps:{checkIfMediaOverlayInfoImpressionLoggingDisabled:function(a){return Ha(a)},onLoggedMediaOverlayInfoImpression:function(a){return Fa(a)}},showToast:sa,toastString:ua,viewer:A,visiblePosition:ha})})),i.jsx(c("PolarisPostDetailsSection.react"),{analyticsContext:e,bloksAppId:Ua,currSidecarIndex:I,currSidecarItem:Sa,enableTruncation:aa,handleLikeChange:N,handleSaveChange:Aa,hasDenserFeedRedesign:W,hasSidebarInRedesign:T,hasViewInsights:Va,initialCommentsQuery:o,owner:z,permalinkedCommentId:da,permalinkedReplyId:ea,post:v,postAuthorId:w,postAuthorUsername:ka==null?void 0:ka.username,postFeedbackControlsRef:a,postHeader:Ta,redesignWithoutSidebar:U,redesignWithSidebar:Qa,shouldIncreaseCommentPreviews:ga,showDetailsAsSidebar:Ra,variant:t,viewer:A}),ra&&i.jsx(c("PolarisUnsaveFromCollectionDialog.react"),{onClose:Ba,onUnsaveFromAll:Ca,onUnsaveFromCollection:Pa&&d("PolarisUA").isDesktop()?Da:null}),i.jsx(c("PolarisPostToast.react"),{isFeedVariant:t===d("PolarisPostVariants").VARIANTS.feed,isModal:(b=G)!=null?b:!1})]}),i.jsx(h,{})]})}})}})}})},v.id)}})}a.displayName=a.name+" [from "+f.id+"]";var o=c("polarisWithPPRLogging")(a);function p(){c("polarisLogAction")("feedUnitFailure",{source:"PolarisPost"})}function b(a){var b=n(2),d;b[0]!==a?(d=i.jsx(c("CometErrorBoundary.react"),{fallback:q,onError:p,children:i.jsx(o,babelHelpers["extends"]({},a))}),b[0]=a,b[1]=d):d=b[1];return d}function q(a){return null}g["default"]=b}),98);
__d("PolarisPostActionLoadPostQueryInlineFragment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"PolarisPostActionLoadPostQueryInlineFragment"};e.exports=a}),null);
__d("PolarisPostActionLoadPostQueryInlineFragmentWithoutRelatedProfiles.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"PolarisPostActionLoadPostQueryInlineFragmentWithoutRelatedProfiles"};e.exports=a}),null);
__d("PolarisPostActionLoadPostQueryInlineMediaFragment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"PolarisPostActionLoadPostQueryInlineMediaFragment"};e.exports=a}),null);
__d("PolarisPostActionLoadPostQueryInlineSharerFragment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"PolarisPostActionLoadPostQueryInlineSharerFragment"};e.exports=a}),null);
__d("PolarisPostActionLoadPostQueryLegacyQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8136398069788847"}),null);
__d("PolarisPostActionLoadPostQueryLegacyQuery.graphql",["PolarisPostActionLoadPostQueryLegacyQuery_instagramRelayOperation"],(function(a,aa,b,c,d,e){"use strict";a=function(){var a={defaultValue:3,kind:"LocalArgument",name:"fetch_related_profile_media_count"},b={defaultValue:null,kind:"LocalArgument",name:"fetch_tagged_user_count"},c={defaultValue:null,kind:"LocalArgument",name:"hoisted_comment_id"},d={defaultValue:null,kind:"LocalArgument",name:"hoisted_reply_id"},e={defaultValue:null,kind:"LocalArgument",name:"shortcode"},f=[{kind:"Variable",name:"shortcode",variableName:"shortcode"}],g={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"shortcode",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"thumbnail_src",storageKey:null},k={alias:null,args:null,concreteType:"XDTGraphMediaDimensions",kind:"LinkedField",name:"dimensions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"buttons",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"gating_type",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"center_button",storageKey:null},ba={alias:null,args:null,kind:"ScalarField",name:"post_reveal_cta",storageKey:null},ca={alias:null,args:null,kind:"ScalarField",name:"time_gated",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"misinformation_type",storageKey:null},r={alias:null,args:null,concreteType:"XDTGraphMediaGatingInfo",kind:"LinkedField",name:"gating_info",plural:!1,selections:[l,m,n,o,p,ba,ca,q],storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"fact_check_overall_rating",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},v={alias:null,args:null,concreteType:"XDTGraphMediaFactCheck",kind:"LinkedField",name:"fact_check_information",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},o,{alias:null,args:null,kind:"ScalarField",name:"rating",storageKey:null},{alias:null,args:null,concreteType:"XDTGraphMediaFactCheckProvider",kind:"LinkedField",name:"provider",plural:!1,selections:[t,u,{alias:null,args:null,kind:"ScalarField",name:"appeal_email",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_directly_rated",storageKey:null}],storageKey:null},w={alias:null,args:null,concreteType:"XDTGraphMediaSensitivityFrictionInfo",kind:"LinkedField",name:"sensitivity_friction_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"sensitivity_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"share_friction_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"share_friction_subtitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"share_friction_primary_button",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"share_friction_secondary_button",storageKey:null}],storageKey:null},x={alias:null,args:null,concreteType:"XDTGraphMediaSharingFrictionInfo",kind:"LinkedField",name:"sharing_friction_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"should_have_sharing_friction",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"bloks_app_url",storageKey:null}],storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},z={alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},A={alias:null,args:null,concreteType:"XDTGraphMediaOverlayIconSpec",kind:"LinkedField",name:"icon",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"icon_glyph",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icon_type",storageKey:null},t,z],storageKey:null},B=[{alias:null,args:null,kind:"ScalarField",name:"button_type",storageKey:null},y,{alias:null,args:null,kind:"ScalarField",name:"secondary_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action_url",storageKey:null},A,{alias:null,args:null,concreteType:"XDTGraphMediaOverlayTextColorSpec",kind:"LinkedField",name:"text_color",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"light",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dark",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_text_centered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_chevron",storageKey:null}];B={alias:null,args:null,concreteType:"XDTGraphMediaOverlayInfo",kind:"LinkedField",name:"media_overlay_info",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTGraphMediaOverlayButtonSpec",kind:"LinkedField",name:"banner",plural:!1,selections:B,storageKey:null},{alias:null,args:null,concreteType:"XDTGraphMediaOverlayButtonSpec",kind:"LinkedField",name:"buttons",plural:!0,selections:B,storageKey:null},m,A,q,{alias:null,args:null,kind:"ScalarField",name:"overlay_layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"overlay_type",storageKey:null},o,{alias:null,args:null,kind:"ScalarField",name:"bloks_data",storageKey:null}],storageKey:null};A={alias:null,args:null,kind:"ScalarField",name:"media_preview",storageKey:null};q={alias:null,args:null,kind:"ScalarField",name:"display_url",storageKey:null};z={alias:null,args:null,concreteType:"XDTGraphImageResource",kind:"LinkedField",name:"display_resources",plural:!0,selections:[z,{alias:null,args:null,kind:"ScalarField",name:"config_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"config_height",storageKey:null}],storageKey:null};var C={alias:null,args:null,kind:"ScalarField",name:"is_video",storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"tracking_token",storageKey:null},E={alias:null,args:null,concreteType:"XDTGraphUpcomingEventDict",kind:"LinkedField",name:"upcoming_event",plural:!1,selections:[h,o,{alias:null,args:null,kind:"ScalarField",name:"start_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reminder_enabled",storageKey:null}],storageKey:null},da=[{kind:"Variable",name:"first",variableName:"fetch_tagged_user_count"}],F={alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},G={alias:null,args:null,kind:"ScalarField",name:"followed_by_viewer",storageKey:null},H={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},ea={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"user",plural:!1,selections:[F,G,h,H,u,I],storageKey:null},fa={alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},ga={alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},ha={alias:null,args:da,concreteType:"XDTgraphmediainterface_edge_media_to_tagged_user_connection",kind:"LinkedField",name:"edge_media_to_tagged_user",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_tagged_user",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphTaggedUser",kind:"LinkedField",name:"node",plural:!1,selections:[ea,fa,ga],storageKey:null}],storageKey:null}],storageKey:null},J={alias:null,args:null,kind:"ScalarField",name:"is_private",storageKey:null},K={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},L=[K],M={alias:null,args:null,concreteType:"XDTgraphuser_edge_followed_by_connection",kind:"LinkedField",name:"edge_followed_by",plural:!1,selections:L,storageKey:null};G={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"owner",plural:!1,selections:[h,I,{alias:null,args:null,kind:"ScalarField",name:"has_onboarded_to_text_post_app",storageKey:null},H,u,{alias:null,args:null,kind:"ScalarField",name:"blocked_by_viewer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"restricted_by_viewer",storageKey:null},G,F,{alias:null,args:null,kind:"ScalarField",name:"has_blocked_viewer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_embeds_disabled",storageKey:null},J,{alias:null,args:null,kind:"ScalarField",name:"is_unpublished",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"requested_by_viewer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pass_tiering_recommendation",storageKey:null},{alias:null,args:null,concreteType:"XDTgraphuser_edge_owner_to_timeline_media_connection",kind:"LinkedField",name:"edge_owner_to_timeline_media",plural:!1,selections:L,storageKey:null},M],storageKey:null};var ia=[{kind:"Literal",name:"first",value:1}],N={alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},ja={alias:null,args:null,kind:"ScalarField",name:"can_see_insights_as_brand",storageKey:null},ka={alias:null,args:null,kind:"ScalarField",name:"caption_is_edited",storageKey:null},la={alias:null,args:null,kind:"ScalarField",name:"has_ranked_comments",storageKey:null},ma={alias:null,args:null,kind:"ScalarField",name:"like_and_view_counts_disabled",storageKey:null},O={alias:null,args:null,concreteType:"XDTPageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null}],storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"did_report_as_spam",storageKey:null},Q=[h,H,u,I],R={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"owner",plural:!1,selections:Q,storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"viewer_has_liked",storageKey:null},T={alias:null,args:null,concreteType:"XDTgraphcomment_edge_liked_by_connection",kind:"LinkedField",name:"edge_liked_by",plural:!1,selections:L,storageKey:null},U={alias:null,args:null,kind:"ScalarField",name:"is_restricted_pending",storageKey:null},V=[{alias:null,args:null,concreteType:"XDTGraphComment",kind:"LinkedField",name:"node",plural:!1,selections:[h,y,N,P,R,S,T,U],storageKey:null}],W={alias:null,args:[{kind:"Literal",name:"first",value:3}],concreteType:"XDTgraphcomment_edge_threaded_comments_connection",kind:"LinkedField",name:"edge_threaded_comments",plural:!1,selections:[K,O,{alias:null,args:null,concreteType:"XDTgraphcomment_edge_threaded_comments",kind:"LinkedField",name:"edges",plural:!0,selections:V,storageKey:null}],storageKey:"edge_threaded_comments(first:3)"};O={alias:null,args:[{kind:"Literal",name:"first",value:24}],concreteType:"XDTgraphmediainterface_edge_media_to_parent_comment_connection",kind:"LinkedField",name:"edge_media_to_parent_comment",plural:!1,selections:[K,O,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_parent_comment",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphComment",kind:"LinkedField",name:"node",plural:!1,selections:[h,y,N,P,R,S,T,U,W],storageKey:null}],storageKey:null}],storageKey:"edge_media_to_parent_comment(first:24)"};P={alias:null,args:[{kind:"Variable",name:"hoisted_comment_id",variableName:"hoisted_comment_id"}],concreteType:"XDTgraphmediainterface_edge_media_to_hoisted_comment_connection",kind:"LinkedField",name:"edge_media_to_hoisted_comment",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_hoisted_comment",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphComment",kind:"LinkedField",name:"node",plural:!1,selections:[h,y,N,P,R,S,T,U,{alias:null,args:[{kind:"Variable",name:"hoisted_reply_id",variableName:"hoisted_reply_id"}],concreteType:"XDTgraphcomment_edge_comment_to_hoisted_reply_connection",kind:"LinkedField",name:"edge_comment_to_hoisted_reply",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphcomment_edge_comment_to_hoisted_reply",kind:"LinkedField",name:"edges",plural:!0,selections:V,storageKey:null}],storageKey:null},W],storageKey:null}],storageKey:null}],storageKey:null};R={alias:null,args:[{kind:"Literal",name:"first",value:2}],concreteType:"XDTgraphmediainterface_edge_media_preview_comment_connection",kind:"LinkedField",name:"edge_media_preview_comment",plural:!1,selections:[K,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_preview_comment",kind:"LinkedField",name:"edges",plural:!0,selections:V,storageKey:null}],storageKey:"edge_media_preview_comment(first:2)"};T={alias:null,args:null,kind:"ScalarField",name:"comments_disabled",storageKey:null};U={alias:null,args:null,kind:"ScalarField",name:"commenting_disabled_for_viewer",storageKey:null};W={alias:null,args:null,kind:"ScalarField",name:"taken_at_timestamp",storageKey:null};V={alias:null,args:[{kind:"Literal",name:"first",value:10}],concreteType:"XDTgraphmediainterface_edge_media_preview_like_connection",kind:"LinkedField",name:"edge_media_preview_like",plural:!1,selections:[K,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_preview_like",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"node",plural:!1,selections:Q,storageKey:null}],storageKey:null}],storageKey:"edge_media_preview_like(first:10)"};var X=[h,I],na={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"sponsor",plural:!1,selections:X,storageKey:null},oa={alias:null,args:null,kind:"ScalarField",name:"is_affiliate",storageKey:null},pa={alias:null,args:null,kind:"ScalarField",name:"is_paid_partnership",storageKey:null};t={alias:null,args:null,concreteType:"XDTGraphLocation",kind:"LinkedField",name:"location",plural:!1,selections:[h,{alias:null,args:null,kind:"ScalarField",name:"has_public_page",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"address_json",storageKey:null}],storageKey:null};var qa={alias:null,args:null,concreteType:"XDTGraphNftAssetInfoType",kind:"LinkedField",name:"nft_asset_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"asset_id",storageKey:null},o,{alias:null,args:null,kind:"ScalarField",name:"shimmer_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creator_username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creator_igid",storageKey:null}],storageKey:null},ra={alias:null,args:null,kind:"ScalarField",name:"viewer_has_saved",storageKey:null},sa={alias:null,args:null,kind:"ScalarField",name:"viewer_has_saved_to_collection",storageKey:null},ta={alias:null,args:null,kind:"ScalarField",name:"viewer_in_photo_of_you",storageKey:null},ua={alias:null,args:null,kind:"ScalarField",name:"viewer_can_reshare",storageKey:null},va={alias:null,args:null,kind:"ScalarField",name:"is_ad",storageKey:null},wa={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"coauthor_producers",plural:!0,selections:Q,storageKey:null};Q={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"pinned_for_users",plural:!0,selections:Q,storageKey:null};var Y={alias:null,args:null,kind:"ScalarField",name:"accessibility_caption",storageKey:null},Z=[Y],$={kind:"InlineFragment",selections:Z,type:"XDTGraphImage",abstractKey:null};F={alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_related_profiles_connection",kind:"LinkedField",name:"edge_related_profiles",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_related_profiles",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"node",plural:!1,selections:[h,F,J,H,u,I,M,{alias:null,args:[{kind:"Variable",name:"first",variableName:"fetch_related_profile_media_count"}],concreteType:"XDTgraphuser_edge_owner_to_timeline_media_connection",kind:"LinkedField",name:"edge_owner_to_timeline_media",plural:!1,selections:[K,{alias:null,args:null,concreteType:"XDTgraphuser_edge_owner_to_timeline_media",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[g,h,i,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_preview_like_connection",kind:"LinkedField",name:"edge_media_preview_like",plural:!1,selections:L,storageKey:null},{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_preview_comment_connection",kind:"LinkedField",name:"edge_media_preview_comment",plural:!1,selections:L,storageKey:null},j,{alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"owner",plural:!1,selections:X,storageKey:null},{alias:null,args:null,concreteType:"XDTGraphMediaGatingInfo",kind:"LinkedField",name:"gating_info",plural:!1,selections:[l,m,n,o,p,ba,ca],storageKey:null},x,B,C,$,{kind:"InlineFragment",selections:Z,type:"XDTGraphSidecar",abstractKey:null},{kind:"InlineFragment",selections:Z,type:"XDTGraphVideo",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null};J={alias:null,args:null,concreteType:"XDTGraphDashInfo",kind:"LinkedField",name:"dash_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_dash_eligible",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"video_dash_manifest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"number_of_qualities",storageKey:null}],storageKey:null};H={alias:null,args:null,kind:"ScalarField",name:"has_audio",storageKey:null};u={alias:null,args:null,kind:"ScalarField",name:"video_url",storageKey:null};I={alias:null,args:null,kind:"ScalarField",name:"video_view_count",storageKey:null};M={alias:null,args:null,kind:"ScalarField",name:"video_play_count",storageKey:null};K={kind:"InlineFragment",selections:[Y,J,H,u,I,M,{alias:null,args:null,kind:"ScalarField",name:"encoding_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_published",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"product_type",storageKey:null},o,{alias:null,args:null,kind:"ScalarField",name:"video_duration",storageKey:null},{alias:null,args:null,concreteType:"XDTGraphClipsMusicAttributionInfo",kind:"LinkedField",name:"clips_music_attribution_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"artist_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"song_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uses_original_audio",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_mute_audio",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_mute_audio_reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audio_id",storageKey:null}],storageKey:null}],type:"XDTGraphVideo",abstractKey:null};L={kind:"InlineFragment",selections:[Y,J,H,u,I,M],type:"XDTGraphVideo",abstractKey:null};X={alias:null,args:da,concreteType:"XDTgraphmediainterface_edge_media_to_tagged_user_connection",kind:"LinkedField",name:"edge_media_to_tagged_user",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_tagged_user",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphTaggedUser",kind:"LinkedField",name:"node",plural:!1,selections:[ea,fa,ga,h],storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[a,b,c,d,e],kind:"Fragment",metadata:null,name:"PolarisPostActionLoadPostQueryLegacyQuery",selections:[{alias:null,args:f,concreteType:null,kind:"LinkedField",name:"xdt_shortcode_media",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"PolarisPostActionLoadPostQueryInlineFragment",selections:[g,h,i,j,k,r,s,v,w,x,B,A,q,z,C,D,E,ha,G,{alias:null,args:ia,concreteType:"XDTgraphmediainterface_edge_media_to_caption_connection",kind:"LinkedField",name:"edge_media_to_caption",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_caption",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphMediaCaption",kind:"LinkedField",name:"node",plural:!1,selections:[N,y],storageKey:null}],storageKey:null}],storageKey:"edge_media_to_caption(first:1)"},ja,ka,la,ma,O,P,R,T,U,W,V,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_sponsor_user_connection",kind:"LinkedField",name:"edge_media_to_sponsor_user",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_sponsor_user",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphSponsorTag",kind:"LinkedField",name:"node",plural:!1,selections:[na],storageKey:null}],storageKey:null}],storageKey:null},oa,pa,t,qa,S,ra,sa,ta,ua,va,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_web_media_to_related_media_connection",kind:"LinkedField",name:"edge_web_media_to_related_media",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_web_media_to_related_media",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[i,j],storageKey:null}],storageKey:null}],storageKey:null},wa,Q,F,K,$,{kind:"InlineFragment",selections:[Y,{alias:null,args:null,concreteType:"XDTgraphsidecar_edge_sidecar_to_children_connection",kind:"LinkedField",name:"edge_sidecar_to_children",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphsidecar_edge_sidecar_to_children",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[g,h,i,k,r,s,v,w,x,B,A,q,z,L,$,C,D,E,ha],storageKey:null}],storageKey:null}],storageKey:null}],type:"XDTGraphSidecar",abstractKey:null}],args:null,argumentDefinitions:[{kind:"RootArgument",name:"fetch_related_profile_media_count"},{kind:"RootArgument",name:"fetch_tagged_user_count"},{kind:"RootArgument",name:"hoisted_comment_id"},{kind:"RootArgument",name:"hoisted_reply_id"}]}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[e,a,b,c,d],kind:"Operation",name:"PolarisPostActionLoadPostQueryLegacyQuery",selections:[{alias:null,args:f,concreteType:null,kind:"LinkedField",name:"xdt_shortcode_media",plural:!1,selections:[g,{kind:"TypeDiscriminator",abstractKey:"__isXDTGraphMediaInterface"},h,i,j,k,r,s,v,w,x,B,A,q,z,C,D,E,X,G,{alias:null,args:ia,concreteType:"XDTgraphmediainterface_edge_media_to_caption_connection",kind:"LinkedField",name:"edge_media_to_caption",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_caption",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphMediaCaption",kind:"LinkedField",name:"node",plural:!1,selections:[N,y,h],storageKey:null}],storageKey:null}],storageKey:"edge_media_to_caption(first:1)"},ja,ka,la,ma,O,P,R,T,U,W,V,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_sponsor_user_connection",kind:"LinkedField",name:"edge_media_to_sponsor_user",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_sponsor_user",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphSponsorTag",kind:"LinkedField",name:"node",plural:!1,selections:[na,h],storageKey:null}],storageKey:null}],storageKey:null},oa,pa,t,qa,S,ra,sa,ta,ua,va,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_web_media_to_related_media_connection",kind:"LinkedField",name:"edge_web_media_to_related_media",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_web_media_to_related_media",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[g,i,j,h],storageKey:null}],storageKey:null}],storageKey:null},wa,Q,F,K,$,{kind:"InlineFragment",selections:[Y,{alias:null,args:null,concreteType:"XDTgraphsidecar_edge_sidecar_to_children_connection",kind:"LinkedField",name:"edge_sidecar_to_children",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphsidecar_edge_sidecar_to_children",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[g,h,i,k,r,s,v,w,x,B,A,q,z,L,$,C,D,E,X],storageKey:null}],storageKey:null}],storageKey:null}],type:"XDTGraphSidecar",abstractKey:null}],storageKey:null}]},params:{id:aa("PolarisPostActionLoadPostQueryLegacyQuery_instagramRelayOperation"),metadata:{is_distillery:!0},name:"PolarisPostActionLoadPostQueryLegacyQuery",operationKind:"query",text:null}}}();d.exports=a}),null);
__d("PolarisPostActionLoadPostQueryMediaIdQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8560989810597985"}),null);
__d("PolarisPostActionLoadPostQueryMediaIdQuery.graphql",["PolarisPostActionLoadPostQueryMediaIdQuery_instagramRelayOperation"],(function(a,aa,b,c,d,e){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"mediaId"}],b=[{kind:"Variable",name:"media_id",variableName:"mediaId"}],c={alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"taken_at",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"inventory_source",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},l={alias:null,args:null,concreteType:"XDTVideoVersion",kind:"LinkedField",name:"video_versions",plural:!0,selections:[i,j,k,{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"is_dash_eligible",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"number_of_qualities",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"video_dash_manifest",storageKey:null};k={alias:null,args:null,concreteType:"XDTImageVersion2",kind:"LinkedField",name:"image_versions2",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTImageCandidate",kind:"LinkedField",name:"candidates",plural:!0,selections:[k,j,i],storageKey:null}],storageKey:null};j={alias:null,args:null,kind:"ScalarField",name:"is_paid_partnership",storageKey:null};i={alias:null,args:null,kind:"ScalarField",name:"is_pending",storageKey:null};var r={alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"is_unpublished",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"original_height",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"original_width",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"organic_tracking_token",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"is_private",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"is_embeds_disabled",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},z={alias:null,args:null,kind:"ScalarField",name:"following",storageKey:null},A={alias:null,args:null,concreteType:"XDTRelationshipInfoDict",kind:"LinkedField",name:"friendship_status",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"blocking",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followed_by",storageKey:null},z,{alias:null,args:null,kind:"ScalarField",name:"incoming_request",storageKey:null},w,{alias:null,args:null,kind:"ScalarField",name:"is_restricted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_viewer_unconnected",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muting",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"outgoing_request",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subscribed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_feed_favorite",storageKey:null}],storageKey:null},B={alias:null,args:null,kind:"ScalarField",name:"latest_reel_media",storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"comments_disabled",storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"like_and_view_counts_disabled",storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"can_viewer_reshare",storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"product_type",storageKey:null},G={alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null},H={alias:null,args:null,concreteType:"XDTUserTagInfosDict",kind:"LinkedField",name:"usertags",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTUserTagInfoDict",kind:"LinkedField",name:"in",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[d,r,n,m,y],storageKey:null}],storageKey:null}],storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},J={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},K={alias:null,args:null,concreteType:"XDTMediaOverlayPayloadSchema",kind:"LinkedField",name:"media_overlay_info",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTButtonSpec",kind:"LinkedField",name:"banner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"action",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"button_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_chevron",storageKey:null},{alias:null,args:null,concreteType:"XDTIconSpec",kind:"LinkedField",name:"icon",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"icon_glyph",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icon_type",storageKey:null},I,{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_text_centered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"secondary_text",storageKey:null},J,{alias:null,args:null,concreteType:"XDTTextColorSpec",kind:"LinkedField",name:"text_color",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"dark",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"light",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},L={alias:null,args:null,kind:"ScalarField",name:"accessibility_caption",storageKey:null},M={alias:null,args:null,kind:"ScalarField",name:"carousel_parent_id",storageKey:null},N={alias:null,args:null,kind:"ScalarField",name:"bloks_app_url",storageKey:null},O={alias:null,args:null,kind:"ScalarField",name:"should_have_sharing_friction",storageKey:null},P={alias:null,args:null,concreteType:"XDTSharingFrictionInfo",kind:"LinkedField",name:"sharing_friction_info",plural:!1,selections:[N,O],storageKey:null},Q={alias:null,args:null,kind:"ScalarField",name:"preview",storageKey:null};I={alias:null,args:null,concreteType:"XDTLocationDict",kind:"LinkedField",name:"location",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"lat",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lng",storageKey:null},I,m],storageKey:null};var R={alias:null,args:null,kind:"ScalarField",name:"has_audio",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"audio_type",storageKey:null},T={alias:null,args:null,concreteType:"XDTClipsAchievementsInfo",kind:"LinkedField",name:"achievements_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"show_achievements",storageKey:null}],storageKey:null},U={alias:null,args:null,kind:"ScalarField",name:"should_mute_audio",storageKey:null},V={alias:null,args:null,kind:"ScalarField",name:"should_mute_audio_reason",storageKey:null},W={alias:null,args:null,concreteType:"XDTMusicInfo",kind:"LinkedField",name:"music_info",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTMusicConsumptionInfoDict",kind:"LinkedField",name:"music_consumption_info",plural:!1,selections:[U,V],storageKey:null},{alias:null,args:null,concreteType:"XDTTrackData",kind:"LinkedField",name:"music_asset_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"display_artist",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audio_cluster_id",storageKey:null}],storageKey:null}],storageKey:null},X={alias:null,args:null,kind:"ScalarField",name:"original_audio_title",storageKey:null},Y={alias:null,args:null,kind:"ScalarField",name:"audio_asset_id",storageKey:null};V={alias:null,args:null,concreteType:"XDTOriginalSoundConsumptionInfo",kind:"LinkedField",name:"consumption_info",plural:!1,selections:[V,{alias:null,args:null,kind:"ScalarField",name:"should_mute_audio_reason_type",storageKey:null}],storageKey:null};var Z={alias:null,args:null,concreteType:"XDTClipsAppAttribution",kind:"LinkedField",name:"clips_attribution_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"attribution_app_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attribution_app_name",storageKey:null},{alias:null,args:null,concreteType:"XDTClipsPivotPageHeader",kind:"LinkedField",name:"pivot_page_header",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"developer_app_logo_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"media_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"content_url",storageKey:null}],storageKey:null}],storageKey:null};J={alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"caption",plural:!1,selections:[J],storageKey:null};z={alias:null,args:null,concreteType:"XDTRelationshipInfoDict",kind:"LinkedField",name:"friendship_status",plural:!1,selections:[z],storageKey:null};var $={alias:null,args:null,kind:"ScalarField",name:"main_feed_carousel_starting_media_id",storageKey:null},ba={alias:null,args:null,kind:"ScalarField",name:"has_liked",storageKey:null},ca={alias:null,args:null,kind:"ScalarField",name:"commenting_disabled_for_viewer",storageKey:null},da={alias:null,args:null,kind:"ScalarField",name:"comment_count",storageKey:null},ea={alias:null,args:null,kind:"ScalarField",name:"media_level_comment_controls",storageKey:null},fa={alias:null,args:null,kind:"ScalarField",name:"ig_media_sharing_disabled",storageKey:null},ga={alias:null,args:null,kind:"ScalarField",name:"audience",storageKey:null},ha={alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null},ia={alias:null,args:null,kind:"ScalarField",name:"photo_of_you",storageKey:null},ja={alias:null,args:null,kind:"ScalarField",name:"carousel_media_count",storageKey:null},ka={alias:null,args:null,kind:"ScalarField",name:"view_count",storageKey:null},la={alias:null,args:null,kind:"ScalarField",name:"like_count",storageKey:null},ma={alias:null,args:null,kind:"ScalarField",name:"logging_info_token",storageKey:null};O={alias:null,args:null,concreteType:"XDTSharingFrictionInfo",kind:"LinkedField",name:"sharing_friction_info",plural:!1,selections:[O,N],storageKey:null};N={alias:null,args:null,concreteType:"XDTUserTagInfosDict",kind:"LinkedField",name:"usertags",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTUserTagInfoDict",kind:"LinkedField",name:"in",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[d,r,n,m,y,e],storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PolarisPostActionLoadPostQueryMediaIdQuery",selections:[{alias:null,args:b,concreteType:"XDTMediaInfoListResponse",kind:"LinkedField",name:"xdt_api__v1__media__media_id_web_info",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"PolarisPostActionLoadPostQueryInlineMediaFragment",selections:[{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"items",plural:!0,selections:[c,d,e,f,g,h,l,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"facepile_top_likers",plural:!0,selections:[m,d,n],storageKey:null},o,p,q,k,j,{alias:null,args:null,concreteType:"XDTSponsorTag",kind:"LinkedField",name:"sponsor_tags",plural:!0,selections:[i,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"sponsor",plural:!1,selections:[d,n,m,r,s],storageKey:null}],storageKey:null},t,u,v,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[d,n,m,w,x,s,y,A,B],storageKey:null},C,D,E,F,G,H,K,{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"carousel_media",plural:!0,selections:[e,d,L,o,q,t,u,k,M,P,Q,v,l,K,H],storageKey:null},I,R,{alias:null,args:null,concreteType:"XDTClipsMetadataDict",kind:"LinkedField",name:"clips_metadata",plural:!1,selections:[S,T,W,{alias:null,args:null,concreteType:"XDTOriginalSoundData",kind:"LinkedField",name:"original_sound_info",plural:!1,selections:[X,U,Y,V,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"ig_artist",plural:!1,selections:[n],storageKey:null}],storageKey:null}],storageKey:null},Z,J,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"owner",plural:!1,selections:[d,n,r,m,w,s,z],storageKey:null},$,ba,ca,da,ea,fa,ga,ha,ia,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"invited_coauthor_producers",plural:!0,selections:[d],storageKey:null},ja,ka,la,ma,O],storageKey:null}],args:null,argumentDefinitions:[]}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PolarisPostActionLoadPostQueryMediaIdQuery",selections:[{alias:null,args:b,concreteType:"XDTMediaInfoListResponse",kind:"LinkedField",name:"xdt_api__v1__media__media_id_web_info",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"items",plural:!0,selections:[c,d,e,f,g,h,l,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"facepile_top_likers",plural:!0,selections:[m,d,n,e],storageKey:null},o,p,q,k,j,{alias:null,args:null,concreteType:"XDTSponsorTag",kind:"LinkedField",name:"sponsor_tags",plural:!0,selections:[i,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"sponsor",plural:!1,selections:[d,n,m,r,s,e],storageKey:null}],storageKey:null},t,u,v,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[d,n,m,w,x,s,y,A,B,e],storageKey:null},C,D,E,F,G,N,K,{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"carousel_media",plural:!0,selections:[e,d,L,o,q,t,u,k,M,P,Q,v,l,K,N],storageKey:null},I,R,{alias:null,args:null,concreteType:"XDTClipsMetadataDict",kind:"LinkedField",name:"clips_metadata",plural:!1,selections:[S,T,W,{alias:null,args:null,concreteType:"XDTOriginalSoundData",kind:"LinkedField",name:"original_sound_info",plural:!1,selections:[X,U,Y,V,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"ig_artist",plural:!1,selections:[n,e],storageKey:null}],storageKey:null}],storageKey:null},Z,J,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"owner",plural:!1,selections:[d,n,r,m,w,s,z,e],storageKey:null},$,ba,ca,da,ea,fa,ga,ha,ia,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"invited_coauthor_producers",plural:!0,selections:[d,e],storageKey:null},ja,ka,la,ma,O],storageKey:null}],storageKey:null}]},params:{id:aa("PolarisPostActionLoadPostQueryMediaIdQuery_instagramRelayOperation"),metadata:{is_distillery:!0},name:"PolarisPostActionLoadPostQueryMediaIdQuery",operationKind:"query",text:null}}}();d.exports=a}),null);
__d("PolarisPostActionLoadPostQueryQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8845758582119845"}),null);
__d("PolarisPostActionLoadPostQueryQuery.graphql",["PolarisPostActionLoadPostQueryQuery_instagramRelayOperation"],(function(a,aa,b,c,d,e){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"fetch_tagged_user_count"},b={defaultValue:null,kind:"LocalArgument",name:"hoisted_comment_id"},c={defaultValue:null,kind:"LocalArgument",name:"hoisted_reply_id"},d={defaultValue:null,kind:"LocalArgument",name:"shortcode"},e=[{kind:"Variable",name:"shortcode",variableName:"shortcode"}],f={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"shortcode",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"thumbnail_src",storageKey:null},j={alias:null,args:null,concreteType:"XDTGraphMediaDimensions",kind:"LinkedField",name:"dimensions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"misinformation_type",storageKey:null},n={alias:null,args:null,concreteType:"XDTGraphMediaGatingInfo",kind:"LinkedField",name:"gating_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"buttons",storageKey:null},k,{alias:null,args:null,kind:"ScalarField",name:"gating_type",storageKey:null},l,{alias:null,args:null,kind:"ScalarField",name:"center_button",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"post_reveal_cta",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"time_gated",storageKey:null},m],storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"fact_check_overall_rating",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},r={alias:null,args:null,concreteType:"XDTGraphMediaFactCheck",kind:"LinkedField",name:"fact_check_information",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},l,{alias:null,args:null,kind:"ScalarField",name:"rating",storageKey:null},{alias:null,args:null,concreteType:"XDTGraphMediaFactCheckProvider",kind:"LinkedField",name:"provider",plural:!1,selections:[p,q,{alias:null,args:null,kind:"ScalarField",name:"appeal_email",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_directly_rated",storageKey:null}],storageKey:null},s={alias:null,args:null,concreteType:"XDTGraphMediaSensitivityFrictionInfo",kind:"LinkedField",name:"sensitivity_friction_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"sensitivity_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"share_friction_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"share_friction_subtitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"share_friction_primary_button",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"share_friction_secondary_button",storageKey:null}],storageKey:null},t={alias:null,args:null,concreteType:"XDTGraphMediaSharingFrictionInfo",kind:"LinkedField",name:"sharing_friction_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"should_have_sharing_friction",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"bloks_app_url",storageKey:null}],storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},w={alias:null,args:null,concreteType:"XDTGraphMediaOverlayIconSpec",kind:"LinkedField",name:"icon",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"icon_glyph",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icon_type",storageKey:null},p,v],storageKey:null},x=[{alias:null,args:null,kind:"ScalarField",name:"button_type",storageKey:null},u,{alias:null,args:null,kind:"ScalarField",name:"secondary_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action_url",storageKey:null},w,{alias:null,args:null,concreteType:"XDTGraphMediaOverlayTextColorSpec",kind:"LinkedField",name:"text_color",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"light",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dark",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_text_centered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_chevron",storageKey:null}];x={alias:null,args:null,concreteType:"XDTGraphMediaOverlayInfo",kind:"LinkedField",name:"media_overlay_info",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTGraphMediaOverlayButtonSpec",kind:"LinkedField",name:"banner",plural:!1,selections:x,storageKey:null},{alias:null,args:null,concreteType:"XDTGraphMediaOverlayButtonSpec",kind:"LinkedField",name:"buttons",plural:!0,selections:x,storageKey:null},k,w,m,{alias:null,args:null,kind:"ScalarField",name:"overlay_layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"overlay_type",storageKey:null},l,{alias:null,args:null,kind:"ScalarField",name:"bloks_data",storageKey:null}],storageKey:null};k={alias:null,args:null,kind:"ScalarField",name:"media_preview",storageKey:null};w={alias:null,args:null,kind:"ScalarField",name:"display_url",storageKey:null};m={alias:null,args:null,concreteType:"XDTGraphImageResource",kind:"LinkedField",name:"display_resources",plural:!0,selections:[v,{alias:null,args:null,kind:"ScalarField",name:"config_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"config_height",storageKey:null}],storageKey:null};v={alias:null,args:null,kind:"ScalarField",name:"is_video",storageKey:null};var y={alias:null,args:null,kind:"ScalarField",name:"tracking_token",storageKey:null},z={alias:null,args:null,concreteType:"XDTGraphUpcomingEventDict",kind:"LinkedField",name:"upcoming_event",plural:!1,selections:[g,l,{alias:null,args:null,kind:"ScalarField",name:"start_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reminder_enabled",storageKey:null}],storageKey:null},A=[{kind:"Variable",name:"first",variableName:"fetch_tagged_user_count"}],B={alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"followed_by_viewer",storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},F={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"user",plural:!1,selections:[B,C,g,D,q,E],storageKey:null},G={alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},H={alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},I={alias:null,args:A,concreteType:"XDTgraphmediainterface_edge_media_to_tagged_user_connection",kind:"LinkedField",name:"edge_media_to_tagged_user",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_tagged_user",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphTaggedUser",kind:"LinkedField",name:"node",plural:!1,selections:[F,G,H],storageKey:null}],storageKey:null}],storageKey:null},J={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},K=[J];C={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"owner",plural:!1,selections:[g,E,D,q,{alias:null,args:null,kind:"ScalarField",name:"blocked_by_viewer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"restricted_by_viewer",storageKey:null},C,B,{alias:null,args:null,kind:"ScalarField",name:"has_blocked_viewer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_embeds_disabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_private",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_unpublished",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"requested_by_viewer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pass_tiering_recommendation",storageKey:null},{alias:null,args:null,concreteType:"XDTgraphuser_edge_owner_to_timeline_media_connection",kind:"LinkedField",name:"edge_owner_to_timeline_media",plural:!1,selections:K,storageKey:null},{alias:null,args:null,concreteType:"XDTgraphuser_edge_followed_by_connection",kind:"LinkedField",name:"edge_followed_by",plural:!1,selections:K,storageKey:null}],storageKey:null};B=[{kind:"Literal",name:"first",value:1}];var L={alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},M={alias:null,args:null,kind:"ScalarField",name:"can_see_insights_as_brand",storageKey:null},N={alias:null,args:null,kind:"ScalarField",name:"caption_is_edited",storageKey:null},O={alias:null,args:null,kind:"ScalarField",name:"has_ranked_comments",storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"like_and_view_counts_disabled",storageKey:null},Q={alias:null,args:null,concreteType:"XDTPageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null}],storageKey:null},R={alias:null,args:null,kind:"ScalarField",name:"did_report_as_spam",storageKey:null};D=[g,D,q,E];q={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"owner",plural:!1,selections:D,storageKey:null};var S={alias:null,args:null,kind:"ScalarField",name:"viewer_has_liked",storageKey:null};K={alias:null,args:null,concreteType:"XDTgraphcomment_edge_liked_by_connection",kind:"LinkedField",name:"edge_liked_by",plural:!1,selections:K,storageKey:null};var T={alias:null,args:null,kind:"ScalarField",name:"is_restricted_pending",storageKey:null},U=[{alias:null,args:null,concreteType:"XDTGraphComment",kind:"LinkedField",name:"node",plural:!1,selections:[g,u,L,R,q,S,K,T],storageKey:null}],V={alias:null,args:[{kind:"Literal",name:"first",value:3}],concreteType:"XDTgraphcomment_edge_threaded_comments_connection",kind:"LinkedField",name:"edge_threaded_comments",plural:!1,selections:[J,Q,{alias:null,args:null,concreteType:"XDTgraphcomment_edge_threaded_comments",kind:"LinkedField",name:"edges",plural:!0,selections:U,storageKey:null}],storageKey:"edge_threaded_comments(first:3)"};Q={alias:null,args:[{kind:"Literal",name:"first",value:24}],concreteType:"XDTgraphmediainterface_edge_media_to_parent_comment_connection",kind:"LinkedField",name:"edge_media_to_parent_comment",plural:!1,selections:[J,Q,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_parent_comment",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphComment",kind:"LinkedField",name:"node",plural:!1,selections:[g,u,L,R,q,S,K,T,V],storageKey:null}],storageKey:null}],storageKey:"edge_media_to_parent_comment(first:24)"};R={alias:null,args:[{kind:"Variable",name:"hoisted_comment_id",variableName:"hoisted_comment_id"}],concreteType:"XDTgraphmediainterface_edge_media_to_hoisted_comment_connection",kind:"LinkedField",name:"edge_media_to_hoisted_comment",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_hoisted_comment",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphComment",kind:"LinkedField",name:"node",plural:!1,selections:[g,u,L,R,q,S,K,T,{alias:null,args:[{kind:"Variable",name:"hoisted_reply_id",variableName:"hoisted_reply_id"}],concreteType:"XDTgraphcomment_edge_comment_to_hoisted_reply_connection",kind:"LinkedField",name:"edge_comment_to_hoisted_reply",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphcomment_edge_comment_to_hoisted_reply",kind:"LinkedField",name:"edges",plural:!0,selections:U,storageKey:null}],storageKey:null},V],storageKey:null}],storageKey:null}],storageKey:null};q={alias:null,args:[{kind:"Literal",name:"first",value:2}],concreteType:"XDTgraphmediainterface_edge_media_preview_comment_connection",kind:"LinkedField",name:"edge_media_preview_comment",plural:!1,selections:[J,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_preview_comment",kind:"LinkedField",name:"edges",plural:!0,selections:U,storageKey:null}],storageKey:"edge_media_preview_comment(first:2)"};K={alias:null,args:null,kind:"ScalarField",name:"comments_disabled",storageKey:null};T={alias:null,args:null,kind:"ScalarField",name:"commenting_disabled_for_viewer",storageKey:null};V={alias:null,args:null,kind:"ScalarField",name:"taken_at_timestamp",storageKey:null};U={alias:null,args:[{kind:"Literal",name:"first",value:10}],concreteType:"XDTgraphmediainterface_edge_media_preview_like_connection",kind:"LinkedField",name:"edge_media_preview_like",plural:!1,selections:[J,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_preview_like",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"node",plural:!1,selections:D,storageKey:null}],storageKey:null}],storageKey:"edge_media_preview_like(first:10)"};J={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"sponsor",plural:!1,selections:[g,E],storageKey:null};E={alias:null,args:null,kind:"ScalarField",name:"is_affiliate",storageKey:null};var W={alias:null,args:null,kind:"ScalarField",name:"is_paid_partnership",storageKey:null};p={alias:null,args:null,concreteType:"XDTGraphLocation",kind:"LinkedField",name:"location",plural:!1,selections:[g,{alias:null,args:null,kind:"ScalarField",name:"has_public_page",storageKey:null},p,{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"address_json",storageKey:null}],storageKey:null};var ba={alias:null,args:null,concreteType:"XDTGraphNftAssetInfoType",kind:"LinkedField",name:"nft_asset_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"asset_id",storageKey:null},l,{alias:null,args:null,kind:"ScalarField",name:"shimmer_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creator_username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creator_igid",storageKey:null}],storageKey:null},ca={alias:null,args:null,kind:"ScalarField",name:"viewer_has_saved",storageKey:null},da={alias:null,args:null,kind:"ScalarField",name:"viewer_has_saved_to_collection",storageKey:null},ea={alias:null,args:null,kind:"ScalarField",name:"viewer_in_photo_of_you",storageKey:null},fa={alias:null,args:null,kind:"ScalarField",name:"viewer_can_reshare",storageKey:null},ga={alias:null,args:null,kind:"ScalarField",name:"is_ad",storageKey:null},ha={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"coauthor_producers",plural:!0,selections:D,storageKey:null};D={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"pinned_for_users",plural:!0,selections:D,storageKey:null};var X={alias:null,args:null,kind:"ScalarField",name:"accessibility_caption",storageKey:null},Y={alias:null,args:null,concreteType:"XDTGraphDashInfo",kind:"LinkedField",name:"dash_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_dash_eligible",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"video_dash_manifest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"number_of_qualities",storageKey:null}],storageKey:null},Z={alias:null,args:null,kind:"ScalarField",name:"has_audio",storageKey:null},ia={alias:null,args:null,kind:"ScalarField",name:"video_url",storageKey:null},ja={alias:null,args:null,kind:"ScalarField",name:"video_view_count",storageKey:null},ka={alias:null,args:null,kind:"ScalarField",name:"video_play_count",storageKey:null};l={kind:"InlineFragment",selections:[X,Y,Z,ia,ja,ka,{alias:null,args:null,kind:"ScalarField",name:"encoding_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_published",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"product_type",storageKey:null},l,{alias:null,args:null,kind:"ScalarField",name:"video_duration",storageKey:null},{alias:null,args:null,concreteType:"XDTGraphClipsMusicAttributionInfo",kind:"LinkedField",name:"clips_music_attribution_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"artist_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"song_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uses_original_audio",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_mute_audio",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_mute_audio_reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audio_id",storageKey:null}],storageKey:null}],type:"XDTGraphVideo",abstractKey:null};var $={kind:"InlineFragment",selections:[X],type:"XDTGraphImage",abstractKey:null};Y={kind:"InlineFragment",selections:[X,Y,Z,ia,ja,ka],type:"XDTGraphVideo",abstractKey:null};Z={alias:null,args:A,concreteType:"XDTgraphmediainterface_edge_media_to_tagged_user_connection",kind:"LinkedField",name:"edge_media_to_tagged_user",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_tagged_user",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphTaggedUser",kind:"LinkedField",name:"node",plural:!1,selections:[F,G,H,g],storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[a,b,c,d],kind:"Fragment",metadata:null,name:"PolarisPostActionLoadPostQueryQuery",selections:[{alias:null,args:e,concreteType:null,kind:"LinkedField",name:"xdt_shortcode_media",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"PolarisPostActionLoadPostQueryInlineFragmentWithoutRelatedProfiles",selections:[f,g,h,i,j,n,o,r,s,t,x,k,w,m,v,y,z,I,C,{alias:null,args:B,concreteType:"XDTgraphmediainterface_edge_media_to_caption_connection",kind:"LinkedField",name:"edge_media_to_caption",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_caption",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphMediaCaption",kind:"LinkedField",name:"node",plural:!1,selections:[L,u],storageKey:null}],storageKey:null}],storageKey:"edge_media_to_caption(first:1)"},M,N,O,P,Q,R,q,K,T,V,U,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_sponsor_user_connection",kind:"LinkedField",name:"edge_media_to_sponsor_user",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_sponsor_user",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphSponsorTag",kind:"LinkedField",name:"node",plural:!1,selections:[J],storageKey:null}],storageKey:null}],storageKey:null},E,W,p,ba,S,ca,da,ea,fa,ga,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_web_media_to_related_media_connection",kind:"LinkedField",name:"edge_web_media_to_related_media",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_web_media_to_related_media",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[h,i],storageKey:null}],storageKey:null}],storageKey:null},ha,D,l,$,{kind:"InlineFragment",selections:[X,{alias:null,args:null,concreteType:"XDTgraphsidecar_edge_sidecar_to_children_connection",kind:"LinkedField",name:"edge_sidecar_to_children",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphsidecar_edge_sidecar_to_children",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[f,g,h,j,n,o,r,s,t,x,k,w,m,Y,$,v,y,z,I],storageKey:null}],storageKey:null}],storageKey:null}],type:"XDTGraphSidecar",abstractKey:null}],args:null,argumentDefinitions:[{kind:"RootArgument",name:"fetch_tagged_user_count"},{kind:"RootArgument",name:"hoisted_comment_id"},{kind:"RootArgument",name:"hoisted_reply_id"}]}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[d,a,b,c],kind:"Operation",name:"PolarisPostActionLoadPostQueryQuery",selections:[{alias:null,args:e,concreteType:null,kind:"LinkedField",name:"xdt_shortcode_media",plural:!1,selections:[f,{kind:"TypeDiscriminator",abstractKey:"__isXDTGraphMediaInterface"},g,h,i,j,n,o,r,s,t,x,k,w,m,v,y,z,Z,C,{alias:null,args:B,concreteType:"XDTgraphmediainterface_edge_media_to_caption_connection",kind:"LinkedField",name:"edge_media_to_caption",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_caption",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphMediaCaption",kind:"LinkedField",name:"node",plural:!1,selections:[L,u,g],storageKey:null}],storageKey:null}],storageKey:"edge_media_to_caption(first:1)"},M,N,O,P,Q,R,q,K,T,V,U,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_sponsor_user_connection",kind:"LinkedField",name:"edge_media_to_sponsor_user",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_sponsor_user",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphSponsorTag",kind:"LinkedField",name:"node",plural:!1,selections:[J,g],storageKey:null}],storageKey:null}],storageKey:null},E,W,p,ba,S,ca,da,ea,fa,ga,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_web_media_to_related_media_connection",kind:"LinkedField",name:"edge_web_media_to_related_media",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_web_media_to_related_media",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[f,h,i,g],storageKey:null}],storageKey:null}],storageKey:null},ha,D,l,$,{kind:"InlineFragment",selections:[X,{alias:null,args:null,concreteType:"XDTgraphsidecar_edge_sidecar_to_children_connection",kind:"LinkedField",name:"edge_sidecar_to_children",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphsidecar_edge_sidecar_to_children",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[f,g,h,j,n,o,r,s,t,x,k,w,m,Y,$,v,y,z,Z],storageKey:null}],storageKey:null}],storageKey:null}],type:"XDTGraphSidecar",abstractKey:null}],storageKey:null}]},params:{id:aa("PolarisPostActionLoadPostQueryQuery_instagramRelayOperation"),metadata:{is_distillery:!0},name:"PolarisPostActionLoadPostQueryQuery",operationKind:"query",text:null}}}();d.exports=a}),null);
__d("PolarisPostActionLoadPostQuerySharerQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9318890568138521"}),null);
__d("PolarisPostActionLoadPostQuerySharerQuery.graphql",["PolarisPostActionLoadPostQuerySharerQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"shid"}],c=[{kind:"Variable",name:"shid",variableName:"shid"}],d={alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"profile_pic_url_hd",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PolarisPostActionLoadPostQuerySharerQuery",selections:[{alias:null,args:c,concreteType:"XDTShidUserResponse",kind:"LinkedField",name:"xdt_get_relationship_for_shid_logged_out",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"PolarisPostActionLoadPostQueryInlineSharerFragment",selections:[{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"sender",plural:!1,selections:[d,e,f,g],storageKey:null}],args:null,argumentDefinitions:[]}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PolarisPostActionLoadPostQuerySharerQuery",selections:[{alias:null,args:c,concreteType:"XDTShidUserResponse",kind:"LinkedField",name:"xdt_get_relationship_for_shid_logged_out",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"sender",plural:!1,selections:[d,e,f,g,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("PolarisPostActionLoadPostQuerySharerQuery_instagramRelayOperation"),metadata:{is_distillery:!0},name:"PolarisPostActionLoadPostQuerySharerQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PolarisPostActionLoadPostQuery",["PolarisPostActionLoadPostQueryInlineFragment.graphql","PolarisPostActionLoadPostQueryInlineFragmentWithoutRelatedProfiles.graphql","PolarisPostActionLoadPostQueryInlineMediaFragment.graphql","PolarisPostActionLoadPostQueryInlineSharerFragment.graphql","PolarisPostActionLoadPostQueryLegacyQuery.graphql","PolarisPostActionLoadPostQueryMediaIdQuery.graphql","PolarisPostActionLoadPostQueryQuery.graphql","PolarisPostActionLoadPostQuerySharerQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o;a=h!==void 0?h:h=b("PolarisPostActionLoadPostQueryInlineMediaFragment.graphql");c=i!==void 0?i:i=b("PolarisPostActionLoadPostQueryInlineFragment.graphql");d=j!==void 0?j:j=b("PolarisPostActionLoadPostQueryInlineFragmentWithoutRelatedProfiles.graphql");e=k!==void 0?k:k=b("PolarisPostActionLoadPostQueryInlineSharerFragment.graphql");f=l!==void 0?l:l=b("PolarisPostActionLoadPostQueryQuery.graphql");var p=m!==void 0?m:m=b("PolarisPostActionLoadPostQueryLegacyQuery.graphql"),q=n!==void 0?n:n=b("PolarisPostActionLoadPostQueryMediaIdQuery.graphql");b=o!==void 0?o:o=b("PolarisPostActionLoadPostQuerySharerQuery.graphql");g.MEDIA_INLINE_FRAGMENT=a;g.INLINE_FRAGMENT=c;g.INLINE_FRAGMENT_WITHOUT_RELATED_PROFILES=d;g.SHARER_INLINE_FRAGMENT=e;g.POST_QUERY=f;g.POST_QUERY_LEGACY=p;g.POST_QUERY_MEDIA_ID=q;g.POST_SHARER_INFORMATION=b}),98);
__d("PolarisPostActionPostPageLoaded",["nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return{postData:c("nullthrows")(a.shortcode_media),type:"POST_PAGE_LOADED"}}g.postPageLoaded=a}),98);
__d("PolarisPostActionLoadPost",["CometRelay","FBLogger","PolarisAdsActions","PolarisConfig","PolarisInstapi","PolarisPostActionLoadPostQuery","PolarisPostActionPostLoadedV2","PolarisPostActionPostPageLoaded","PolarisRelayEnvironment","PolarisSenderNameOnReelsQEHelpers","PolarisThreadedCommentActions","asyncToGeneratorRuntime","err","getPolarisPostIdFromNativeId","isTruthy","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("CometRelay").fetchQuery(c("PolarisRelayEnvironment"),d("PolarisPostActionLoadPostQuery").POST_SHARER_INFORMATION,{shid:a}).toPromise());if(a==null||a.xdt_get_relationship_for_shid_logged_out==null)return null;a=d("CometRelay").readInlineData(d("PolarisPostActionLoadPostQuery").SHARER_INLINE_FRAGMENT,a.xdt_get_relationship_for_shid_logged_out);return a});return i.apply(this,arguments)}function j(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("CometRelay").fetchQuery(c("PolarisRelayEnvironment"),d("PolarisPostActionLoadPostQuery").POST_QUERY_MEDIA_ID,{mediaId:a}).toPromise());if(a==null)throw c("err")("Post modal response is unexpectedly null");a=d("CometRelay").readInlineData(d("PolarisPostActionLoadPostQuery").MEDIA_INLINE_FRAGMENT,a==null?void 0:a.xdt_api__v1__media__media_id_web_info);return a.items!=null?[].concat(a.items):null});return k.apply(this,arguments)}function l(a){return a.split("_").length>1}function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("PolarisInstapi").apiGet("/api/v1/media/{media_id}/info/",{path:{media_id:a},query:{}}));a=a.data;return a.items!=null?[].concat(a.items):null});return n.apply(this,arguments)}function a(a,e,f,g,i){f===void 0&&(f=!1);return function(){var k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,k){b({shortcode:a,type:"POST_PAGE_LOADING"});if(e!=null&&d("PolarisConfig").isLoggedIn())try{b(d("PolarisThreadedCommentActions").requestInitialComments(c("getPolarisPostIdFromNativeId")(e)));var n=l(e)?yield j(e):yield m(e);if(n!=null){var o=n[0];k=new Set(k().ads.feed.keys());o!=null&&o.ad_id!=null?b(d("PolarisAdsActions").adMediaInfoLoaded(n[0],a)):b(d("PolarisPostActionPostLoadedV2").postLoadedV2(n,a,k))}}catch(a){c("FBLogger")("ig_web").catching(a)}else{o=f?d("PolarisPostActionLoadPostQuery").POST_QUERY:d("PolarisPostActionLoadPostQuery").POST_QUERY_LEGACY;try{if(i!=null&&d("PolarisSenderNameOnReelsQEHelpers").shouldShowSenderNameOnReels()){n=(yield h(i));n!=null&&b({fullName:n.sender.full_name,profilePicUrl:n.sender.profile_pic_url,profilePicUrlHd:n.sender.profile_pic_url_hd,sharedPostId:e,type:"UPDATE_SHARER_INFORMATION",username:n.sender.username})}k=(yield d("CometRelay").fetchQuery(c("PolarisRelayEnvironment"),o,{shortcode:a}).toPromise());f?n=d("CometRelay").readInlineData(d("PolarisPostActionLoadPostQuery").INLINE_FRAGMENT_WITHOUT_RELATED_PROFILES,k==null?void 0:k.xdt_shortcode_media):n=d("CometRelay").readInlineData(d("PolarisPostActionLoadPostQuery").INLINE_FRAGMENT,k==null?void 0:k.xdt_shortcode_media);o=n.accessibility_caption==null&&c("isTruthy")(g);o&&(n=babelHelpers["extends"]({},n,{accessibility_caption:g}));b(d("PolarisPostActionPostPageLoaded").postPageLoaded({shortcode_media:c("nullthrows")(n)}))}catch(a){c("FBLogger")("ig_web").catching(a).mustfix("unexpected")}}});return function(a,b){return k.apply(this,arguments)}}()}g.loadPost=a}),98);/*FB_PKG_DELIM*/
__d("BaseToastContentWrapper.react",["BaseTheme.react","BaseView.react","react","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={dark:"__fb-dark-mode ",light:"__fb-light-mode ",type:"CLASSNAMES"};b=i.forwardRef(a);function a(a,b){var d=a.children,e=a.testid;e=a.useInvertedDisplayMode;a=a.xstyle;var f=c("useCurrentDisplayMode")();f=f==="dark"?"light":"dark";return e?i.jsx(c("BaseTheme.react"),{config:j,displayMode:f,ref:b,testid:void 0,xstyle:a,children:d}):i.jsx(c("BaseView.react"),{ref:b,testid:void 0,xstyle:a,children:d})}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),98);
__d("BaseToast.react",["BaseInlinePressable.react","BaseToastContentWrapper.react","BaseView.react","XPlatReactFocusRegion.react","focusScopeQueries","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useId,k=b.useMemo,l={item:{display:"x78zum5",flexDirection:"xdt5ytf",paddingBottom:"x19yoh24",paddingStart:"xrxijuk",paddingEnd:"xpowjs8",paddingLeft:null,paddingRight:null,paddingTop:"x6enp1t",$$css:!0},itemText:{flexGrow:"x1iyjqo2",$$css:!0},link:{wordBreak:"xdnwjd9",$$css:!0},root:{alignItems:"x6s0dn4",backgroundColor:"x1wkzo03",borderTopColor:"xlnzwam",borderEndColor:"x12rs7x4",borderBottomColor:"xm9qwu6",borderStartColor:"xup3dfi",borderTopStartRadius:"x1192kqh",borderTopEndRadius:"xjfsc2c",borderBottomEndRadius:"xg8fqjl",borderBottomStartRadius:"x1kdh5me",borderTopStyle:"xhf2mca",borderEndStyle:"xrf2tuc",borderBottomStyle:"x13y0ya8",borderStartStyle:"x1pyzo2z",borderTopWidth:"xmqxc35",borderEndWidth:"x7gbks2",borderBottomWidth:"x21fg80",borderStartWidth:"x1q3d8fi",boxShadow:"xi1c1fh",display:"x78zum5",flexShrink:"x2lah0s",maxWidth:"x1cs6qxi",minWidth:"x1hqenl9",paddingTop:"x192rfv7",paddingBottom:"x13jxccy",paddingStart:"xuv3zuj",paddingEnd:"xd3owfx",paddingLeft:null,paddingRight:null,$$css:!0},rootFullWidth:{width:"xh8yej3",$$css:!0}};function a(a){var b=a.action,e=a.addOnStart,f=a.closeButton,g=a.linkWrapper,h=a.message,m=a.onDismiss,n=a.size;n=n===void 0?"full-width":n;var o=a.testid;o=a.toastRef;a=a.useInvertedDisplayMode;a=a===void 0?!0:a;var p=j(),q=k(function(){return b!=null?{}:{"aria-atomic":!0,role:"alert"}},[b]);e=i.jsxs(i.Fragment,{children:[e!=null&&i.jsx(c("BaseView.react"),{xstyle:l.item,children:e}),i.jsx(c("BaseView.react"),babelHelpers["extends"]({xstyle:[l.item,l.itemText]},q,{children:h({toastMessageId:p})})),b!=null&&i.jsx(c("XPlatReactFocusRegion.react"),{autoFocusQuery:d("focusScopeQueries").tabbableScopeQuery,children:i.jsx(c("BaseView.react"),{xstyle:l.item,children:b.element!=null?b.element:b.labelRenderer&&i.jsx(c("BaseInlinePressable.react"),{onPress:function(a){m(),b.onPress(a)},testid:void 0,xstyle:l.link,children:b.labelRenderer(b.label)})})}),f!=null&&i.jsx(c("BaseView.react"),{xstyle:l.item,children:f})]});e=g!=null?g(e):e;return i.jsx(c("BaseToastContentWrapper.react"),{ref:o,testid:void 0,useInvertedDisplayMode:a,xstyle:[l.root,n==="full-width"&&l.rootFullWidth],children:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("BladeRunnerConfig",["RTISubscriptionManagerConfig","WebDriverConfig","cr:3024","gkx","isEmpty"],(function(a,b,c,d,e,f,g){var h,i="javascript-sandbox",j="OverrideServer",k="www_sandbox",l="www_tier";a=function(){function a(){}var d=a.prototype;d.patchRequestHeaders=function(a){var d={},e=c("RTISubscriptionManagerConfig").bladerunner_www_sandbox,f=c("RTISubscriptionManagerConfig").is_intern;if(!(h||(h=c("isEmpty")))(c("WebDriverConfig").auxiliaryServiceInfo)){var g;g=(g=c("WebDriverConfig").auxiliaryServiceInfo.BladeRunner)!=null?g:c("WebDriverConfig").auxiliaryServiceInfo["BladeRunner-sandcastle"];g!=null?(typeof g.ip_address==="string"?d[j]=g.ip_address+":18295":typeof g.hostname==="string"&&(d[j]=g.hostname+":18295"),typeof c("WebDriverConfig").originHost==="string"&&(d[k]="www."+c("WebDriverConfig").originHost)):e!=null&&(d[i]=e)}else e!=null&&(d[i]=e);f===!0&&(d[l]="intern");if(c("WebDriverConfig").isTestRunning&&c("gkx")("20919")){g=b("cr:3024")==null?void 0:b("cr:3024").get();g!=null&&(d.is_test="true",d.original_request_id=g)}c("gkx")("20929")&&(d["Accept-Ack"]="RSAck");for(e in a)d[e]=a[e];d.http_referer=window.location.href;return d};return a}();d=new a();e=d;g["default"]=e}),98);
__d("BladeRunnerLogger",["FBLogger","ODS"],(function(a,b,c,d,e,f,g){var h,i="bladerunner_js_client",j={info:"info",warning:"warning",exception:"exception"};a=function(){function a(){this.setFBLoggerLevel(1)}var b=a.prototype;b.info=function(a){this.$2>=2&&c("FBLogger")(i).info("BladeRunner info: %s",a),this.$3(j.info,a)};b.warn=function(a){this.$2>=1&&c("FBLogger")(i).warn("BladeRunner warn: %s",a),this.$3(j.warning,a)};b.exception=function(a,b){b===void 0&&(b="");var d=b+" "+a.toString();this.$2>=0&&c("FBLogger")(i).warn("BladeRunner exception: %s, %s",b,a.toString());this.$3(j.exception,d)};b.trimForLogging=function(a){var b=1024;return typeof a==="string"&&a.length>b?"[trimmed]:"+a.substring(0,b)+"...":a};b.bumpCounter=function(a,b){b===void 0&&(b=1),(h||(h=d("ODS"))).bumpEntityKey(2966,"BladeRunnerClient",a,b)};b.setClientSessionId=function(a){this.$1=a};b.setFBLoggerLevel=function(a){this.$2=a};b.$3=function(a,b){};return a}();b=new a();e=b;g["default"]=e}),98);
__d("BladeRunnerTypes",[],(function(a,b,c,d,e,f,g){a={REQUEST:1,DATA:2,DATA_ACK:3,STATUS_UPDATE:4,REWRITE_REQUEST:5,LOG:6};b={BLADE_RUNNER:1,GATEWAY:2};g.StreamFrameType=a;g.StreamRequestType=b}),98);
__d("BladeRunnerTypesInternal",["Base64","BladeRunnerLogger","BladeRunnerTypes"],(function(a,b,c,d,e,f,g){var h=function(){function a(){}var b=a.prototype;b.getHeaders=function(){if(this.headers!=null)return this.headers;throw new Error("Expected headers")};b.getInstrumentationData=function(){if(this.instrumentationData!=null&&this.instrumentationData.length>0)try{return JSON.parse(this.instrumentationData)}catch(a){return null}else return null};b.updateRetryRequestPayload=function(a){a!=null?this.payload=c("Base64").encode(a):this.payload=null};a.readObject=function(b){var c=new a();c.streamId=o(b.streamId);c.requestType=o(b.requestType);c.payload=r(b.payload);c.headers=u(b.headers);c.extraHeader=r(b.extraHeader);c.requestTarget=r(b.requestTarget);c.instrumentationData=r(b.instrumentationData);return c};return a}(),i=function(){function a(){}a.readObject=function(b){var c=new a();c.streamId=o(b.streamId);c.dataId=p(b.dataId);c.data=r(b.data);c.shouldAck=w(b.shouldAck);return c};var b=a.prototype;b.rawData=function(){if(this.data==null)throw new Error("Expected data");return this.data};b.rawDataSize=function(){return this.data==null?0:this.data.length};b.decodeData=function(){if(this.data==null)throw new Error("Expected data");return c("Base64").decode(this.data)};b.setData=function(a){this.data=c("Base64").encode(a)};b.getInstrumentationData=function(){if(this.instrumentationData!=null)return JSON.parse(this.instrumentationData);else return null};return a}(),j=function(){function a(){}a.readObject=function(b){var c=new a();c.streamId=o(b.streamId);c.dataId=o(b.dataId);c.success=v(b.success);c.message=r(b.message);c.code=p(b.code);return c};return a}();j.ACK_CODE_LANDED_AND_ACCEPTED=20;j.ACK_CODE_LANDED_BUT_NOT_ACCEPTED=21;j.ACK_CODE_FAILED_TO_LAND=50;var k=function(){function a(){}a.readObject=function(b){var c=new a();c.streamId=p(b.streamId);c.message=r(b.message);return c};return a}(),l=function(){function a(){}a.readObject=function(b){var c=new a();c.streamId=o(b.streamId);c.status=o(b.status);c.message=r(b.message);c.code=p(b.code);c.shouldRetry=w(b.shouldRetry);c.retryDelayMs=p(b.retryDelayMs);return c};return a}(),m=function(){function a(){}a.readObject=function(b){var c=new a();c.streamId=o(b.streamId);c.newBody=r(b.newBody);c.newExtraHeader=r(b.newExtraHeader);c.patchExtraHeader=r(b.patchExtraHeader);c.killBody=w(b.killBody);c.temporary=w(b.temporary);return c};return a}(),n=function(){function a(){}var b=a.prototype;b.getRequest=function(){if(this.type==d("BladeRunnerTypes").StreamFrameType.REQUEST&&this.request!=null)return this.request;throw new Error("Expected request")};b.getData=function(){if(this.type==d("BladeRunnerTypes").StreamFrameType.DATA&&this.data!=null)return this.data;throw new Error("Expected data")};b.getDataAck=function(){if(this.type==d("BladeRunnerTypes").StreamFrameType.DATA_ACK&&this.dataAck!=null)return this.dataAck;throw new Error("Expected dataAck")};b.getStatusUpdate=function(){if(this.type==d("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE&&this.statusUpdate!=null)return this.statusUpdate;throw new Error("Expected status update")};b.getLog=function(){if(this.type==d("BladeRunnerTypes").StreamFrameType.LOG&&this.log!=null)return this.log;throw new Error("Expected log")};b.getRewriteRequest=function(){if(this.type==d("BladeRunnerTypes").StreamFrameType.REWRITE_REQUEST&&this.rewriteRequest!=null)return this.rewriteRequest;throw new Error("Expected rewrite request")};b.getStreamId=function(){if(this.type==d("BladeRunnerTypes").StreamFrameType.REQUEST&&this.request!=null)return this.request.streamId;if(this.type==d("BladeRunnerTypes").StreamFrameType.DATA&&this.data!=null)return this.data.streamId;if(this.type==d("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE&&this.statusUpdate!=null)return this.statusUpdate.streamId;if(this.type==d("BladeRunnerTypes").StreamFrameType.LOG&&this.log!=null)return this.log.streamId;if(this.type==d("BladeRunnerTypes").StreamFrameType.REWRITE_REQUEST&&this.rewriteRequest!=null)return this.rewriteRequest.streamId;if(this.type==d("BladeRunnerTypes").StreamFrameType.DATA_ACK&&this.dataAck!=null)return this.dataAck.streamId;throw new Error("Frame with unexpected type")};b.isInstrumented=function(){if(this.type===d("BladeRunnerTypes").StreamFrameType.REQUEST)return this.getRequest().instrumentationData!=null;else if(this.type===d("BladeRunnerTypes").StreamFrameType.DATA)return this.getData().instrumentationData!=null;else return!1};a.readObject=function(b){var e=new a();e.type=o(b.type);switch(e.type){case d("BladeRunnerTypes").StreamFrameType.REQUEST:e.request=h.readObject(s(b.request));break;case d("BladeRunnerTypes").StreamFrameType.DATA:e.data=i.readObject(s(b.data));break;case d("BladeRunnerTypes").StreamFrameType.DATA_ACK:e.dataAck=j.readObject(s(b.dataAck));break;case d("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE:e.statusUpdate=l.readObject(s(b.statusUpdate));break;case d("BladeRunnerTypes").StreamFrameType.LOG:e.log=k.readObject(s(b.log));break;case d("BladeRunnerTypes").StreamFrameType.REWRITE_REQUEST:e.rewriteRequest=m.readObject(s(b.rewriteRequest));break;default:c("BladeRunnerLogger").warn("Frame with unexpected type: "+e.type);return null}return e};a.newRequestFrame=function(b){var c=new a();c.type=d("BladeRunnerTypes").StreamFrameType.REQUEST;c.request=b;return c};a.newDataFrame=function(b){var c=new a();c.type=d("BladeRunnerTypes").StreamFrameType.DATA;c.data=b;return c};a.newDataAckFrame=function(b){var c=new a();c.type=d("BladeRunnerTypes").StreamFrameType.DATA_ACK;c.dataAck=b;return c};a.newStatusUpdateFrame=function(b){var c=new a();c.type=d("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE;c.statusUpdate=b;return c};a.newLogFrame=function(b){var c=new a();c.type=d("BladeRunnerTypes").StreamFrameType.LOG;c.log=b;return c};a.newRewriteRequestFrame=function(b){var c=new a();c.type=d("BladeRunnerTypes").StreamFrameType.REWRITE_REQUEST;c.rewriteRequest=b;return c};return a}();a=function(){function a(a,b,c){this.batchId=a,this.frames=b,this.instrumentationData=c}var b=a.prototype;b.getFrames=function(){if(this.frames!=null)return this.frames;throw new Error("Expected frames")};b.getInstrumentationData=function(){if(this.instrumentationData!=null)try{return JSON.parse(this.instrumentationData)}catch(a){return null}else return null};b.getInstrumentationDataDfTraceId=function(){if(this.instrumentationData!=null)try{var a=JSON.parse(this.instrumentationData);return(a=a.dataFlowTracingData)==null?void 0:a.traceId}catch(a){return null}else return null};b.write=function(){return JSON.stringify(this)};b.isInstrumented=function(){return this.getFrames().some(function(a){return a.isInstrumented()})};a.read=function(b){b=JSON.parse(b);var c=b.batchId||0,d=[];for(var e=b.frames,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;h=n.readObject(h);h!=null&&d.push(h)}h=b.instrumentationData||null;return new a(c,d,h)};return a}();function o(a){if(typeof a==="number")return a;throw new Error("Expected number")}function p(a){return a==null?null:o(a)}function q(a){if(typeof a==="string")return a;throw new Error("Expected string")}function r(a){return a==null?null:q(a)}function s(a){if(typeof a==="object"&&a!=null)return a;throw new Error("Expected object")}function t(a){if(typeof a==="object"&&a!=null){var b=a,c={};Object.keys(b).forEach(function(a){var d=b[a];typeof d==="string"&&d!=null&&(c[a]=d)});return c}throw new Error("Expected string map")}function u(a){return a==null?null:t(a)}function v(a){if(typeof a==="boolean"&&a!=null)return a;throw new Error("Expected boolean")}function w(a){return a==null?null:v(a)}g.GatewayStreamRequest=h;g.GatewayStreamData=i;g.GatewayStreamDataAck=j;g.GatewayStreamLog=k;g.GatewayStreamStatusUpdate=l;g.GatewayStreamRewriteRequest=m;g.GatewayStreamFrame=n;g.GatewayStreamBatch=a}),98);
__d("RequestStreamE2EClientLoggerEvent",[],(function(a,b,c,d,e,f){a=Object.freeze({RECEIVED:"received",SENT:"sent",FAILURE:"failure",PUBACK:"puback"});f["default"]=a}),66);
__d("RequestStreamE2EClientLoggerMessageType",[],(function(a,b,c,d,e,f){a=Object.freeze({REQUEST_STREAM:"request_stream",AMENDMENT:"amendment",AMENDMENT_ACK:"amendment_ack",CANCEL:"cancel",RESPONSE:"response",RESPONSE_ACK:"response_ack",TIMED_REQUEST:"timed_request",INTERRUPT:"interrupt"});f["default"]=a}),66);
__d("BladeRunnerEventHandler",["BladeRunnerLogger","BladeRunnerStreamStatus","BladeRunnerTypes","BladeRunnerTypesInternal","RequestStreamE2EClientLoggerEvent","RequestStreamE2EClientLoggerMessageType","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){var h=1e3;a=function(){function a(a,b,c){this.$2=a,this.$1=b,this.$3=c}var b=a.prototype;b.onProxyResponse=function(a){this.$4(a);var b=[];for(var e=a.getFrames(),f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;this.$2.witnessFrame(h)&&b.push(h)}h=this.$2.getRequest();(g=h.e2eLogger)==null?void 0:g.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").RESPONSE,c("RequestStreamE2EClientLoggerEvent").SENT,{},(f=a.getInstrumentationData())==null?void 0:f.auxId,null,a.getInstrumentationDataDfTraceId());b.length>0&&this.$5(new(d("BladeRunnerTypesInternal").GatewayStreamBatch)(a.batchId,b,a.instrumentationData))};b.onDisconnect=function(){this.$2.resetErrors();var a=new(d("BladeRunnerTypesInternal").GatewayStreamStatusUpdate)();a.streamId=this.$2.getRequest().streamId;a.status=d("BladeRunnerStreamStatus").StreamStatus.CLOSED;a.shouldRetry=!0;a.retryDelayMs=0;a=new(d("BladeRunnerTypesInternal").GatewayStreamBatch)(null,[d("BladeRunnerTypesInternal").GatewayStreamFrame.newStatusUpdateFrame(a)]);this.onProxyResponse(a)};b.$4=function(a){var b=this;a=a.getFrames().filter(function(a){return a.type==d("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE});for(var a=a,e=Array.isArray(a),f=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=a.length)break;g=a[f++]}else{f=a.next();if(f.done)break;g=f.value}g=g;g=g.getStatusUpdate();if(g.status==d("BladeRunnerStreamStatus").StreamStatus.CLOSED||g.status==d("BladeRunnerStreamStatus").StreamStatus.REJECTED){this.$2.onError();var i=g.shouldRetry!=null&&g.shouldRetry,j=g.message!=null?g.message:"null";if(i&&this.$2.getErrorCount()<=this.$2.getRetriesAllowed()){g.status=d("BladeRunnerStreamStatus").StreamStatus.STOPPED;var k=h;g.retryDelayMs!=null&&(k=g.retryDelayMs);c("BladeRunnerLogger").info("Can retry: stream "+g.streamId+" closed with status "+g.status+", message "+j+". Error count: "+this.$2.getErrorCount()+", retryDelay "+k+"ms. Already retrying: "+this.$2.getRetryRequestScheduled().toString());this.$2.getRetryRequestScheduled()?c("BladeRunnerLogger").bumpCounter("stream_closed_already_retrying"):(c("BladeRunnerLogger").bumpCounter("stream_closed_will_retry"),this.$2.setRetryRequestScheduled(!0),k>0?c("setTimeoutAcrossTransitions")(function(){return b.$6()},k):this.$6())}else c("BladeRunnerLogger").info("Will not retry: stream "+g.streamId+" closed with status "+g.status+", message "+j+". Error count: "+this.$2.getErrorCount()+", shouldRetry "+i.toString()+". Already retrying: "+this.$2.getRetryRequestScheduled().toString()),i?c("BladeRunnerLogger").bumpCounter("stream_closed_retry_exceeded"):c("BladeRunnerLogger").bumpCounter("stream_closed_no_retry"),this.$3.removeStream(g.streamId)}}};b.$6=function(){this.$2.setRetryRequestScheduled(!1);if(this.$2.isAlive()){var a=this.$1.getUpdatedRequestBody();a!=null&&this.$2.updateRetryRequestPayload(a);this.$3.sendRetryStreamRequest(this.$2)}};b.$5=function(a){c("BladeRunnerLogger").bumpCounter("send_to_handler");var b=[];this.$1.onBatch(a);for(var a=a.getFrames(),e=Array.isArray(a),f=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=a.length)break;g=a[f++]}else{f=a.next();if(f.done)break;g=f.value}g=g;try{switch(g.type){case d("BladeRunnerTypes").StreamFrameType.DATA:this.$1.onData(g.getData());b.push(g.getData());break;case d("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE:this.$1.onStatusUpdate(g.getStatusUpdate().status);break;case d("BladeRunnerTypes").StreamFrameType.LOG:g=g.getLog().message;g!=null&&this.$1.onLog(g);break;case d("BladeRunnerTypes").StreamFrameType.DATA_ACK:break;default:throw new Error("Frame with unexpected type")}}catch(a){c("BladeRunnerLogger").bumpCounter("send_to_handler_error"),c("BladeRunnerLogger").exception(a,"Failed sending frame to stream handler")}}this.$7(b)};b.$7=function(a){var b=[];for(var c=0;c<a.length;c++){var e=a[c];if(e.shouldAck===!0&&e.dataId!=null){var f=new(d("BladeRunnerTypesInternal").GatewayStreamDataAck)();f.streamId=e.streamId;f.dataId=e.dataId;f.success=!0;b.push(f)}}this.$3.sendDataAcks(b)};return a}();g["default"]=a}),98);
__d("RtiRequestStreamE2eClientBatchFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("819");b=d("FalcoLoggerInternal").create("rti_request_stream_e2e_client_batch",a);e=b;g["default"]=e}),98);
__d("RtiRequestStreamE2eClientFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1857112");b=d("FalcoLoggerInternal").create("rti_request_stream_e2e_client",a);e=b;g["default"]=e}),98);
__d("RequestStreamE2ELogger",["ConstUriUtils","RequestStreamE2EClientLoggerEvent","RequestStreamE2EClientLoggerMessageType","RtiRequestStreamE2eClientBatchFalcoEvent","RtiRequestStreamE2eClientFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h=["FBGQLS:COMMENT_CREATE_SUBSCRIBE","FBGQLS:COMMENT_LIKE_SUBSCRIBE","FBGQLS:FEEDBACK_COMMENT_PERMISSION_TOGGLE_SUBSCRIBE","FBGQLS:FEEDBACK_TYPING_SUBSCRIBE","FBLQ:comet_notifications_live_query_experimental"],i=0;function j(){var a=Date.now();i>=a?i+=1:i=a;return i.toString()}var k=function(){function a(a,b,c,e,f,g,h,i,j,k){this.$10=[];this.$11=!1;this.$1=a;this.$2=b;this.$3=c;this.$4=e;this.$5=f;this.$6=g;this.$7=h;this.$8=i;this.$9=j;this.$12=(a=k)!=null?a:!1;b=d("ConstUriUtils").getUri(window.location.href);b&&(this.$13=b.getDomain())}var b=a.prototype;b.logE2EEvent=function(a,b,c,d,e,f){c===void 0&&(c=null);d===void 0&&(d=null);e===void 0&&(e=null);f===void 0&&(f=null);if(this.$3==="Falco")return;e={request_id:this.$1,resume_id:"0",retry_id:e,transport:this.$2,method:this.$3,use_case:this.$4,request_log_context:this.$5,force_log_context:this.$6,e2e_sample_rate:this.$7,message_type:a,event:b,timestamp_ms:j(),aux_id:d,additional_data:c,dgw_stream_group_logging_id:this.$8,dgw_count_prior_streams_in_group:this.$9,domain:this.$13,df_trace_id:f};this.$14(e)};b.$14=function(a){if(!this.$12){c("RtiRequestStreamE2eClientFalcoEvent").log(function(){return a});return}this.$10.push(a);if(this.$11||a.event==c("RequestStreamE2EClientLoggerEvent").FAILURE||a.message_type==c("RequestStreamE2EClientLoggerMessageType").RESPONSE){var b={events:this.$10};c("RtiRequestStreamE2eClientBatchFalcoEvent").log(function(){return b});this.$10=[];this.$11=!0}};b.getRequestId=function(){return this.$1};return a}();function a(a,b,c){if(a==null||a.method==null)return null;var d=!1;h.includes(a.method)&&(d=!0);if(b==null||b.length==0)return null;b=JSON.parse(b);return b.requestId==null?null:new k(b.requestId,c,a.method,l(a.method,a),b.requestLogContext,b.forceLogContext,b.sampleRate,b.dgwStreamGroupLoggingId,b.dgwCountPriorStreamsInGroup,d)}function l(a,b){if(a==="FBLQ"&&b.config_id)return b.config_id;if(a==="SKY"){if(b.topic){var c=b.topic.lastIndexOf("/");return c>0?b.topic.substr(0,c):b.topic}return}return a}function b(a,b,d,e,f,g){f===void 0&&(f=null);g===void 0&&(g=null);if(a==null||a.requestId==null||a.clientLoggingDisabled!=null)return;var h={request_id:a.requestId,resume_id:"0",transport:b,e2e_sample_rate:a.sampleRate,message_type:d,event:e,timestamp_ms:j(),aux_id:a.auxId,additional_data:f,df_trace_id:g};c("RtiRequestStreamE2eClientFalcoEvent").log(function(){return h})}g.RequestStreamE2ELogger=k;g.createStreamLogger=a;g.logRequestStreamE2EEventStatic=b}),98);
__d("RequestStreamTransport",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["WEB_BR_MQTT","WEB_RS_MQTT","WEB_RS_STARGATE"]);f.RequestStreamTransport=a}),66);
__d("BladeRunnerSocket",["BladeRunnerEventHandler","BladeRunnerLogger","BladeRunnerStreamStatus","BladeRunnerTypes","BladeRunnerTypesInternal","CurrentUser","FBMqttChannel","MqttPublishListener","Promise","RequestStreamE2EClientLoggerEvent","RequestStreamE2EClientLoggerMessageType","RequestStreamE2ELogger","RequestStreamTransport","justknobx","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i="Connected",j="Disconnected",k="/br_sr",l="/sr_res",m=null;function n(a){var b;switch(a.type){case d("BladeRunnerTypes").StreamFrameType.REQUEST:return(b=a.request)==null?void 0:b.getInstrumentationData();case d("BladeRunnerTypes").StreamFrameType.DATA:return(b=a.data)==null?void 0:b.getInstrumentationData()}return null}function o(a){switch(a.type){case d("BladeRunnerTypes").StreamFrameType.REQUEST:return c("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM;case d("BladeRunnerTypes").StreamFrameType.DATA:return c("RequestStreamE2EClientLoggerMessageType").AMENDMENT}return null}function p(a){if(a===null)return null;switch(a){case d("BladeRunnerStreamStatus").StreamStatus.ACCEPTED:return"Accepted";case d("BladeRunnerStreamStatus").StreamStatus.REJECTED:return"Rejected";case d("BladeRunnerStreamStatus").StreamStatus.STARTED:return"Started";case d("BladeRunnerStreamStatus").StreamStatus.STOPPED:return"Stopped";case d("BladeRunnerStreamStatus").StreamStatus.CLOSED:return"Closed"}return null}function q(a){var b={};a==null?void 0:(a=a.frames)==null?void 0:a.forEach(function(a){if(a.type===d("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE){a=(a=a.statusUpdate)==null?void 0:a.status;a=p(a);a!==null&&(b.flow_status=a)}});return b}function r(a,b){var c;switch(a.type){case d("BladeRunnerTypes").StreamFrameType.REQUEST:b.data_base64_size=(c=a.request)==null?void 0:(c=c.payload)==null?void 0:(c=c.length)==null?void 0:c.toString();break;case d("BladeRunnerTypes").StreamFrameType.DATA:b.data_base64_size=(c=a.data)==null?void 0:(b=c.rawDataSize())==null?void 0:b.toString();break}return null}function s(a,b,e){var f=n(a);if(f==null)return;var g=o(a);if(g==null)return;var h=null;switch(b){case d("MqttPublishListener").MqttPublishEvent.SENT:h=c("RequestStreamE2EClientLoggerEvent").SENT;break;case d("MqttPublishListener").MqttPublishEvent.ACKED:h=c("RequestStreamE2EClientLoggerEvent").PUBACK;break;case d("MqttPublishListener").MqttPublishEvent.NOT_ACKED:case d("MqttPublishListener").MqttPublishEvent.NOT_CONNECTED:case d("MqttPublishListener").MqttPublishEvent.PUBLISH_ERROR:h=c("RequestStreamE2EClientLoggerEvent").FAILURE;e.reason==null&&(e.reason=b);break}if(h==null)return;r(a,e);if(((b=a.request)==null?void 0:b.e2eLogger)!=null&&f.clientLoggingDisabled==null){(b=a.request)==null?void 0:b.e2eLogger.logE2EEvent(g,h,e,f.auxId)}else d("RequestStreamE2ELogger").logRequestStreamE2EEventStatic(f,d("RequestStreamTransport").RequestStreamTransport.WEB_BR_MQTT,g,h,e)}a=function(){function a(a){this.$1=[],this.$2=0,this.$3=0,this.$4=null,this.$5=0,this.$6=new Map(),this.$7=a!=null?a:c("FBMqttChannel"),this.$8=new Map(),c("BladeRunnerLogger").setClientSessionId(c("uuidv4")()),this.$9()}a.get=function(){m==null&&(m=new a(c("FBMqttChannel")));return m};var e=a.prototype;e.sendNewStreamRequest=function(b,d){d=new(c("BladeRunnerEventHandler"))(b,d,this);var e=b.getRequest();this.$6.set(e.streamId,d);if(!this.$10()){this.$11(d,e.streamId);return}this.getStreamCount()<=a.maxStreamCount?this.$12(e):(c("BladeRunnerLogger").bumpCounter("socket_request_throttled_max_streams"),c("BladeRunnerLogger").warn("Maximum stream count reached, will not send request: "+JSON.stringify(b.getRequest().getHeaders())),this.$11(d,e.streamId))};e.sendRetryStreamRequest=function(a){this.$12(a.getRequest())};e.sendCancel=function(a){c("BladeRunnerLogger").bumpCounter("socket_send_cancel");var b=new(d("BladeRunnerTypesInternal").GatewayStreamStatusUpdate)();b.streamId=a.streamId;b.status=d("BladeRunnerStreamStatus").StreamStatus.CLOSED;this.$13(b,a);this.removeStream(a.streamId)};e.sendAmendment=function(a,b,e){c("BladeRunnerLogger").bumpCounter("socket_send_amendment");var f=new(d("BladeRunnerTypesInternal").GatewayStreamData)();f.streamId=a;f.setData(b);e!=null&&(f.instrumentationData=e);this.$14(f)};e.sendAmendmentWithAck=function(a,e,f){var g=this;c("BladeRunnerLogger").bumpCounter("socket_send_amendment");var i=this.$15(),j=new(d("BladeRunnerTypesInternal").GatewayStreamData)();j.streamId=a;j.setData(e);j.shouldAck=!0;j.dataId=i;f!=null&&(j.instrumentationData=f);a=new(h||(h=b("Promise")))(function(a,b){g.$8.set(i,{resolve:a,reject:b})});this.$14(j);return a};e.$14=function(a){this.$1.push(d("BladeRunnerTypesInternal").GatewayStreamFrame.newDataFrame(a)),this.$16()};e.sendDataAcks=function(a){c("BladeRunnerLogger").bumpCounter("socket_send_data_ack",a.length),this.$17(a)};e.removeStream=function(a){this.$6["delete"](a)};e.getStreamCount=function(){return this.$6.size};e.getNextStreamId=function(){this.$5++;return this.$5};e.onMQTTStateChanged=function(a){this.$16();if(a!=j&&a!=i||this.$4==a)return;this.$4=a;c("BladeRunnerLogger").info("MQTTStateChanged: "+a);a==j?(c("BladeRunnerLogger").bumpCounter("mqtt_state_disconnected"),this.$18()):a==i&&c("BladeRunnerLogger").bumpCounter("mqtt_state_connected")};e.$12=function(a){c("BladeRunnerLogger").bumpCounter("socket_send_request");this.$1.push(d("BladeRunnerTypesInternal").GatewayStreamFrame.newRequestFrame(a));if(!this.$16()){(a=a.e2eLogger)==null?void 0:a.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,c("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:"MQTT Not Connected"})}};e.$13=function(a,b){this.$1.push(d("BladeRunnerTypesInternal").GatewayStreamFrame.newStatusUpdateFrame(a));if(this.$16()){(a=b.e2eLogger)==null?void 0:a.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").CANCEL,c("RequestStreamE2EClientLoggerEvent").SENT)}};e.$17=function(a){for(var b=0;b<a.length;b++){var c=a[b];this.$1.push(d("BladeRunnerTypesInternal").GatewayStreamFrame.newDataAckFrame(c))}this.$16()};e.$19=function(){this.$2++;return this.$2};e.$15=function(){this.$3++;return this.$3};e.$16=function(){var a=!1;if(this.$7.getConnectionState()===i&&this.$1.length>0)try{this.$20(this.$1),a=!0}catch(a){}finally{this.$1=[]}return a};e.$20=function(a){var b=this,e=new(d("BladeRunnerTypesInternal").GatewayStreamBatch)(this.$19(),a),f=e.write();if(f.length>this.$21()){var g=Math.floor(a.length/2);if(g===0){a.forEach(function(a){return s(a,d("MqttPublishListener").MqttPublishEvent.PUBLISH_ERROR,{reason:"too long"})});var h=new Error("Publish is too long: "+f.length);h.stack;this.$22(e,h,"Publish is too long");throw h}this.$20(a.slice(0,g));this.$20(a.slice(g,a.length))}else try{c("BladeRunnerLogger").info("send message to "+k+" ("+f.length+" bytes)");h={qos:1,skipBuffer:!1};if(e.isInstrumented()){var i=Date.now();h.listener={onEvent:function(b){var c=(Date.now()-i).toString();a.forEach(function(a){s(a,b,{latency:c})})}}}this.$7.publish(k,f,h)["catch"](function(a){b.$22(e,a,"Failed publishing to MQTT")});c("BladeRunnerLogger").bumpCounter("mqtt_publish_success")}catch(a){this.$22(e,a,"Failed publishing to MQTT");throw a}};e.$9=function(){var a=this;c("BladeRunnerLogger").info("Starting socket with endpoint "+this.$7.getEndpoint()+" useragent "+navigator.userAgent);this.onMQTTStateChanged(this.$7.getConnectionState());this.$7.subscribeChannelEvents({onMQTTStateChanged:function(b){a.onMQTTStateChanged(b)},onJSError:function(a){var b=a!=null&&typeof a.isRecoverable==="boolean"?a.isRecoverable:!1;b?c("BladeRunnerLogger").bumpCounter("mqtt_channel_recoverable_error"):(c("BladeRunnerLogger").warn("JS error in MQTTChannel: "+(typeof a=="object"&&a!=null?a.toString():"unknown error")+", "+JSON.stringify(a)),c("BladeRunnerLogger").bumpCounter("mqtt_channel_error"))}});this.$7.subscribe(k,function(a){throw new Error("Unexpected response: "+k+" "+a.toString())});this.$7.subscribe(l,function(b){a.$23(b)})};e.$23=function(a){a=d("BladeRunnerTypesInternal").GatewayStreamBatch.read(a);this.processBatch(a)};e.$22=function(a,b,e){for(var a=a.getFrames(),f=Array.isArray(a),g=0,a=f?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=a.length)break;h=a[g++]}else{g=a.next();if(g.done)break;h=g.value}h=h;if(h.type===d("BladeRunnerTypes").StreamFrameType.REQUEST){var i=h.getRequest(),j=this.$6.get(i.streamId);j!=null&&this.$24(j,i.streamId,d("BladeRunnerStreamStatus").StreamStatus.CLOSED,!0,null)}else if(h.type===d("BladeRunnerTypes").StreamFrameType.DATA){j=h.getData();i=j.dataId;if(j.shouldAck!=null&&j.shouldAck&&i!=null){h=new(d("BladeRunnerTypesInternal").GatewayStreamDataAck)();h.streamId=j.streamId;h.dataId=i;h.success=!1;h.code=d("BladeRunnerTypesInternal").GatewayStreamDataAck.ACK_CODE_FAILED_TO_LAND;h.message=e;this.$25(h)}}}c("BladeRunnerLogger").info("Failed publishing to MQTT: "+b.message);c("BladeRunnerLogger").bumpCounter("mqtt_publish_error")};e.$25=function(a){var b=this.$8.get(a.dataId);b!=null&&(this.$8["delete"](a.dataId),a.success?b.resolve(!0):a.code===d("BladeRunnerTypesInternal").GatewayStreamDataAck.ACK_CODE_LANDED_BUT_NOT_ACCEPTED?b.resolve(!1):b.reject(a.message))};e.processBatch=function(a){try{d("RequestStreamE2ELogger").logRequestStreamE2EEventStatic(a.getInstrumentationData(),d("RequestStreamTransport").RequestStreamTransport.WEB_BR_MQTT,c("RequestStreamE2EClientLoggerMessageType").RESPONSE,c("RequestStreamE2EClientLoggerEvent").RECEIVED,q(a),a.getInstrumentationDataDfTraceId());c("BladeRunnerLogger").bumpCounter("socket_process_batch");var b=JSON.stringify(a);c("BladeRunnerLogger").info("Received batch ("+b.length+" bytes)");b=null;for(var e=a.getFrames(),f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;var i=h.getStreamId();b==null&&(b=i);if(i!=null&&b!=i)throw new Error("Received batch with frames for multiple streams");h.type==d("BladeRunnerTypes").StreamFrameType.DATA_ACK&&this.$25(h.getDataAck())}if(b!=null){i=this.$6.get(b);i!=null?i.onProxyResponse(a):c("BladeRunnerLogger").info("Received batch with frames for unknown stream id: "+b)}else c("BladeRunnerLogger").info("Received batch with no frames")}catch(a){c("BladeRunnerLogger").exception(a,"Failed processing batch from MQTT");c("BladeRunnerLogger").bumpCounter("socket_process_batch_error");throw a}};e.$18=function(){this.$6.forEach(function(a,b,c){a.onDisconnect()})};e.$11=function(a,b){this.$24(a,b,d("BladeRunnerStreamStatus").StreamStatus.REJECTED,!1,0)};e.$24=function(a,b,c,e,f){var g=new(d("BladeRunnerTypesInternal").GatewayStreamStatusUpdate)();g.streamId=b;g.status=c;g.shouldRetry=e;g.retryDelayMs=f;b=new(d("BladeRunnerTypesInternal").GatewayStreamBatch)(null,[d("BladeRunnerTypesInternal").GatewayStreamFrame.newStatusUpdateFrame(g)]);a.onProxyResponse(b)};e.$10=function(){if(!c("CurrentUser").isLoggedIn()){c("BladeRunnerLogger").bumpCounter("request_stream_user_logged_out");return!1}return!0};e.$21=function(){var a=1024*1024,b=512*1024;try{var d=c("justknobx")._("317");b=d*a}catch(a){}return Math.max(b-1024,0)};return a}();a.maxStreamCount=2e3;g["default"]=a}),98);
__d("BladeRunnerStream",["Promise","regeneratorRuntime"],(function(a,b,c,d,e,f){var g;a=function(){function a(a){this.$1=a}var c=a.prototype;c.getStreamHandler=function(){return this.$1};c.cancel=function(){};c.amendWithAck=function(a){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:return a.abrupt("return",!1);case 1:case"end":return a.stop()}},null,this)};c.amendFireAndForget=function(a){};c.amendWithoutAck=function(a){};c.start=function(){return(g||(g=b("Promise"))).resolve()};c.isAlive=function(){return!1};c.canAmend=function(){return!1};c.getStatus=function(){return null};c.getStreamId=function(){return 0};return a}();f["default"]=a}),66);
__d("BladeRunnerStreamState",["BladeRunnerLogger","BladeRunnerStreamStatus","BladeRunnerTypes"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.$1=a,this.$2=null,this.$3=0,this.$4=!1,this.$5=0,this.$6=!1}var b=a.prototype;b.getRequest=function(){return this.$1};b.updateRetryRequestPayload=function(a){this.$1.updateRetryRequestPayload(a)};b.isAlive=function(){return!(this.$2==d("BladeRunnerStreamStatus").StreamStatus.CLOSED||this.$2==d("BladeRunnerStreamStatus").StreamStatus.REJECTED)};b.canAmend=function(){return this.$2==d("BladeRunnerStreamStatus").StreamStatus.ACCEPTED||this.$2==d("BladeRunnerStreamStatus").StreamStatus.STARTED||this.$2==d("BladeRunnerStreamStatus").StreamStatus.STOPPED};b.getLastStatus=function(){return this.$2};b.setLastStatus=function(a){this.$2=a};b.onError=function(){this.$3+=1};b.getErrorCount=function(){return this.$3};b.resetErrors=function(){this.$3=0};b.getRetryRequestScheduled=function(){return this.$6};b.setRetryRequestScheduled=function(a){this.$6=a};b.witnessFrame=function(a){switch(a.type){case d("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE:var b=a.getStatusUpdate(),c=!0;switch(b.status){case d("BladeRunnerStreamStatus").StreamStatus.ACCEPTED:c=!this.$4;this.$4||(this.$4=!0);break;case d("BladeRunnerStreamStatus").StreamStatus.STARTED:c=this.getLastStatus()!=d("BladeRunnerStreamStatus").StreamStatus.STARTED;break;case d("BladeRunnerStreamStatus").StreamStatus.STOPPED:c=this.getLastStatus()==d("BladeRunnerStreamStatus").StreamStatus.STARTED;break;case d("BladeRunnerStreamStatus").StreamStatus.CLOSED:case d("BladeRunnerStreamStatus").StreamStatus.REJECTED:default:c=!0}this.setLastStatus(b.status);return c;case d("BladeRunnerTypes").StreamFrameType.REWRITE_REQUEST:this.$7(a.getRewriteRequest());return!1;default:return!0}};b.setRetriesAllowed=function(a){this.$5=a};b.getRetriesAllowed=function(){return this.$5};b.$7=function(a){if(!(a.temporary!=null||a.temporary==!0)){a.newBody!=null&&(this.$1.payload=a.newBody);a.newExtraHeader!=null&&(this.$1.extraHeader=a.newExtraHeader,this.$1.headers=JSON.parse(a.newExtraHeader));if(a.patchExtraHeader!=null)try{var b=JSON.parse(a.patchExtraHeader),d=this.$1.extraHeader!=null?JSON.parse(this.$1.extraHeader):{};this.$1.headers==null&&(this.$1.headers={});var e=Object.keys(b);for(var f=0;f<e.length;f++){var g=e[f];this.$1.headers[g]=b[g];d[g]=b[g]}this.$1.extraHeader=JSON.stringify(d)}catch(b){c("BladeRunnerLogger").warn("Failed to patch header: "+a.patchExtraHeader)}a.killBody!=null&&a.killBody==!0&&(this.$1.payload=null)}};return a}();g["default"]=a}),98);
__d("BladeRunnerSocketStream",["BladeRunnerStream","BladeRunnerStreamState","BladeRunnerStreamStatus","Promise","RequestStreamE2EClientLoggerEvent","RequestStreamE2EClientLoggerMessageType","regeneratorRuntime","uuidv4"],(function(a,b,c,d,e,f,g){var h,i=4,j={reason:"stream_dead"};a=function(a){babelHelpers.inheritsLoose(e,a);function e(b,d,e){b=a.call(this,b)||this;b.$BladeRunnerSocketStream1=e;b.$BladeRunnerSocketStream2=new(c("BladeRunnerStreamState"))(d);b.$BladeRunnerSocketStream2.setRetriesAllowed(i);return b}var f=e.prototype;f.start=function(){var a=this;return new(h||(h=b("Promise")))(function(b){a.send(),b()})};f.send=function(){var a,b=this.$BladeRunnerSocketStream2.getRequest();(a=b.e2eLogger)==null?void 0:a.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,c("RequestStreamE2EClientLoggerEvent").RECEIVED,{data_base64_size:(a=b.payload)==null?void 0:(b=a.length)==null?void 0:b.toString()});this.$BladeRunnerSocketStream1.sendNewStreamRequest(this.$BladeRunnerSocketStream2,this.getStreamHandler())};f.amendWithAck=function(a){var d,e,f,g,i,k,l;return b("regeneratorRuntime").async(function(m){while(1)switch(m.prev=m.next){case 0:e=this.$BladeRunnerSocketStream2.getRequest();f=e.getInstrumentationData();f&&(f.auxId=c("uuidv4")(),(g=e.e2eLogger)==null?void 0:g.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").AMENDMENT,c("RequestStreamE2EClientLoggerEvent").RECEIVED,{data_size:a==null?void 0:(i=a.length)==null?void 0:i.toString()},f.auxId));if(!this.canAmend()){m.next=6;break}f&&((k=e.e2eLogger)==null?void 0:k.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").AMENDMENT,c("RequestStreamE2EClientLoggerEvent").SENT,{data_size:a==null?void 0:(l=a.length)==null?void 0:l.toString()},f.auxId));return m.abrupt("return",this.$BladeRunnerSocketStream1.sendAmendmentWithAck(e.streamId,this.$BladeRunnerSocketStream3(a),f==null?null:JSON.stringify(f)));case 6:(d=e.e2eLogger)==null?void 0:d.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").AMENDMENT,c("RequestStreamE2EClientLoggerEvent").FAILURE,j,f==null?void 0:f.auxId);return m.abrupt("return",(h||(h=b("Promise"))).reject("Stream is closed or not accepted"));case 8:case"end":return m.stop()}},null,this)};f.amendFireAndForget=function(a){var b=this.$BladeRunnerSocketStream2.getRequest(),d=b.getInstrumentationData();if(d){var e;d.auxId=c("uuidv4")();(e=b.e2eLogger)==null?void 0:e.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").AMENDMENT,c("RequestStreamE2EClientLoggerEvent").RECEIVED,{data_size:a==null?void 0:(e=a.length)==null?void 0:e.toString()},d.auxId)}if(this.canAmend()){this.$BladeRunnerSocketStream1.sendAmendment(this.$BladeRunnerSocketStream2.getRequest().streamId,this.$BladeRunnerSocketStream3(a),d==null?null:JSON.stringify(d));if(d){(e=b.e2eLogger)==null?void 0:e.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").AMENDMENT,c("RequestStreamE2EClientLoggerEvent").SENT,{data_size:a==null?void 0:(e=a.length)==null?void 0:e.toString()},d.auxId)}}else{(a=b.e2eLogger)==null?void 0:a.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").AMENDMENT,c("RequestStreamE2EClientLoggerEvent").FAILURE,j,d==null?void 0:d.auxId);throw new Error("Stream is closed or not accepted")}};f.amendWithoutAck=function(a){this.amendFireAndForget(a)};f.$BladeRunnerSocketStream3=function(a){return typeof a=="object"?btoa(new TextDecoder("utf8").decode(a)):a};f.cancel=function(){var a=this.$BladeRunnerSocketStream2.getRequest();(a=a.e2eLogger)==null?void 0:a.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").CANCEL,c("RequestStreamE2EClientLoggerEvent").RECEIVED);this.isAlive()&&(this.$BladeRunnerSocketStream1.sendCancel(this.$BladeRunnerSocketStream2.getRequest()),this.$BladeRunnerSocketStream2.setLastStatus(d("BladeRunnerStreamStatus").StreamStatus.CLOSED),this.getStreamHandler().onClientCancel())};f.isAlive=function(){return this.$BladeRunnerSocketStream2.isAlive()};f.canAmend=function(){return this.$BladeRunnerSocketStream2.canAmend()};f.getStatus=function(){return this.$BladeRunnerSocketStream2.getLastStatus()};f.getStreamId=function(){return this.$BladeRunnerSocketStream2.getRequest().streamId};return e}(c("BladeRunnerStream"));g["default"]=a}),98);
__d("RequestStreamE2ESampling",["invariant","Random","RequestStreamE2EClientSamplingConfig","uuidv4"],(function(a,b,c,d,e,f,g,h){"use strict";function i(a){return a==null?!1:a.requestId!=null&&typeof a.requestId=="string"&&a.forceLogContext!=null&&typeof a.forceLogContext=="string"}function j(a,b){var d=c("RequestStreamE2EClientSamplingConfig").sampleRate;if(d>1&&a!=null){a=c("RequestStreamE2EClientSamplingConfig").methodToSamplingMultiplier[a];a==0?d=0:a!=null&&(d/=a)}return d==1?1:d/b}function k(a,b,d,e){var f=c("uuidv4")();(b.requestId==null||b.requestId===""||typeof b.requestId!="string")&&(a.requestId!=null&&typeof a.requestId=="string"?b.requestId=a.requestId:b.requestId=f);b.requestId+="/_"+f.substring(0,4);b.resumeId="0";d!=null?b.sampleRate=d:b.sampleRate=void 0;f="";e!=null&&e.length>0&&(f=e);f.length>0&&(b.requestLogContext!=null&&b.requestLogContext.length>0?b.requestLogContext+=":":b.requestLogContext="",b.requestLogContext+=f);(a==null?void 0:a.method)==="Falco"&&(b.clientLoggingDisabled="Falco");d={};for(e=Object.keys(b).sort(),f=Array.isArray(e),a=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(f){if(a>=e.length)break;g=e[a++]}else{a=e.next();if(a.done)break;g=a.value}g=g;d[g]=b[g]}return JSON.stringify(d)}function a(a,b,d,e){b&&(!b.requestId.includes("/")&&!b.requestId.includes("#")||h(0,41721));e=j(a.method,(e=e)!=null?e:1);if(c("Random").coinflip(e))return k(a,b||{requestId:""},e,d);return i(b)?k(a,b||{requestId:""},null,d):""}g.isForceLogged=i;g.getSampleRateForLogging=j;g.normalizeInstrumentationData=k;g.validateInstrumentationData=a}),98);
__d("BladeRunnerClient",["Base64","BladeRunnerConfig","BladeRunnerLogger","BladeRunnerSocket","BladeRunnerSocketStream","BladeRunnerTypes","BladeRunnerTypesInternal","RequestStreamE2ELogger","RequestStreamE2ESampling","RequestStreamTransport","cr:2046346"],(function(a,b,c,d,e,f,g){a=function(){function a(a,b){this.$2=d("RequestStreamTransport").RequestStreamTransport.WEB_BR_MQTT,this.$1=a!=null?a:c("BladeRunnerSocket").get(),b&&(this.$2=b)}var e=a.prototype;e.createStream=function(a,b,c,d){return this.$3(a,b,c,d)};e.requestStream=function(a,c,d,e){a=this.$3(a,c,d,e);a.send();b("cr:2046346")!=null&&b("cr:2046346").startPulsarTest();return a};e.logInfo=function(a){c("BladeRunnerLogger").info(a)};e.bumpCounter=function(a){c("BladeRunnerLogger").bumpCounter(a)};e.$3=function(a,b,e,f){var g=new(d("BladeRunnerTypesInternal").GatewayStreamRequest)();g.streamId=this.$1.getNextStreamId();g.requestType=d("BladeRunnerTypes").StreamRequestType.BLADE_RUNNER;g.headers=c("BladeRunnerConfig").patchRequestHeaders(a);g.extraHeader=JSON.stringify(g.headers);g.payload=b!=null?c("Base64").encode(b):null;f!=null&&(f.transport="WEB_RS_MQTT");g.instrumentationData=d("RequestStreamE2ESampling").validateInstrumentationData(g.headers||{},f);g.e2eLogger=d("RequestStreamE2ELogger").createStreamLogger(g.headers,g.instrumentationData,this.$2);return new(c("BladeRunnerSocketStream"))(e,g,this.$1)};return a}();g["default"]=a}),98);
__d("BootloaderEventsPerf",["invariant","Bootloader","BootloaderEvents","ResourceTimingStore","objectEntries","objectValues"],(function(a,b,c,d,e,f,g,h){var i={total_count:0,total_bytes:0,downloaded_count:0,downloaded_bytes:0,cached_count:0,cached_bytes:0,inlined_count:0,inlined_bytes:0,duration:0,missing_count:0};function j(a,b,c){return Math.max(0,((c=c)!=null?c:0)-Math.max(a,(c=b)!=null?c:0))}function k(){return{blocking:babelHelpers["extends"]({},i),nonblocking:babelHelpers["extends"]({},i),"default":babelHelpers["extends"]({},i)}}function l(a,b,c){var e,f;if(c==null)e=0,f="downloaded";else if(c[1])e=c[0].length,f="inlined";else{c=d("ResourceTimingStore").getEntryForURL(c[0]);c?(e=c.encodedBodySize,f=c.transferSize===0?"cached":"downloaded"):(e=0,f="downloaded",a.missing_count++)}a.total_count++;a.total_bytes+=e;if(!b)return;a.duration=Math.max(a.duration,b);switch(f){case"downloaded":a.downloaded_count++;a.downloaded_bytes+=e;break;case"inlined":a.inlined_count++;a.inlined_bytes+=e;break;case"cached":a.cached_count++;a.cached_bytes+=e;break}}function m(a,b,d,e,f){var g=c("Bootloader").getResourceState(b);l(a,j(d,g.loadStart,g.loadEnd),e);g.loadError!=null&&f.add(b)}function n(a,b,d,e){var f=k();for(var a=c("objectEntries")(a),g=Array.isArray(a),i=0,a=g?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(g){if(i>=a.length)break;j=a[i++]}else{i=a.next();if(i.done)break;j=i.value}j=j;var l=j[0];j=j[1];for(var j=j,n=Array.isArray(j),o=0,j=n?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var p;if(n){if(o>=j.length)break;p=j[o++]}else{o=j.next();if(o.done)break;p=o.value}p=p;var q=p[0];p=p[1];var r=void 0,s=void 0;switch(p.type){case"async":s=null;r=d;break;case"js":case"css":s=[p.src,p.d===1];r=f;break;default:p,h(0,3721)}m(r[l],q,b,s,e)}}return f}function o(a,b){var e={unpredicted:d("BootloaderEvents").newResourceMapSet(),ef:d("BootloaderEvents").newResourceMapSet(),overpredicted:d("BootloaderEvents").newResourceMapSet()};for(var f=c("objectEntries")(b),g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;var j=i[0];i=i[1];for(var i=i.entries(),k=Array.isArray(i),l=0,i=k?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var m;if(k){if(l>=i.length)break;m=i[l++]}else{l=i.next();if(l.done)break;m=l.value}m=m;var n=m[0];m=m[1];a[j].has(n)?e.ef[j].set(n,m):e.overpredicted[j].set(n,m)}}for(n=c("objectEntries")(a),m=Array.isArray(n),l=0,n=m?n:n[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(m){if(l>=n.length)break;k=n[l++]}else{l=n.next();if(l.done)break;k=l.value}i=k;j=i[0];h=i[1];for(g=h.entries(),f=Array.isArray(g),a=0,g=f?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(f){if(a>=g.length)break;k=g[a++]}else{a=g.next();if(a.done)break;k=a.value}i=k;h=i[0];k=i[1];b[j].has(h)||e.unpredicted[j].set(h,k)}}return e}function a(a){var b=a.efData,c=a.rsrcs,d=a.startTime,e=new Set(),f;if(b){var g=o(c,b.tierOne);f=g.unpredicted;g={ef:n(g.ef,b.fetchRsrcsStart,k(),e),overpredicted:n(g.overpredicted,b.fetchRsrcsStart,k(),e)};b={ef_fetch_predictions:b.fetchPredictionsEnd-b.fetchPredictionsStart,ef_fetch_start_wait:b.fetchPredictionsEnd-b.fetchRsrcsStart,ef_head_start:d-b.fetchRsrcsStart}}else f=c,g={},b={};c=babelHelpers["extends"]({unpredicted:n(f,d,k(),e)},g);return{source:a.source,source_detail:a.sourceDetail,is_first_identical:a.isFirstIdentical,timeslice_context:(f=a.timesliceContext)==null?void 0:f.name,start_time:d,err_count:e.size,resources:c,durations:babelHelpers["extends"]({jsmods_wait:a.jsmodsStart-d,jsmods:a.jsmodsEnd-a.jsmodsStart,jsmods_done_wait:a.jsmodsEnd-d,download_done_wait:a.logTime-d},b),payloadStats:a.payloadStats}}function b(a){var b=a.startTime,e=0,f=0,g=0,h=0;for(var i=a.components,m=Array.isArray(i),o=0,i=m?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var p;if(m){if(o>=i.length)break;p=i[o++]}else{o=i.next();if(o.done)break;p=o.value}p=p;p=c("Bootloader").getComponentTiming(p);var q=p.tierTwoStart,r=p.tierTwoEnd,s=p.tierThreeStart;p=p.tierThreeEnd;e=Math.max(e,j(b,q,r));f=Math.max(f,j(b,b,r));g=Math.max(g,j(b,s,p));h=Math.max(h,j(b,b,p))}q=new Set();r=k();s=n(a.tierOne,b,r,q);p=n(a.tierTwo,b,r,q);o=n(a.tierThree,b,r,q);m=r.blocking.downloaded_count!=0;i=k();var t=d("BootloaderEvents").newResourceMapSet(),u=new Set(),v=[a.tierOne,a.tierTwo,a.tierThree];for(var w=0;w<v.length;w++){var x=v[w];for(var x=c("objectValues")(x),y=Array.isArray(x),z=0,x=y?x:x[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var A;if(y){if(z>=x.length)break;A=x[z++]}else{z=x.next();if(z.done)break;A=z.value}A=A;for(var A=A.keys(),B=Array.isArray(A),C=0,A=B?A:A[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var D;if(B){if(C>=A.length)break;D=A[C++]}else{C=A.next();if(C.done)break;D=C.value}D=D;u.add(D)}}}D=0;C=0;B=0;for(A=a.beRequests.values(),z=Array.isArray(A),y=0,A=z?A:A[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(z){if(y>=A.length)break;x=A[y++]}else{y=A.next();if(y.done)break;x=y.value}v=x;D+=j(b,b,v.requestStart);C+=v.serverGenTime;B+=v.jsmodsEnd-v.jsmodsStart;l(i[m?"blocking":"nonblocking"],v.responseStart-v.requestStart,[v.uri,!1]);for(w=c("objectEntries")(v.rsrcs),x=Array.isArray(w),v=0,w=x?w:w[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var E;if(x){if(v>=w.length)break;E=w[v++]}else{v=w.next();if(v.done)break;E=v.value}E=E;var F=E[0];E=E[1];for(var E=E,G=Array.isArray(E),H=0,E=G?E:E[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var I;if(G){if(H>=E.length)break;I=E[H++]}else{H=E.next();if(H.done)break;I=H.value}I=I;var J=I[0];I=I[1];u.has(J)||t[F].set(J,I)}}}J=n(t,b,r,q);return{ref:a.ref,components:a.components,timeslice_context:(I=a.timesliceContext)==null?void 0:I.name,start_time:b,err_count:q.size,resources:{t1:s,t2:p,t3:o,be:i,unpredicted:J,async:r},durations:{fetch_start_wait:a.fetchStartTime-b,be_start_wait:D,be_server_gen:C,be_jsmods:B,callback_wait:a.callbackStart-b,callback:a.callbackEnd-a.callbackStart,bootload_done_wait:a.callbackEnd-b,rdfd_requirelazy:e,rdfd_done_wait:f,rd_requirelazy:g,rd_done_wait:h}}}function e(a){a.start_time;var b=a.resources,d=a.durations;a=babelHelpers.objectWithoutPropertiesLoose(a,["start_time","resources","durations"]);for(var b=c("objectEntries")(b),e=Array.isArray(b),f=0,b=e?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=b.length)break;g=b[f++]}else{f=b.next();if(f.done)break;g=f.value}g=g;var h=g[0];g=g[1];for(var g=c("objectEntries")(g),i=Array.isArray(g),j=0,g=i?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(i){if(j>=g.length)break;k=g[j++]}else{j=g.next();if(j.done)break;k=j.value}k=k;var l=k[0];k=k[1];for(var k=c("objectEntries")(k),m=Array.isArray(k),n=0,k=m?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var o;if(m){if(n>=k.length)break;o=k[n++]}else{n=k.next();if(n.done)break;o=n.value}o=o;var p=o[0];o=o[1];a[h+"_"+l+"_resources_"+p]=Math.round(Number(o))}}}for(p=c("objectEntries")(d),o=Array.isArray(p),n=0,p=o?p:p[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(o){if(n>=p.length)break;m=p[n++]}else{n=p.next();if(n.done)break;m=n.value}k=m;l=k[0];j=k[1];a[l+"_duration"]=Math.round(Number(j))}if(a.payloadStats){for(i=c("objectEntries")(a.payloadStats),g=Array.isArray(i),h=0,i=g?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(g){if(h>=i.length)break;f=i[h++]}else{h=i.next();if(h.done)break;f=h.value}e=f;b=e[0];d=e[1];for(m=c("objectEntries")(d),k=Array.isArray(m),l=0,m=k?m:m[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(k){if(l>=m.length)break;j=m[l++]}else{l=m.next();if(l.done)break;j=l.value}n=j;o=n[0];p=n[1];a[b+"_"+o+"_count"]=Math.round(Number(p))}}delete a.payloadStats}return a}g.computeHRData=a;g.computeBLData=b;g.flattenData=e}),98);
__d("BootloaderLoggingStatusEnum",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum").Mirrored(["SUCCESS","TIMEOUT"]);c=a;f["default"]=c}),66);
__d("CometBootloaderEventsTypedLoggerLite",["generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:CometBootloaderEventsLoggerConfig")}),null);
__d("HasteResponseFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1823926");b=d("FalcoLoggerInternal").create("haste_response",a);e=b;g["default"]=e}),98);
__d("CometBootloaderLoggerUtil",["BootloaderEvents","BootloaderEventsPerf","CometBootloaderEventsTypedLoggerLite","CometTimeSpentNavigation","HasteResponseFalcoEvent","ResourceTimingStore","SiteData","performanceNavigationStart"],(function(a,b,c,d,e,f,g){"use strict";var h=!1;function a(a){var b=a.bl_sample_rate,e=a.hr_sample_rate,f=a.parent_lid;if(h||!(b||e))return;h=!0;d("ResourceTimingStore").init();var g=function(a){return{ms_since_navstart:Math.round(a-c("performanceNavigationStart")()),parent_lid:f,pkg_cohort:c("SiteData").pkg_cohort,request_path:(a=c("CometTimeSpentNavigation").getPathInfo())==null?void 0:a.name,svn_rev:c("SiteData").client_revision}};e&&d("BootloaderEvents").onHasteResponse(function(a){return c("HasteResponseFalcoEvent").log(function(){var b=d("BootloaderEventsPerf").computeHRData(a),c=d("BootloaderEventsPerf").flattenData(b);return babelHelpers["extends"]({},c,g(b.start_time))})});var i=function(a,b,e){a=d("BootloaderEventsPerf").computeBLData(a);var f=d("BootloaderEventsPerf").flattenData(a);c("CometBootloaderEventsTypedLoggerLite").log(babelHelpers["extends"]({},f,g(a.start_time),{status:b}),{weight:e})};b&&d("BootloaderEvents").onBootload(function(a){return i(a,"SUCCESS",b)});var j=1;d("BootloaderEvents").onBootloaderCallbackTimeout(function(a){return i(a,"TIMEOUT",j)})}g.initLogging=a}),98);
__d("CometSSREntrypoint",["objectValues","relay-runtime/util/withProvidedVariables"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b,d=c("relay-runtime/util/withProvidedVariables")(a.variables,a.parameters.params.providedVariables);return{actor_id:(b=(b=a.environmentProviderOptions)==null?void 0:b.actorID)!=null?b:null,exclude_from_ssr:(b=(b=a.environmentProviderOptions)==null?void 0:b.excludeFromSSR)!=null?b:!1,graphql_env_override_ref:(b=(b=a.environmentProviderOptions)==null?void 0:b.graphQLEnvOverrideRef)!=null?b:null,id:a.parameters.params.id,name:a.parameters.params.name,num_connections_for_ssr:(a=(b=a.environmentProviderOptions)==null?void 0:b.numConnectionsForSSR)!=null?a:null,variables:d}}function i(a,b){b=a.getPreloadProps(b);var d=b.entryPoints;b=b.queries;b=(b=b)!=null?b:{};var e=c("objectValues")(b).filter(function(a){return a!=null}),f=[a.root.getModuleId()];if(d!=null){b=Object.keys(d);b.forEach(function(a){a=d[a];if(a==null)return;var b=a.entryPoint;a=a.entryPointParams;b=i(b,a);e=e.concat(b.queries);f=f.concat(b.roots)})}return{queries:e,roots:f}}function a(a,b){a=i(a,b);b=a.queries;return b.map(h)}function b(a){a=a.map(function(a){return i(a.entryPoint,a.entryPointParams)});return a.map(function(a){var b=a.queries;a=a.roots;return{quries:b.map(h),roots:a}})}function d(a,b){a=i(a,b);b=a.queries;a=a.roots;return{queries:b.map(h),roots:a}}function e(){throw new Error("This function should not be called. It exists solely for the type-generation")}function f(a,b){var d;a=a.map(function(a){return i(a.entryPoint,a.entryPointParams)});a=a.map(function(a){var b=a.queries;a=a.roots;return{queries:b.map(h),roots:a}});d=c("objectValues")((d=b==null?void 0:b.getDisplayQueries())!=null?d:{}).filter(function(a){return a!=null}).map(h);b=c("objectValues")((b=b==null?void 0:b.getDeferredQueries())!=null?b:{}).filter(function(a){return a!=null}).map(h);return{appshellQueries:{deferred:b,display:d},routeObjects:a}}g.processRootEntryPoint=a;g.processRootEntryPoints=b;g.processRootEntryPointData=d;g.preloadQuery=e;g.processServerEntryPoints=f}),98);
__d("CometRouterSSREntrypoint",["CometSSREntrypoint"],(function(a,b,c,d,e,f){"use strict";a=importNamespace("CometSSREntrypoint").processRootEntryPoint;b=importNamespace("CometSSREntrypoint").processRootEntryPointData;f.processRootEntryPoint=a;f.processRootEntryPointData=b}),66);
__d("CometRelayEF",["Bootloader","BootloaderEvents","ClientConsistencyEventEmitter","CometRouterSSREntrypoint","cometAsyncFetch","gkx","performanceAbsoluteNow","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Map();function j(a,b){if(!c("gkx")("26332"))return;a=d("CometRouterSSREntrypoint").processRootEntryPoint(a,b);var e=[];a.forEach(function(a){a=a.name;i.has(a)||(e.push(a),d("BootloaderEvents").notifyHasteResponseEFStart("relay_3d",a))});if(e.length===0)return;var f=(h||(h=c("performanceAbsoluteNow")))(),g=c("cometAsyncFetch")("/ajax/relay-ef/",{data:{queries:e},method:"POST"}).then(function(a){return{fetchPredictionsEnd:(h||(h=c("performanceAbsoluteNow")))(),fetchPredictionsStart:f,payload:a}});e.forEach(function(a){return i.set(a,g)})}function a(a,b){if(!c("gkx")("26332"))return;var e=(h||(h=c("performanceAbsoluteNow")))();j(a,b);a=d("CometRouterSSREntrypoint").processRootEntryPoint(a,b);a.forEach(function(a){var b=a.name,f=i.get(b);f&&f!==!0&&c("promiseDone")(f,function(a){var f=a.fetchPredictionsEnd,g=a.fetchPredictionsStart;a=a.payload;if(a!=null&&typeof a==="object"){var h;c("Bootloader").loadPredictedResourceMap(a.predictions[b],{onLog:function(a){return d("BootloaderEvents").notifyHasteResponseEF("relay_3d",b,{fetchPredictionsEnd:f,fetchPredictionsStart:g,fetchRsrcsStart:e,tierOne:a})}},(h=(h=a.consistency)==null?void 0:h.rev)!=null?h:null);a.consistency!=null&&c("ClientConsistencyEventEmitter").emit("newEntry",a.consistency)}});i.set(a.name,!0)})}b={fetchPredictedResources:a,fetchPredictions:j};g["default"]=b}),98);
__d("CometToast.react",["fbt","ix","BaseToast.react","CometPressable.react","FDSCircleButton.react","FDSText.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useMemo,m={pressable:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"x1q0g3np",width:"xh8yej3",$$css:!0}};function a(a){var b=a.action,e=a.href,f=a.icon,g=a.impressionLoggingRef,j=a.message,n=a.onDismiss,o=a.supressCloseButton;o=o===void 0?!1:o;var p=a.target,q=a.testid;q=q===void 0?"Toast":q;q=a.truncateText;var r=q===void 0?!0:q,s=babelHelpers.objectWithoutPropertiesLoose(a,["action","href","icon","impressionLoggingRef","message","onDismiss","supressCloseButton","target","testid","truncateText"]),t=l(function(){return e!=null?{target:p,url:e}:void 0},[e,p]);return k.jsx(c("BaseToast.react"),{action:b!=null?{label:b.label,labelRenderer:function(a){return k.jsx(c("FDSText.react"),{color:"blueLink",numberOfLines:1,type:"bodyLink3",children:a})},onPress:b.onPress,testid:b.testid}:void 0,addOnStart:f,closeButton:o!==!0&&k.jsx(c("FDSCircleButton.react"),{icon:d("fbicon")._(i("478231"),12),label:h._("__JHASH__cCrSTii9yXy__JHASH__"),onPress:n,size:24,testid:void 0}),linkWrapper:s.onPress!=null||t!=null?function(a){return k.jsx(c("CometPressable.react"),babelHelpers["extends"]({},s,{expanding:!0,linkProps:t,xstyle:m.pressable,children:a}))}:void 0,message:function(a){a=a.toastMessageId;return k.jsx(c("FDSText.react"),{color:"primary",id:a,numberOfLines:r?4:void 0,type:"body3",children:j})},onDismiss:n,testid:void 0,toastRef:g})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("jsbi",[],(function(a,b,c,d,e,f){(function(a,b){"object"==typeof f&&"undefined"!=typeof e?e.exports=b():"function"==typeof define&&define.amd?define(b):a.JSBI=b()})(this,function(){"use strict";function a(b){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},a(b)}function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function c(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function d(a,b,d){return b&&c(a.prototype,b),d&&c(a,d),a}function e(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&g(a,b)}function f(a){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)},f(a)}function g(a,b){return g=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a},g(a,b)}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(a){return!1}}function i(){return i=h()?Reflect.construct:function(a,b,c){var d=[null];d.push.apply(d,b);b=Function.bind.apply(a,d);a=new b;return c&&g(a,c.prototype),a},i.apply(null,arguments)}function j(a){return-1!==Function.toString.call(a).indexOf("[native code]")}function k(a){var b="function"==typeof Map?new Map:void 0;return k=function(a){function c(){return i(a,arguments,f(this).constructor)}if(null===a||!j(a))return a;if("function"!=typeof a)throw new TypeError("Super expression must either be null or a function");if("undefined"!=typeof b){if(b.has(a))return b.get(a);b.set(a,c)}return c.prototype=Object.create(a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),g(c,a)},k(a)}function l(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function m(a,b){return b&&("object"==typeof b||"function"==typeof b)?b:l(a)}var n=function(c){var h=Math.abs,i=Math.max,j=Math.imul,k=Math.clz32;function g(a,c){if(b(this,g),a>g.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");return a=m(this,f(g).call(this,a)),a.sign=c,a}return e(g,c),d(g,[{key:"toDebugString",value:function(){var a=["BigInt["],b=!0,c=!1,d=void 0;try{for(var e,e,f=this[Symbol.iterator]();!(b=(e=f.next()).done);b=!0)e=e.value,a.push((e?(e>>>0).toString(16):e)+", ")}catch(a){c=!0,d=a}finally{try{b||null==f["return"]||f["return"]()}finally{if(c)throw d}}return a.push("]"),a.join("")}},{key:"toString",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10;if(2>a||36<a)throw new RangeError("toString() radix argument must be between 2 and 36");return 0===this.length?"0":0==(a&a-1)?g.__toStringBasePowerOfTwo(this,a):g.__toStringGeneric(this,a,!1)}},{key:"__copy",value:function(){for(var a=new g(this.length,this.sign),b=0;b<this.length;b++)a[b]=this[b];return a}},{key:"__trim",value:function(){for(var a=this.length,b=this[a-1];0===b;)a--,b=this[a-1],this.pop();return 0===a&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var a=0;a<this.length;a++)this[a]=0}},{key:"__clzmsd",value:function(){return k(this[this.length-1])}},{key:"__inplaceMultiplyAdd",value:function(a,b,c){c>this.length&&(c=this.length);for(var d=65535&a,a=a>>>16,e=0,f=65535&b,b=b>>>16,i=0;i<c;i++){var n=this.__digit(i),m=65535&n;n=n>>>16;var o=j(m,d);m=j(m,a);var p=j(n,d);n=j(n,a);var q=f+(65535&o);o=b+e+(q>>>16)+(o>>>16)+(65535&m)+(65535&p);f=(m>>>16)+(p>>>16)+(65535&n)+(o>>>16),e=f>>>16,f&=65535,b=n>>>16;this.__setDigit(i,65535&q|o<<16)}if(0!==e||0!==f||0!==b)throw new Error("implementation bug")}},{key:"__inplaceAdd",value:function(a,b,c){for(var d,e=0,f=0;f<c;f++)d=this.__halfDigit(b+f)+a.__halfDigit(f)+e,e=d>>>16,this.__setHalfDigit(b+f,d);return e}},{key:"__inplaceSub",value:function(a,b,c){var d=0;if(1&b){b>>=1;for(var e=this.__digit(b),f=65535&e,k=0;k<c-1>>>1;k++){var l=a.__digit(k),m=(e>>>16)-(65535&l)-d;d=1&m>>>16,this.__setDigit(b+k,m<<16|65535&f),e=this.__digit(b+k+1),f=(65535&e)-(l>>>16)-d,d=1&f>>>16}m=a.__digit(k);l=(e>>>16)-(65535&m)-d;d=1&l>>>16,this.__setDigit(b+k,l<<16|65535&f);if(b+k+1>=this.length)throw new RangeError("out of bounds");0==(1&c)&&(e=this.__digit(b+k+1),f=(65535&e)-(m>>>16)-d,d=1&f>>>16,this.__setDigit(b+a.length,4294901760&e|65535&f))}else{b>>=1;for(l=0;l<a.length-1;l++){k=this.__digit(b+l);m=a.__digit(l);e=(65535&k)-(65535&m)-d;d=1&e>>>16;f=(k>>>16)-(m>>>16)-d;d=1&f>>>16,this.__setDigit(b+l,f<<16|65535&e)}k=this.__digit(b+l);m=a.__digit(l);f=(65535&k)-(65535&m)-d;d=1&f>>>16;e=0;0==(1&c)&&(e=(k>>>16)-(m>>>16)-d,d=1&e>>>16),this.__setDigit(b+l,e<<16|65535&f)}return d}},{key:"__inplaceRightShift",value:function(a){if(0!==a){for(var b,c=this.__digit(0)>>>a,d=this.length-1,e=0;e<d;e++)b=this.__digit(e+1),this.__setDigit(e,b<<32-a|c),c=b>>>a;this.__setDigit(d,c)}}},{key:"__digit",value:function(a){return this[a]}},{key:"__unsignedDigit",value:function(a){return this[a]>>>0}},{key:"__setDigit",value:function(a,b){this[a]=0|b}},{key:"__setDigitGrow",value:function(a,b){this[a]=0|b}},{key:"__halfDigitLength",value:function(){var a=this.length;return 65535>=this.__unsignedDigit(a-1)?2*a-1:2*a}},{key:"__halfDigit",value:function(a){return 65535&this[a>>>1]>>>((1&a)<<4)}},{key:"__setHalfDigit",value:function(a,b){var c=a>>>1,d=this.__digit(c);a=1&a?65535&d|b<<16:4294901760&d|65535&b;this.__setDigit(c,a)}}],[{key:"BigInt",value:function(b){var c=Math.floor,d=Number.isFinite;if("number"==typeof b){if(0===b)return g.__zero();if((0|b)===b)return 0>b?g.__oneDigit(-b,!0):g.__oneDigit(b,!1);if(!d(b)||c(b)!==b)throw new RangeError("The number "+b+" cannot be converted to BigInt because it is not an integer");return g.__fromDouble(b)}if("string"==typeof b){d=g.__fromString(b);if(null===d)throw new SyntaxError("Cannot convert "+b+" to a BigInt");return d}if("boolean"==typeof b)return!0===b?g.__oneDigit(1,!1):g.__zero();if("object"===a(b)){if(b.constructor===g)return b;c=g.__toPrimitive(b);return g.BigInt(c)}throw new TypeError("Cannot convert "+b+" to a BigInt")}},{key:"toNumber",value:function(a){var b=a.length;if(0===b)return 0;if(1===b){var c=a.__unsignedDigit(0);return a.sign?-c:c}c=a.__digit(b-1);var d=k(c),e=32*b-d;if(1024<e)return a.sign?-Infinity:1/0;e=e-1;c=c;b=b-1;d=d+1;var f=32===d?0:c<<d;f>>>=12;var h=d-12,i=12<=d?0:c<<20+d;d=20+d;0<h&&0<b&&(b--,c=a.__digit(b),f|=c>>>32-h,i=c<<h,d=h),0<d&&0<b&&(b--,c=a.__digit(b),i|=c>>>32-d,d-=32);h=g.__decideRounding(a,d,b,c);if((1===h||0===h&&1==(1&i))&&(i=i+1>>>0,0===i&&(f++,0!=f>>>20&&(f=0,e++,1023<e))))return a.sign?-Infinity:1/0;d=a.sign?-2147483648:0;return e=e+1023<<20,g.__kBitConversionInts[1]=d|e|f,g.__kBitConversionInts[0]=i,g.__kBitConversionDouble[0]}},{key:"unaryMinus",value:function(a){if(0===a.length)return a;var b=a.__copy();return b.sign=!a.sign,b}},{key:"bitwiseNot",value:function(a){return a.sign?g.__absoluteSubOne(a).__trim():g.__absoluteAddOne(a,!0)}},{key:"exponentiate",value:function(a,b){if(b.sign)throw new RangeError("Exponent must be positive");if(0===b.length)return g.__oneDigit(1,!1);if(0===a.length)return a;if(1===a.length&&1===a.__digit(0))return a.sign&&0==(1&b.__digit(0))?g.unaryMinus(a):a;if(1<b.length)throw new RangeError("BigInt too big");b=b.__unsignedDigit(0);if(1===b)return a;if(b>=g.__kMaxLengthBits)throw new RangeError("BigInt too big");if(1===a.length&&2===a.__digit(0)){var c=1+(b>>>5),d=a.sign&&0!=(1&b);d=new g(c,d);d.__initializeDigits();var e=1<<(31&b);return d.__setDigit(c-1,e),d}c=null;e=a;for(0!=(1&b)&&(c=a),b>>=1;0!==b;b>>=1)e=g.multiply(e,e),0!=(1&b)&&(null===c?c=e:c=g.multiply(c,e));return c}},{key:"multiply",value:function(a,b){if(0===a.length)return a;if(0===b.length)return b;var c=a.length+b.length;32<=a.__clzmsd()+b.__clzmsd()&&c--;c=new g(c,a.sign!==b.sign);c.__initializeDigits();for(var d=0;d<a.length;d++)g.__multiplyAccumulate(b,a.__digit(d),c,d);return c.__trim()}},{key:"divide",value:function(a,b){if(0===b.length)throw new RangeError("Division by zero");if(0>g.__absoluteCompare(a,b))return g.__zero();var c=a.sign!==b.sign,d=b.__unsignedDigit(0);if(1===b.length&&65535>=d){if(1===d)return c===a.sign?a:g.unaryMinus(a);d=g.__absoluteDivSmall(a,d,null)}else d=g.__absoluteDivLarge(a,b,!0,!1);return d.sign=c,d.__trim()}},{key:"remainder",value:function(a,b){if(0===b.length)throw new RangeError("Division by zero");if(0>g.__absoluteCompare(a,b))return a;var c=b.__unsignedDigit(0);if(1===b.length&&65535>=c){if(1===c)return g.__zero();c=g.__absoluteModSmall(a,c);return 0===c?g.__zero():g.__oneDigit(c,a.sign)}c=g.__absoluteDivLarge(a,b,!1,!0);return c.sign=a.sign,c.__trim()}},{key:"add",value:function(a,b){var c=a.sign;return c===b.sign?g.__absoluteAdd(a,b,c):0<=g.__absoluteCompare(a,b)?g.__absoluteSub(a,b,c):g.__absoluteSub(b,a,!c)}},{key:"subtract",value:function(a,b){var c=a.sign;return c===b.sign?0<=g.__absoluteCompare(a,b)?g.__absoluteSub(a,b,c):g.__absoluteSub(b,a,!c):g.__absoluteAdd(a,b,c)}},{key:"leftShift",value:function(a,b){return 0===b.length||0===a.length?a:b.sign?g.__rightShiftByAbsolute(a,b):g.__leftShiftByAbsolute(a,b)}},{key:"signedRightShift",value:function(a,b){return 0===b.length||0===a.length?a:b.sign?g.__leftShiftByAbsolute(a,b):g.__rightShiftByAbsolute(a,b)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(a,b){return 0>g.__compareToBigInt(a,b)}},{key:"lessThanOrEqual",value:function(a,b){return 0>=g.__compareToBigInt(a,b)}},{key:"greaterThan",value:function(a,b){return 0<g.__compareToBigInt(a,b)}},{key:"greaterThanOrEqual",value:function(a,b){return 0<=g.__compareToBigInt(a,b)}},{key:"equal",value:function(a,b){if(a.sign!==b.sign)return!1;if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a.__digit(c)!==b.__digit(c))return!1;return!0}},{key:"notEqual",value:function(a,b){return!g.equal(a,b)}},{key:"bitwiseAnd",value:function(a,b){if(!a.sign&&!b.sign)return g.__absoluteAnd(a,b).__trim();if(a.sign&&b.sign){var c=i(a.length,b.length)+1;c=g.__absoluteSubOne(a,c);var d=g.__absoluteSubOne(b);return c=g.__absoluteOr(c,d,c),g.__absoluteAddOne(c,!0,c).__trim()}if(a.sign){d=[b,a];a=d[0],b=d[1]}return g.__absoluteAndNot(a,g.__absoluteSubOne(b)).__trim()}},{key:"bitwiseXor",value:function(a,b){if(!a.sign&&!b.sign)return g.__absoluteXor(a,b).__trim();if(a.sign&&b.sign){var c=i(a.length,b.length);c=g.__absoluteSubOne(a,c);var d=g.__absoluteSubOne(b);return g.__absoluteXor(c,d,c).__trim()}d=i(a.length,b.length)+1;if(a.sign){c=[b,a];a=c[0],b=c[1]}c=g.__absoluteSubOne(b,d);return c=g.__absoluteXor(c,a,c),g.__absoluteAddOne(c,!0,c).__trim()}},{key:"bitwiseOr",value:function(a,b){var c=i(a.length,b.length);if(!a.sign&&!b.sign)return g.__absoluteOr(a,b).__trim();if(a.sign&&b.sign){var d=g.__absoluteSubOne(a,c),e=g.__absoluteSubOne(b);return d=g.__absoluteAnd(d,e,d),g.__absoluteAddOne(d,!0,d).__trim()}if(a.sign){e=[b,a];a=e[0],b=e[1]}d=g.__absoluteSubOne(b,c);return d=g.__absoluteAndNot(d,a,d),g.__absoluteAddOne(d,!0,d).__trim()}},{key:"asIntN",value:function(a,b){if(0===b.length)return b;if(0===a)return g.__zero();if(a>=g.__kMaxLengthBits)return b;var c=a+31>>>5;if(b.length<c)return b;var d=b.__unsignedDigit(c-1),e=1<<(31&a-1);if(b.length===c&&d<e)return b;if(!((d&e)===e))return g.__truncateToNBits(a,b);if(!b.sign)return g.__truncateAndSubFromPowerOfTwo(a,b,!0);if(0==(d&e-1)){for(var f=c-2;0<=f;f--)if(0!==b.__digit(f))return g.__truncateAndSubFromPowerOfTwo(a,b,!1);return b.length===c&&d===e?b:g.__truncateToNBits(a,b)}return g.__truncateAndSubFromPowerOfTwo(a,b,!1)}},{key:"asUintN",value:function(a,b){if(0===b.length)return b;if(0===a)return g.__zero();if(b.sign){if(a>g.__kMaxLengthBits)throw new RangeError("BigInt too big");return g.__truncateAndSubFromPowerOfTwo(a,b,!1)}if(a>=g.__kMaxLengthBits)return b;var c=a+31>>>5;if(b.length<c)return b;var d=31&a;if(b.length==c){if(0==d)return b;c=b.__digit(c-1);if(0==c>>>d)return b}return g.__truncateToNBits(a,b)}},{key:"ADD",value:function(a,b){if(a=g.__toPrimitive(a),b=g.__toPrimitive(b),"string"==typeof a)return"string"!=typeof b&&(b=b.toString()),a+b;if("string"==typeof b)return a.toString()+b;if(a=g.__toNumeric(a),b=g.__toNumeric(b),g.__isBigInt(a)&&g.__isBigInt(b))return g.add(a,b);if("number"==typeof a&&"number"==typeof b)return a+b;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(a,b){return g.__compare(a,b,0)}},{key:"LE",value:function(a,b){return g.__compare(a,b,1)}},{key:"GT",value:function(a,b){return g.__compare(a,b,2)}},{key:"GE",value:function(a,b){return g.__compare(a,b,3)}},{key:"EQ",value:function(b,c){for(;;){if(g.__isBigInt(b))return g.__isBigInt(c)?g.equal(b,c):g.EQ(c,b);if("number"==typeof b){if(g.__isBigInt(c))return g.__equalToNumber(c,b);if("object"!==a(c))return b==c;c=g.__toPrimitive(c)}else if("string"==typeof b){if(g.__isBigInt(c))return b=g.__fromString(b),null!==b&&g.equal(b,c);if("object"!==a(c))return b==c;c=g.__toPrimitive(c)}else if("boolean"==typeof b){if(g.__isBigInt(c))return g.__equalToNumber(c,+b);if("object"!==a(c))return b==c;c=g.__toPrimitive(c)}else if("symbol"===a(b)){if(g.__isBigInt(c))return!1;if("object"!==a(c))return b==c;c=g.__toPrimitive(c)}else if("object"===a(b)){if("object"===a(c)&&c.constructor!==g)return b==c;b=g.__toPrimitive(b)}else return b==c}}},{key:"NE",value:function(a,b){return!g.EQ(a,b)}},{key:"__zero",value:function(){return new g(0,!1)}},{key:"__oneDigit",value:function(a,b){b=new g(1,b);return b.__setDigit(0,a),b}},{key:"__decideRounding",value:function(a,b,c,d){if(0<b)return-1;if(0>b)b=-b-1;else{if(0===c)return-1;c--,d=a.__digit(c),b=31}b=1<<b;if(0==(d&b))return-1;if(b-=1,0!=(d&b))return 1;for(;0<c;)if(c--,0!==a.__digit(c))return 1;return 0}},{key:"__fromDouble",value:function(a){g.__kBitConversionDouble[0]=a;var b,c=2047&g.__kBitConversionInts[1]>>>20;c=c-1023;var d=(c>>>5)+1;a=new g(d,0>a);var e=1048575&g.__kBitConversionInts[1]|1048576,f=g.__kBitConversionInts[0],k=20;c=31&c;var n=0;if(c<k){var m=k-c;n=m+32,b=e>>>m,e=e<<32-m|f>>>m,f<<=32-m}else if(c===k)n=32,b=e,e=f;else{m=c-k;n=32-m,b=e<<m|f>>>32-m,e=f<<m}a.__setDigit(d-1,b);for(c=d-2;0<=c;c--)0<n?(n-=32,b=e,e=f):b=0,a.__setDigit(c,b);return a.__trim()}},{key:"__isWhitespace",value:function(a){return!!(13>=a&&9<=a)||(159>=a?32==a:131071>=a?160==a||5760==a:196607>=a?(a&=131071,10>=a||40==a||41==a||47==a||95==a||4096==a):65279==a)}},{key:"__fromString",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,c=0,d=a.length,e=0;if(e===d)return g.__zero();for(var f=a.charCodeAt(e);g.__isWhitespace(f);){if(++e===d)return g.__zero();f=a.charCodeAt(e)}if(43===f){if(++e===d)return null;f=a.charCodeAt(e),c=1}else if(45===f){if(++e===d)return null;f=a.charCodeAt(e),c=-1}if(0===b){if(b=10,48===f){if(++e===d)return g.__zero();if(f=a.charCodeAt(e),88===f||120===f){if(b=16,++e===d)return null;f=a.charCodeAt(e)}else if(79===f||111===f){if(b=8,++e===d)return null;f=a.charCodeAt(e)}else if(66===f||98===f){if(b=2,++e===d)return null;f=a.charCodeAt(e)}}}else if(16===b&&48===f){if(++e===d)return g.__zero();if(f=a.charCodeAt(e),88===f||120===f){if(++e===d)return null;f=a.charCodeAt(e)}}for(;48===f;){if(++e===d)return g.__zero();f=a.charCodeAt(e)}var m=d-e,i=g.__kMaxBitsPerChar[b],j=g.__kBitsPerCharTableMultiplier-1;if(m>1073741824/i)return null;var k=i*m+j>>>g.__kBitsPerCharTableShift,l=new g(k+31>>>5,!1),n=10>b?b:10,o=10<b?b-10:0;if(0==(b&b-1)){i>>=g.__kBitsPerCharTableShift;var p=[],q=[],r=!1;do{for(var s,t=0,u=0;;){if(void 0,f-48>>>0<n)s=f-48;else if((32|f)-97>>>0<o)s=(32|f)-87;else{r=!0;break}if(u+=i,t=t<<i|s,++e===d){r=!0;break}if(f=a.charCodeAt(e),32<u+i)break}p.push(t),q.push(u)}while(!r);g.__fillFromParts(l,p,q)}else{l.__initializeDigits();var v=!1,w=0;do{for(var x,y=0,z=1;;){if(void 0,f-48>>>0<n)x=f-48;else if((32|f)-97>>>0<o)x=(32|f)-87;else{v=!0;break}var A=z*b;if(4294967295<A)break;if(z=A,y=y*b+x,w++,++e===d){v=!0;break}f=a.charCodeAt(e)}j=32*g.__kBitsPerCharTableMultiplier-1;var B=i*w+j>>>g.__kBitsPerCharTableShift+5;l.__inplaceMultiplyAdd(z,y,B)}while(!v)}if(e!==d){if(!g.__isWhitespace(f))return null;for(e++;e<d;e++)if(f=a.charCodeAt(e),!g.__isWhitespace(f))return null}return 0!==c&&10!==b?null:(l.sign=-1===c,l.__trim())}},{key:"__fillFromParts",value:function(a,b,c){for(var d=0,e=0,f=0,k=b.length-1;0<=k;k--){var l=b[k],m=c[k];e|=l<<f,f+=m,32===f?(a.__setDigit(d++,e),f=0,e=0):32<f&&(a.__setDigit(d++,e),f-=32,e=l>>>m-f)}if(0!==e){if(d>=a.length)throw new Error("implementation bug");a.__setDigit(d++,e)}for(;d<a.length;d++)a.__setDigit(d,0)}},{key:"__toStringBasePowerOfTwo",value:function(a,b){var c=a.length,d=b-1;d=(85&d>>>1)+(85&d),d=(51&d>>>2)+(51&d),d=(15&d>>>4)+(15&d);d=d;b=b-1;var e=a.__digit(c-1),f=k(e);f=0|(32*c-f+d-1)/d;if(a.sign&&f++,268435456<f)throw new Error("string too long");for(var h=Array(f),f=f-1,l=0,n=0,o=0;o<c-1;o++){var p=a.__digit(o),q=(l|p<<n)&b;h[f--]=g.__kConversionChars[q];q=d-n;for(l=p>>>q,n=32-q;n>=d;)h[f--]=g.__kConversionChars[l&b],l>>>=d,n-=d}p=(l|e<<n)&b;for(h[f--]=g.__kConversionChars[p],l=e>>>d-n;0!==l;)h[f--]=g.__kConversionChars[l&b],l>>>=d;if(a.sign&&(h[f--]="-"),-1!==f)throw new Error("implementation bug");return h.join("")}},{key:"__toStringGeneric",value:function(a,b,c){var d=a.length;if(0===d)return"";if(1===d){var e=a.__unsignedDigit(0).toString(b);return!1===c&&a.sign&&(e="-"+e),e}e=32*d-k(a.__digit(d-1));d=g.__kMaxBitsPerChar[b];d=d-1;e=e*g.__kBitsPerCharTableMultiplier;e+=d-1,e=0|e/d;var f;d=e+1>>1;e=g.exponentiate(g.__oneDigit(b,!1),g.__oneDigit(d,!1));var h=e.__unsignedDigit(0);if(1===e.length&&65535>=h){f=new g(a.length,!1),f.__initializeDigits();for(var i,j=0,l=2*a.length-1;0<=l;l--)i=j<<16|a.__halfDigit(l),f.__setHalfDigit(l,0|i/h),j=0|i%h;i=j.toString(b)}else{h=g.__absoluteDivLarge(a,e,!0,!0);f=h.quotient;l=h.remainder.__trim();i=g.__toStringGeneric(l,b,!0)}f.__trim();for(j=g.__toStringGeneric(f,b,!0);i.length<d;)i="0"+i;return!1===c&&a.sign&&(j="-"+j),j+i}},{key:"__unequalSign",value:function(a){return a?-1:1}},{key:"__absoluteGreater",value:function(a){return a?-1:1}},{key:"__absoluteLess",value:function(a){return a?1:-1}},{key:"__compareToBigInt",value:function(a,b){var c=a.sign;if(c!==b.sign)return g.__unequalSign(c);a=g.__absoluteCompare(a,b);return 0<a?g.__absoluteGreater(c):0>a?g.__absoluteLess(c):0}},{key:"__compareToNumber",value:function(a,b){if(!0|b){var c=a.sign,d=0>b;if(c!==d)return g.__unequalSign(c);if(0===a.length){if(d)throw new Error("implementation bug");return 0===b?0:-1}if(1<a.length)return g.__absoluteGreater(c);d=h(b);var e=a.__unsignedDigit(0);return e>d?g.__absoluteGreater(c):e<d?g.__absoluteLess(c):0}return g.__compareToDouble(a,b)}},{key:"__compareToDouble",value:function(a,b){if(b!==b)return b;if(b===1/0)return-1;if(b===-Infinity)return 1;var c=a.sign;if(c!==0>b)return g.__unequalSign(c);if(0===b)throw new Error("implementation bug: should be handled elsewhere");if(0===a.length)return-1;g.__kBitConversionDouble[0]=b;b=2047&g.__kBitConversionInts[1]>>>20;if(2047==b)throw new Error("implementation bug: handled elsewhere");b=b-1023;if(0>b)return g.__absoluteGreater(c);var d=a.length,e=a.__digit(d-1),f=k(e),l=32*d-f;b=b+1;if(l<b)return g.__absoluteLess(c);if(l>b)return g.__absoluteGreater(c);b=1048576|1048575&g.__kBitConversionInts[1];var m=g.__kBitConversionInts[0],o=20;f=31-f;if(f!==(l-1)%31)throw new Error("implementation bug");var p;l=0;if(f<o){var q=o-f;l=q+32,p=b>>>q,b=b<<32-q|m>>>q,m<<=32-q}else if(f===o)l=32,p=b,b=m;else{q=f-o;l=32-q,p=b<<q|m>>>32-q,b=m<<q}if(e>>>=0,p>>>=0,e>p)return g.__absoluteGreater(c);if(e<p)return g.__absoluteLess(c);for(f=d-2;0<=f;f--){0<l?(l-=32,p=b>>>0,b=m,m=0):p=0;o=a.__unsignedDigit(f);if(o>p)return g.__absoluteGreater(c);if(o<p)return g.__absoluteLess(c)}if(0!==b||0!==m){if(0===l)throw new Error("implementation bug");return g.__absoluteLess(c)}return 0}},{key:"__equalToNumber",value:function(a,b){return b|0===b?0===b?0===a.length:1===a.length&&a.sign===0>b&&a.__unsignedDigit(0)===h(b):0===g.__compareToDouble(a,b)}},{key:"__comparisonResultToBool",value:function(a,b){switch(b){case 0:return 0>a;case 1:return 0>=a;case 2:return 0<a;case 3:return 0<=a}throw new Error("unreachable")}},{key:"__compare",value:function(a,b,c){if(a=g.__toPrimitive(a),b=g.__toPrimitive(b),"string"==typeof a&&"string"==typeof b)switch(c){case 0:return a<b;case 1:return a<=b;case 2:return a>b;case 3:return a>=b}if(g.__isBigInt(a)&&"string"==typeof b)return b=g.__fromString(b),null!==b&&g.__comparisonResultToBool(g.__compareToBigInt(a,b),c);if("string"==typeof a&&g.__isBigInt(b))return a=g.__fromString(a),null!==a&&g.__comparisonResultToBool(g.__compareToBigInt(a,b),c);if(a=g.__toNumeric(a),b=g.__toNumeric(b),g.__isBigInt(a)){if(g.__isBigInt(b))return g.__comparisonResultToBool(g.__compareToBigInt(a,b),c);if("number"!=typeof b)throw new Error("implementation bug");return g.__comparisonResultToBool(g.__compareToNumber(a,b),c)}if("number"!=typeof a)throw new Error("implementation bug");if(g.__isBigInt(b))return g.__comparisonResultToBool(g.__compareToNumber(b,a),2^c);if("number"!=typeof b)throw new Error("implementation bug");return 0===c?a<b:1===c?a<=b:2===c?a>b:3===c?a>=b:void 0}},{key:"__absoluteAdd",value:function(a,b,c){if(a.length<b.length)return g.__absoluteAdd(b,a,c);if(0===a.length)return a;if(0===b.length)return a.sign===c?a:g.unaryMinus(a);var d=a.length;(0===a.__clzmsd()||b.length===a.length&&0===b.__clzmsd())&&d++;for(var d=new g(d,c),c=0,e=0;e<b.length;e++){var f=b.__digit(e),h=a.__digit(e),m=(65535&h)+(65535&f)+c;h=(h>>>16)+(f>>>16)+(m>>>16);c=h>>>16,d.__setDigit(e,65535&m|h<<16)}for(;e<a.length;e++){f=a.__digit(e);m=(65535&f)+c;h=(f>>>16)+(m>>>16);c=h>>>16,d.__setDigit(e,65535&m|h<<16)}return e<d.length&&d.__setDigit(e,c),d.__trim()}},{key:"__absoluteSub",value:function(a,b,c){if(0===a.length)return a;if(0===b.length)return a.sign===c?a:g.unaryMinus(a);for(var c=new g(a.length,c),d=0,e=0;e<b.length;e++){var f=a.__digit(e),l=b.__digit(e),m=(65535&f)-(65535&l)-d;d=1&m>>>16;f=(f>>>16)-(l>>>16)-d;d=1&f>>>16,c.__setDigit(e,65535&m|f<<16)}for(;e<a.length;e++){l=a.__digit(e);m=(65535&l)-d;d=1&m>>>16;f=(l>>>16)-d;d=1&f>>>16,c.__setDigit(e,65535&m|f<<16)}return c.__trim()}},{key:"__absoluteAddOne",value:function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,d=a.length;null===c?c=new g(d,b):c.sign=b;for(var e=!0,f=0;f<d;f++){var k=a.__digit(f),l=-1===k;e&&(k=0|k+1),e=l,c.__setDigit(f,k)}return e&&c.__setDigitGrow(d,1),c}},{key:"__absoluteSubOne",value:function(a,b){var c=a.length;b=b||c;for(var d=new g(b,!1),e=!0,f=0;f<c;f++){var k=a.__digit(f),l=0===k;e&&(k=0|k-1),e=l,d.__setDigit(f,k)}for(l=c;l<b;l++)d.__setDigit(l,0);return d}},{key:"__absoluteAnd",value:function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,d=a.length,e=b.length,f=e;if(d<e){f=d;var m=a,n=d;a=b,e,b=m,n}var k=f;null===c?c=new g(k,!1):k=c.length;for(var l=0;l<f;l++)c.__setDigit(l,a.__digit(l)&b.__digit(l));for(;l<k;l++)c.__setDigit(l,0);return c}},{key:"__absoluteAndNot",value:function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,d=a.length,e=b.length,f=e;d<e&&(f=d);var k=d;null===c?c=new g(k,!1):k=c.length;for(var l=0;l<f;l++)c.__setDigit(l,a.__digit(l)&~b.__digit(l));for(;l<d;l++)c.__setDigit(l,a.__digit(l));for(;l<k;l++)c.__setDigit(l,0);return c}},{key:"__absoluteOr",value:function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,d=a.length,e=b.length,f=e;if(d<e){f=d;var m=a,n=d;a=b,d=e,b=m,n}var k=d;null===c?c=new g(k,!1):k=c.length;for(var l=0;l<f;l++)c.__setDigit(l,a.__digit(l)|b.__digit(l));for(;l<d;l++)c.__setDigit(l,a.__digit(l));for(;l<k;l++)c.__setDigit(l,0);return c}},{key:"__absoluteXor",value:function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,d=a.length,e=b.length,f=e;if(d<e){f=d;var m=a,n=d;a=b,d=e,b=m,n}var k=d;null===c?c=new g(k,!1):k=c.length;for(var l=0;l<f;l++)c.__setDigit(l,a.__digit(l)^b.__digit(l));for(;l<d;l++)c.__setDigit(l,a.__digit(l));for(;l<k;l++)c.__setDigit(l,0);return c}},{key:"__absoluteCompare",value:function(a,b){var c=a.length-b.length;if(0!=c)return c;for(c=a.length-1;0<=c&&a.__digit(c)===b.__digit(c);)c--;return 0>c?0:a.__unsignedDigit(c)>b.__unsignedDigit(c)?1:-1}},{key:"__multiplyAccumulate",value:function(a,b,c,d){if(0!==b){for(var e=65535&b,b=b>>>16,f=0,g=0,k=0,l=0;l<a.length;l++,d++){var m=c.__digit(d),n=65535&m,o=m>>>16,p=a.__digit(l),q=65535&p;p=p>>>16;var r=j(q,e);q=j(q,b);var s=j(p,e);p=j(p,b);n+=g+(65535&r),o+=k+f+(n>>>16)+(r>>>16)+(65535&q)+(65535&s),f=o>>>16,g=(q>>>16)+(s>>>16)+(65535&p)+f,f=g>>>16,g&=65535,k=p>>>16,m=65535&n|o<<16,c.__setDigit(d,m)}for(;0!==f||0!==g||0!==k;d++){r=c.__digit(d);q=(65535&r)+g;s=(r>>>16)+(q>>>16)+k+f;g=0,k=0,f=s>>>16,r=65535&q|s<<16,c.__setDigit(d,r)}}}},{key:"__internalMultiplyAdd",value:function(a,b,c,d,e){for(var c=c,f=0,h=0;h<d;h++){var l=a.__digit(h),m=j(65535&l,b),n=(65535&m)+f+c;c=n>>>16;l=j(l>>>16,b);m=(65535&l)+(m>>>16)+c;c=m>>>16,f=l>>>16,e.__setDigit(h,m<<16|65535&n)}if(e.length>d)for(e.__setDigit(d++,c+f);d<e.length;)e.__setDigit(d++,0);else if(0!==c+f)throw new Error("implementation bug")}},{key:"__absoluteDivSmall",value:function(a,b,c){null===c&&(c=new g(a.length,!1));for(var d=0,e=2*a.length-1;0<=e;e-=2){var f=(d<<16|a.__halfDigit(e))>>>0,k=0|f/b;d=0|f%b,f=(d<<16|a.__halfDigit(e-1))>>>0;var l=0|f/b;d=0|f%b,c.__setDigit(e>>>1,k<<16|l)}return c}},{key:"__absoluteModSmall",value:function(a,b){for(var c,d=0,e=2*a.length-1;0<=e;e--)c=(d<<16|a.__halfDigit(e))>>>0,d=0|c%b;return d}},{key:"__absoluteDivLarge",value:function(a,b,c,d){var f=b.__halfDigitLength(),e=b.length,n=a.__halfDigitLength()-f,i=null;c&&(i=new g(n+2>>>1,!1),i.__initializeDigits());var l=new g(f+2>>>1,!1);l.__initializeDigits();var m=g.__clz16(b.__halfDigit(f-1));0<m&&(b=g.__specialLeftShift(b,m,0));for(var a=g.__specialLeftShift(a,m,1),k=b.__halfDigit(f-1),o=0,n=n;0<=n;n--){var p=65535,q=a.__halfDigit(n+f);if(q!==k){q=(q<<16|a.__halfDigit(n+f-1))>>>0;p=0|q/k;for(var q=0|q%k,r=b.__halfDigit(f-2),s=a.__halfDigit(n+f-2);j(p,r)>>>0>(q<<16|s)>>>0&&(p--,q+=k,!(65535<q)););}g.__internalMultiplyAdd(b,p,0,e,l);r=a.__inplaceSub(l,n,f+1);0!==r&&(r=a.__inplaceAdd(b,n,f),a.__setHalfDigit(n+f,a.__halfDigit(n+f)+r),p--),c&&(1&n?o=p<<16:i.__setDigit(n>>>1,o|p))}return d?(a.__inplaceRightShift(m),c?{quotient:i,remainder:a}:a):c?i:void 0}},{key:"__clz16",value:function(a){return k(a)-16}},{key:"__specialLeftShift",value:function(a,b,c){var e=a.length,d=new g(e+c,!1);if(0===b){for(var f=0;f<e;f++)d.__setDigit(f,a.__digit(f));return 0<c&&d.__setDigit(e,0),d}for(var j,f=0,l=0;l<e;l++)j=a.__digit(l),d.__setDigit(l,j<<b|f),f=j>>>32-b;return 0<c&&d.__setDigit(e,f),d}},{key:"__leftShiftByAbsolute",value:function(a,b){b=g.__toShiftAmount(b);if(0>b)throw new RangeError("BigInt too big");var c=b>>>5;b=31&b;var d=a.length,e=0!==b&&0!=a.__digit(d-1)>>>32-b,f=d+c+(e?1:0),m=new g(f,a.sign);if(0===b){for(var n=0;n<c;n++)m.__setDigit(n,0);for(;n<f;n++)m.__setDigit(n,a.__digit(n-c))}else{for(n=0,f=0;f<c;f++)m.__setDigit(f,0);for(var o,f=0;f<d;f++)o=a.__digit(f),m.__setDigit(f+c,o<<b|n),n=o>>>32-b;if(e)m.__setDigit(d+c,n);else if(0!==n)throw new Error("implementation bug")}return m.__trim()}},{key:"__rightShiftByAbsolute",value:function(a,b){var c=a.length,d=a.sign;b=g.__toShiftAmount(b);if(0>b)return g.__rightShiftByMaximum(d);var e=b>>>5;b=31&b;var f=c-e;if(0>=f)return g.__rightShiftByMaximum(d);var i=!1;if(d)if(0!=(a.__digit(e)&(1<<b)-1))i=!0;else for(var m=0;m<e;m++)if(0!==a.__digit(m)){i=!0;break}if(i&&0===b){m=a.__digit(c-1);0==~m&&f++}m=new g(f,d);if(0===b)for(f=e;f<c;f++)m.__setDigit(f-e,a.__digit(f));else{for(var n,d=a.__digit(e)>>>b,f=c-e-1,c=0;c<f;c++)n=a.__digit(c+e+1),m.__setDigit(c,n<<32-b|d),d=n>>>b;m.__setDigit(f,d)}return i&&(m=g.__absoluteAddOne(m,!0,m)),m.__trim()}},{key:"__rightShiftByMaximum",value:function(a){return a?g.__oneDigit(1,!0):g.__zero()}},{key:"__toShiftAmount",value:function(a){if(1<a.length)return-1;a=a.__unsignedDigit(0);return a>g.__kMaxLengthBits?-1:a}},{key:"__toPrimitive",value:function(b){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default";if("object"!==a(b))return b;if(b.constructor===g)return b;var d=b[Symbol.toPrimitive];if(d){var e=d(c);if("object"!==a(e))return e;throw new TypeError("Cannot convert object to primitive value")}var f=b.valueOf;if(f){var k=f.call(b);if("object"!==a(k))return k}var l=b.toString;if(l){var m=l.call(b);if("object"!==a(m))return m}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(a){return g.__isBigInt(a)?a:+a}},{key:"__isBigInt",value:function(b){return"object"===a(b)&&b.constructor===g}},{key:"__truncateToNBits",value:function(a,b){for(var c=a+31>>>5,d=new g(c,b.sign),c=c-1,e=0;e<c;e++)d.__setDigit(e,b.__digit(e));e=b.__digit(c);if(0!=(31&a)){b=32-(31&a);e=e<<b>>>b}return d.__setDigit(c,e),d.__trim()}},{key:"__truncateAndSubFromPowerOfTwo",value:function(a,b,c){for(var d=Math.min,e=a+31>>>5,c=new g(e,c),f=0,e=e-1,h=0,d=d(e,b.length);f<d;f++){var j=b.__digit(f),l=0-(65535&j)-h;h=1&l>>>16;j=0-(j>>>16)-h;h=1&j>>>16,c.__setDigit(f,65535&l|j<<16)}for(;f<e;f++)c.__setDigit(f,0|-h);l=e<b.length?b.__digit(e):0;j=31&a;if(0===j){d=0-(65535&l)-h;h=1&d>>>16;f=0-(l>>>16)-h;b=65535&d|f<<16}else{a=32-j;l=l<<a>>>a;d=1<<32-a;f=(65535&d)-(65535&l)-h;h=1&f>>>16;j=(d>>>16)-(l>>>16)-h;b=65535&f|j<<16,b&=d-1}return c.__setDigit(e,b),c.__trim()}},{key:"__digitPow",value:function(a,b){for(var c=1;0<b;)1&b&&(c*=a),b>>>=1,a*=a;return c}}]),g}(k(Array));return n.__kMaxLength=33554432,n.__kMaxLengthBits=n.__kMaxLength<<5,n.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],n.__kBitsPerCharTableShift=5,n.__kBitsPerCharTableMultiplier=1<<n.__kBitsPerCharTableShift,n.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],n.__kBitConversionBuffer=new ArrayBuffer(8),n.__kBitConversionDouble=new Float64Array(n.__kBitConversionBuffer),n.__kBitConversionInts=new Int32Array(n.__kBitConversionBuffer),n})}),null);
__d("TCompactProtocolPolyfill",["StringToUtf8","ThriftTypes","Utf8ToString","jsbi"],(function(a,b,c,d,e,f,g){var h,i=Object.freeze({CT_STOP:0,CT_BOOLEAN_TRUE:1,CT_BOOLEAN_FALSE:2,CT_BYTE:3,CT_I16:4,CT_I32:5,CT_I64:6,CT_DOUBLE:7,CT_BINARY:8,CT_LIST:9,CT_SET:10,CT_MAP:11,CT_STRUCT:12,CT_FLOAT:13}),j=Object.freeze({NONE:-1,CT_BOOLEAN_TRUE:i.CT_BOOLEAN_TRUE,CT_BOOLEAN_FALSE:i.CT_BOOLEAN_FALSE}),k=[i.CT_STOP,0,i.CT_BOOLEAN_TRUE,i.CT_BYTE,i.CT_DOUBLE,0,i.CT_I16,0,i.CT_I32,0,i.CT_I64,i.CT_BINARY,i.CT_STRUCT,i.CT_MAP,i.CT_SET,i.CT_LIST,0,0,0,i.CT_FLOAT],l=Math.pow(2,7)-1,m=-1*Math.pow(2,7),n=Math.pow(2,15)-1,o=-1*Math.pow(2,15),p=Math.pow(2,31)-1,q=-1*Math.pow(2,31),r=Math.pow(2,32)-1,s=(a=c("jsbi")).BigInt("9223372036854775807"),t=a.BigInt("-9223372036854775808"),u=a.BigInt("18446744073709551615"),v=a.BigInt(63),w=a.BigInt(1),x=a.BigInt(0),y=a.BigInt(7),z=a.BigInt(70),A=a.BigInt(127),B=a.BigInt(128),C=Math.pow(2,4);b=function(){function a(a){this.$4=null,this.$5=null,this.$1=a,this.$2=[],this.$3=0,this.$6=new DataView(new ArrayBuffer(1))}var b=a.prototype;b.readStructBegin=function(){this.$2.push(this.$3),this.$3=0};b.readStructEnd=function(){this.$3=this.$2.pop();return 0};b.writeStructBegin=function(a){this.$2.push(this.$3);this.$3=0;return 0};b.writeStructEnd=function(){this.$3=this.$2.pop();return 0};b.writeFieldBegin=function(a){if(a.ftype===(h||(h=c("ThriftTypes"))).BOOL){this.$4={fid:a.fid,fname:a.fname,ftype:a.ftype};return 0}else return this.$7(a,j.NONE)};b.writeListBegin=function(a){return this.$8(a)};b.writeListEnd=function(){return 0};b.writeSetBegin=function(a){return this.$8(a)};b.writeSetEnd=function(){return 0};b.writeMapBegin=function(a){var b=0;if(a.size===0)b+=this.$1.writeByte(0);else{b+=this.writeVarint32(a.size);if(a.ktype!=null&&a.vtype!=null)b+=this.$1.writeByte(this.$9(a.ktype)<<4|this.$9(a.vtype));else throw new Error("received invalid map info: "+JSON.stringify(a))}return b};b.writeMapEnd=function(){return 0};b.$7=function(a,b){var c=0;b=b===j.NONE?this.$9(a.ftype):b;a.fid>this.$3&&a.fid-this.$3<=C-1?c+=this.$1.writeByte(a.fid-this.$3<<4|b):(c+=this.$1.writeByte(b),c+=this.writeI16(a.fid));this.$3=a.fid;return c};b.$8=function(a){var b=0,c=this.$9(a.etype);a.size<=C-2?b+=this.$1.writeByte(a.size<<4|c):(b+=this.$1.writeByte(240|c),b+=this.writeVarint32(a.size));return b};b.readFieldBegin=function(){var a=this.$1.readByte(),b=a&15;if(b===(h||(h=c("ThriftTypes"))).STOP)return{ftype:(h||(h=c("ThriftTypes"))).STOP,fid:0};a=(a&240)>>>4;var d;a===0?d=this.readI16():d=this.$3+a;a=this.$10(b);(b===i.CT_BOOLEAN_TRUE||b===i.CT_BOOLEAN_FALSE)&&(this.$5=b===i.CT_BOOLEAN_TRUE);this.$3=d;return{ftype:a,fid:d}};b.readListBegin=function(){return this.$11()};b.readListEnd=function(){return 0};b.readSetBegin=function(){return this.$11()};b.readSetEnd=function(){return 0};b.readMapBegin=function(){var a=this.readVarint32();if(a>0){var b=this.$1.readByte(),c=this.$12(b>>4,"readMapBegin:key");b=this.$12(b&15,"readMapBegin:value");return{ktype:this.$10(c),vtype:this.$10(b),size:a}}return{size:a}};b.readMapEnd=function(){return 0};b.$12=function(a,b){if(a<0||a>13)throw new Error(b+" read invalid compact type: "+a);return a};b.$11=function(){var a=this.$1.readByte(),b=this.$12(a&15,"_readListOrSetBegin");b=this.$10(b);a=a>>4&15;a===15&&(a=this.readVarint32());return{etype:b,size:a}};b.readFieldEnd=function(){return 0};b.readByte=function(){this.$6.setUint8(0,this.$1.readByte());return this.$6.getInt8(0)};b.writeByte=function(a){if(a<m||a>l)throw new Error("byte to write is out of range: "+a);this.$6.setInt8(0,a);return this.$1.writeByte(this.$6.getUint8(0))};b.readFloat=function(){return this.$1.readFloatBE()};b.writeFloat=function(a){return this.$1.writeFloatBE(a)};b.readDouble=function(){return this.$1.readDoubleBE()};b.writeDouble=function(a){return this.$1.writeDoubleBE(a)};b.writeString=function(a){return this.writeBinary(d("StringToUtf8").StringToUtf8(a))};b.skip=function(a){switch(a){case(h||(h=c("ThriftTypes"))).STOP:return;case(h||(h=c("ThriftTypes"))).BOOL:this.readBool();break;case(h||(h=c("ThriftTypes"))).BYTE:this.readByte();break;case(h||(h=c("ThriftTypes"))).DOUBLE:this.readDouble();break;case(h||(h=c("ThriftTypes"))).I16:this.readI16();break;case(h||(h=c("ThriftTypes"))).I32:this.readI32();break;case(h||(h=c("ThriftTypes"))).I64:this.readI64();break;case(h||(h=c("ThriftTypes"))).STRING:this.readString();break;case(h||(h=c("ThriftTypes"))).STRUCT:this.readStructBegin();var b;while(!0){b=this.readFieldBegin();if(b.ftype===(h||(h=c("ThriftTypes"))).STOP)break;this.skip(b.ftype)}this.readStructEnd();break;case(h||(h=c("ThriftTypes"))).MAP:b=this.readMapBegin();if(b.size>0&&b.ktype!=null&&b.vtype!=null){var d=b.ktype,e=b.vtype;for(var f=0;f<b.size;f++)this.skip(d),this.skip(e)}break;case(h||(h=c("ThriftTypes"))).SET:case(h||(h=c("ThriftTypes"))).LIST:f=this.$11();for(d=0;d<f.size;d++)this.skip(f.etype);break;case(h||(h=c("ThriftTypes"))).FLOAT:this.readFloat();break;default:throw new Error("encoutered unknow thrift type: "+a+" in skip")}};b.toByteArray=function(){return this.$1.toByteArray()};b.writeFieldEnd=function(){return 0};b.writeFieldStop=function(){return this.$1.writeByte((h||(h=c("ThriftTypes"))).STOP)};b.writeI16=function(a){if(a<o||a>n)throw new Error("trying to write i16 out of range: "+a);return this.writeVarint32(this.i32ToZigzag(a))};b.readI16=function(){var a=this.zigzagToI32(this.readVarint32());if(a<o||a>n)throw new Error("read invalid i16: "+a);return a};b.writeI32=function(a){if(a<q||a>p)throw new Error("i32 out of range: "+a);return this.writeVarint32(this.i32ToZigzag(a))};b.readI32=function(){return this.zigzagToI32(this.readVarint32())};b.writeI64=function(a){return this.writeVarint64(this.i64ToZigzag(a))};b.readI64=function(){return this.zigzagToI64(this.readVarint64())};b.readBool=function(){var a;this.$5!=null?(a=this.$5,this.$5=null):a=this.$1.readByte()===i.CT_BOOLEAN_TRUE;return a};b.writeBool=function(a){var b=0;this.$4!=null?(b+=this.$7(this.$4,a?j.CT_BOOLEAN_TRUE:j.CT_BOOLEAN_FALSE),this.$4=null):b+=this.$1.writeByte(a?i.CT_BOOLEAN_TRUE:i.CT_BOOLEAN_FALSE);return b};b.readBinary=function(){var a=this.readVarint32();return a===0?new Uint8Array(0):this.$1.readBytes(a)};b.writeBinary=function(a){var b=0;b+=this.writeVarint32(a.length);b+=this.$1.write(a);return b};b.i32ToZigzag=function(a){if(a<q||a>p)throw new Error("number: "+a+" is out of range of i32");return(a<<1^(a<0?4294967295:0))>>>0};b.zigzagToI32=function(a){if(a<0||a>r)throw new Error("number: "+a+" is out of range of uint32");return a>>>1^-1*(a&1)};b.i64ToZigzag=function(a){if(c("jsbi").greaterThan(a,s)||c("jsbi").lessThan(a,t))throw new Error("i64 out of range: "+a.toString());return c("jsbi").bitwiseXor(c("jsbi").signedRightShift(a,v),c("jsbi").leftShift(a,w))};b.zigzagToI64=function(a){if(c("jsbi").lessThan(a,0)||c("jsbi").greaterThan(a,u))throw new Error("invalid uint64: "+a.toString());return c("jsbi").equal(c("jsbi").bitwiseAnd(a,w),w)?c("jsbi").bitwiseNot(c("jsbi").signedRightShift(a,w)):c("jsbi").signedRightShift(a,w)};b.writeVarint32=function(a){if(a<0||a>r)throw new Error("writeVarint32 received out of range uint32: "+a);a=a;var b=0;while(!0)if(a>>>7===0){this.$1.writeByte(a);b++;break}else this.$1.writeByte(a&127|128),b++,a>>>=7;return b};b.readVarint32=function(){var a=0,b=0,c;while(!0){c=this.$1.readByte();a=(a|(c&127)<<b)>>>0;b+=7;if((c&128)==0){if(b===35&&(c&240)!=0)throw new Error("result exceeded 32 bit limit");break}if(b>28)throw new Error("result exceeded 32 bit limit")}return a};b.writeVarint64=function(a){if(c("jsbi").lessThan(a,x)||c("jsbi").greaterThan(a,u))throw new Error("invalid uint64: "+a.toString());a=a;var b=0;while(!0)if(c("jsbi").equal(c("jsbi").signedRightShift(a,y),x)){this.$1.writeByte(c("jsbi").toNumber(a));b++;break}else{var d,e=(d=c("jsbi")).toNumber(d.bitwiseOr(d.bitwiseAnd(a,A),B));this.$1.writeByte(e);b++;a=d.signedRightShift(a,y)}return b};b.readVarint64=function(){var a=x,b=x,d;while(!0){var e;d=(e=c("jsbi")).BigInt(this.$1.readByte());a=e.bitwiseOr(a,e.leftShift(e.bitwiseAnd(d,A),b));b=e.add(b,y);if(c("jsbi").equal(c("jsbi").bitwiseAnd(d,B),x)){if(c("jsbi").equal(b,z)&&c("jsbi").notEqual(d,w))throw new Error("result exceeded 64 bit limit");break}if(c("jsbi").greaterThan(b,v))throw new Error("result exceeded 64 bit limit")}return a};b.readString=function(){return d("Utf8ToString").Utf8ToString(this.readBinary())};b.getLastFieldId=function(){return this.$3};b.getLastField=function(){return this.$2};b.getBooleanFieldInfo=function(){return this.$4};b.getBooleanValue=function(){return this.$5};b.$9=function(a){return k[a]};b.$10=function(a){switch(a){case i.CT_STOP:return(h||(h=c("ThriftTypes"))).STOP;case i.CT_BOOLEAN_FALSE:case i.CT_BOOLEAN_TRUE:return(h||(h=c("ThriftTypes"))).BOOL;case i.CT_BYTE:return(h||(h=c("ThriftTypes"))).BYTE;case i.CT_I16:return(h||(h=c("ThriftTypes"))).I16;case i.CT_I32:return(h||(h=c("ThriftTypes"))).I32;case i.CT_I64:return(h||(h=c("ThriftTypes"))).I64;case i.CT_DOUBLE:return(h||(h=c("ThriftTypes"))).DOUBLE;case i.CT_FLOAT:return(h||(h=c("ThriftTypes"))).FLOAT;case i.CT_BINARY:return(h||(h=c("ThriftTypes"))).STRING;case i.CT_LIST:return(h||(h=c("ThriftTypes"))).LIST;case i.CT_SET:return(h||(h=c("ThriftTypes"))).SET;case i.CT_MAP:return(h||(h=c("ThriftTypes"))).MAP;case i.CT_STRUCT:return(h||(h=c("ThriftTypes"))).STRUCT;default:throw new Error("don't know what type")}};return a}();g["default"]=b}),98);
__d("CompactSerializerPolyfill",["TCompactProtocolPolyfill","TNoOpWriteBuffer","TReadBuffer","TWriteBuffer"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){a=new(c("TReadBuffer"))(a);a=new(c("TCompactProtocolPolyfill"))(a);return b(a)}function a(a,b,c){try{return h(a,b)}catch(a){c!=null&&c(a)}return null}function i(a,b,d){d===void 0&&(d=!1);if(d){d=new(c("TNoOpWriteBuffer"))();var e=new(c("TCompactProtocolPolyfill"))(d);b(a,e);e=new(c("TWriteBuffer"))(d.currentSize())}else e=new(c("TWriteBuffer"))();d=new(c("TCompactProtocolPolyfill"))(e);b(a,d);return d.toByteArray()}function b(a,b,c,d){c===void 0&&(c=!1);try{return i(a,b,c)}catch(a){d!=null&&d(a)}return null}g.deserialize=h;g.deserializeNoThrow=a;g.serialize=i;g.serializeNoThrow=b}),98);
__d("ContextualConfigConstants",[],(function(a,b,c,d,e,f){"use strict";a=1e3;b=", ";c={SAME:"same",NULL:"null",NNULL:"nnull",CATCH_ALL:"catch_all",EQ:"eq",NEQ:"neq",LT:"lt",LTE:"lte",GT:"gt",GTE:"gte",COR:"cor",CONTAINS:"contains",REGEX:"regex",IN:"in",NIN:"nin"};d={DENSE:"dense",MULTI_OUTPUT_RESOLVED:"multi-output-resolved",TABLE:"table"};e=[];var g=[],h=[],i={BAD_BOOLEAN_FORMAT:"Bad boolean format",BAD_CONFIG:"Bad config",BAD_CONTEXT_IDENTIFIER:"Bad context identifier",BAD_CONTEXT_VALUE:"Bad context value",BAD_MONITORED_CONTEXTS:"Bad monitored contexts",BAD_NUMBER_FORMAT:"Bad number format",BAD_OUTPUT_NAME:"Bad output name",BAD_OUTPUT_TYPE:"Bad output type",BAD_VALUE_ORDER:"Bad values order",DUPLICATE_OUTPUT_NAME:"Duplicate output name",ILLEGAL_BOOLEAN_STRATEGY:"Illegal boolean strategy",ILLEGAL_BUCKET_VALUES:"Illegal bucket values",ILLEGAL_NUMERIC_STRATEGY:"Illegal numeric strategy",ILLEGAL_STRING_STRATEGY:"Illegal string strategy",INVALID_BOOLEAN:"Invalid boolean",INVALID_FLOAT:"Invalid float",INVALID_INTEGER:"Invalid integer",INVALID_STRING:"Invalid string",INVALID_VALUE_TYPE:"Invalid value type",MISMATCH_NUMBER_OF_VALUES:"Mismatching number of values",MISSING_BUCKETS:"Missing buckets",MISSING_BUCKET_MATCH:"Missing bucket match",MISSING_BUCKET_NAME:"Missing bucket name",MISSING_BUCKET_STRATEGY:"Missing bucket strategy",MISSING_CONTEXT_IN_CONFIG:"Missing context in config",MISSING_DEFAULT_VALUE:"Missing default value",MISSING_OUTPUTS_DEFINITION:"Missing outputs field definition",MISSING_RESULTS:"Missing results",MISSING_TABLE:"Missing table",MISSING_TABLE_ITEM_BUCKET:"Missing table item bucket",MISSING_TABLE_ITEM_VALUES:"Missing table item values",MISSING_VECTOR:"Missing vector",REGEX_SYNTAX_ERROR:"Regex syntax error",REQUESTED_PARAM_NOT_FOUND:"Requested param not found",RESULTS_VECTOR_SIZE_MISMATCH:"Results vector size mismatch",UNDECLARED_OUTPUT_PARAM:"Undeclared output param",UNKNOWN_BUCKET_DEFINITION:"Unknown bucket definition",UNKNOWN_CONFIG_TYPE:"Unknown config type",UNSUPPORTED_CONFIG_VERSION:"Unsupported config version"},j=10,k=", ",l={BOOL:"BOOL",FLOAT:"FLOAT",INT:"INT",STRING:"STRING"};f.ANALYTICS_SAMPLE_RATE=a;f.BUCKET_DELIMITER=b;f.CONTEXT_BUCKET_STRATEGY=c;f.CONFIG_TYPE=d;f.EMPTY_RESOLVED_CONTEXTS=e;f.EMPTY_RESOLVED_MONITORS=g;f.EMPTY_RESULT_PARAMS=h;f.ERROR=i;f.JSON_SUB_SAMPLE_RATE=j;f.LIST_DELIMITER=k;f.TYPE=l}),66);
__d("ContextualConfigResolvedContextsUtils",[],(function(a,b,c,d,e,f){"use strict";a=function(a){var b=[];for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e=e.bucketIndex;if(e==void 0)break;b.push(e)}return b};b=function(a){var b=[];for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e=e.bucketName;if(e===void 0)break;b.push(e)}return b};var g=function(a){return a.name};c=function(a){return a.map(g)};d=function(a){var b=[];for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e=e.value;if(e===void 0)break;b.push(e)}return b};f.getBucketIndices=a;f.getBucketNames=b;f.getContextNames=c;f.getContextValues=d}),66);
__d("ContextualConfigCollateExposureData",["ContextualConfigConstants","ContextualConfigResolvedContextsUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=["cfg_ver_timestamp","policy_id","version","sample_rate"],i=function(a){return a.join(d("ContextualConfigConstants").LIST_DELIMITER)},j=function(a,b){for(var c=0;c<h.length;c++){var d=h[c];b[d]!=null&&(a[d]=b[d])}b.name&&(a.config_name=b.name)},k=function(a,b){var c=b[0],e=b[1],f=b[2];b=b[3];c!=null&&(a.exception=c.message);a.result=i(e.map(function(a){return a.value}))||"INVALID";a.context=i(d("ContextualConfigResolvedContextsUtils").getContextNames(f));a.context_value=i(d("ContextualConfigResolvedContextsUtils").getContextValues(f));a.bucket_name=i(d("ContextualConfigResolvedContextsUtils").getBucketNames(f));a.monitor=i(d("ContextualConfigResolvedContextsUtils").getContextNames(b));a.monitor_value=i(d("ContextualConfigResolvedContextsUtils").getContextValues(b))};function a(a,b,c){var e={sample_rate:d("ContextualConfigConstants").ANALYTICS_SAMPLE_RATE};j(e,a);k(e,b);c&&(e.config_contents=JSON.stringify(a));return e}g["default"]=a}),98);
__d("ContextualConfigExposureEvent",["Random"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c){this.$2=a,this.$4=d("Random").random()<1/a.sample_rate,this.$3=b,this.$1=c}var b=a.prototype;b.getData=function(){return this.$2};b.log=function(a){var b=this.$2,c=this.$3,d=this.$4;a&&c(b);d&&this.$1(b);return this};b.isSampled=function(){return this.$4};return a}();g["default"]=a}),98);
__d("ContextualConfigExposureLoggerFactory",["ContextualConfigExposureEvent"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){function a(a,b){this.$2=a,this.$1=b}var b=a.prototype;b.createEvent=function(a){var b=this.$1,d=this.$2;a=new(c("ContextualConfigExposureEvent"))(a,d,b);return a};return a}();function a(a,b){return new h(a,b)}g["default"]=a}),98);
__d("MarauderLogger",["Banzai","CacheStorage","MarauderConfig"],(function(a,b,c,d,e,f){var g="client_event",h="navigation",i=18e4,j="marauder",k="marauder_last_event_time",l="marauder_last_session_id",m={},n=[],o=!1,p=null,q=null,r=null,s=0,t,u,v=!1,w=null;function a(){F().set(k,x())}b("Banzai").subscribe(b("Banzai").SHUTDOWN,a);function x(){t=t||F().get(k)||0;return t}function y(){v||(u=F().get(l),v=!0);var a=Date.now();(!u||a-i>x())&&(u=a.toString(16)+"-"+(~~(Math.random()*16777215)).toString(16),F().set(l,u));return u}function z(){return{user_agent:window.navigator.userAgent,screen_height:window.screen.availHeight,screen_width:window.screen.availWidth,density:window.screen.devicePixelRatio||null,platform:window.navigator.platform||null,locale:window.navigator.language||null}}function A(){return{locale:navigator.language}}function B(a,b,c,d,e,f,g){var h=g!=null&&g!=0?g:Date.now();t=g!=null&&g!=0?Date.now():h;g=b!=null&&b!=""?b:p;return{name:a,time:h/1e3,module:g,obj_type:d,obj_id:e,uuid:f,extra:c}}function C(a,b,c){return B("content",null,{flags:b},null,null,a,c)}function D(a){var b=window.__mrdr;if(b)for(var c in b){var d=b[c];if(d[3]!==0){delete b[c];if(c==="1")if(r!==null)c=r;else continue;a.push(C(c,1,d[1]));a.push(C(c,2,d[2]));a.push(C(c,3,d[3]))}}}function E(a,c){D(a);if(a.length===0)return;o&&a.push(B("counters",null,m));var d=b("Banzai").BASIC;c==="vital"&&(d=b("Banzai").VITAL);var e=b("MarauderConfig").gk_enabled;s===0&&e&&(a.push(B("device_status",null,A())),d={delay:5e3});c==="signal"&&(d={signal:!0});e&&Math.random()<.01&&a.push(B("device_info",null,z()));if(r!==null)for(c=0;c<a.length;c++){e=a[c];(e.uuid===null||e.uuid===void 0)&&(e.uuid=r)}e={app_ver:b("MarauderConfig").app_version,data:a,device_id:void 0,log_type:g,seq:s++,session_id:y()};c=F().get("device_id");c&&(e.device_id=c);m={};o=!1;b("Banzai").post(j,e,d)}function F(){w||(w=new(b("CacheStorage"))("localstorage",""));return w}function c(a){m[a]||(m[a]=0),m[a]++,o=!0}function G(b,a,c,d,f,g,h,i){E([B(b,a,c,d,f,g,h)],i)}function H(a,b){p!==b&&(n.push(B(h,p,{dest_module:b,source_url:q,destination_url:a})),p=b,q=a)}function d(a,b){p!==b&&(r=null,H(a,b))}function f(a,b,c){G(b?"show_module":"hide_module",a,c)}function I(a){p=a}function J(){return p}function K(a){r===null&&(r=a,a!==null&&(E(n),n=[]))}e.exports={count:c,log:G,navigateTo:d,navigateWithinSession:H,toggleModule:f,setUUID:K,setNavigationModule:I,getNavigationModule:J}}),null);
__d("ContextualConfigExposureLogger",["ContextualConfigExposureLoggerFactory","MarauderLogger"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){};b=function(a){d("MarauderLogger").log("contextual_config_exposure","",a)};e=c("ContextualConfigExposureLoggerFactory")(a,b);g["default"]=e}),98);
__d("ContextualConfigAssert",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(a===!1)throw new Error(b)}f["default"]=a}),66);
__d("ContextualConfigValidators",["ContextualConfigConstants"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return Array.isArray(a)};b=function(a){return typeof a==="boolean"};c=function(a){return a!=null};e=function(a){return function(b){return Object.prototype.hasOwnProperty.call(a,b)}};f=function(a){return i(a)&&a%1===0};var h=function(a){return j(a)&&a.length>0},i=function(a){return typeof a==="number"&&!isNaN(a)&&a!==Infinity&&a!==-Infinity},j=function(a){return typeof a==="string"},k=function(a){switch(a){case d("ContextualConfigConstants").TYPE.BOOL:case d("ContextualConfigConstants").TYPE.FLOAT:case d("ContextualConfigConstants").TYPE.INT:case d("ContextualConfigConstants").TYPE.STRING:return!0;default:return!1}};g.isArray=a;g.isBoolean=b;g.isDefined=c;g.isKey=e;g.isInteger=f;g.isNonEmptyString=h;g.isNumber=i;g.isString=j;g.isType=k}),98);
__d("ContextualConfigParseBoolean",["ContextualConfigConstants"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a.toUpperCase()){case"TRUE":return!0;case"FALSE":return!1;default:throw new Error(d("ContextualConfigConstants").ERROR.BAD_BOOLEAN_FORMAT)}}g["default"]=a}),98);
__d("ContextualConfigParsePredBoolean",["ContextualConfigConstants","ContextualConfigParseBoolean"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e;switch(b){case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.SAME:var f=c("ContextualConfigParseBoolean")(a);e=function(a){return a===f};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NULL:e=function(a){return a==null};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NNULL:e=function(a){return a!=null};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.CATCH_ALL:e=function(a){return!0};break;default:throw new Error(d("ContextualConfigConstants").ERROR.ILLEGAL_BOOLEAN_STRATEGY)}return function(a){return e(a)}}g["default"]=a}),98);
__d("ContextualConfigParseFloat",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){"use strict";var h,i=/^[-\+]?([1-9]\d*|0)(\.\d+)?$/,j=function(a){return i.test(a)};function a(a){(h||(h=c("ContextualConfigAssert")))(j(a),d("ContextualConfigConstants").ERROR.BAD_NUMBER_FORMAT);a=parseFloat(a);h(d("ContextualConfigValidators").isNumber(a),d("ContextualConfigConstants").ERROR.BAD_NUMBER_FORMAT);return a}g["default"]=a}),98);
__d("ContextualConfigParseInteger",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){"use strict";var h,i=/^[-\+]?([1-9]\d*|0)$/,j=function(a){return i.test(a)};function a(a){(h||(h=c("ContextualConfigAssert")))(j(a),d("ContextualConfigConstants").ERROR.BAD_NUMBER_FORMAT);a=parseInt(a,10);h(d("ContextualConfigValidators").isNumber(a),d("ContextualConfigConstants").ERROR.BAD_NUMBER_FORMAT);return a}g["default"]=a}),98);
__d("ContextualConfigPredAssertions",["ContextualConfigAssert","ContextualConfigConstants"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a){return(h||(h=c("ContextualConfigAssert")))(a>0,d("ContextualConfigConstants").ERROR.MISMATCH_NUMBER_OF_VALUES)};b=function(a,b){return(h||(h=c("ContextualConfigAssert")))(a===b,d("ContextualConfigConstants").ERROR.MISMATCH_NUMBER_OF_VALUES)};e=function(a,b){return(h||(h=c("ContextualConfigAssert")))(a<b,d("ContextualConfigConstants").ERROR.BAD_VALUE_ORDER)};g.assertHasValues=a;g.assertNumberOfValues=b;g.assertValueOrder=e}),98);
__d("ContextualConfigParsePredNumeric",["ContextualConfigConstants","ContextualConfigParseFloat","ContextualConfigParseInteger","ContextualConfigPredAssertions","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e,f){var g=e.map(f?c("ContextualConfigParseInteger"):h||(h=c("ContextualConfigParseFloat"))),i;switch(b){case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.SAME:var j=f?c("ContextualConfigParseInteger")(a):(h||(h=c("ContextualConfigParseFloat")))(a);i=function(a){return f&&!d("ContextualConfigValidators").isInteger(a)?!1:a===j};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NULL:i=function(a){return a==null};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NNULL:i=function(a){return a!=null};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.CATCH_ALL:i=function(a){return!0};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.COR:d("ContextualConfigPredAssertions").assertNumberOfValues(g.length,2);d("ContextualConfigPredAssertions").assertValueOrder(g[0],g[1]);i=function(a){if(typeof a!=="number")return!1;return f&&!d("ContextualConfigValidators").isInteger(a)?!1:a>=g[0]&&a<g[1]};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.LT:d("ContextualConfigPredAssertions").assertNumberOfValues(g.length,1);i=function(a){if(typeof a!=="number")return!1;return f&&!d("ContextualConfigValidators").isInteger(a)?!1:a<g[0]};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.LTE:d("ContextualConfigPredAssertions").assertNumberOfValues(g.length,1);i=function(a){if(typeof a!=="number")return!1;return f&&!d("ContextualConfigValidators").isInteger(a)?!1:a<=g[0]};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.EQ:d("ContextualConfigPredAssertions").assertNumberOfValues(g.length,1);i=function(a){if(typeof a!=="number")return!1;return f&&!d("ContextualConfigValidators").isInteger(a)?!1:a===g[0]};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NEQ:d("ContextualConfigPredAssertions").assertNumberOfValues(g.length,1);i=function(a){if(typeof a!=="number")return!1;return f&&!d("ContextualConfigValidators").isInteger(a)?!1:a!==g[0]};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.GT:d("ContextualConfigPredAssertions").assertNumberOfValues(g.length,1);i=function(a){if(typeof a!=="number")return!1;return f&&!d("ContextualConfigValidators").isInteger(a)?!1:a>g[0]};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.GTE:d("ContextualConfigPredAssertions").assertNumberOfValues(g.length,1);i=function(a){if(typeof a!=="number")return!1;return f&&!d("ContextualConfigValidators").isInteger(a)?!1:a>=g[0]};break;default:throw new Error(d("ContextualConfigConstants").ERROR.ILLEGAL_NUMERIC_STRATEGY)}return function(a){return i(a)}}g["default"]=a}),98);
__d("ContextualConfigParseRegExp",["ContextualConfigConstants"],(function(a,b,c,d,e,f,g){"use strict";var h=/^\/(.+)\/(.*)$/;function a(a){try{var b=a.match(h);if(b!=null)return new RegExp(b[1],b[2]);else return new RegExp(a)}catch(a){throw new Error(d("ContextualConfigConstants").ERROR.REGEX_SYNTAX_ERROR)}}g["default"]=a}),98);
__d("ContextualConfigParsePredString",["ContextualConfigConstants","ContextualConfigParseRegExp","ContextualConfigPredAssertions"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){if(typeof a!=="string")throw new Error(d("ContextualConfigConstants").ERROR.INVALID_VALUE_TYPE);return a},i=function(a){var b=[];for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;b.push(h(e))}return b};function a(a,b,e){var f=i(e),g;switch(b){case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.SAME:g=function(b){return typeof b!=="string"?!1:b===a};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NULL:g=function(a){return a==null};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NNULL:g=function(a){return a!=null};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.CATCH_ALL:g=function(a){return!0};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.IN:d("ContextualConfigPredAssertions").assertHasValues(f.length);g=function(a){return typeof a!=="string"?!1:f.indexOf(a)!==-1};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NIN:d("ContextualConfigPredAssertions").assertHasValues(f.length);g=function(a){return typeof a!=="string"?!1:f.indexOf(a)===-1};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.CONTAINS:d("ContextualConfigPredAssertions").assertNumberOfValues(f.length,1);g=function(a){return typeof a!=="string"?!1:a.indexOf(f[0])!==-1};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.REGEX:d("ContextualConfigPredAssertions").assertNumberOfValues(f.length,1);var h=c("ContextualConfigParseRegExp")(f[0]);g=function(a){return typeof a!=="string"?!1:h.test(a)};break;default:throw new Error(d("ContextualConfigConstants").ERROR.ILLEGAL_STRING_STRATEGY)}return function(a){return g(a)}}g["default"]=a}),98);
__d("ContextualConfigParseContextBuckets",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParsePredBoolean","ContextualConfigParsePredNumeric","ContextualConfigParsePredString","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isDefined(a),d("ContextualConfigConstants").ERROR.MISSING_BUCKETS)},j=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isArray(a),d("ContextualConfigConstants").ERROR.MISSING_BUCKETS)},k=d("ContextualConfigValidators").isKey(d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY),l=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isString(a)&&k(a.toUpperCase()),d("ContextualConfigConstants").ERROR.MISSING_BUCKET_STRATEGY)},m=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isArray(a),d("ContextualConfigConstants").ERROR.ILLEGAL_BUCKET_VALUES)},n=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isNonEmptyString(a),d("ContextualConfigConstants").ERROR.MISSING_BUCKET_NAME)},o=function(a,b){var e=b.name;n(e);var f=b.strategy;l(f);b=b.values||[];m(b);switch(a){case d("ContextualConfigConstants").TYPE.BOOL:return c("ContextualConfigParsePredBoolean")(e,f);case d("ContextualConfigConstants").TYPE.FLOAT:return c("ContextualConfigParsePredNumeric")(e,f,b,!1);case d("ContextualConfigConstants").TYPE.INT:return c("ContextualConfigParsePredNumeric")(e,f,b,!0);case d("ContextualConfigConstants").TYPE.STRING:return c("ContextualConfigParsePredString")(e,f,b);default:throw new Error(d("ContextualConfigConstants").ERROR.UNKNOWN_BUCKET_DEFINITION)}},p=function(a,b){i(b);var c=b.name;n(c);return{name:c,pred:o(a,b)}};function a(a,b){j(b);return b.map(function(b){return p(a,b)})}g["default"]=a}),98);
__d("ContextualConfigParseContexts",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseContextBuckets","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isDefined(a),d("ContextualConfigConstants").ERROR.BAD_CONTEXT_IDENTIFIER)},j=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isArray(a)&&a.length>0,d("ContextualConfigConstants").ERROR.MISSING_CONTEXT_IN_CONFIG)},k=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isNonEmptyString(a),d("ContextualConfigConstants").ERROR.BAD_CONTEXT_IDENTIFIER)},l=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isType(a),d("ContextualConfigConstants").ERROR.BAD_CONTEXT_IDENTIFIER)},m=function(a){i(a);var b=a.name,d=a.type;a=a.buckets;k(b);l(d);return{name:b,type:d,buckets:c("ContextualConfigParseContextBuckets")(d,a)}};function a(a){j(a);return a.map(m)}g["default"]=a}),98);
__d("ContextualConfigIsEqualParams",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(a.length!=b.length)return!1;for(var c=0;c<a.length;c+=1){var d=a[c],e=b[c];if(d.name!==e.name||d.type!==e.type)return!1}return!0}f["default"]=a}),66);
__d("ContextualConfigParseResultParamValue",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseBoolean","ContextualConfigParseFloat","ContextualConfigParseInteger","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isString(a),d("ContextualConfigConstants").ERROR.INVALID_STRING)};function a(a,b){j(b);switch(a){case d("ContextualConfigConstants").TYPE.BOOL:return c("ContextualConfigParseBoolean")(b);case d("ContextualConfigConstants").TYPE.FLOAT:return(i||(i=c("ContextualConfigParseFloat")))(b);case d("ContextualConfigConstants").TYPE.INT:return c("ContextualConfigParseInteger")(b);case d("ContextualConfigConstants").TYPE.STRING:return b;default:throw new Error(d("ContextualConfigConstants").ERROR.INVALID_VALUE_TYPE)}}g["default"]=a}),98);
__d("ContextualConfigParseResultParams",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseResultParamValue","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isArray(a),d("ContextualConfigConstants").ERROR.MISSING_RESULTS)},k=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isDefined(a),d("ContextualConfigConstants").ERROR.BAD_CONTEXT_VALUE)},l=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isNonEmptyString(a),d("ContextualConfigConstants").ERROR.BAD_CONTEXT_VALUE)},m=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isType(a),d("ContextualConfigConstants").ERROR.BAD_CONTEXT_VALUE)},n=function(a,b){for(var a=a,c=Array.isArray(a),e=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(c){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;if(f.name===b)return f.type}throw new Error(d("ContextualConfigConstants").ERROR.UNDECLARED_OUTPUT_PARAM)},o=function(a){return function(b){k(b);var d=b.name;l(d);var e=n(a,d);m(e);b=(i||(i=c("ContextualConfigParseResultParamValue")))(e,b.value);return{name:d,type:e,value:b}}};function a(a,b){j(b);return b.map(o(a))}g["default"]=a}),98);
__d("ContextualConfigParseDenseResultParams",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigIsEqualParams","ContextualConfigParseResultParams"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b){return(h||(h=c("ContextualConfigAssert")))(c("ContextualConfigIsEqualParams")(a,b),d("ContextualConfigConstants").ERROR.RESULTS_VECTOR_SIZE_MISMATCH)};function a(a,b){b=c("ContextualConfigParseResultParams")(a,b.map(function(b,c){return{name:a[c].name,value:b}}));i(a,b);return b}g["default"]=a}),98);
__d("ContextualConfigParseDenseDefaults",["ContextualConfigConstants","ContextualConfigParseDenseResultParams"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){try{return c("ContextualConfigParseDenseResultParams")(a,b)}catch(a){throw new Error(d("ContextualConfigConstants").ERROR.MISSING_DEFAULT_VALUE)}}g["default"]=a}),98);
__d("ContextualConfigParseMonitors",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isDefined(a),d("ContextualConfigConstants").ERROR.BAD_CONTEXT_IDENTIFIER)},j=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isArray(a),d("ContextualConfigConstants").ERROR.BAD_MONITORED_CONTEXTS)},k=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isNonEmptyString(a),d("ContextualConfigConstants").ERROR.BAD_CONTEXT_IDENTIFIER)},l=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isType(a),d("ContextualConfigConstants").ERROR.BAD_CONTEXT_IDENTIFIER)},m=function(a){i(a);var b=a.name;a=a.type;k(b);l(a);return{name:b,type:a}};function a(a){j(a);return a.map(m)}g["default"]=a}),98);
__d("ContextualConfigParseOutputParams",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){var h,i=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isArray(a),d("ContextualConfigConstants").ERROR.MISSING_OUTPUTS_DEFINITION)},j=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isType(a),d("ContextualConfigConstants").ERROR.BAD_OUTPUT_TYPE)},k=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isNonEmptyString(a),d("ContextualConfigConstants").ERROR.BAD_OUTPUT_NAME)},l=function(a){return(h||(h=c("ContextualConfigAssert")))(m(a),d("ContextualConfigConstants").ERROR.DUPLICATE_OUTPUT_NAME)},m=function(a){var b={};for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;if(b[e.name])return!1;b[e.name]=!0}return!0},n=function(a){k(a.name);j(a.type);return a};function a(a){i(a);a=a.map(n);l(a);return a}g["default"]=a}),98);
__d("ContextualConfigParseVector",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseResultParamValue","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isArray(a),d("ContextualConfigConstants").ERROR.MISSING_VECTOR)},k=function(a,b){return(h||(h=c("ContextualConfigAssert")))(a===b,d("ContextualConfigConstants").ERROR.RESULTS_VECTOR_SIZE_MISMATCH)},l=function(a,b){k(a.length,b.length);for(var d=0;d<a.length;d+=1){var e=a[d].type,f=b[d];(i||(i=c("ContextualConfigParseResultParamValue")))(e,f)}},m=function(a){return a.reduce(function(a,b){b=b.buckets;return a*b.length},1)};function a(a,b,c){j(c);b=m(b);var d=a.length;k(b*d,c.length);for(var e=0;e<b;e+=1){var f=e*d;l(a,c.slice(f,f+d))}return c}g["default"]=a}),98);
__d("ContextualConfigResolveContexts",["ContextualConfigConstants"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a,b){for(var c=0;c<a.length;c+=1){var d=a[c];try{if(d.pred(b))return[d.name,c]}catch(a){return null}}return null};function a(a,b,c){var e=null;a=a.map(function(a){var f=a.name,g={name:f};if(e!=null)return g;var i;c[f]!=null?i=c[f]:b[f]!=null?i=b[f]():i=null;g.value=i;if(a.buckets!=null){f=h(a.buckets,i);if(f==null){e=new Error(d("ContextualConfigConstants").ERROR.MISSING_BUCKET_MATCH);return g}a=f[0];i=f[1];g.bucketName=a;g.bucketIndex=i}return g});return[e,a]}g["default"]=a}),98);
__d("DenseContextualConfig",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseContexts","ContextualConfigParseDenseDefaults","ContextualConfigParseDenseResultParams","ContextualConfigParseMonitors","ContextualConfigParseOutputParams","ContextualConfigParseVector","ContextualConfigResolveContexts","ContextualConfigResolvedContextsUtils","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isDefined(a),d("ContextualConfigConstants").ERROR.BAD_CONFIG)},j=function(a){var b=[],c=1;for(var d=a.length-1;d>=0;d-=1)b.push(c),c*=a[d].buckets.length;return b.reverse()},k=function(a,b,d,e){try{b=b.slice(d,d+a.length);return[null,c("ContextualConfigParseDenseResultParams")(a,b)]}catch(a){return[a,e]}},l=function(a,b,d){try{d=d.reduce(function(b,d,e){(h||(h=c("ContextualConfigAssert")))(e<a.length,"Auxillery index out of range.");return b+a[e]*d},0);return[null,d*b]}catch(a){return[a,-1]}};a=function(){function a(a,b){i(a);this.globalContextProviders=babelHelpers["extends"]({},b);b=c("ContextualConfigParseOutputParams")(a.outputs);var d=c("ContextualConfigParseContexts")(a.contexts);this.aux=j(d);this.contexts=d;this.defaults=c("ContextualConfigParseDenseDefaults")(b,a.vectorDefaults);this.monitors=a.monitors!=null?c("ContextualConfigParseMonitors")(a.monitors):[];this.outputs=b;this.vector=c("ContextualConfigParseVector")(b,d,a.vector)}var b=a.prototype;b.resolve=function(a){try{return this.unsafeResolve(a)}catch(a){return[a,this.defaults,d("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,d("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS]}};b.unsafeResolve=function(a){var b=this.aux,e=this.globalContextProviders,f=this.contexts,g=this.defaults,h=this.monitors,i=this.outputs,j=this.vector;f=c("ContextualConfigResolveContexts")(f,e,a);var m=f[0];f=f[1];if(m!=null)return[m,g,f,d("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS];m=l(b,i.length,d("ContextualConfigResolvedContextsUtils").getBucketIndices(f));b=m[0];m=m[1];if(b!=null)return[b,g,f,d("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS];b=k(i,j,m,g);i=b[0];j=b[1];if(i!=null)return[i,j,f,d("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS];m=c("ContextualConfigResolveContexts")(h,e,a);g=m[0];b=m[1];return g!=null?[g,j,f,d("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS]:[null,j,f,b]};return a}();g["default"]=a}),98);
__d("MultiOutputResolvedContextualConfig",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseMonitors","ContextualConfigParseOutputParams","ContextualConfigParseResultParams","ContextualConfigResolveContexts","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isDefined(a),d("ContextualConfigConstants").ERROR.BAD_CONFIG)};a=function(){function a(a,b){i(a);this.globalContextProviders=babelHelpers["extends"]({},b);b=c("ContextualConfigParseOutputParams")(a.outputs);this.monitors=a.monitors!=null?c("ContextualConfigParseMonitors")(a.monitors):[];this.values=c("ContextualConfigParseResultParams")(b,a.values)}var b=a.prototype;b.resolve=function(a){try{return this.unsafeResolve(a)}catch(a){return[a,this.values,d("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,d("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS]}};b.unsafeResolve=function(a){var b=this.globalContextProviders,e=this.monitors,f=this.values;e=c("ContextualConfigResolveContexts")(e,b,a);b=e[0];a=e[1];return b!=null?[b,f,d("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,d("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS]:[null,f,d("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,a]};return a}();g["default"]=a}),98);
__d("ContextualConfigMergePartialResultParams",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c={};for(var b=b,d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;c[f.name]=f}f=[];for(e=a,d=Array.isArray(e),b=0,e=d?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(d){if(b>=e.length)break;a=e[b++]}else{b=e.next();if(b.done)break;a=b.value}a=a;var g=c[a.name];f.push(g!=null&&g.name===a.name&&g.type===a.type?g:a)}return f}f["default"]=a}),66);
__d("ContextualConfigParseDefaults",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigIsEqualParams","ContextualConfigParseResultParams"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b){return(h||(h=c("ContextualConfigAssert")))(c("ContextualConfigIsEqualParams")(a,b),d("ContextualConfigConstants").ERROR.MISSING_DEFAULT_VALUE)};function a(a,b){b=c("ContextualConfigParseResultParams")(a,b);i(a,b);return b}g["default"]=a}),98);
__d("ContextualConfigParseTable",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseResultParams","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isArray(a),d("ContextualConfigConstants").ERROR.MISSING_TABLE)},j=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isDefined(a),d("ContextualConfigConstants").ERROR.MISSING_TABLE)},k=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isNonEmptyString(a),d("ContextualConfigConstants").ERROR.MISSING_TABLE_ITEM_BUCKET)},l=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isArray(a),d("ContextualConfigConstants").ERROR.MISSING_TABLE_ITEM_VALUES)},m=function(a,b){j(b);var d=b.bucket;b=b.values;k(d);l(b);return{bucket:d,values:c("ContextualConfigParseResultParams")(a,b)}};function a(a,b){i(b);return b.reduce(function(b,c){c=m(a,c);b[c.bucket]=c.values;return b},{})}g["default"]=a}),98);
__d("TableContextualConfig",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigMergePartialResultParams","ContextualConfigParseContexts","ContextualConfigParseDefaults","ContextualConfigParseMonitors","ContextualConfigParseOutputParams","ContextualConfigParseTable","ContextualConfigResolveContexts","ContextualConfigResolvedContextsUtils","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){"use strict";var h,i=[],j=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isDefined(a),d("ContextualConfigConstants").ERROR.BAD_CONFIG)};a=function(){function a(a,b){j(a);this.globalContextProviders=babelHelpers["extends"]({},b);b=c("ContextualConfigParseOutputParams")(a.outputs);this.contexts=c("ContextualConfigParseContexts")(a.contexts);this.defaults=c("ContextualConfigParseDefaults")(b,a.defaults);this.monitors=a.monitors!=null?c("ContextualConfigParseMonitors")(a.monitors):[];this.table=c("ContextualConfigParseTable")(b,a.table)}var b=a.prototype;b.resolve=function(a){try{return this.unsafeResolve(a)}catch(a){return[a,this.defaults,d("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,d("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS]}};b.unsafeResolve=function(a){var b=this.globalContextProviders,e=this.contexts,f=this.defaults,g=this.monitors,h=this.table;e=c("ContextualConfigResolveContexts")(e,b,a);var j=e[0];e=e[1];if(j!=null)return[j,f,e,[]];j=d("ContextualConfigResolvedContextsUtils").getBucketNames(e).join(d("ContextualConfigConstants").BUCKET_DELIMITER);h=h[j]||i;j=c("ContextualConfigMergePartialResultParams")(f,h);f=c("ContextualConfigResolveContexts")(g,b,a);h=f[0];g=f[1];return h!=null?[h,j,e,[]]:[null,j,e,g]};return a}();g["default"]=a}),98);
__d("ContextualConfigParseConfig",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators","DenseContextualConfig","MultiOutputResolvedContextualConfig","TableContextualConfig"],(function(a,b,c,d,e,f,g){"use strict";var h,i=[1],j=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isDefined(a)&&d("ContextualConfigValidators").isDefined(a.version),d("ContextualConfigConstants").ERROR.BAD_CONFIG)},k=function(a){return(h||(h=c("ContextualConfigAssert")))(i.indexOf(a)!==-1,d("ContextualConfigConstants").ERROR.UNSUPPORTED_CONFIG_VERSION)};function a(a,b){j(a);k(a.version);switch(a.cctype){case d("ContextualConfigConstants").CONFIG_TYPE.DENSE:return new(c("DenseContextualConfig"))(a,b);case d("ContextualConfigConstants").CONFIG_TYPE.MULTI_OUTPUT_RESOLVED:return new(c("MultiOutputResolvedContextualConfig"))(a,b);case d("ContextualConfigConstants").CONFIG_TYPE.TABLE:return new(c("TableContextualConfig"))(a,b);default:throw new Error(d("ContextualConfigConstants").ERROR.UNKNOWN_CONFIG_TYPE)}}g["default"]=a}),98);
__d("ContextualConfigWarn",[],(function(a,b,c,d,e,f){"use strict";function a(a){}f["default"]=a}),66);
__d("ContextualConfigResult",["ContextualConfigConstants","ContextualConfigWarn"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=a.reduce(function(a,b){var c=b.name;b=b.value;a[c]=b;return a},{}),this.$2=a}var b=a.prototype;b.get=function(a,b){try{a=this.$1[a];if(typeof a!==typeof b){c("ContextualConfigWarn")(d("ContextualConfigConstants").ERROR.REQUESTED_PARAM_NOT_FOUND);return b}return a}catch(a){c("ContextualConfigWarn")(a.message);return b}};b.getParams=function(){return this.$2};return a}();g["default"]=a}),98);
__d("ErrorContextualConfig",["ContextualConfigConstants"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.error=a}var b=a.prototype;b.resolve=function(a){return[this.error,d("ContextualConfigConstants").EMPTY_RESULT_PARAMS,d("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,d("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS]};return a}();g["default"]=a}),98);
__d("ContextualConfig",["ContextualConfigCollateExposureData","ContextualConfigConstants","ContextualConfigExposureLogger","ContextualConfigParseConfig","ContextualConfigResult","ErrorContextualConfig","Random"],(function(a,b,c,d,e,f,g){"use strict";var h=1/d("ContextualConfigConstants").JSON_SUB_SAMPLE_RATE,i=1;a=function(){function a(a,b){b===void 0&&(b={}),this.isDebugLoggingEnabled=!1,this.$3=!1,this.$4=a,this.$2=b}var b=a.prototype;b.$5=function(){if(this.$1)return this.$1;var a=this.$2,b=this.$4;try{b=c("ContextualConfigParseConfig")(b,a)}catch(a){b=new(c("ErrorContextualConfig"))(a)}this.$1=b;return b};b.$6=function(a){var b=this.isDebugLoggingEnabled,e=this.$4,f=this.$3;f=!f&&d("Random").random()<h;f&&(this.$3=!0);e=c("ContextualConfigCollateExposureData")(e,a,f);a=c("ContextualConfigExposureLogger").createEvent(e);a.log(b)};b.resolve=function(a){a===void 0&&(a={});var b=this.$1||this.$5();b=b.resolve(a);this.$6(b);return new(c("ContextualConfigResult"))(b[i])};return a}();g["default"]=a}),98);
__d("DgwClientFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1755537");b=d("FalcoLoggerInternal").create("dgw_client",a);e=b;g["default"]=e}),98);
__d("DGWLoggingContext",["$InternalEnum","DgwClientFalcoEvent","ODS","Random"],(function(a,b,c,d,e,f,g){"use strict";var h;a="dgw_client";var i=b("$InternalEnum")({STREAM_GROUP_COMPONENT:"WebStreamGroup",GROUPED_STREAM_COMPONENT:"GroupedWebStream",WEBSOCKET_TRANSPORT_COMPONENT:"WebSocketTransport",ACK_MANAGER_COMPONENT:"WebStreamAckManager",CODEC_COMPONENT:"WebCodec",RAW_CLIENT:"RAWDGWClient",PINGER:"DGWPinger"}),j={VERBOSE:-1,INFO:0,WARNING:1,ERROR:2,FATAL:3};function k(a){switch(a){case i.GROUPED_STREAM_COMPONENT:case i.ACK_MANAGER_COMPONENT:return!0;default:return!1}}e=function(){function a(a,b,c,d,e,f,g){f===void 0&&(f=!1),g===void 0&&(g=!1),this.$5=""+a,this.$1=b,this.$4=c,this.$3=d,this.$6=e,this.$2=f,this.$7=g}a.bumpODSKey=function(a,b,c){c===void 0&&(c=1);if(!d("Random").coinflip(c))return;a=a+"."+b;(h||(h=d("ODS"))).bumpEntityKey(3589,"dgw_web_client",a,c)};var b=a.prototype;b.bumpODSKey=function(a,b,c){c===void 0&&(c=1);if(!d("Random").coinflip(c))return;a=this.$4+"."+a+"."+b;(h||(h=d("ODS"))).bumpEntityKey(3589,"dgw_web_client",a,c)};b.logEvent=function(a,b,c,d,e){d===void 0&&(d=!1),this.$2||this.$8(a,b,null,j.INFO,c,d,e)};b.$8=function(a,b,d,e,f,g,h){var i=this;g===void 0&&(g=!1);if(g&&!this.$7)return;(k(a)&&this.$1!=null||!k(a)&&this.$6!=null)&&c("DgwClientFalcoEvent").log(function(){var c;return{event:b,logging_id:(c=h)!=null?c:i.$1,dgw_version:i.$5,message:d,severity:e,uuid:i.$3,dgw_component:a,extra_info:f,destination_tier:i.$4,sg_transport_id:i.$6,source:2}})};b.logError=function(a,b,c,d,e,f){e===void 0&&(e=!1),this.$2||this.$8(a,b,c,j.ERROR,d,e,f)};b.logWarn=function(a,b,c,d,e){e===void 0&&(e=!1),this.$2||this.$8(a,b,c,j.WARNING,d,e)};return a}();g.DGW_MODULE=a;g.DGWLoggingComponent=i;g.DGWLoggingContext=e}),98);
__d("DGWAckManager",["DGWLoggingContext","Promise","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(){var b=a.prototype;b.stopTracking=function(a){window.clearTimeout(this.$1),this.$3(a)};function a(a,b,c){var d=this;this.$3=c;this.sendId=a;this.$2=b;this.handleAckReceived=function(){d.stopTracking(!0)};this.$1=window.setTimeout(function(){d.stopTracking(!1)},b)}return a}();a=function(){function a(a){this.$1=new Map(),this.$2=a}var c=a.prototype;c.waitForAck=function(a,c){var e,f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:this.$2.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"ack_expected");e=this.$1;g.prev=2;g.next=5;return b("regeneratorRuntime").awrap(new(h||(h=b("Promise")))(function(b,d){e.set(a,new i(a,c,b))}));case 5:f=g.sent;f===!0?this.$2.logEvent(d("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"Received ACK","sendId:"+a,!0):(this.$2.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"ack_timeout"),this.$2.logWarn(d("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"ACK timeout","Request "+a+" timed out after "+c+"ms"));e["delete"](a);return g.abrupt("return",f);case 11:g.prev=11;g.t0=g["catch"](2);this.$2.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"ack_error");e["delete"](a);throw g.t0;case 16:case"end":return g.stop()}},null,this,[[2,11]])};c.handleAckReceived=function(a){this.$2.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"ack_received");var b=this.$1.get(a);if(b===void 0){this.$2.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"ack_received.not_tracked");this.$2.logWarn(d("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"untracked ACK","Received ACK for ackId "+a+" which was not being tracked");return}b.handleAckReceived()};c.clearPendingAcks=function(){var a=this;this.$2.logEvent(d("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"Clearing pending acks","ACKs cleared size: "+this.$1.size);this.$1.forEach(function(b,c,e){a.$2.logEvent(d("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"Clearing pending ACK with ackId "+b.sendId,null,!0),b.stopTracking(!1),e["delete"](c)})};return a}();g.DGWAckManager=a}),98);
__d("DGWAuth",["$InternalEnum","err"],(function(a,b,c,d,e,f,g){"use strict";var h=b("$InternalEnum")({TEST:"0:0",FACEBOOK:"1:0",INTERNALFB:"2:0",OCULUS:"3:0",ENTERPRISEFB:"7:0",RECRUITINGFB:"8:0",INSTAGRAM:"6:0",HORIZON_WEB:"12:0",SPARK_WEB:"13:0",ABRA:"15:0"});function a(a){if(a==="TEST")return h.TEST;else if(a==="FACEBOOK")return h.FACEBOOK;else if(a==="INTERNALFB")return h.INTERNALFB;else if(a==="OCULUS")return h.OCULUS;else if(a==="ENTERPRISEFB")return h.ENTERPRISEFB;else if(a==="RECRUITINGFB")return h.RECRUITINGFB;else if(a==="INSTAGRAM")return h.INSTAGRAM;else if(a==="HORIZON_WEB")return h.HORIZON_WEB;else if(a==="SPARK_WEB")return h.SPARK_WEB;else if(a==="ABRA")return h.ABRA;else throw c("err")("failed to convert string ("+a+") to DGWAuth Type")}function d(a){if(a===h.FACEBOOK)return"FACEBOOK";else if(a===h.INTERNALFB)return"INTERNALFB";else if(a===h.OCULUS)return"OCULUS";else if(a===h.ENTERPRISEFB)return"ENTERPRISEFB";else if(a===h.RECRUITINGFB)return"RECRUITINGFB";else if(a===h.INSTAGRAM)return"INSTAGRAM";else if(a===h.HORIZON_WEB)return"HORIZON_WEB";else if(a===h.SPARK_WEB)return"SPARK_WEB";else if(a===h.ABRA)return"ABRA";else return"TEST"}g.DGWAuth=h;g.fromStringToDGWAuth=a;g.fromDGWAuthToString=d}),98);
__d("DGWStream",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";var g=b("$InternalEnum").Mirrored(["ABNORMAL_CLOSURE","GOING_AWAY","SERVER_INTERNAL_ERROR","PREMATURE_CLOSE","UNKNOWN_ERROR","KEEPALIVE_TIMEOUT","TRANSPORT_CLOSED_BEFORE_STREAM_INIT","ESTABLISHMENT_TIMEOUT","UNAUTHENTICATED","UNAUTHORIZED","REJECTED","BAD_REQUEST","DGW_SERVER_ERROR","ESTABLISHMENT_ERROR"]);function a(a){switch(a){case g.UNAUTHENTICATED:case g.UNAUTHORIZED:case g.REJECTED:case g.BAD_REQUEST:case g.UNKNOWN_ERROR:case g.SERVER_INTERNAL_ERROR:return!1;default:return!0}}f.StreamError=g;f.isRetryableError=a}),66);
__d("DGWCppBridge",[],(function(l,m,n,o,p,q){var r=function(){var l=typeof document!=="undefined"&&document.currentScript?document.currentScript.src:void 0;return function(m){m=m||{};var m=typeof m!=="undefined"?m:{},n=function(){function m(){}function n(l,m){return function(){l.apply(m,arguments)}}function l(m){if(!(this instanceof l))throw new TypeError("Promises must be constructed via new");if(typeof m!=="function")throw new TypeError("not a function");this._state=0;this._handled=!1;this._value=void 0;this._deferreds=[];t(m,this)}function o(m,n){while(m._state===3)m=m._value;if(m._state===0){m._deferreds.push(n);return}m._handled=!0;l._immediateFn(function(){var l=m._state===1?n.onFulfilled:n.onRejected;if(l===null){(m._state===1?p:q)(n.promise,m._value);return}var o;try{o=l(m._value)}catch(l){q(n.promise,l);return}p(n.promise,o)})}function p(m,o){try{if(o===m)throw new TypeError("A promise cannot be resolved with itself.");if(o&&(typeof o==="object"||typeof o==="function")){var p=o.then;if(o instanceof l){m._state=3;m._value=o;r(m);return}else if(typeof p==="function"){t(n(p,o),m);return}}m._state=1;m._value=o;r(m)}catch(l){q(m,l)}}function q(l,m){l._state=2,l._value=m,r(l)}function r(m){m._state===2&&m._deferreds.length===0&&l._immediateFn(function(){m._handled||l._unhandledRejectionFn(m._value)});for(var n=0,p=m._deferreds.length;n<p;n++)o(m,m._deferreds[n]);m._deferreds=null}function s(l,m,n){this.onFulfilled=typeof l==="function"?l:null,this.onRejected=typeof m==="function"?m:null,this.promise=n}function t(l,m){var n=!1;try{l(function(l){if(n)return;n=!0;p(m,l)},function(l){if(n)return;n=!0;q(m,l)})}catch(l){if(n)return;n=!0;q(m,l)}}l.prototype["catch"]=function(l){return this.then(null,l)};l.prototype.then=function(l,n){var p=new this.constructor(m);o(this,new s(l,n,p));return p};l.all=function(m){return new l(function(l,n){if(!Array.isArray(m))return n(new TypeError("Promise.all accepts an array"));var o=Array.prototype.slice.call(m);if(o.length===0)return l([]);var p=o.length;function q(m,r){try{if(r&&(typeof r==="object"||typeof r==="function")){var s=r.then;if(typeof s==="function"){s.call(r,function(l){q(m,l)},n);return}}o[m]=r;--p===0&&l(o)}catch(l){n(l)}}for(var r=0;r<o.length;r++)q(r,o[r])})};l.resolve=function(m){return m&&typeof m==="object"&&m.constructor===l?m:new l(function(l){l(m)})};l.reject=function(m){return new l(function(l,n){n(m)})};l.race=function(m){return new l(function(n,o){if(!Array.isArray(m))return o(new TypeError("Promise.race accepts an array"));for(var p=0,q=m.length;p<q;p++)l.resolve(m[p]).then(n,o)})};l._immediateFn=typeof setImmediate==="function"&&function(l){setImmediate(l)}||function(l){setTimeout(l,0)};l._unhandledRejectionFn=function(l){typeof console!=="undefined"&&console};return l}(),o,s;m.ready=new n(function(l,m){o=l,s=m});var t={},u;for(u in m)Object.prototype.hasOwnProperty.call(m,u)&&(t[u]=m[u]);var v=[];(function(l,m){throw m});var w=!0,x=!1,y="";function z(l){return m.locateFile?m.locateFile(l,y):y+l}var A;(w||x)&&(x?y=self.location.href:typeof document!=="undefined"&&document.currentScript&&(y=document.currentScript.src),l&&(y=l),y.indexOf("blob:")!==0?y=y.substr(0,y.lastIndexOf("/")+1):y="",(function(l){try{var m=new XMLHttpRequest();m.open("GET",l,!1);m.send(null);return m.responseText}catch(n){m=ga(l);if(m)return fa(m);throw n}},x&&(A=function(l){try{var m=new XMLHttpRequest();m.open("GET",l,!1);m.responseType="arraybuffer";m.send(null);return new Uint8Array(m.response)}catch(n){m=ga(l);if(m)return m;throw n}}),function(l,m,n){var o=new XMLHttpRequest();o.open("GET",l,!0);o.responseType="arraybuffer";o.onload=function(){if(o.status==200||o.status==0&&o.response){m(o.response);return}var p=ga(l);if(p){m(p.buffer);return}n()};o.onerror=n;o.send(null)}),function(l){document.title=l});m.print||emptyFunction.bind(console);var B=m.printErr||emptyFunction.bind(console);for(u in t)Object.prototype.hasOwnProperty.call(t,u)&&(m[u]=t[u]);t=null;m.arguments&&(v=m.arguments);m.thisProgram&&m.thisProgram;m.quit&&m.quit;var C;m.wasmBinary&&(C=m.wasmBinary);m.noExitRuntime||!0;var D={Memory:function(l){this.buffer=new ArrayBuffer(l.initial*65536)},Module:function(l){},Instance:function(l,m){this.exports=function(l){function m(l){l.set=function(l,m){this[l]=m};l.get=function(l){return this[l]};return l}var n,o=new Uint8Array(123);for(var p=25;p>=0;--p)o[48+p]=52+p,o[65+p]=p,o[97+p]=26+p;o[43]=62;o[47]=63;function q(m,n,p){var q,r,l=0,s=n,t=p.length;n=n+(t*3>>2)-(p[t-2]=="=")-(p[t-1]=="=");for(;l<t;l+=4)q=o[p.charCodeAt(l+1)],r=o[p.charCodeAt(l+2)],m[s++]=o[p.charCodeAt(l)]<<2|q>>4,s<n&&(m[s++]=q<<4|r>>2),s<n&&(m[s++]=r<<6|o[p.charCodeAt(l+3)])}function r(l){q(n,1024,"U3Q5dHlwZV9pbmZvAAAAAOAEAAAABAAATjEwX19jeHhhYml2MTE2X19zaGltX3R5cGVfaW5mb0UAAAAACAUAABgEAAAQBAAATjEwX19jeHhhYml2MTE3X19jbGFzc190eXBlX2luZm9FAAAACAUAAEgEAAA8BAAATjEwX19jeHhhYml2MTE3X19wYmFzZV90eXBlX2luZm9FAAAACAUAAHgEAAA8BAAATjEwX19jeHhhYml2MTE5X19wb2ludGVyX3R5cGVfaW5mb0UACAUAAKgEAACcBAAAAAAAAGwEAAABAAAAAgAAAAMAAAAEAAAABQAAAAYAAAAHAAAACAAAAAAAAABQBQAAAQAAAAkAAAADAAAABAAAAAUAAAAKAAAACwAAAAwAAABOMTBfX2N4eGFiaXYxMjBfX3NpX2NsYXNzX3R5cGVfaW5mb0UAAAAACAUAACgFAABsBA=="),q(n,1372,"gAkQ")}function s(l){var o=l.a,p=o.buffer;o.grow=xa;var q=new Int8Array(p),s=new Int16Array(p),t=new Int32Array(p),u=new Uint8Array(p),v=new Uint16Array(p),w=new Uint32Array(p);new Float32Array(p);new Float64Array(p);var x=Math.imul;Math.fround;Math.abs;var y=Math.clz32;Math.min;Math.max;Math.floor;Math.ceil;Math.trunc;Math.sqrt;l.abort;NaN;Infinity;var z=l.b,A=1051008,B;function C(o,p,l,r,m,n){o=o|0;p=p|0;l=l|0;r=r|0;m=m|0;n=n|0;var y=0,z=0,B;y=A-80|0;A=y;t[y+72>>2]=o;t[y+68>>2]=p;t[y+64>>2]=l;t[y+60>>2]=r;t[y+56>>2]=m;t[y+52>>2]=n;a:{if(t[y+52>>2]?!t[y+56>>2]|(!t[y+72>>2]|!t[y+68>>2]|(!t[y+64>>2]|!t[y+60>>2])):1){t[y+76>>2]=5;break a}t[t[y+64>>2]>>2]=0;t[t[y+60>>2]>>2]=0;p=t[y+68>>2];l=t[y+56>>2];r=t[y+52>>2];o=A+-64|0;A=o;t[o+56>>2]=t[y+72>>2];t[o+52>>2]=p;t[o+48>>2]=l;t[o+44>>2]=r;t[o+40>>2]=0;t[o+36>>2]=t[o+56>>2];b:{c:{d:{while(1){if(!t[o+52>>2])break c;t[o+32>>2]=t[o+36>>2];q[o+31|0]=u[t[o+36>>2]];t[o+52>>2]=t[o+52>>2]-1;t[o+36>>2]=t[o+36>>2]+1;if(u[o+31|0]!=10?u[o+31|0]==2|u[o+31|0]==4|u[o+31|0]==9:1){t[o+40>>2]=t[o+40>>2]+1;continue}t[o+24>>2]=1;if(V(u[o+31|0])&1){z=o,B=X(u[o+31|0])&1,q[z+23|0]=B;t[o+16>>2]=q[o+23|0]&1?1:2;if(w[o+52>>2]<w[o+16>>2]){t[t[o+48>>2]>>2]=t[o+32>>2];t[t[o+44>>2]>>2]=t[o+52>>2]+t[o+24>>2];break b}t[o+52>>2]=t[o+52>>2]-t[o+16>>2];t[o+24>>2]=t[o+16>>2]+t[o+24>>2];t[o+36>>2]=t[o+16>>2]+t[o+36>>2];if(!(u[o+31|0]!=14?u[o+31|0]!=8:0)){t[o+40>>2]=t[o+40>>2]+1;continue}}if(w[o+52>>2]<3)break d;t[o+12>>2]=0;p=t[o+36>>2];l=u[p|0]|u[p+1|0]<<8;q[o+12|0]=l;q[o+13|0]=l>>>8;q[o+14|0]=u[p+2|0];t[o+52>>2]=t[o+52>>2]-3;t[o+24>>2]=t[o+24>>2]+3;t[o+36>>2]=t[o+36>>2]+3;if(w[o+12>>2]<=w[o+52>>2]){t[o+40>>2]=t[o+40>>2]+1;t[o+36>>2]=t[o+12>>2]+t[o+36>>2];t[o+52>>2]=t[o+52>>2]-t[o+12>>2];continue}break}t[t[o+48>>2]>>2]=t[o+32>>2];t[t[o+44>>2]>>2]=t[o+52>>2]+t[o+24>>2];break b}t[t[o+48>>2]>>2]=t[o+32>>2];t[t[o+44>>2]>>2]=t[o+52>>2]+t[o+24>>2];break b}t[t[o+44>>2]>>2]=t[o+52>>2]}t[o+60>>2]=t[o+40>>2];A=o- -64|0;t[y+48>>2]=t[o+60>>2];if(!t[y+48>>2]){t[y+76>>2]=0;break a}z=y,B=D(x(t[y+48>>2],20)),t[z+44>>2]=B;if(!t[y+44>>2]){t[y+76>>2]=3;break a}t[y+40>>2]=t[y+44>>2];t[y+36>>2]=t[y+72>>2];t[y+32>>2]=t[y+68>>2]-t[t[y+52>>2]>>2];t[y+28>>2]=0;while(1){if(w[y+28>>2]<w[y+48>>2]){if(w[y+32>>2]<1){O(t[y+44>>2],t[y+28>>2]);t[y+76>>2]=1;break a}q[y+27|0]=u[t[y+36>>2]];t[y+36>>2]=t[y+36>>2]+1;t[y+32>>2]=t[y+32>>2]-1;e:{if(!u[y+27|0]|u[y+27|0]==1|(u[y+27|0]==2|u[y+27|0]==3)|(u[y+27|0]==4|u[y+27|0]==9|u[y+27|0]==10))break e;if(V(u[y+27|0])&1)break e;O(t[y+44>>2],t[y+28>>2]);t[y+76>>2]=6;break a}o=t[y+40>>2];t[o>>2]=u[y+27|0]&15|t[o>>2]&-16;f:{if(u[y+27|0]!=10?u[y+27|0]==2|u[y+27|0]==4|u[y+27|0]==9:1){o=t[y+40>>2];t[o>>2]=t[o>>2]&-268435441;t[y+40>>2]=t[y+40>>2]+20;break f}if(V(u[y+27|0])&1){o=A-48|0;A=o;t[o+40>>2]=t[y+40>>2];t[o+36>>2]=y+36;t[o+32>>2]=y+32;g:{if(!(V(t[t[o+40>>2]>>2]&15)&1)){t[o+44>>2]=1;break g}z=o,B=X(t[t[o+40>>2]>>2]&15)&1,q[z+31|0]=B;t[o+24>>2]=q[o+31|0]&1?1:2;if(w[t[o+32>>2]>>2]<w[o+24>>2]){t[o+44>>2]=1;break g}ba(t[o+40>>2]+4|0,t[t[o+36>>2]>>2],t[o+24>>2]);p=t[o+36>>2];t[p>>2]=t[o+24>>2]+t[p>>2];p=t[o+32>>2];t[p>>2]=t[p>>2]-t[o+24>>2];if((t[t[o+40>>2]>>2]&15)==8){p=t[o+40>>2];t[p>>2]=t[p>>2]&-268435441;t[o+44>>2]=0;break g}if((t[t[o+40>>2]>>2]&15)==14){p=t[o+40>>2];t[p>>2]=t[p>>2]&-268435441;t[o+44>>2]=0;break g}if(w[t[o+32>>2]>>2]<3){t[o+44>>2]=11;break g}t[o+20>>2]=0;p=t[t[o+36>>2]>>2];l=u[p|0]|u[p+1|0]<<8;q[o+20|0]=l;q[o+21|0]=l>>>8;q[o+22|0]=u[p+2|0];p=t[o+36>>2];t[p>>2]=t[p>>2]+3;p=t[o+32>>2];t[p>>2]=t[p>>2]-3;p=t[o+40>>2];t[p>>2]=t[p>>2]&-268435441|(t[o+20>>2]&16777215)<<4;if(w[t[o+32>>2]>>2]<w[o+20>>2]){t[o+44>>2]=11;break g}if((t[t[o+40>>2]>>2]&15)==15){t[t[o+40>>2]+12>>2]=t[o+20>>2];p=D(t[o+20>>2]);t[t[o+40>>2]+8>>2]=p;if(!t[t[o+40>>2]+8>>2]){t[o+44>>2]=3;break g}ba(t[t[o+40>>2]+8>>2],t[t[o+36>>2]>>2],t[o+20>>2]);p=t[o+36>>2];t[p>>2]=t[o+20>>2]+t[p>>2];p=t[o+32>>2];t[p>>2]=t[p>>2]-t[o+20>>2];t[o+44>>2]=0;break g}if((t[t[o+40>>2]>>2]&15)==5){t[t[o+40>>2]+12>>2]=t[o+20>>2];p=D(t[o+20>>2]);t[t[o+40>>2]+8>>2]=p;if(!t[t[o+40>>2]+8>>2]){t[o+44>>2]=3;break g}ba(t[t[o+40>>2]+8>>2],t[t[o+36>>2]>>2],t[o+20>>2]);p=t[o+36>>2];t[p>>2]=t[o+20>>2]+t[p>>2];p=t[o+32>>2];t[p>>2]=t[p>>2]-t[o+20>>2];t[o+44>>2]=0;break g}h:{if(!((t[t[o+40>>2]>>2]&15)!=6?(t[t[o+40>>2]>>2]&15)!=7:0)){z=o,B=Q(t[o+36>>2],t[o+32>>2],o+19|0,o+18|0),t[z+12>>2]=B;if(t[o+12>>2]){t[o+44>>2]=t[o+12>>2];break g}break h}if(!((t[t[o+40>>2]>>2]&15)!=13?(t[t[o+40>>2]>>2]&15)!=12:0)){l=t[o+32>>2];p=A-32|0;t[p+24>>2]=t[o+36>>2];t[p+20>>2]=l;t[p+16>>2]=o+19;t[p+12>>2]=o+16;s[p+10>>1]=0;i:{if(w[t[p+20>>2]>>2]<2){t[p+28>>2]=1;break i}l=t[t[p+24>>2]>>2];l=u[l|0]|u[l+1|0]<<8;q[p+10|0]=l;q[p+11|0]=l>>>8;l=t[p+24>>2];t[l>>2]=t[l>>2]+2;l=t[p+20>>2];t[l>>2]=t[l>>2]-2;q[t[p+16>>2]]=(v[p+10>>1]&32768)==32768;s[t[p+12>>2]>>1]=v[p+10>>1]&32767;t[p+28>>2]=0}t[o+12>>2]=t[p+28>>2];if(t[o+12>>2]){t[o+44>>2]=t[o+12>>2];break g}}}if((t[t[o+40>>2]>>2]&15)==12){p=t[o+40>>2];s[p+8>>1]=s[p+8>>1]&1|v[o+16>>1]<<1;t[o+44>>2]=0;break g}if((t[t[o+40>>2]>>2]&15)==7){p=t[o+40>>2];q[p+8|0]=q[p+8|0]&1|u[o+18|0]<<1;t[o+44>>2]=0;break g}if((t[t[o+40>>2]>>2]&15)==13){l=t[o+32>>2];r=t[o+20>>2];m=t[o+40>>2]+12|0;n=t[o+40>>2];p=A-32|0;A=p;t[p+24>>2]=t[o+36>>2];t[p+20>>2]=l;t[p+16>>2]=r;t[p+12>>2]=m;t[p+8>>2]=n+16;j:{if(w[p+16>>2]<2){t[p+28>>2]=9;break j}t[t[p+8>>2]>>2]=t[p+16>>2]-2;if(w[t[p+20>>2]>>2]<w[t[p+8>>2]>>2]){t[p+28>>2]=1;break j}l=D(t[t[p+8>>2]>>2]);t[t[p+12>>2]>>2]=l;if(!t[t[p+12>>2]>>2]){t[p+28>>2]=3;break j}ba(t[t[p+12>>2]>>2],t[t[p+24>>2]>>2],t[t[p+8>>2]>>2]);l=t[p+24>>2];t[l>>2]=t[t[p+8>>2]>>2]+t[l>>2];l=t[p+20>>2];t[l>>2]=t[l>>2]-t[t[p+8>>2]>>2];t[p+28>>2]=0}A=p+32|0;t[o+8>>2]=t[p+28>>2];if(t[o+8>>2]){t[o+44>>2]=t[o+8>>2];break g}p=t[o+40>>2];s[p+8>>1]=q[o+19|0]&1|v[p+8>>1]&65534;p=t[o+40>>2];s[p+8>>1]=s[p+8>>1]&1|v[o+16>>1]<<1;t[o+44>>2]=0;break g}if((t[t[o+40>>2]>>2]&15)==6){z=o,B=M(t[o+36>>2],t[o+32>>2],t[o+20>>2],t[o+40>>2]+12|0,t[o+40>>2]+16|0),t[z+4>>2]=B;if(t[o+4>>2]){t[o+44>>2]=t[o+4>>2];break g}p=t[o+40>>2];q[p+8|0]=q[o+19|0]&1|u[p+8|0]&254;p=t[o+40>>2];q[p+8|0]=q[p+8|0]&1|u[o+18|0]<<1;t[o+44>>2]=0;break g}t[o+44>>2]=1}A=o+48|0;t[y+20>>2]=t[o+44>>2];if(!t[y+20>>2]){t[y+40>>2]=t[y+40>>2]+20;break f}O(t[y+44>>2],t[y+28>>2]);t[y+76>>2]=t[y+20>>2];break a}t[y+16>>2]=0;if(w[y+32>>2]<3){O(t[y+44>>2],t[y+28>>2]);t[y+76>>2]=1;break a}o=t[y+36>>2];p=u[o|0]|u[o+1|0]<<8;q[y+16|0]=p;q[y+17|0]=p>>>8;q[y+18|0]=u[o+2|0];t[y+36>>2]=t[y+36>>2]+3;t[y+32>>2]=t[y+32>>2]-3;if(!(t[y+16>>2]==1|u[y+27|0]!=1)){O(t[y+44>>2],t[y+28>>2]);t[y+76>>2]=7;break a}o=t[y+40>>2];t[o>>2]=t[o>>2]&-268435441|(t[y+16>>2]&16777215)<<4;if(u[y+27|0]==3){if(t[y+16>>2]!=1){O(t[y+44>>2],t[y+28>>2]);t[y+76>>2]=10;break a}q[y+15|0]=0;if(w[y+32>>2]<1){J(t[y+44>>2]);t[y+76>>2]=1;break a}q[y+15|0]=u[t[y+36>>2]];t[y+36>>2]=t[y+36>>2]+1;t[y+32>>2]=t[y+32>>2]-1;k:{if(u[y+15|0]<=4){q[t[y+40>>2]+4|0]=u[y+15|0];break k}q[t[y+40>>2]+4|0]=4}t[y+40>>2]=t[y+40>>2]+20;break f}z=y,B=Q(y+36|0,y+32|0,y+14|0,y+13|0),t[z+8>>2]=B;if(t[y+8>>2]){O(t[y+44>>2],t[y+28>>2]);t[y+76>>2]=t[y+8>>2];break a}if(u[y+27|0]==1){o=t[y+40>>2];q[o+4|0]=q[o+4|0]&1|u[y+13|0]<<1;t[y+40>>2]=t[y+40>>2]+20;break f}if(!u[y+27|0]){z=y,B=M(y+36|0,y+32|0,t[y+16>>2],t[y+40>>2]+8|0,t[y+40>>2]+12|0),t[z+4>>2]=B;if(t[y+4>>2]){O(t[y+44>>2],t[y+28>>2]);t[y+76>>2]=t[y+4>>2];break a}o=t[y+40>>2];q[o+4|0]=q[y+14|0]&1|u[o+4|0]&254;o=t[y+40>>2];q[o+4|0]=q[o+4|0]&1|u[y+13|0]<<1;t[y+40>>2]=t[y+40>>2]+20}}t[y+28>>2]=t[y+28>>2]+1;continue}break}if(t[y+32>>2]){O(t[y+44>>2],t[y+48>>2]);t[y+76>>2]=1;break a}t[t[y+64>>2]>>2]=t[y+44>>2];t[t[y+60>>2]>>2]=t[y+48>>2];t[y+76>>2]=0}A=y+80|0;return t[y+76>>2]}function D(o){var q=0,l=0,r=0,m=0,n=0,s=0,u=0,v,w=0,x,p;w=8;a:{b:{if(o>>>0>4294967239)break b;while(1){w=w>>>0>8?w:8;l=t[603];n=l;m=t[602];u=m;o=o>>>0>8?o+3&-4:8;c:{if(o>>>0<=127){s=(o>>>3|0)-1|0;break c}r=y(o);s=((o>>>29-r^4)-(r<<2)|0)+110|0;if(o>>>0<=4095)break c;r=((o>>>30-r^2)-(r<<1)|0)+71|0;s=r>>>0<63?r:63}q=s;r=q&31;(q&63)>>>0>=32?(q=0,l=l>>>r|0):(q=l>>>r|0,l=((1<<r)-1&l)<<32-r|u>>>r);r=q;if(l|q){while(1){n=l;q=r;d:{if(q|l){m=q-1|0;v=m+1|0;u=m;m=l-1|0;u=(m|0)!=-1?v:u;m=y(l^m)+32|0;l=y(q^u);l=(l|0)==32?m:l;q=63-l|0;0-(l>>>0>63)|0;break d}q=64}m=q;q=m;l=q&31;(q&63)>>>0>=32?(q=0,u=r>>>l|0):(q=r>>>l|0,u=((1<<l)-1&r)<<32-l|n>>>l);r=q;s=m+s|0;n=s<<4;q=t[n+1384>>2];m=n+1376|0;e:{if((q|0)!=(m|0)){l=I(q,w,o);if(l)break b;l=t[q+4>>2];t[l+8>>2]=t[q+8>>2];t[t[q+8>>2]+4>>2]=l;t[q+8>>2]=m;l=n+1380|0;t[q+4>>2]=t[l>>2];t[l>>2]=q;t[t[q+4>>2]+8>>2]=q;s=s+1|0;l=(r&1)<<31|u>>>1;r=r>>>1|0;break e}x=t[603];q=s;v=q&63;l=v;n=l&31;l>>>0>=32?(l=0,m=-1>>>n|0):(l=-1>>>n|0,m=(1<<n)-1<<32-n|-1>>>n);m=m&-2;n=v&31;v>>>0>=32?(l=m<<n,v=0):(l=(1<<n)-1&m>>>32-n|l<<n,v=m<<n);n=l;m=0-q&63;l=m;q=l&31;l>>>0>=32?(l=-1<<q,q=0):(l=(1<<q)-1&-1>>>32-q|-1<<q,q=-1<<q);p=q&-2;q=m&31;m>>>0>=32?(m=0,q=l>>>q|0):(m=l>>>q|0,q=((1<<q)-1&l)<<32-q|p>>>q);l=q|v;B=n|m;t[602]=t[602]&l;t[603]=B&x;l=u^1}if(l|r)continue;break}m=t[602];n=t[603]}f:{if(n|m){r=y(n);r=63-((r|0)==32?y(m)+32|0:r)<<4;q=r+1376|0;r=t[r+1384>>2];g:{if(!n&m>>>0<1073741824)break g;s=98;if((q|0)==(r|0))break g;while(1){l=I(r,w,o);if(l)break b;r=t[r+8>>2];if(!s)break g;s=s-1|0;if((q|0)!=(r|0))continue;break}}if(G(o+48|0))break f;if(!r|(q|0)==(r|0))break a;while(1){l=I(r,w,o);if(l)break b;r=t[r+8>>2];if((q|0)!=(r|0))continue;break}break a}if(!G(o+48|0))break a}l=0;if(o>>>0>4294967239)break b;r=w;q=0;while(1){s=q;if(r){r=r-1&r;q=q+1|0;continue}break}if(s>>>0<=1)continue;break}}return l}return 0}function E(o,p,l,r,m,n,x){o=o|0;p=p|0;l=l|0;r=r|0;m=m|0;n=n|0;x=x|0;var y=0,z=0;y=A-32|0;A=y;s[y+26>>1]=o;t[y+20>>2]=p;t[y+16>>2]=l;q[y+15|0]=r;s[y+12>>1]=m;t[y+8>>2]=n;t[y+4>>2]=x;a:{if(!(!(q[y+15|0]&1)|v[y+12>>1]<=32767)){t[y+28>>2]=4;break a}p=t[y+20>>2];l=t[y+16>>2];r=t[y+8>>2];m=t[y+4>>2];n=q[y+15|0]&1;o=A+-64|0;A=o;t[o+56>>2]=y+26;t[o+52>>2]=p;t[o+48>>2]=l;t[o+44>>2]=r;t[o+40>>2]=m;q[o+39|0]=2;q[o+38|0]=13;t[o+32>>2]=y+12;q[o+31|0]=n;q[o+30|0]=2;b:{c:{if(!(!t[o+52>>2]|(!t[o+44>>2]|!t[o+40>>2]))&&w[o+48>>2]<=16777215)break c;t[o+60>>2]=5;break b}t[o+24>>2]=t[o+48>>2]+(u[o+39|0]+(u[o+30|0]+4|0)|0);z=o,x=D(t[o+24>>2]),t[z+20>>2]=x;if(!t[o+20>>2]){t[o+60>>2]=3;break b}t[o+16>>2]=t[o+20>>2];q[t[o+16>>2]]=u[o+38|0];t[o+16>>2]=t[o+16>>2]+1;ba(t[o+16>>2],t[o+56>>2],u[o+30|0]);t[o+16>>2]=u[o+30|0]+t[o+16>>2];t[o+12>>2]=u[o+39|0]+t[o+48>>2];if(w[o+12>>2]<w[o+48>>2]){J(t[o+20>>2]);t[o+60>>2]=9;break b}p=t[o+16>>2];l=u[o+12|0]|u[o+13|0]<<8;q[p|0]=l;q[p+1|0]=l>>>8;q[p+2|0]=u[o+14|0];t[o+16>>2]=t[o+16>>2]+3;if(q[o+31|0]&1)d:{if(u[o+38|0]==6){p=t[o+32>>2];q[p|0]=u[p|0]|128;break d}e:{if(u[o+38|0]==13){p=t[o+32>>2];s[p>>1]=v[p>>1]|32768;break e}J(t[o+20>>2]);t[o+60>>2]=1;break b}}ba(t[o+16>>2],t[o+32>>2],u[o+39|0]);t[o+16>>2]=u[o+39|0]+t[o+16>>2];ba(t[o+16>>2],t[o+52>>2],t[o+48>>2]);t[t[o+44>>2]>>2]=t[o+20>>2];t[t[o+40>>2]>>2]=t[o+24>>2];t[o+60>>2]=0}A=o- -64|0;t[y+28>>2]=t[o+60>>2]}A=y+32|0;return t[y+28>>2]}function F(o,p,l,r,m){o=o|0;p=p|0;l=l|0;r=r|0;m=m|0;var n=0,v=0;n=A-32|0;A=n;s[n+30>>1]=o;t[n+24>>2]=p;t[n+20>>2]=l;t[n+16>>2]=r;t[n+12>>2]=m;p=t[n+24>>2];l=t[n+20>>2];r=t[n+16>>2];m=t[n+12>>2];o=A-48|0;A=o;t[o+40>>2]=n+30;t[o+36>>2]=p;t[o+32>>2]=l;t[o+28>>2]=r;t[o+24>>2]=m;q[o+23|0]=2;q[o+22|0]=15;a:{if(!(t[o+24>>2]?t[o+28>>2]:0)){t[o+44>>2]=5;break a}t[t[o+28>>2]>>2]=0;t[t[o+24>>2]>>2]=0;if(!(w[o+32>>2]<=16777215?t[o+36>>2]:0)){t[o+44>>2]=5;break a}t[o+16>>2]=t[o+32>>2]+(u[o+23|0]+4|0);v=o,r=D(t[o+16>>2]),t[v+12>>2]=r;if(!t[o+12>>2]){t[o+44>>2]=3;break a}t[o+8>>2]=t[o+12>>2];q[t[o+8>>2]]=u[o+22|0];t[o+8>>2]=t[o+8>>2]+1;ba(t[o+8>>2],t[o+40>>2],u[o+23|0]);t[o+8>>2]=u[o+23|0]+t[o+8>>2];p=t[o+8>>2];l=u[o+32|0]|u[o+33|0]<<8;q[p|0]=l;q[p+1|0]=l>>>8;q[p+2|0]=u[o+34|0];t[o+8>>2]=t[o+8>>2]+3;ba(t[o+8>>2],t[o+36>>2],t[o+32>>2]);t[o+8>>2]=t[o+32>>2]+t[o+8>>2];t[t[o+28>>2]>>2]=t[o+12>>2];t[t[o+24>>2]>>2]=t[o+16>>2];t[o+44>>2]=0}A=o+48|0;A=n+32|0;return t[o+44>>2]}function G(o){var p=0,l,r=0,m=0,n,s=0;r=t[343];l=o+3&-4;p=r+l|0;a:{b:{if(p>>>0<=r>>>0?l:0)break b;if(p>>>0>wa()<<16>>>0&&!(z(p|0)|0))break b;t[343]=p;break a}t[604]=48;r=-1}if((r|0)!=-1){l=o+r|0;p=l-16|0;t[p+12>>2]=16;t[p>>2]=16;o=t[600];o?s=t[o+8>>2]:s=0;c:{d:{if((s|0)==(r|0)){m=r-(t[r-4>>2]&-2)|0;n=t[m-4>>2];t[o+8>>2]=l;o=m-(n&-2)|0;l=-16;if(!(q[(o+t[o>>2]|0)-4|0]&1))break d;l=t[o+4>>2];t[l+8>>2]=t[o+8>>2];t[t[o+8>>2]+4>>2]=l;p=p-o|0;t[o>>2]=p;break c}t[r+12>>2]=16;t[r>>2]=16;t[r+8>>2]=l;t[r+4>>2]=o;t[600]=r;l=16}o=r+l|0;p=p-o|0;t[o>>2]=p}t[((p&-4)+o|0)-4>>2]=p|1;s=o;m=t[o>>2]-8|0;e:{if(m>>>0<=127){p=(m>>>3|0)-1|0;break e}n=y(m);p=((m>>>29-n^4)-(n<<2)|0)+110|0;if(m>>>0<=4095)break e;p=((m>>>30-n^2)-(n<<1)|0)+71|0;p=p>>>0<63?p:63}l=p<<4;t[s+4>>2]=l+1376;l=l+1384|0;t[o+8>>2]=t[l>>2];t[l>>2]=o;t[t[o+8>>2]+4>>2]=o;l=t[603];o=p&31;(p&63)>>>0>=32?(p=1<<o,o=0):(p=(1<<o)-1&1>>>32-o,o=1<<o);t[602]=o|t[602];t[603]=p|l}return(r|0)!=-1}function la(o,p,l,r){o=o|0;p=p|0;l=l|0;r=r|0;var m=0,n=0;m=A-16|0;A=m;s[m+10>>1]=o;s[m+8>>1]=p;t[m+4>>2]=l;t[m>>2]=r;a:{if(v[m+8>>1]>32767){t[m+12>>2]=4;break a}p=t[m+4>>2];l=t[m>>2];o=A-48|0;A=o;t[o+40>>2]=m+10;t[o+36>>2]=p;t[o+32>>2]=l;q[o+31|0]=2;q[o+30|0]=12;t[o+24>>2]=m+8;q[o+23|0]=2;b:{if(!(t[o+32>>2]?t[o+36>>2]:0)){t[o+44>>2]=5;break b}t[o+16>>2]=u[o+31|0]+(u[o+23|0]+4|0);n=o,r=D(t[o+16>>2]),t[n+12>>2]=r;if(!t[o+12>>2]){t[o+44>>2]=3;break b}t[o+8>>2]=t[o+12>>2];q[t[o+8>>2]]=u[o+30|0];t[o+8>>2]=t[o+8>>2]+1;ba(t[o+8>>2],t[o+40>>2],u[o+23|0]);t[o+8>>2]=u[o+23|0]+t[o+8>>2];t[o+4>>2]=u[o+31|0];p=t[o+8>>2];l=u[o+4|0]|u[o+5|0]<<8;q[p|0]=l;q[p+1|0]=l>>>8;q[p+2|0]=u[o+6|0];t[o+8>>2]=t[o+8>>2]+3;ba(t[o+8>>2],t[o+24>>2],u[o+31|0]);t[t[o+32>>2]>>2]=t[o+16>>2];t[t[o+36>>2]>>2]=t[o+12>>2];t[o+44>>2]=0}A=o+48|0;t[m+12>>2]=t[o+44>>2]}A=m+16|0;return t[m+12>>2]}function H(o,p,l){o=o|0;p=p|0;l=l|0;var q=0,m=0,n=0,r=0,s=0;n=A+-64|0;A=n;m=1;a:{if(R(o,p,0))break a;m=0;if(!p)break a;q=A+-64|0;A=q;m=t[p>>2];r=t[m-4>>2];s=t[m-8>>2];t[q+20>>2]=0;t[q+16>>2]=1084;t[q+12>>2]=p;t[q+8>>2]=1132;m=0;ca(q+24|0,39);p=p+s|0;b:{if(R(r,1132,0)){t[q+56>>2]=1;ka[t[t[r>>2]+20>>2]](r,q+8|0,p,p,1,0);m=t[q+32>>2]==1?p:0;break b}ka[t[t[r>>2]+24>>2]](r,q+8|0,p,1,0);c:switch(t[q+44>>2]){case 0:m=t[q+48>>2]==1?t[q+36>>2]==1?t[q+40>>2]==1?t[q+28>>2]:0:0:0;break b;case 1:break c;default:break b}if(t[q+48>>2]|t[q+36>>2]!=1|t[q+40>>2]!=1?t[q+32>>2]!=1:0)break b;m=t[q+24>>2]}A=q- -64|0;p=m;m=0;if(!p)break a;ca(n+8|4,52);t[n+56>>2]=1;t[n+20>>2]=-1;t[n+16>>2]=o;t[n+8>>2]=p;ka[t[t[p>>2]+28>>2]](p,n+8|0,t[l>>2],1);o=t[n+32>>2];(o|0)==1&&(t[l>>2]=t[n+24>>2]);m=(o|0)==1}o=m;A=n- -64|0;return o|0}function I(o,p,l){var q=0,m,n=0,r=0;q=o+4|0;m=(q+p|0)-1&0-p;p=t[o>>2];if(m+l>>>0<=(p+o|0)-4>>>0){n=t[o+4>>2];t[n+8>>2]=t[o+8>>2];t[t[o+8>>2]+4>>2]=n;(q|0)!=(m|0)&&(m=m-q|0,n=o-(t[o-4>>2]&-2)|0,q=m+t[n>>2]|0,t[n>>2]=q,t[(n+(q&-4)|0)-4>>2]=q,o=o+m|0,p=p-m|0,t[o>>2]=p);a:{if(l+24>>>0<=p>>>0){q=(o+l|0)+8|0;p=(p-l|0)-8|0;t[q>>2]=p;t[(q+(p&-4)|0)-4>>2]=p|1;r=q;n=t[q>>2]-8|0;b:{if(n>>>0<=127){m=(n>>>3|0)-1|0;break b}p=y(n);m=((n>>>29-p^4)-(p<<2)|0)+110|0;if(n>>>0<=4095)break b;p=((n>>>30-p^2)-(p<<1)|0)+71|0;m=p>>>0<63?p:63}p=m;m=p<<4;t[r+4>>2]=m+1376;m=m+1384|0;t[q+8>>2]=t[m>>2];t[m>>2]=q;t[t[q+8>>2]+4>>2]=q;m=t[603];q=p&31;(p&63)>>>0>=32?(p=1<<q,r=0):(p=(1<<q)-1&1>>>32-q,r=1<<q);t[602]=r|t[602];t[603]=p|m;p=l+8|0;t[o>>2]=p;t[((p&-4)+o|0)-4>>2]=p;break a}t[(o+p|0)-4>>2]=p}o=o+4|0}else o=0;return o}function J(o){var p=0,l,q=0,m,n=0;if(o){l=o-4|0;m=t[l>>2];q=m;p=l;n=t[o-8>>2];o=n&-2;(o|0)!=(n|0)&&(p=l-o|0,q=t[p+4>>2],t[q+8>>2]=t[p+8>>2],t[t[p+8>>2]+4>>2]=q,q=o+m|0);o=l+m|0;l=t[o>>2];(l|0)!=t[(o+l|0)-4>>2]&&(m=t[o+4>>2],t[m+8>>2]=t[o+8>>2],t[t[o+8>>2]+4>>2]=m,q=q+l|0);t[p>>2]=q;t[((q&-4)+p|0)-4>>2]=q|1;n=p;q=t[p>>2]-8|0;a:{if(q>>>0<=127){o=(q>>>3|0)-1|0;break a}m=y(q);o=((q>>>29-m^4)-(m<<2)|0)+110|0;if(q>>>0<=4095)break a;o=((q>>>30-m^2)-(m<<1)|0)+71|0;o=o>>>0<63?o:63}l=o<<4;t[n+4>>2]=l+1376;l=l+1384|0;t[p+8>>2]=t[l>>2];t[l>>2]=p;t[t[p+8>>2]+4>>2]=p;l=t[603];p=o&31;(o&63)>>>0>=32?(o=1<<p,p=0):(o=(1<<p)-1&1>>>32-p,p=1<<p);t[602]=p|t[602];t[603]=o|l}}function K(n,o,l){n=n|0;o=o|0;l=l|0;var p=0,m=0;p=A-48|0;A=p;t[p+40>>2]=n;t[p+36>>2]=o;t[p+32>>2]=l;a:{if(!(t[p+32>>2]?t[p+36>>2]:0)){t[p+44>>2]=5;break a}if(w[p+40>>2]>4){t[p+44>>2]=8;break a}t[p+28>>2]=5;m=p,l=D(t[p+28>>2]),t[m+24>>2]=l;if(!t[p+24>>2]){t[p+44>>2]=3;break a}t[p+20>>2]=t[p+24>>2];q[p+19|0]=3;q[t[p+20>>2]]=u[p+19|0];t[p+20>>2]=t[p+20>>2]+1;t[p+12>>2]=1;n=t[p+20>>2];o=u[p+12|0]|u[p+13|0]<<8;q[n|0]=o;q[n+1|0]=o>>>8;q[n+2|0]=u[p+14|0];t[p+20>>2]=t[p+20>>2]+3;q[p+11|0]=t[p+40>>2];q[t[p+20>>2]]=u[p+11|0];t[t[p+36>>2]>>2]=t[p+24>>2];t[t[p+32>>2]>>2]=t[p+28>>2];t[p+44>>2]=0}A=p+48|0;return t[p+44>>2]}function L(n,o,l,p,m){n=n|0;o=o|0;l=l|0;p=p|0;m=m|0;if(R(n,t[o+8>>2],m)){da(o,l,p);return}a:{if(R(n,t[o>>2],m)){if(!(t[o+20>>2]!=(l|0)?t[o+16>>2]!=(l|0):0)){if((p|0)!=1)break a;t[o+32>>2]=1;return}t[o+32>>2]=p;b:{if(t[o+44>>2]==4)break b;s[o+52>>1]=0;n=t[n+8>>2];ka[t[t[n>>2]+20>>2]](n,o,l,l,1,m);if(u[o+53|0]){t[o+44>>2]=3;if(!u[o+52|0])break b;break a}t[o+44>>2]=4}t[o+20>>2]=l;t[o+40>>2]=t[o+40>>2]+1;if(t[o+36>>2]!=1|t[o+24>>2]!=2)break a;q[o+54|0]=1;return}n=t[n+8>>2];ka[t[t[n>>2]+24>>2]](n,o,l,p,m)}}function M(o,p,l,q,m){var n=0;n=A-32|0;A=n;t[n+24>>2]=o;t[n+20>>2]=p;t[n+16>>2]=l;t[n+12>>2]=q;t[n+8>>2]=m;a:{if(w[n+16>>2]<1){t[n+28>>2]=9;break a}t[t[n+8>>2]>>2]=t[n+16>>2]-1;if(w[t[n+20>>2]>>2]<w[t[n+8>>2]>>2]){t[n+28>>2]=1;break a}o=D(t[t[n+8>>2]>>2]);t[t[n+12>>2]>>2]=o;if(!t[t[n+12>>2]>>2]){t[n+28>>2]=3;break a}ba(t[t[n+12>>2]>>2],t[t[n+24>>2]>>2],t[t[n+8>>2]>>2]);o=t[n+24>>2];t[o>>2]=t[t[n+8>>2]>>2]+t[o>>2];o=t[n+20>>2];t[o>>2]=t[o>>2]-t[t[n+8>>2]>>2];t[n+28>>2]=0}A=n+32|0;return t[n+28>>2]}function N(n,o,l){n=n|0;o=o|0;l=l|0;var p=0,m=0;p=A-32|0;A=p;s[p+26>>1]=n;t[p+20>>2]=o;t[p+16>>2]=l;t[t[p+16>>2]>>2]=3;m=p,l=D(t[t[p+16>>2]>>2]),t[m+12>>2]=l;a:{if(!t[p+12>>2]){t[p+28>>2]=3;break a}t[t[p+20>>2]>>2]=t[p+12>>2];q[p+11|0]=14;q[t[p+12>>2]]=u[p+11|0];t[p+12>>2]=t[p+12>>2]+1;n=t[p+12>>2];o=u[p+26|0]|u[p+27|0]<<8;q[n|0]=o;q[n+1|0]=o>>>8;t[p+28>>2]=0}A=p+32|0;return t[p+28>>2]}function O(m,n){var l=0;l=A-16|0;A=l;t[l+12>>2]=m;t[l+8>>2]=n;t[l+4>>2]=0;while(1){if(w[l+4>>2]<w[l+8>>2]){t[l>>2]=t[l+12>>2]+x(t[l+4>>2],20);a:{if(!(t[t[l>>2]>>2]&15)){J(t[t[l>>2]+8>>2]);break a}b:{if((t[t[l>>2]>>2]&15)==5){J(t[t[l>>2]+8>>2]);break b}(t[t[l>>2]>>2]&15)==6&&J(t[t[l>>2]+12>>2])}}t[l+4>>2]=t[l+4>>2]+1;continue}break}J(t[l+12>>2]);A=l+16|0}function P(m,n,l,o){q[m+53|0]=1;a:{if(t[m+4>>2]!=(l|0))break a;q[m+52|0]=1;l=t[m+16>>2];if(!l){t[m+36>>2]=1;t[m+24>>2]=o;t[m+16>>2]=n;if((o|0)!=1|t[m+48>>2]!=1)break a;q[m+54|0]=1;return}if((n|0)==(l|0)){l=t[m+24>>2];(l|0)==2&&(t[m+24>>2]=o,l=o);if(t[m+48>>2]!=1|(l|0)!=1)break a;q[m+54|0]=1;return}q[m+54|0]=1;t[m+36>>2]=t[m+36>>2]+1}}function Q(n,o,l,p){var m;m=A-32|0;t[m+24>>2]=n;t[m+20>>2]=o;t[m+16>>2]=l;t[m+12>>2]=p;q[m+11|0]=0;a:{if(w[t[m+20>>2]>>2]<1){t[m+28>>2]=1;break a}q[m+11|0]=u[t[t[m+24>>2]>>2]];n=t[m+24>>2];t[n>>2]=t[n>>2]+1;n=t[m+20>>2];t[n>>2]=t[n>>2]-1;q[t[m+16>>2]]=(u[m+11|0]&128)==128;q[t[m+12>>2]]=u[m+11|0]&127;t[m+28>>2]=0}return t[m+28>>2]}function ma(n,o,l,p,m){n=n|0;o=o|0;l=l|0;p=p|0;m=m|0;if(R(n,t[o+8>>2],m)){da(o,l,p);return}a:{if(!R(n,t[o>>2],m))break a;if(!(t[o+20>>2]!=(l|0)?t[o+16>>2]!=(l|0):0)){if((p|0)!=1)break a;t[o+32>>2]=1;return}t[o+20>>2]=l;t[o+32>>2]=p;t[o+40>>2]=t[o+40>>2]+1;t[o+36>>2]!=1|t[o+24>>2]!=2||(q[o+54|0]=1);t[o+44>>2]=4}}function R(m,n,l){var o;if(!l)return t[m+4>>2]==t[n+4>>2];if((m|0)==(n|0))return 1;l=t[m+4>>2];m=u[l|0];n=t[n+4>>2];o=u[n|0];a:{if(!m|(o|0)!=(m|0))break a;while(1){o=u[n+1|0];m=u[l+1|0];if(!m)break a;n=n+1|0;l=l+1|0;if((m|0)==(o|0))continue;break}}return(m|0)==(o|0)}function na(m,n){m=m|0;n=n|0;var l=0,o=0;l=A-32|0;A=l;t[l+24>>2]=m;t[l+20>>2]=n;o=l,m=D(1),t[o+16>>2]=m;a:{if(!t[l+16>>2]){t[l+28>>2]=3;break a}q[l+15|0]=9;q[t[l+16>>2]]=u[l+15|0];t[t[l+24>>2]>>2]=t[l+16>>2];t[t[l+20>>2]>>2]=1;t[l+28>>2]=0}A=l+32|0;return t[l+28>>2]}function S(m,n){m=m|0;n=n|0;var l=0,o=0;l=A-32|0;A=l;t[l+24>>2]=m;t[l+20>>2]=n;o=l,m=D(1),t[o+16>>2]=m;a:{if(!t[l+16>>2]){t[l+28>>2]=3;break a}q[l+15|0]=10;q[t[l+16>>2]]=u[l+15|0];t[t[l+24>>2]>>2]=t[l+16>>2];t[t[l+20>>2]>>2]=1;t[l+28>>2]=0}A=l+32|0;return t[l+28>>2]}function T(m,n){m=m|0;n=n|0;var l=0,o=0;l=A-32|0;A=l;t[l+24>>2]=m;t[l+20>>2]=n;o=l,m=D(1),t[o+16>>2]=m;a:{if(!t[l+16>>2]){t[l+28>>2]=3;break a}q[l+15|0]=2;q[t[l+16>>2]]=u[l+15|0];t[t[l+24>>2]>>2]=t[l+16>>2];t[t[l+20>>2]>>2]=1;t[l+28>>2]=0}A=l+32|0;return t[l+28>>2]}function U(m,n){m=m|0;n=n|0;var l=0,o=0;l=A-32|0;A=l;t[l+24>>2]=m;t[l+20>>2]=n;o=l,m=D(1),t[o+16>>2]=m;a:{if(!t[l+16>>2]){t[l+28>>2]=3;break a}q[l+15|0]=4;q[t[l+16>>2]]=u[l+15|0];t[t[l+24>>2]>>2]=t[l+16>>2];t[t[l+20>>2]>>2]=1;t[l+28>>2]=0}A=l+32|0;return t[l+28>>2]}function V(l){var m=0;m=A-16|0;A=m;t[m+12>>2]=l;l=1;a:{if(X(t[m+12>>2])&1)break a;l=1;if(t[m+12>>2]==15)break a;l=1;if(t[m+12>>2]==13)break a;l=1;if(t[m+12>>2]==12)break a;l=t[m+12>>2]==14}A=m+16|0;return l}function W(m,n,l){var o;o=t[m+16>>2];if(!o){t[m+36>>2]=1;t[m+24>>2]=l;t[m+16>>2]=n;return}a:{if((n|0)==(o|0)){if(t[m+24>>2]!=2)break a;t[m+24>>2]=l;return}q[m+54|0]=1;t[m+24>>2]=2;t[m+36>>2]=t[m+36>>2]+1}}function X(l){var m;m=A-16|0;t[m+12>>2]=l;l=1;a:{if(t[m+12>>2]==5)break a;l=1;if(t[m+12>>2]==6)break a;l=1;if(t[m+12>>2]==7)break a;l=t[m+12>>2]==8}return l}function Y(o,p,l,q,m,n){o=o|0;p=p|0;l=l|0;q=q|0;m=m|0;n=n|0;if(R(o,t[p+8>>2],n)){P(p,l,q,m);return}o=t[o+8>>2];ka[t[t[o>>2]+20>>2]](o,p,l,q,m,n)}function Z(){var m=0,n,l;while(1){n=m<<4;l=n+1376|0;t[n+1380>>2]=l;t[n+1384>>2]=l;m=m+1|0;if((m|0)!=64)continue;break}G(48)}function $(m,n,l,o){m=m|0;n=n|0;l=l|0;o=o|0;if(R(m,t[n+8>>2],0)){W(n,l,o);return}m=t[m+8>>2];ka[t[t[m>>2]+28>>2]](m,n,l,o)}function aa(o,p,l,q,m,n){o=o|0,p=p|0,l=l|0,q=q|0,m=m|0,n=n|0,R(o,t[p+8>>2],n)&&P(p,l,q,m)}function ba(m,n,l){if(l)while(1){q[m|0]=u[n|0];m=m+1|0;n=n+1|0;l=l-1|0;if(l)continue;break}}function ca(l,m){if(m)while(1){q[l|0]=0;l=l+1|0;m=m-1|0;if(m)continue;break}}function oa(m,n,l,o){m=m|0,n=n|0,l=l|0,o=o|0,R(m,t[n+8>>2],0)&&W(n,l,o)}function da(m,n,l){t[m+28>>2]==1|t[m+4>>2]!=(n|0)||(t[m+28>>2]=l)}function pa(l,m){l=l|0;m=m|0;return x(m,20)+l|0}function ea(l){l=l|0;return v[l+8>>1]>>>1|0}function qa(l){l=l|0;return s[l+8>>1]&1}function fa(l){l=l|0;return t[l+12>>2]}function ra(l){l=l|0;return t[l>>2]&15}function sa(l){l=l|0;return t[l+16>>2]}function ga(l){l=l|0;return v[l+4>>1]}function ha(l){l=l|0;return t[l+8>>2]}function ia(l){l=l|0;return u[l+4|0]}function ja(l){l=l|0;return l|0}function ta(l){return D(l)}function ua(l){l=l|0,J(l)}function va(l){l|0}n=u;r(l);var ka=m([null,ja,ua,va,va,H,aa,ma,oa,ua,Y,L,$]);function wa(){return p.byteLength/65536|0}function xa(l){l=l|0;var m=wa()|0;l=m+l|0;if(m<l&&l<65536){l=new ArrayBuffer(x(l,65536));var r=new Int8Array(l);r.set(q);q=new Int8Array(l);s=new Int16Array(l);t=new Int32Array(l);u=new Uint8Array(l);v=new Uint16Array(l);w=new Uint32Array(l);new Float32Array(l);new Float64Array(l);p=l;o.buffer=p;n=u}return m}return{c:Z,d:ta,e:ua,f:T,g:U,h:K,i:F,j:N,k:E,l:la,m:na,n:S,o:C,p:ra,q:ia,r:pa,s:ga,t:ha,u:fa,v:fa,w:sa,x:ea,y:qa,z:ea,A:ka}}return s(l)}(ha)},instantiate:function(l,m){return{then:function(n){var m=new D.Module(l);n({instance:new D.Instance(m)})}}},RuntimeError:Error};C=[];typeof D!=="object"&&Y("no native wasm support detected");var E,F=!1;function G(l,m){l||Y("Assertion failed: "+m)}function la(l,m){l%m>0&&(l+=m-l%m);return l}var H,I;function J(l){H=l,m.HEAP8=new Int8Array(l),m.HEAP16=new Int16Array(l),m.HEAP32=new Int32Array(l),m.HEAPU8=I=new Uint8Array(l),m.HEAPU16=new Uint16Array(l),m.HEAPU32=new Uint32Array(l),m.HEAPF32=new Float32Array(l),m.HEAPF64=new Float64Array(l)}u=m.INITIAL_MEMORY||2097152;m.wasmMemory?E=m.wasmMemory:E=new D.Memory({initial:u/65536,maximum:2147483648/65536});E&&(H=E.buffer);H.byteLength;J(H);var K,L=[],M=[],N=[];function O(){if(m.preRun){typeof m.preRun=="function"&&(m.preRun=[m.preRun]);while(m.preRun.length)ma(m.preRun.shift())}da(L)}function P(){da(M)}function Q(){if(m.postRun){typeof m.postRun=="function"&&(m.postRun=[m.postRun]);while(m.postRun.length)na(m.postRun.shift())}da(N)}function ma(l){L.unshift(l)}function R(l){M.unshift(l)}function na(l){N.unshift(l)}(!Math.imul||Math.imul(4294967295,5)!==-5)&&(Math.imul=function(l,m){var n=l>>>16;l=l&65535;var o=m>>>16;m=m&65535;return l*m+(n*m+l*o<<16)|0});if(!Math.fround){var S=new Float32Array(1);Math.fround=function(l){S[0]=l;return S[0]}}Math.clz32||(Math.clz32=function(l){var m=32,n=l>>16;n&&(m-=16,l=n);n=l>>8;n&&(m-=8,l=n);n=l>>4;n&&(m-=4,l=n);n=l>>2;n&&(m-=2,l=n);n=l>>1;return n?m-2:m-l});Math.trunc||(Math.trunc=function(l){return l<0?Math.ceil(l):Math.floor(l)});var T=0,U=null,V=null;function W(l){T++,m.monitorRunDependencies&&m.monitorRunDependencies(T)}function X(l){T--;m.monitorRunDependencies&&m.monitorRunDependencies(T);if(T==0){U!==null&&(clearInterval(U),U=null);if(V){l=V;V=null;l()}}}m.preloadedImages={};m.preloadedAudios={};function Y(l){m.onAbort&&m.onAbort(l);l+="";B(l);F=!0;l="abort("+l+"). Build with -s ASSERTIONS=1 for more info.";l=new D.RuntimeError(l);s(l);throw l}var Z="data:application/octet-stream;base64,";function $(l){return l.startsWith(Z)}var aa="dgwcppbridge.wasm";$(aa)||(aa=z(aa));function ba(l){try{if(l==aa&&C)return new Uint8Array(C);var m=ga(l);if(m)return m;if(A)return A(l);else throw"both async and sync fetching of the wasm failed"}catch(l){Y(l)}}function ca(){return!C&&(w||x)&&typeof fetch==="function"?fetch(aa,{credentials:"same-origin"}).then(function(l){if(!l.ok)throw"failed to load wasm binary file at '"+aa+"'";return l.arrayBuffer()})["catch"](function(){return ba(aa)}):n.resolve().then(function(){return ba(aa)})}function oa(){var n={a:ha};function o(n,l){l=n.exports;m.asm=l;K=m.asm.A;R(m.asm.c);X("wasm-instantiate")}W("wasm-instantiate");function r(l){o(l.instance)}function t(l){return ca().then(function(l){l=D.instantiate(l,n);return l}).then(l,function(l){B("failed to asynchronously prepare wasm: "+l),Y(l)})}function u(){if(!C&&typeof D.instantiateStreaming==="function"&&!$(aa)&&typeof fetch==="function")return fetch(aa,{credentials:"same-origin"}).then(function(l){l=D.instantiateStreaming(l,n);return l.then(r,function(l){B("wasm streaming compile failed: "+l);B("falling back to ArrayBuffer instantiation");return t(r)})});else return t(r)}if(m.instantiateWasm)try{var l=m.instantiateWasm(n,o);return l}catch(l){B("Module.instantiateWasm callback failed with error: "+l);return!1}u()["catch"](s);return{}}function da(l){while(l.length>0){var n=l.shift();if(typeof n=="function"){n(m);continue}var o=n.func;typeof o==="number"?n.arg===void 0?K.get(o)():K.get(o)(n.arg):o(n.arg===void 0?null:n.arg)}}function pa(l){try{E.grow(l-H.byteLength+65535>>>16);J(E.buffer);return 1}catch(l){}}function ea(l){var m=I.length;l=l>>>0;var n=2147483648;if(l>n)return!1;for(var o=1;o<=4;o*=2){var p=m*(1+.2/o);p=Math.min(p,l+100663296);p=Math.min(n,la(Math.max(l,p),65536));p=pa(p);if(p)return!0}return!1}var qa=!1;function fa(l){var m=[];for(var n=0;n<l.length;n++){var o=l[n];o>255&&(qa&&G(!1,"Character code "+o+" ("+String.fromCharCode(o)+")  at offset "+n+" not in 0x00-0xFF."),o&=255);m.push(String.fromCharCode(o))}return m.join("")}var ra=typeof atob==="function"?atob:function(l){var m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="",o,p,q,r,s,t=0;l=l.replace(/[^A-Za-z0-9\+\/\=]/g,"");do p=m.indexOf(l.charAt(t++)),q=m.indexOf(l.charAt(t++)),r=m.indexOf(l.charAt(t++)),s=m.indexOf(l.charAt(t++)),p=p<<2|q>>4,q=(q&15)<<4|r>>2,o=(r&3)<<6|s,n=n+String.fromCharCode(p),r!==64&&(n=n+String.fromCharCode(q)),s!==64&&(n=n+String.fromCharCode(o));while(t<l.length);return n};function sa(l){try{l=ra(l);var m=new Uint8Array(l.length);for(var n=0;n<l.length;++n)m[n]=l.charCodeAt(n);return m}catch(l){throw new Error("Converting base64 string to bytes failed.")}}function ga(l){if(!$(l))return;return sa(l.slice(Z.length))}var ha={b:ea,a:E};oa();m.___wasm_call_ctors=function(){return(m.___wasm_call_ctors=m.asm.c).apply(null,arguments)};m.__malloc=function(){return(m.__malloc=m.asm.d).apply(null,arguments)};m.__free=function(){return(m.__free=m.asm.e).apply(null,arguments)};m.__DgwCodecEncodeEmpty=function(){return(m.__DgwCodecEncodeEmpty=m.asm.f).apply(null,arguments)};m.__DgwCodecEncodeDeauth=function(){return(m.__DgwCodecEncodeDeauth=m.asm.g).apply(null,arguments)};m.__DgwCodecEncodeDrain=function(){return(m.__DgwCodecEncodeDrain=m.asm.h).apply(null,arguments)};m.__DgwCodecEncodeStreamGroup_EstabStream=function(){return(m.__DgwCodecEncodeStreamGroup_EstabStream=m.asm.i).apply(null,arguments)};m.__DgwCodecEncodeStreamGroup_EndOfData=function(){return(m.__DgwCodecEncodeStreamGroup_EndOfData=m.asm.j).apply(null,arguments)};m.__DgwCodecEncodeStreamGroup_Data=function(){return(m.__DgwCodecEncodeStreamGroup_Data=m.asm.k).apply(null,arguments)};m.__DgwCodecEncodeStreamGroup_Ack=function(){return(m.__DgwCodecEncodeStreamGroup_Ack=m.asm.l).apply(null,arguments)};m.__DgwCodecEncodePing=function(){return(m.__DgwCodecEncodePing=m.asm.m).apply(null,arguments)};m.__DgwCodecEncodePong=function(){return(m.__DgwCodecEncodePong=m.asm.n).apply(null,arguments)};m.__DgwCodecDecode=function(){return(m.__DgwCodecDecode=m.asm.o).apply(null,arguments)};m.__getFrameType=function(){return(m.__getFrameType=m.asm.p).apply(null,arguments)};m.__getDrainReasonFromDrainFrame=function(){return(m.__getDrainReasonFromDrainFrame=m.asm.q).apply(null,arguments)};m.__getDGWFramePtr=function(){return(m.__getDGWFramePtr=m.asm.r).apply(null,arguments)};m.__getStreamIdFromStreamGroupFrame=function(){return(m.__getStreamIdFromStreamGroupFrame=m.asm.s).apply(null,arguments)};m.__getEncodedParamsFromEstablishStreamFrame=function(){return(m.__getEncodedParamsFromEstablishStreamFrame=m.asm.t).apply(null,arguments)};m.__getEncodedParamsSizeFromEstablishStreamFrame=function(){return(m.__getEncodedParamsSizeFromEstablishStreamFrame=m.asm.u).apply(null,arguments)};m.__getDataFromGroupedStreamDataFrame=function(){return(m.__getDataFromGroupedStreamDataFrame=m.asm.v).apply(null,arguments)};m.__getDataSizeFromGroupedStreamDataFrame=function(){return(m.__getDataSizeFromGroupedStreamDataFrame=m.asm.w).apply(null,arguments)};m.__getAckIdFromGroupedStreamDataFrame=function(){return(m.__getAckIdFromGroupedStreamDataFrame=m.asm.x).apply(null,arguments)};m.__getRequiresAckFromGroupedStreamDataFrame=function(){return(m.__getRequiresAckFromGroupedStreamDataFrame=m.asm.y).apply(null,arguments)};m.__getAckIdFromGroupedStreamAckFrame=function(){return(m.__getAckIdFromGroupedStreamAckFrame=m.asm.z).apply(null,arguments)};var ia;V=function l(){ia||ja(),ia||(V=l)};function ja(l){l||v;if(T>0)return;O();if(T>0)return;function n(){if(ia)return;ia=!0;m.calledRun=!0;if(F)return;P();o(m);m.onRuntimeInitialized&&m.onRuntimeInitialized();Q()}m.setStatus?(m.setStatus("Running..."),setTimeout(function(){setTimeout(function(){m.setStatus("")},1),n()},1)):n()}m.run=ja;if(m.preInit){typeof m.preInit=="function"&&(m.preInit=[m.preInit]);while(m.preInit.length>0)m.preInit.pop()()}ja();return m.ready}}();typeof q==="object"&&typeof p==="object"?p.exports=r:typeof define==="function"&&define.amd?define([],function(){return r}):typeof q==="object"&&(q.Module=r)}),null);
__d("DGWUtils",["Base64","DGWConstants","DGWCppBridge","DGWLoggingContext","Promise","Random","URI","gkx","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=4;function a(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=d("Random").random()*16|0;a=a==="x"?b:b&3|8;return a.toString(16)})}function k(a){var b=new TextDecoder();b=b.decode(a);a=c("Base64").encode(b);b=a.replace(/\+/gi,"-").replace(/\//gi,"_").replace(/=/gi,"");return b}var l=null,m=null;function n(){m==null&&(m=(i||(i=b("Promise"))).resolve().then(function(){return c("DGWCppBridge")()}).then(function(a){l=a}));return m}e=function(){function a(){}a.initialize=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:if(!c("gkx")("9999")){a.next=4;break}return a.abrupt("return",n());case 4:if(!(l!=null)){a.next=6;break}return a.abrupt("return");case 6:a.next=8;return b("regeneratorRuntime").awrap(c("DGWCppBridge")());case 8:l=a.sent;case 9:case"end":return a.stop()}},null,this)};a.constructConnectUrl=function(a){var b,e,f=a.appId,g=a.appVersion,i=a.authType,j=a.deviceId,l=a.dgwVersion,m=a.fbId,n=a.tier,o=a.loggingId,p=a.headers,q=a.endpoint,r=a.serviceId,s=a.regionHint;a=a.establishStreamFrame;var t=(b={},b[(e=d("DGWConstants")).HEADER_CONSTANTS.HEADER_APPID]=f,b[e.HEADER_CONSTANTS.HEADER_APPVERSION]=g,b[e.HEADER_CONSTANTS.HEADER_AUTHTYPE]=i,b[e.HEADER_CONSTANTS.HEADER_DGW_VERSION]=""+l,b[e.HEADER_CONSTANTS.HEADER_UUID]=m,b[e.HEADER_CONSTANTS.HEADER_TARGET_TIER]=n,b);a!==void 0&&(t[d("DGWConstants").HEADER_CONSTANTS.HEADER_ESTABLISH_STREAM_FRAME_BASE64]=k(a));o!==void 0&&(t[d("DGWConstants").HEADER_CONSTANTS.HEADER_LOGGING_ID]=o);s!==void 0&&(t[d("DGWConstants").HEADER_CONSTANTS.HEADER_REGIONHINT]=s);j!==void 0&&(t[d("DGWConstants").HEADER_CONSTANTS.HEADER_DEVICE_ID]=j);Object.keys(p).forEach(function(a){var b=d("DGWConstants").HEADER_CONSTANTS.APPHEADER_PREFIX+a;Object.prototype.hasOwnProperty.call(t,b)||(t[b]=p[a])});f=new(h||(h=c("URI")))(q);f.setQueryData(t);f.setPath(f.getPath()+"/"+r);f.toString().length>2e3&&(delete t[d("DGWConstants").HEADER_CONSTANTS.HEADER_ESTABLISH_STREAM_FRAME_BASE64],f.setQueryData(t));return f.toString()};return a}();f=function(){function a(a,b,c){this.$1=null,this.$2=a,this.$3=b,this.$4=c}a.initialize=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:if(!c("gkx")("9999")){a.next=4;break}return a.abrupt("return",n());case 4:if(!(l!=null)){a.next=6;break}return a.abrupt("return");case 6:a.next=8;return b("regeneratorRuntime").awrap(c("DGWCppBridge")());case 8:l=a.sent;case 9:case"end":return a.stop()}},null,this)};var e=a.prototype;e.malloc=function(a){try{a=l.__malloc(a);if(a===0){var b;(b=this.$2)==null?void 0:b.logError(d("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"wasm malloc failure","malloc returned 0");return-1}return a}catch(a){(b=this.$2)==null?void 0:b.logError(d("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"wasm malloc failure","exception during malloc",a.toString());return-1}};e.free=function(a){l.__free(a)};e.append=function(a){if(this.$1==null){this.$1=a;return}var b=this.$1.length,c=new Uint8Array(b+a.length);c.set(this.$1,0);c.set(a,b);this.$1=c};e.processData=function(){var a=this;if(this.$1==null)return;var b=this.$1.length,c=this.malloc(b);if(c===-1)return;var e=l.HEAPU8.subarray(c,c+b);if(this.$1)for(var f=0;f<e.length;++f)e[f]=this.$1[f];f=this.malloc(j*4);if(f===-1)return;e=f;var g=e+j,h=g+j,i=h+j;b=l.__DgwCodecDecode(c,b,e,g,h,i);this.free(c);if(b!==d("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){this.free(f);(h=this.$2)==null?void 0:h.logError(d("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Codec Decode Failure","Failed to decode Frame(s). Received error code "+d("DGWConstants").DgwCodecReturnCodeToString(b));return}c=l.HEAPU32.subarray(i/j,i/j+1)[0];if(this.$1==null){this.free(f);return}h=this.$1.length-c;if(this.$1&&this.$1.length>h){this.$1=new Uint8Array(((b=this.$1)==null?void 0:b.subarray(h))||[])}else this.$1=null;i=l.HEAPU32.subarray(g/j,g/j+1)[0];c=l.HEAPU32.subarray(e/j,e/j+1)[0];var k=[];for(b=0;b<i;++b){var m=l.__getDGWFramePtr(c,b);h=l.__getFrameType(m);switch(h){case d("DGWConstants").DgwFrameType.DgwFrameType_Drain:g=function(){var b=l.__getDrainReasonFromDrainFrame(m),c=d("DGWConstants").drainReasonToDrainReasonString(b);(b=a.$2)==null?void 0:b.logEvent(d("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Received Drain Frame from server","DrainReason: "+c);k.push(function(){var b;return(b=a.$3)==null?void 0:b.receivedDrainSignal(c)});return"break"}();if(g==="break")break;case d("DGWConstants").DgwFrameType.DgwFrameType_StreamGroup_EstabStream:e=function(){var b=l.__getStreamIdFromStreamGroupFrame(m),c=l.__getEncodedParamsFromEstablishStreamFrame(m),d=new Uint8Array(l.HEAPU8.subarray(c,c+l.__getEncodedParamsSizeFromEstablishStreamFrame(m)));a.free(c);k.push(function(){var c;return(c=a.$3)==null?void 0:c.onGroupedStreamEstablishStreamReceived(b,d)});return"break"}();if(e==="break")break;case d("DGWConstants").DgwFrameType.DgwFrameType_StreamGroup_Data:h=function(){var b=l.__getStreamIdFromStreamGroupFrame(m),c=l.__getDataFromGroupedStreamDataFrame(m),d=new Uint8Array(l.HEAPU8.subarray(c,c+l.__getDataSizeFromGroupedStreamDataFrame(m)));a.free(c);var e=l.__getRequiresAckFromGroupedStreamDataFrame(m)?l.__getAckIdFromGroupedStreamDataFrame(m):null;k.push(function(){var c;return(c=a.$3)==null?void 0:c.onGroupedStreamDataReceived(b,d,e)});return"break"}();if(h==="break")break;case d("DGWConstants").DgwFrameType.DgwFrameType_StreamGroup_Ack:g=function(){var b=l.__getStreamIdFromStreamGroupFrame(m),c=l.__getAckIdFromGroupedStreamAckFrame(m);k.push(function(){var d;return(d=a.$3)==null?void 0:d.onGroupedStreamAckReceived(b,c)});return"break"}();if(g==="break")break;case d("DGWConstants").DgwFrameType.DgwFrameType_StreamGroup_EndOfData:e=function(){var b=l.__getStreamIdFromStreamGroupFrame(m);k.push(function(){var c;return(c=a.$3)==null?void 0:c.onGroupedStreamEndOfDataReceived(b)});return"break"}();if(e==="break")break;case d("DGWConstants").DgwFrameType.DgwFrameType_Ping:k.push(function(){var b;return(b=a.$3)==null?void 0:b.onPingReceived()});break;case d("DGWConstants").DgwFrameType.DgwFrameType_Pong:k.push(function(){var b;return(b=a.$3)==null?void 0:b.onPongReceived()});break;default:break}this.free(m)}this.free(f);for(h=0;h<k.length;h++)k[h]()};e.encodeData=function(a,b,c,e){var f=this.malloc(a.length);if(f===-1)return null;var g=l.HEAPU8.subarray(f,f+a.length);for(var h=0;h<g.length;++h)g[h]=a[h];a=this.malloc(j*2);h=a;var i=a+j;e=l.__DgwCodecEncodeStreamGroup_Data(e,f,g.length,b,c,h,i);this.free(f);if(e!==d("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){(g=this.$2)==null?void 0:g.logError(d("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Data Frame encode failure","Failed to decode DGW Data Frame. Received error code "+d("DGWConstants").DgwCodecReturnCodeToString(e));return null}b=l.HEAPU32.subarray(h/j,h/j+1)[0];c=l.HEAPU32.subarray(i/j,i/j+1)[0];f=new Uint8Array(l.HEAPU8.subarray(b,b+c));this.free(b);this.free(a);return f};e.encodeAck=function(a,b){var c=this.malloc(j*2);if(c===-1)return null;var e=c,f=c+j;b=l.__DgwCodecEncodeStreamGroup_Ack(b,a,e,f);if(b!==d("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){(a=this.$2)==null?void 0:a.logError(d("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"ACK Frame encode failure","Failed to encode ACK Frame. Received error code "+d("DGWConstants").DgwCodecReturnCodeToString(b));return null}a=l.HEAPU32.subarray(e/j,e/j+1)[0];b=l.HEAPU32.subarray(f/j,f/j+1)[0];e=new Uint8Array(l.HEAPU8.subarray(a,a+b));this.free(a);this.free(c);return e};e.encodeDrain=function(a){var b=this.malloc(j*2);if(b===-1)return null;var c=b,e=b+j;a=l.__DgwCodecEncodeDrain(a,c,e);if(a!==d("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){var f;(f=this.$2)==null?void 0:f.logError(d("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Drain Frame encode failure","Failed to encode Drain Frame. Received error code "+d("DGWConstants").DgwCodecReturnCodeToString(a));return null}f=l.HEAPU32.subarray(c/j,c/j+1)[0];a=l.HEAPU32.subarray(e/j,e/j+1)[0];c=new Uint8Array(l.HEAPU8.subarray(f,f+a));this.free(f);this.free(b);return c};e.encodeEstablishStream=function(a,b){var c=this.malloc(b.length);if(c===-1)return null;var e=l.HEAPU8.subarray(c,c+b.length);for(var f=0;f<b.length;++f)e[f]=b[f];e=this.malloc(j*2);f=e;var g=e+j;b=l.__DgwCodecEncodeStreamGroup_EstabStream(a,c,b.length,f,g);this.free(c);if(b!==d("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){(c=this.$2)==null?void 0:c.logError(d("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"EstablishStream Frame encode failure","Failed to encode EstablishStream Frame. Received error code "+d("DGWConstants").DgwCodecReturnCodeToString(b)+" for StreamId "+a);return null}c=l.HEAPU32.subarray(f/j,f/j+1)[0];b=l.HEAPU32.subarray(g/j,g/j+1)[0];a=new Uint8Array(l.HEAPU8.subarray(c,c+b));this.free(c);this.free(e);return a};e.encodeEndOfData=function(a){var b=this.malloc(j*2);if(b===-1)return null;var c=b,e=b+j;a=l.__DgwCodecEncodeStreamGroup_EndOfData(a,c,e);if(a!==d("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){var f;(f=this.$2)==null?void 0:f.logError(d("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"EndOfData Frame encode failure","Failed to encode EndOfData Frame. Received error code "+d("DGWConstants").DgwCodecReturnCodeToString(a));return null}f=l.HEAPU32.subarray(c/j,c/j+1)[0];a=l.HEAPU32.subarray(e/j,e/j+1)[0];c=new Uint8Array(l.HEAPU8.subarray(f,f+a));this.free(f);this.free(b);return c};e.encodePing=function(){if(this.$5!=null)return this.$5;var a=this.malloc(j*2);if(a===-1)return null;var b=a,c=a+j,e=l.__DgwCodecEncodePing(b,c);if(e!==d("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){var f;(f=this.$2)==null?void 0:f.logError(d("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Ping Frame encode failure","Failed to encode Ping Frame. Received error code "+d("DGWConstants").DgwCodecReturnCodeToString(e));return null}f=l.HEAPU32.subarray(b/j,b/j+1)[0];e=l.HEAPU32.subarray(c/j,c/j+1)[0];b=new Uint8Array(l.HEAPU8.subarray(f,f+e));this.free(f);this.free(a);this.$5=b;return b};e.encodePong=function(){if(this.$6!=null)return this.$6;var a=this.malloc(j*2);if(a===-1)return null;var b=a,c=a+j,e=l.__DgwCodecEncodePong(b,c);if(e!==d("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){var f;(f=this.$2)==null?void 0:f.logError(d("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Pong Frame encode failure","Failed to encode Pong Frame. Received error code "+d("DGWConstants").DgwCodecReturnCodeToString(e));return null}f=l.HEAPU32.subarray(b/j,b/j+1)[0];e=l.HEAPU32.subarray(c/j,c/j+1)[0];b=new Uint8Array(l.HEAPU8.subarray(f,f+e));this.free(f);this.free(a);this.$6=b;return b};return a}();g.uuidv4=a;g.Uint8ArrayToBase64UrlStr=k;g.DGWUtils=e;g.DGWCodec=f}),98);
__d("DGWExponentialBackoff",["Promise","regeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";var g,h={maxRetries:5,baseRetryInterval:1e3,backoffFactor:Math.sqrt(2)},i=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){a=b.call(this,a)||this;a.errors=c;return a}return a}(babelHelpers.wrapNativeSuper(Error));function a(a,c){return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:c===void 0&&(c=h);d.prev=1;d.next=4;return b("regeneratorRuntime").awrap(j(a,c));case 4:return d.abrupt("return",d.sent);case 7:d.prev=7;d.t0=d["catch"](1);throw d.t0.errors[d.t0.errors.length-1];case 10:case"end":return d.stop()}},null,this,[[1,7]])}function j(a,c){var d,e,f,g,h;return b("regeneratorRuntime").async(function(j){while(1)switch(j.prev=j.next){case 0:d=0,e=[],f=c.baseRetryInterval,g=c.backoffFactor;case 4:if(!(d<=c.maxRetries)){j.next=20;break}j.prev=5;j.next=8;return b("regeneratorRuntime").awrap(a());case 8:h=j.sent;return j.abrupt("return",h);case 12:j.prev=12,j.t0=j["catch"](5),e.push(j.t0);case 15:j.next=17;return b("regeneratorRuntime").awrap(k(f*Math.pow(g,d)));case 17:++d;j.next=4;break;case 20:throw new i("Max call count exceeded",e);case 21:case"end":return j.stop()}},null,this,[[5,12]])}function k(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(new(g||(g=b("Promise")))(function(b){return window.setTimeout(b,a)}));case 2:case"end":return c.stop()}},null,this)}f.callWithExponentialBackoff=a}),66);
__d("DGWPinger",["DGWLoggingContext"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c){this.$1=a,this.$4=b,this.$5=c,this.$3=!1}var b=a.prototype;b.$6=function(){var a=this;if(this.$3){var b;(b=d("DGWLoggingContext")).DGWLoggingContext.bumpODSKey(b.DGWLoggingComponent.PINGER,"timeout_fired.reset");this.$3=!1;this.$4();b.DGWLoggingContext.bumpODSKey(b.DGWLoggingComponent.PINGER,"timeout.newtimeout");this.$2=window.setTimeout(function(){a.$6()},this.$1)}else d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.PINGER,"timeout_fired.disconnect"),this.$5()};b.reset=function(){var a=this;this.$3=!0;this.$2&&(d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.PINGER,"reset"),window.clearTimeout(this.$2),this.$2=null);this.$1>0&&(d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.PINGER,"reset.newtimeout"),this.$2=window.setTimeout(function(){a.$6()},this.$1))};b.cancel=function(){this.$2&&(d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.PINGER,"canceled"),window.clearTimeout(this.$2),this.$2=null)};return a}();g.DGWPinger=a}),98);
__d("DGWStreamGroupCallbacks",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";var g=b("$InternalEnum")({TRANSPORT_SERVER_INTERNAL_ERROR:0,TRANSPORT_ABNORMAL_CLOSURE:1,TRANSPORT_GOING_AWAY:2,TRANSPORT_UNKNOWN_ERROR:3,TRANSPORT_KEEPALIVE_TIMEOUT:4,TRANSPORT_UNAUTHORIZED:5,TRANSPORT_REJECTED:6,TRANSPORT_BAD_REQUEST:7,TRANSPORT_DGW_SERVER_ERROR:8});function a(a){switch(a){case g.TRANSPORT_UNAUTHORIZED:return!1;default:return!0}}c=function(){function a(){}var b=a.prototype;b.onStreamGroupError=function(){};b.onStreamGroupMustDrain=function(){};b.onStreamGroupTransportClose=function(){};return a}();f.DGWStreamGroupError=g;f.isRetryableError=a;f.NoOpDGWStreamGroupCallbacks=c}),66);
__d("DGWTransportEvents",["DGWLoggingContext","NetworkStatus"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$3=a}var b=a.prototype;b.transportEstablished=function(a){this.$3.logEvent(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"open","readyState:"+a),this.$2=Date.now(),this.$3.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"stream_group_establishment_success")};b.transportEstablishmentPending=function(){this.$1=Date.now(),this.$3.logEvent(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"transportPending",null,!0),this.$3.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"stream_group_establishment_pending")};b.transportClosed=function(a,b){this.$4=Date.now(),a?(this.$3.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"transport_close_graceful"),this.$3.logEvent(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Transport closed gracefully",null,!0)):(this.$3.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"transport_close_with_error"),this.$3.logError(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Transport closed abnormally",b))};b.transportEstablishmentFailure=function(a){this.$3.logError(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"WebSocket transport establishment failure","WebSocket close code: "+a+" onLine:"+String(c("NetworkStatus").isOnline())),this.$3.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"stream_group_establishment_failure")};b.streamEstablishmentTimeout=function(a,b,e){this.$3.logError(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Grouped Stream establishment timeout",a,"streamId:"+b+", onLine:"+String(c("NetworkStatus").isOnline()),!1,e),this.$3.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"stream_establishment_timeout")};b.streamEstablishmentPending=function(a,b){this.$3.logEvent(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Grouped Stream establishment pending","streamId:"+a,!0,b),this.$3.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"stream_establishment_pending")};b.streamEstablishmentSuccess=function(a,b){this.$3.logEvent(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Grouped Stream establishment success","streamId:"+a,!0,b),this.$3.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"stream_establishment_success")};b.transportError=function(a,b,c){this.$3.logError(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,a,b,c)};b.receivedFrameForInactiveStream=function(a,b,c){this.$3.logWarn(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Frame received for inactive stream","frameType: "+a+", streamID: "+b,c)};b.ranOutOfStreamIds=function(a){this.$3.logWarn(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Hit max StreamId limit","Hit max StreamId limit",a)};return a}();g.DGWTransportEvents=a}),98);
__d("DGWWebSocketTransport",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=new WebSocket(a);a.binaryType="arraybuffer";a.onopen=function(){};a.onclose=function(){};a.onerror=function(){};return a}f.getWebSocketConnection=a}),66);
__d("DGWStreamEvents",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b,c){this.$4=new Map(),this.$5=new Map(),this.$6=a,this.$1=b,c!=null&&(this.$8="streamId:"+c+"::")}var b=a.prototype;b.dataSent=function(a,b,c){var d=c?"sendWithAckRequested":"sendWithoutAckRequested";this.$6.logEvent(this.$1,d,((d=this.$8)!=null?d:"")+"sendId:"+a+", payloadSize:"+b,!0);this.$4.set(a,{ackRequested:c,payloadSize:b,sendTimestamp:Date.now()})};b.ackReceived=function(a){var b;this.$6.logEvent(this.$1,"AckReceived",((b=this.$8)!=null?b:"")+"sendId:"+a,!0);this.$6.bumpODSKey(this.$1,"ack_received");b=this.$4.get(a);b!=null&&(b.ackReceivedTimestamp=Date.now())};b.ackSent=function(a){var b;this.$6.bumpODSKey(this.$1,"ack_sent");this.$6.logEvent(this.$1,"ACK sent",((b=this.$8)!=null?b:"")+"ackId:"+a,!0)};b.drainSent=function(a){var b;this.$6.logEvent(this.$1,"Drain sent",((b=this.$8)!=null?b:"")+"drainReason: "+a)};b.dataReceived=function(a,b,c){var d;this.$6.bumpODSKey(this.$1,"data_received");this.$6.logEvent(this.$1,"Data received",((d=this.$8)!=null?d:"")+"sendId:"+((d=c)!=null?d:"null")+", ackRequested:"+b.toString()+", payloadSize:"+a,!0);c!=null&&this.$5.set(c,{ackRequested:b,payloadSize:a,receiveTimestamp:Date.now()})};b.endOfDataReceived=function(){this.$6.bumpODSKey(this.$1,"end_of_data_received"),this.$6.logEvent(this.$1,"EndOfDataReceived",this.$8,!0)};b.endOfDataSent=function(){this.$6.bumpODSKey(this.$1,"end_of_data_sent"),this.$6.logEvent(this.$1,"EndOfDataSent",this.$8,!0)};b.streamClosed=function(a,b){this.$7=Date.now();var c=this.$9();if(a){this.$6.bumpODSKey(this.$1,"stream_closed_gracefully");this.$6.logEvent(this.$1,"Stream closed gracefully",""+((a=this.$8)!=null?a:"")+c)}else{this.$6.bumpODSKey(this.$1,"stream_closed_with_error");this.$6.logError(this.$1,"Stream closed abnormally",b,""+((a=this.$8)!=null?a:"")+c)}};b.connectionEstablishmentFailure=function(a){this.$6.logEvent(this.$1,"WebSocket connection establishment failure","WebSocket close code: "+a)};b.streamEstablishmentFailure=function(a,b){this.$6.logError(this.$1,"Failed to establish DGW Stream","Last seen error: "+a.toString(),""+((a=this.$8)!=null?a:"")+b);this.$6.bumpODSKey(this.$1,"stream_establishment_failure")};b.error=function(a,b){b={msg:b,state:this.$9()};this.$6.logError(this.$1,a,JSON.stringify(b),this.$8)};b.$9=function(){var a={currentNetworkCondition:window.navigator&&window.navigator.onLine===!0,establishRequestTimestamp:this.$2,establishedTimestamp:this.$3,streamClosedTimestamp:this.$7,sendHistory:JSON.stringify(Array.from(this.$4.entries())),receiveHistory:JSON.stringify(Array.from(this.$5.entries()))};return JSON.stringify(a)};return a}();f.DGWStreamEvents=a}),66);
__d("GroupedStream",["DGWAckManager","DGWConstants","DGWLoggingContext","DGWStream","DGWStreamEvents","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c,e,f,g,h){this.$1=a,this.$3=!1,this.$4=!1,this.$5=!1,this.$6=b,this.$7=c,this.$8=e,this.$2=g,this.$9=f,this.$10=new(d("DGWAckManager").DGWAckManager)(this.$9),this.$12=new(d("DGWStreamEvents").DGWStreamEvents)(this.$9,d("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,this.$1),this.$11=0,this.$13=h}var c=a.prototype;c.send=function(a,c){var e,f,g;return b("regeneratorRuntime").async(function(h){while(1)switch(h.prev=h.next){case 0:f=this.$11++%d("DGWConstants").MAX_ACK_ID;if(this.$14(a,!0,f)){h.next=3;break}return h.abrupt("return",!1);case 3:h.next=5;return b("regeneratorRuntime").awrap(this.$10.waitForAck(f,(e=c)!=null?e:d("DGWConstants").DEFAULT_ACK_TIMEOUT_MS));case 5:g=h.sent;return h.abrupt("return",g);case 7:case"end":return h.stop()}},null,this)};c.sendAndForget=function(a){return this.$14(a,!1)};c.close=function(){var a=this.$2.encodeEndOfData(this.$1);if(a==null){this.$9.logError(d("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"Failed to encode EndOfData","streamId: "+this.$1);return}a=this.$8.send(a);if(!a){this.$9.logError(d("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"Failed to send EndOfData","streamId: "+this.$1+". StreamGroupTransport not open during send");return}this.$12.endOfDataSent();this.$5=!0;this.$4&&this.$15()};c.loggingContext=function(){return this.$9};c.__sendDrain=function(a){var b=d("DGWConstants").drainReasonToDrainReasonString(a);if(this.$5)return!1;a=this.$2.encodeDrain(a);if(a==null)return!1;this.$12.drainSent(b);b=this.$8.send(a);return b};c.__transportCloseHook=function(a){this.$13(),this.$10.clearPendingAcks(),a?(this.$12.error("Received StreamError","StreamErrorType: "+a),this.$6.onError(a)):this.$5&&this.$4?this.$15():(this.$12.streamClosed(!1,"Stream closed: ClosedLocally: "+this.$5.toString()+", EndOfDataReceived: "+this.$4.toString()),this.$6.onError(d("DGWStream").StreamError.PREMATURE_CLOSE))};c.$15=function(){this.$13(),this.$12.streamClosed(!0,"Graceful close"),this.$6.onClose(this)};c.__dataReceivedHook=function(a,b){this.$12.dataReceived(a.length,b!=null,b),b!=null&&this.$16(b),this.$6.onDataReceived(a)};c.__ackReceivedHook=function(a){this.$12.ackReceived(a),this.$10.handleAckReceived(a)};c.__drainReceivedHook=function(a){this.$3===!1&&(this.$6.onStreamMustDrain(this,a),this.$3=!0)};c.__endOfDataHook=function(){this.$12.endOfDataReceived(),this.$4=!0,this.$5?this.$15():this.$6.onServerHasFinishedSendingData(this)};c.$14=function(a,b,c){b===void 0&&(b=!1);c===void 0&&(c=0);if(this.$5){this.$9.logError(d("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"Failed to send data","Stream closed locally");return!1}a=this.$2.encodeData(a,b,c,this.$1);if(a==null)return!1;var e=this.$8.send(a);if(!e){this.$9.logError(d("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"Failed to send data","ClosedLocally: "+this.$5.toString());return!1}this.$12.dataSent(c,a.length,b);return!0};c.$16=function(a){var b=this.$2.encodeAck(a,this.$1);if(b==null){this.$9.logError(d("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"Failed to encode ACK","ackId: "+a);return!1}b=this.$8.send(b);if(!b){this.$9.logError(d("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"Failed to send ACK","ackId: "+a);return!1}this.$12.ackSent(a);return!0};return a}();g.GroupedStream=a}),98);
__d("StreamIdGenerator",["err","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=c("gkx")("7667"),i=65535;a=function(){function a(){this.$1=new Set(),this.$2=0,this.$1.add(this.$2)}var b=a.prototype;b.getNextStreamId=function(){var a;if(!this.streamIdAvailable())throw c("err")("Max number of stream IDs reached");if(this.$1.size===0)return++this.$2;a=(a=this.$1.values().next().value)!=null?a:0;this.$1["delete"](a);return a};b.putBackStreamId=function(a){h&&this.$1.add(a)};b.streamIdAvailable=function(){return this.$1.size>0||this.$2<i};return a}();g.MAX_STREAM_ID=i;g.StreamIdGeneratorImpl=a}),98);
__d("StreamGroupWebSocketTransport",["DGWConstants","DGWExponentialBackoff","DGWLoggingContext","DGWPinger","DGWStream","DGWStreamGroupCallbacks","DGWTransportEvents","DGWUtils","DGWWebSocketTransport","GroupedStream","Promise","StreamIdGenerator","err","gkx","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("gkx")("4657"),j=function(a,b,c,e,f){var g=this;this.groupedStream=a;this.$1=window.setTimeout(function(){c(d("DGWStream").StreamError.ESTABLISHMENT_TIMEOUT)},e);this.handleEstablishFrameReceived=function(){window.clearTimeout(g.$1),b(g.groupedStream)};this.abortStream=function(a){f(),c(a)}};a=function(){function a(b,e,f,g,h,j,k,l){var m=this;this.$14=h;this.$16=this.__getStreamIdGenerator();this.$5=new Map();this.$6=new Map();this.$7=g.keepAliveMs;this.$8=!1;this.$3=!0;this.$4=!1;this.$12=f;this.$10=new TextEncoder();this.$11=new TextDecoder();this.$13=g;h={onDataReceived:function(){},handleAckReceived:function(){},receivedDrainSignal:function(a){m.$13.streamGroupCallbacks.onStreamGroupMustDrain(a),m.$5.forEach(function(b){b.__drainReceivedHook(a)})},onGroupedStreamDataReceived:function(a,b,c){if(m.$5.has(a)){var d=m.$5.get(a);d==null?void 0:d.__dataReceivedHook(b,c)}else{m.$12.receivedFrameForInactiveStream("Data",a,"sendAckID: "+((d=c)!=null?d:"null"))}},onGroupedStreamAckReceived:function(a,b){if(m.$5.has(a)){var c=m.$5.get(a);c==null?void 0:c.__ackReceivedHook(b)}else{m.$12.receivedFrameForInactiveStream("ACK",a,"ackId: "+((c=b)!=null?c:"null"))}},onGroupedStreamEndOfDataReceived:function(a){if(m.$5.has(a)){var b=m.$5.get(a);b==null?void 0:b.__endOfDataHook()}else m.$12.receivedFrameForInactiveStream("EndOfData",a)},onGroupedStreamEstablishStreamReceived:function(a,b){if(m.$6.has(a)){var c=m.$6.get(a);m.$6["delete"](a);b=JSON.parse(m.$11.decode(b));(b.code===void 0||b.code!==200)&&(c==null?void 0:c.abortStream(d("DGWStream").StreamError.ABNORMAL_CLOSURE));c==null?void 0:c.handleEstablishFrameReceived()}else m.$12.receivedFrameForInactiveStream("EstablishStream",a,"EstablishStream received for non-inflight stream")},onPingReceived:function(){var a=m.$2.encodePing();if(a==null)return;m.send(a)},onPongReceived:function(){i&&(m.$3=!1)}};this.$2=new(d("DGWUtils").DGWCodec)(j,h,g.dgwVersion);if(g.enableFirstStreamOnWsHandshake){if(k===void 0)throw c("err")("Missing grouped stream options");if(l===void 0)throw c("err")("Missing grouped stream callbacks");var n=this.$16.getNextStreamId();f=this.createEstablishStreamFrame(n,k);h=d("DGWUtils").DGWUtils.constructConnectUrl({appId:g.appId,appVersion:g.appVersion,authType:g.authType,deviceId:(j=g.deviceId)!=null?j:void 0,dgwVersion:g.dgwVersion,fbId:g.fbId,tier:g.tier,loggingId:(h=g.loggingId)!=null?h:void 0,headers:a.__prefixAppHeaders(g.headers),endpoint:g.connectEndpoint,serviceId:g.serviceId,regionHint:(j=g.regionHint)!=null?j:void 0,establishStreamFrame:f});this.$1=e(h);if(!h.includes(d("DGWConstants").HEADER_CONSTANTS.HEADER_ESTABLISH_STREAM_FRAME_BASE64))return;this.$15=this.waitForEstablishStream(n,l,k,new(d("DGWLoggingContext").DGWLoggingContext)(this.$13.dgwVersion,k.loggingId,this.$13.serviceId,this.$13.fbId,this.$13.loggingId,k.disableFalcoLogging),function(a){m.$5.set(n,a)},function(){m.$16.putBackStreamId(n)})}else this.$1=e(b)}var e=a.prototype;e.send=function(a){try{this.$1.send(a);return!0}catch(a){this.$12.transportError("Failed to send over transport","readyState: "+this.$1.readyState,a.toString());return!1}};e.close=function(){this.$1.close(d("DGWConstants").WebsocketCloseCodes.GRACEFUL_CLOSE)};e.abort=function(a,b,c,d){this.$8=!0,this.$12.transportClosed(!1,d),this.$5.forEach(function(a){a.__transportCloseHook(b)}),this.$6.forEach(function(a){a.abortStream(b)}),this.$13.streamGroupCallbacks.onStreamGroupError(a),this.$5.clear(),this.$6.clear(),this.$1.close(c)};e.cleanup=function(){var a;(a=this.$9)==null?void 0:a.cancel();this.$1!=null&&(this.$1.onopen=function(a){},this.$1.onmessage=function(a){},this.$1.onerror=function(a){},this.$1.onclose=function(a){},this.$1.close())};a.getTransportWithInitialStream=function(c,e,f,g,h,i){var j,k,l,m;return b("regeneratorRuntime").async(function(n){while(1)switch(n.prev=n.next){case 0:n.next=2;return b("regeneratorRuntime").awrap(d("DGWUtils").DGWCodec.initialize());case 2:j=new(d("DGWTransportEvents").DGWTransportEvents)(g);j.transportEstablishmentPending();k=function(){return a.$17("",f,j,h,g,c,e)};n.prev=5;n.next=8;return b("regeneratorRuntime").awrap(d("DGWExponentialBackoff").callWithExponentialBackoff(k,i));case 8:l=n.sent;m=l.$15!=null?l.$15:l.establishGroupedStream(e,c,new(d("DGWLoggingContext").DGWLoggingContext)(f.dgwVersion,c.loggingId,f.serviceId,f.fbId,f.loggingId,c.disableFalcoLogging));return n.abrupt("return",{transport:l,streamPromise:m});case 13:n.prev=13;n.t0=n["catch"](5);throw n.t0;case 16:case"end":return n.stop()}},null,this,[[5,13]])};a.getTransport_DEPRECATED=function(c,e,f,g,h){var i,j;return b("regeneratorRuntime").async(function(k){while(1)switch(k.prev=k.next){case 0:k.next=2;return b("regeneratorRuntime").awrap(d("DGWUtils").DGWCodec.initialize());case 2:i=new(d("DGWTransportEvents").DGWTransportEvents)(f);i.transportEstablishmentPending();j=function(){return a.$17(c,e,i,g,f)};k.prev=5;k.next=8;return b("regeneratorRuntime").awrap(d("DGWExponentialBackoff").callWithExponentialBackoff(j,h));case 8:return k.abrupt("return",k.sent);case 11:k.prev=11;k.t0=k["catch"](5);throw k.t0;case 14:case"end":return k.stop()}},null,this,[[5,11]])};e.establishGroupedStream=function(a,d,e){var f=this,g,h,i,j;return b("regeneratorRuntime").async(function(k){while(1)switch(k.prev=k.next){case 0:g=this.getStreamId();h=this.createEstablishStreamFrame(g,d);i=this.waitForEstablishStream(g,a,d,e,function(a){f.$5.set(g,a)},function(){f.$16.putBackStreamId(g)});if(this.send(h)){k.next=5;break}throw c("err")("Websocket connection closed before stream established");case 5:k.next=7;return b("regeneratorRuntime").awrap(i);case 7:j=k.sent;return k.abrupt("return",j);case 9:case"end":return k.stop()}},null,this)};a.__prefixAppHeaders=function(a){return Object.keys(a).reduce(function(b,c){b[""+d("DGWConstants").HEADER_CONSTANTS.APPHEADER_PREFIX+c]=a[c];return b},{})};e.waitForEstablishStream=function(a,c,d,e,f,g){var i=this,k,l;return b("regeneratorRuntime").async(function(m){while(1)switch(m.prev=m.next){case 0:this.$12.streamEstablishmentPending(a,d.loggingId);k=this.__createGroupedStream(a,c,d,e);m.prev=2;m.next=5;return b("regeneratorRuntime").awrap(new(h||(h=b("Promise")))(function(b,c){i.$6.set(a,new j(k,b,c,3e4,function(){i.streamEndCallback(a)}))}));case 5:l=m.sent;f(k);this.$12.streamEstablishmentSuccess(a,d.loggingId);return m.abrupt("return",l);case 11:m.prev=11;m.t0=m["catch"](2);g();this.$12.streamEstablishmentTimeout("Stream establishment timeout. readyState: "+this.$1.readyState,a,d.loggingId);throw m.t0;case 16:case"end":return m.stop()}},null,this,[[2,11]])};a.$17=function(c,e,f,g,h,j,k){var l,m;return b("regeneratorRuntime").async(function(n){while(1)switch(n.prev=n.next){case 0:l=new a(c,d("DGWWebSocketTransport").getWebSocketConnection,f,e,g,h,j,k);l.$1.onmessage=a.$18(l);l.$1.onopen=function(){f.transportEstablished(l.$1.readyState),i||(l.$3=!1),l.$7!=null&&(l.$9=new(d("DGWPinger").DGWPinger)(l.$7,function(){l.$19()},function(){l.abort(d("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_KEEPALIVE_TIMEOUT,d("DGWStream").StreamError.KEEPALIVE_TIMEOUT,d("DGWConstants").WebsocketCloseCodes.KEEPALIVE_TIMEOUT,"Aborting transport because of keepalive timeout")}))};l.$1.onerror=function(){l.$12.transportError("onerror","readyState: "+l.$1.readyState)};l.$1.onclose=a.$20(l);n.next=7;return b("regeneratorRuntime").awrap(a.getTransportPromise(l));case 7:m=n.sent;return n.abrupt("return",m);case 9:case"end":return n.stop()}},null,this)};a.getTransportPromise=function(a){var c;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return b("regeneratorRuntime").awrap(new(h||(h=b("Promise")))(function(b,c){var e=a.$1.onerror;if(i){var f=a.$1.onmessage;a.$1.onerror=function(){window.clearTimeout(j),e(),c(d("DGWStream").StreamError.ESTABLISHMENT_ERROR)};var g=!1;a.$1.onmessage=function(c){f(c),!g&&!a.$3&&(window.clearTimeout(j),b(a),g=!0)}}else{var h=a.$1.onopen;a.$1.onerror=function(){window.clearTimeout(j),e(),c(d("DGWStream").StreamError.ESTABLISHMENT_ERROR)};a.$1.onopen=function(){window.clearTimeout(j),h(),b(a)}}var j=window.setTimeout(function(){a.cleanup(),c(d("DGWStream").StreamError.ESTABLISHMENT_TIMEOUT)},2e4)}));case 2:c=e.sent;return e.abrupt("return",c);case 4:case"end":return e.stop()}},null,this)};a.$18=function(a){return function(b){var c;(c=a.$9)==null?void 0:c.reset();if(!(b.data instanceof ArrayBuffer)){a.$12.transportError("Incorrect Data Protocol","Received "+typeof b.data+" instead of ArrayBuffer");return}a.$2.append(new Uint8Array(b.data));a.$2.processData()}};a.$20=function(a){return function(b){var c;(c=a.$9)==null?void 0:c.cancel();if(a.$8===!0||a.$4)return;if(a.$3===!0){a.$12.transportEstablishmentFailure(b.code);a.$5.clear();a.$14();return}a.$14();a.$3=!0;if(b.code!==d("DGWConstants").WebsocketCloseCodes.GRACEFUL_CLOSE){a.$12.transportClosed(!1,"Websocket connection failure with code "+b.code);c=d("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_UNKNOWN_ERROR;var e=d("DGWStream").StreamError.UNKNOWN_ERROR;switch(b.code){case d("DGWConstants").WebsocketCloseCodes.NORMAL_CLOSURE:c=d("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_ABNORMAL_CLOSURE;e=d("DGWStream").StreamError.ABNORMAL_CLOSURE;break;case d("DGWConstants").WebsocketCloseCodes.ABNORMAL_CLOSURE:c=d("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_ABNORMAL_CLOSURE;e=d("DGWStream").StreamError.ABNORMAL_CLOSURE;break;case d("DGWConstants").WebsocketCloseCodes.SERVER_INTERNAL_ERROR:c=d("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_SERVER_INTERNAL_ERROR;e=d("DGWStream").StreamError.SERVER_INTERNAL_ERROR;break;case d("DGWConstants").WebsocketCloseCodes.GOING_AWAY:c=d("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_GOING_AWAY;e=d("DGWStream").StreamError.GOING_AWAY;break;case d("DGWConstants").WebsocketCloseCodes.UNAUTHORIZED:c=d("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_UNAUTHORIZED;e=d("DGWStream").StreamError.UNAUTHORIZED;break;case d("DGWConstants").WebsocketCloseCodes.REJECTED:c=d("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_REJECTED;e=d("DGWStream").StreamError.REJECTED;break;case d("DGWConstants").WebsocketCloseCodes.BAD_REQUEST:c=d("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_BAD_REQUEST;e=d("DGWStream").StreamError.BAD_REQUEST;break;case d("DGWConstants").WebsocketCloseCodes.DGW_SERVER_ERROR:c=d("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_SERVER_INTERNAL_ERROR;e=d("DGWStream").StreamError.DGW_SERVER_ERROR;c=d("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_DGW_SERVER_ERROR;break;default:c=d("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_UNKNOWN_ERROR;e=d("DGWStream").StreamError.UNKNOWN_ERROR;break}a.$13.streamGroupCallbacks.onStreamGroupError(c);a.$5.forEach(function(a){a.__transportCloseHook(e)});a.$6.forEach(function(a){a.abortStream(e)})}else a.$12.transportClosed(!0,""),a.$13.streamGroupCallbacks.onStreamGroupTransportClose(),a.$5.forEach(function(a){a.__transportCloseHook()}),a.$6.forEach(function(a){a.abortStream(d("DGWStream").StreamError.TRANSPORT_CLOSED_BEFORE_STREAM_INIT)});a.$5.clear();a.$6.clear()}};e.$19=function(){var a=this.$2.encodePing();if(a==null)throw c("err")("Failed to encode Ping Frame");this.send(a)};e.isClosedLocally=function(){return this.$3||this.$8||this.$4};e.streamEndCallback=function(a){this.$5["delete"](a),this.$6["delete"](a),this.$16.putBackStreamId(a)};e.canCreateGroupedStream=function(){return this.$16.streamIdAvailable()};e.createEstablishStreamFrame=function(b,d){d=this.$2.encodeEstablishStream(b,new Uint8Array(this.$10.encode(JSON.stringify(a.__prefixAppHeaders(d.groupedStreamHeaders)))));if(d==null){this.$16.putBackStreamId(b);throw c("err")("Failed to encode EstablishStreamFrame")}return d};e.getStreamId=function(){try{return this.$16.getNextStreamId()}catch(a){this.$12.ranOutOfStreamIds("inFlightGroupedStreamSize: "+this.$6.size+" groupedStreamSize: "+this.$5.size);throw a}};e.__createGroupedStream=function(a,b,c,e){var f=this;return new(d("GroupedStream").GroupedStream)(a,b,c,this,e,this.$2,function(){f.streamEndCallback(a)})};e.__getStreamIdGenerator=function(){return new(d("StreamIdGenerator").StreamIdGeneratorImpl)()};return a}();g.StreamGroupWebSocketTransport=a}),98);
__d("StreamGroup",["DGWConstants","DGWLoggingContext","DGWUtils","StreamGroupWebSocketTransport","justknobx","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h={maxRetries:c("justknobx")._("2595"),baseRetryInterval:1e3,backoffFactor:Math.sqrt(2)};a=function(){function a(a,b,c,e,f,g,h,i,j){this.$2=j;this.$1=j.getNewStreamGroupId();j=(j=h.overrideUrl)!=null?j:f;this.$5=null;this.$3={appId:a,appVersion:b,authType:c,deviceId:h.deviceId,dgwVersion:e,headers:h.streamGroupAppHeaders,tier:(f=h.serviceTier)!=null?f:d("DGWConstants").DEFAULT_SERVICE_TIER,connectEndpoint:j,fbId:g,loggingId:h.loggingId,serviceId:h.serviceId,streamGroupCallbacks:i,keepAliveMs:h.keepAliveMs,regionHint:h.regionHint,enableFirstStreamOnWsHandshake:!1};this.$4=h;this.streamGroupLoggingContext=new(d("DGWLoggingContext").DGWLoggingContext)(this.$3.dgwVersion,null,this.$3.serviceId,this.$3.fbId,this.$4.loggingId,!1,(a=h.verboseLoggingEnabled)!=null?a:!1);this.$6=d("DGWUtils").DGWUtils.constructConnectUrl({appId:this.$3.appId,appVersion:this.$3.appVersion,authType:this.$3.authType,deviceId:(b=this.$3.deviceId)!=null?b:void 0,dgwVersion:this.$3.dgwVersion,fbId:this.$3.fbId,headers:babelHelpers["extends"]({},this.$3.headers),loggingId:(c=this.$3.loggingId)!=null?c:void 0,tier:this.$3.tier,serviceId:this.$3.serviceId,endpoint:this.$3.connectEndpoint,regionHint:(e=this.$3.regionHint)!=null?e:void 0})}var c=a.prototype;c.initTransport=function(){var c=this,a,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:a={maxRetries:0,baseRetryInterval:1e3,backoffFactor:Math.sqrt(2)};this.$5=this.$5||d("StreamGroupWebSocketTransport").StreamGroupWebSocketTransport.getTransport_DEPRECATED(this.$6,this.$3,this.streamGroupLoggingContext,function(){c.$2.removeStreamGroupAndTransport(c.$1)},a);f.prev=2;f.next=5;return b("regeneratorRuntime").awrap(this.$5);case 5:e=f.sent;this.$5=null;f.next=13;break;case 9:f.prev=9;f.t0=f["catch"](2);this.$5=null;throw f.t0;case 13:this.$2.containsStreamGroup(this.$1)||this.$2.setStreamGroupAndTransport(this.$1,e);return f.abrupt("return",e);case 15:case"end":return f.stop()}},null,this,[[2,9]])};c.establishStream=function(a,c){var e=this,f,g;return b("regeneratorRuntime").async(function(i){while(1)switch(i.prev=i.next){case 0:if(!(this.$2.containsStreamGroup(this.$1)===!1)){i.next=23;break}this.streamGroupLoggingContext.logEvent(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"createTransportWhenEstablishStream");if(this.$3.enableFirstStreamOnWsHandshake){i.next=18;break}this.$5=this.$5||d("StreamGroupWebSocketTransport").StreamGroupWebSocketTransport.getTransport_DEPRECATED(this.$6,this.$3,this.streamGroupLoggingContext,function(){e.$2.removeStreamGroupAndTransport(e.$1)},h);i.prev=4;i.next=7;return b("regeneratorRuntime").awrap(this.$5);case 7:f=i.sent;this.$5=null;i.next=15;break;case 11:i.prev=11;i.t0=i["catch"](4);this.$5=null;throw i.t0;case 15:this.$2.containsStreamGroup(this.$1)||this.$2.setStreamGroupAndTransport(this.$1,f);i.next=23;break;case 18:i.next=20;return b("regeneratorRuntime").awrap(d("StreamGroupWebSocketTransport").StreamGroupWebSocketTransport.getTransportWithInitialStream(a,c,this.$3,this.streamGroupLoggingContext,function(){e.$2.removeStreamGroupAndTransport(e.$1)},h));case 20:g=i.sent;this.$2.setStreamGroupAndTransport(this.$1,g.transport);return i.abrupt("return",g.streamPromise);case 23:return i.abrupt("return",this.establishStreamWithTransport(a,c));case 24:case"end":return i.stop()}},null,this,[[4,11]])};c.establishStreamWithTransport=function(a,c){var e,f,g;return b("regeneratorRuntime").async(function(h){while(1)switch(h.prev=h.next){case 0:f=a.loggingId;this.streamGroupLoggingContext.logEvent(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"Establishing Grouped Stream",null,!0,f);h.next=4;return b("regeneratorRuntime").awrap(this.$2.getStreamGroupTransport(this.$1).establishGroupedStream(c,a,new(d("DGWLoggingContext").DGWLoggingContext)(this.$3.dgwVersion,f,this.$3.serviceId,this.$3.fbId,this.$3.loggingId,a.disableFalcoLogging,(e=a.verboseLoggingEnabled)!=null?e:!1)));case 4:g=h.sent;return h.abrupt("return",g);case 6:case"end":return h.stop()}},null,this)};c.canCreateGroupedStream=function(){var a=!0;if(this.$2.containsStreamGroup(this.$1)!==!1){var b=this.$2.getStreamGroupTransport(this.$1);a=b.canCreateGroupedStream()}d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,a?"can_create":"cannot_create");return a};c.close=function(){var a=this.$2.getStreamGroupTransport(this.$1);a.close()};return a}();g.StreamGroup=a}),98);
__d("StreamGroupRegistry",["Random","err"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=new Map(),this.$2=new Set()}var b=a.prototype;b.setStreamGroupAndTransport=function(a,b){this.$1.set(a,b)};b.containsStreamGroup=function(a){return this.$1.has(a)};b.removeStreamGroupAndTransport=function(a){this.$1["delete"](a)};b.getStreamGroupTransport=function(a){a=this.$1.get(a);if(a==null)throw c("err")("No stream group transport");return a};b.getNewStreamGroupId=function(){var a=d("Random").uint32();while(this.$2.has(a))a=d("Random").uint32();this.$2.add(a);return a};return a}();g.StreamGroupRegistry=a}),98);
__d("RawDGWClient",["CurrentUser","DGWLoggingContext","DGWStream","StreamGroup","StreamGroupRegistry","isFastRefreshEnabledForCurrentDomain","justknobx"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.appId,c=a.appVersion,e=a.authType,f=a.dgwVersion,g=a.endpoint;a=a.fbId;this.$1=b;this.$2=c;this.$3=e;this.$4=f;this.$5=g;this.$6=a;this.$7=new(d("StreamGroupRegistry").StreamGroupRegistry)()}var b=a.prototype;b.createStreamGroup=function(a,b){c("justknobx")._("1023")&&this.handleUserChecks();return new(d("StreamGroup").StreamGroup)(this.$1,this.$2,this.$3,this.$4,this.$5,this.$6,b,a,this.$7)};b.handleUserChecks=function(){if(!c("CurrentUser").isLoggedInNow()&&!c("isFastRefreshEnabledForCurrentDomain")()){d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.RAW_CLIENT,"unauthenticated");throw d("DGWStream").StreamError.UNAUTHENTICATED}};return a}();g.RawDGWClient=a}),98);
__d("DGWClient",["DGWAuth","DGWEnvUtil","DGWWebConfig","RawDGWClient","err"],(function(a,b,c,d,e,f,g){"use strict";var h=new(d("RawDGWClient").RawDGWClient)({appId:c("DGWWebConfig").appId,appVersion:c("DGWWebConfig").appVersion,authType:d("DGWAuth").fromStringToDGWAuth(c("DGWEnvUtil").getDGWAuthType()),dgwVersion:c("DGWEnvUtil").getDGWVersion(),endpoint:c("DGWEnvUtil").getDGWEndpoint(),fbId:c("DGWWebConfig").fbId});function a(){if(c("DGWEnvUtil").isDGWEnvCompatible())return h;else throw c("err")("unsupported_environment_retry_with_mqtt")}g["default"]=a}),98);
__d("DGWRequestStreamUtils",["Base64","WebDriverConfig","cr:3024","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a,d,e,f){var g={};a=Object.entries(a);for(var h=0;h<a.length;h++){var i=a[h],j=i[0];i=i[1];typeof i=="string"?g["XRSS-"+j]=i:typeof i=="number"?g["XRSN-"+j]=i.toString():typeof i=="boolean"?g["XRSB-"+j]=i.toString():typeof i=="object"&&i!=null&&(g["XRSO-"+j]=c("Base64").encode(JSON.stringify(i)))}d&&(g["xrs-body"]="true");e!=null&&e.length>0&&(g["xrs-instrumentation"]=c("Base64").encode(e));g["XRS-Accept-Ack"]="RSAck";f!=null&&f.ackTimeoutSec!=null&&(g["XRS-SRAck-Timeout"]=f.ackTimeoutSec.toString());g["XRSS-http_referer"]=window.location.href;if(c("WebDriverConfig").isTestRunning&&c("gkx")("20919")){j=b("cr:3024")==null?void 0:b("cr:3024").get();j!=null&&(g["XRSB-is_test"]="true",g["XRSS-original_request_id"]=j)}return g}function h(a){return Object.keys(a).reduce(function(b,c){(typeof a[c]==="string"||typeof a[c]==="boolean"||typeof a[c]==="number"||typeof a[c]==="object")&&(b[c]=a[c]);return b},{})}function d(a){if(a.response&&a.response.instrumentation_data!=null&&a.response.instrumentation_data.length>0)try{a=JSON.parse(new TextDecoder("utf-8").decode(a.response.instrumentation_data));return{auxId:a.auxId,dfTraceId:(a=a.dataFlowTracingData)==null?void 0:a.traceId}}catch(a){}return null}function e(a,b){var c=a.headers;a=a.body;b.kill_body===!0&&(a=null);b.new_body!=null&&(a=b.new_body);if(b.new_headers!=null)try{c=h(JSON.parse(b.new_headers))}catch(a){}if(b.patch_headers!=null)try{c=babelHelpers["extends"]({},c,h(JSON.parse(b.patch_headers)))}catch(a){}return{headers:c,body:a}}g.convertHeaders=a;g.cleanHeaders=h;g.getInstrumentationDataFieldsFromPayload=d;g.transformContextWithRewriteDelta=e}),98);
__d("DGWStreamHandler",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b,c,d,e){this.$2=a,this.$3=b,this.$4=c,this.$5=d,this.$6=e,this.$1=!0}var b=a.prototype;b.onClose=function(a){if(!this.$1)return;this.$2(a)};b.onDataReceived=function(a){if(!this.$1)return;this.$3(a)};b.onError=function(a){if(!this.$1)return;this.$4(a)};b.onStreamMustDrain=function(a,b){if(!this.$1)return;this.$5(a,b)};b.onServerHasFinishedSendingData=function(a){if(!this.$1)return;this.$6(a)};b.stop=function(){this.$1=!1};b.isStopped=function(){return!this.$1};return a}();f["default"]=a}),66);
__d("InflightAmends",["Deferred","err"],(function(a,b,c,d,e,f,g){"use strict";var h="inflight_amends_timeout",i="inflight_amends_duplicate_id";a=function(){function a(a,b,c){this.$1=a,this.$3=b,this.$4=c,this.$2=new Map()}var b=a.prototype;b.add=function(a){var b=this;if(this.$2.has(a))throw c("err")(i);var d=new(c("Deferred"))(),e=Date.now(),f=setTimeout(function(){b.$2.has(a)&&b.reject(a,c("err")(h))},this.$1);this.$2.set(a,{id:a,deferred:d,createdTimestampMs:e,timeoutId:f});return d.getPromise()};b.getPromise=function(a){return(a=this.$5(a))==null?void 0:a.deferred.getPromise()};b.resolve=function(a,b){a=this.$5(a);a&&(a.deferred.resolve==null?void 0:a.deferred.resolve(b),this.$3(a.id,Date.now()-a.createdTimestampMs),this.$6(a))};b.reject=function(a,b){a=this.$5(a);a&&(a.deferred.reject==null?void 0:a.deferred.reject(b),this.$4(a.id,b),this.$6(a))};b.rejectAll=function(a){for(var b=this.$2.entries(),c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;var f=e[0];e[1];this.reject(f,a)}};b.getSize=function(){return this.$2.size};b.getAllPromises=function(){var a=[];for(var b=this.$2.values(),c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;a.push(e.deferred.getPromise())}return a};b.$6=function(a){clearTimeout(a.timeoutId),this.$2["delete"](a.id)};b.$5=function(a){return this.$2.get(a)};return a}();g["default"]=a}),98);
__d("RequestStreamCloseReason",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["UserIntention","StartStreamFailure","StreamError","RemoteTermination","ServerDataEnd","ServerDrain","ReestablishError","ClientError"]);f.RequestStreamCloseReason=a}),66);
__d("RequestStreamCommonRequestStreamCommonSerializers",["RequestStreamCommonRequestStreamCommonTypes","ThriftTypes","jsbi"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return{}}function b(){return{expected_existing_headers:"",patch_headers_if_match:""}}function e(){return{bytes:Uint8Array.of()}}function f(){return{message:""}}function i(){return{reason:d("RequestStreamCommonRequestStreamCommonTypes").TerminationReason.cast(0)}}function j(){return{}}function k(){return{stream_id:"0",last_sequencer:0,amendment_count:0,last_status:d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.cast(0)}}function l(){return{caller_timestamp_ms:"0"}}function m(){return{original_ping_timestamp_ms:"0"}}function n(){return{}}function o(a,b){b.writeStructBegin("ResponseRewriteRequest"),a.new_headers!=null&&(b.writeFieldBegin({fname:"new_headers",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1}),b.writeString(a.new_headers),b.writeFieldEnd()),a.new_body!=null&&(b.writeFieldBegin({fname:"new_body",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:2}),b.writeBinary(a.new_body),b.writeFieldEnd()),a.patch_headers!=null&&(b.writeFieldBegin({fname:"patch_headers",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:3}),b.writeString(a.patch_headers),b.writeFieldEnd()),a.kill_body!=null&&(b.writeFieldBegin({fname:"kill_body",ftype:(h||(h=c("ThriftTypes"))).BOOL,fid:4}),b.writeBool(a.kill_body),b.writeFieldEnd()),a.temporary!=null&&(b.writeFieldBegin({fname:"temporary",ftype:(h||(h=c("ThriftTypes"))).BOOL,fid:5}),b.writeBool(a.temporary),b.writeFieldEnd()),a.conditional_patch_headers!=null&&(b.writeFieldBegin({fname:"conditional_patch_headers",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:6}),p(a.conditional_patch_headers,b),b.writeFieldEnd()),b.writeFieldStop(),b.writeStructEnd()}function p(a,b){b.writeStructBegin("ResponseRewriteConditionalPatchHeaders");b.writeFieldBegin({fname:"expected_existing_headers",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1});if(a.expected_existing_headers!=null)b.writeString(a.expected_existing_headers);else{var d="";b.writeString(d)}b.writeFieldEnd();b.writeFieldBegin({fname:"patch_headers_if_match",ftype:h.STRING,fid:2});if(a.patch_headers_if_match!=null)b.writeString(a.patch_headers_if_match);else{d="";b.writeString(d)}b.writeFieldEnd();a.patch_headers_otherwise!=null&&(b.writeFieldBegin({fname:"patch_headers_otherwise",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:3}),b.writeString(a.patch_headers_otherwise),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function q(a,b){b.writeStructBegin("ResponseData");b.writeFieldBegin({fname:"bytes",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1});if(a.bytes!=null)b.writeBinary(a.bytes);else{var d=Uint8Array.of();b.writeBinary(d)}b.writeFieldEnd();a.metadata!=null&&(b.writeFieldBegin({fname:"metadata",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:2}),b.writeString(a.metadata),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function r(a,b){b.writeStructBegin("LogMessage");b.writeFieldBegin({fname:"message",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1});if(a.message!=null)b.writeString(a.message);else{a="";b.writeString(a)}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function s(a,b){b.writeStructBegin("Termination");b.writeFieldBegin({fname:"reason",ftype:(h||(h=c("ThriftTypes"))).I32,fid:1});if(a.reason!=null){var e;b.writeI32((e=a.reason)!=null?e:0)}else{e=d("RequestStreamCommonRequestStreamCommonTypes").TerminationReason.cast(0);b.writeI32((e=e)!=null?e:0)}b.writeFieldEnd();a.message!=null&&(b.writeFieldBegin({fname:"message",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:2}),b.writeString(a.message),b.writeFieldEnd());a.retry_delay_ms!=null&&(b.writeFieldBegin({fname:"retry_delay_ms",ftype:(h||(h=c("ThriftTypes"))).I64,fid:3}),b.writeI64(c("jsbi").BigInt(a.retry_delay_ms)),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function t(a,b){b.writeStructBegin("AmendStreamAck"),a.amendment_id!=null&&(b.writeFieldBegin({fname:"amendment_id",ftype:(h||(h=c("ThriftTypes"))).I64,fid:1}),b.writeI64(c("jsbi").BigInt(a.amendment_id)),b.writeFieldEnd()),a.accepted!=null&&(b.writeFieldBegin({fname:"accepted",ftype:(h||(h=c("ThriftTypes"))).BOOL,fid:2}),b.writeBool(a.accepted),b.writeFieldEnd()),a.result!=null&&(b.writeFieldBegin({fname:"result",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:3}),b.writeBinary(a.result),b.writeFieldEnd()),b.writeFieldStop(),b.writeStructEnd()}function u(a,b){b.writeStructBegin("StreamCheck");b.writeFieldBegin({fname:"stream_id",ftype:(h||(h=c("ThriftTypes"))).I64,fid:1});if(a.stream_id!=null)b.writeI64(c("jsbi").BigInt(a.stream_id));else{var e="0";b.writeI64(c("jsbi").BigInt(e))}b.writeFieldEnd();b.writeFieldBegin({fname:"last_sequencer",ftype:h.I32,fid:2});if(a.last_sequencer!=null)b.writeI32(a.last_sequencer);else{e=0;b.writeI32(e)}b.writeFieldEnd();b.writeFieldBegin({fname:"amendment_count",ftype:h.I32,fid:4});if(a.amendment_count!=null)b.writeI32(a.amendment_count);else{e=0;b.writeI32(e)}b.writeFieldEnd();b.writeFieldBegin({fname:"last_status",ftype:h.I32,fid:3});if(a.last_status!=null){b.writeI32((e=a.last_status)!=null?e:0)}else{a=d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.cast(0);b.writeI32((e=a)!=null?e:0)}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function v(a,b){b.writeStructBegin("Ping");b.writeFieldBegin({fname:"caller_timestamp_ms",ftype:(h||(h=c("ThriftTypes"))).I64,fid:1});if(a.caller_timestamp_ms!=null)b.writeI64(c("jsbi").BigInt(a.caller_timestamp_ms));else{var d="0";b.writeI64(c("jsbi").BigInt(d))}b.writeFieldEnd();if(a.streams_to_check!=null){b.writeFieldBegin({fname:"streams_to_check",ftype:(h||(h=c("ThriftTypes"))).LIST,fid:2});b.writeListBegin({etype:h.STRUCT,size:a.streams_to_check.length});for(var d=a.streams_to_check,a=Array.isArray(d),e=0,d=a?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(a){if(e>=d.length)break;f=d[e++]}else{e=d.next();if(e.done)break;f=e.value}f=f;u(f,b)}b.writeListEnd();b.writeFieldEnd()}b.writeFieldStop();b.writeStructEnd()}function w(a,b){b.writeStructBegin("Pong");b.writeFieldBegin({fname:"original_ping_timestamp_ms",ftype:(h||(h=c("ThriftTypes"))).I64,fid:1});if(a.original_ping_timestamp_ms!=null)b.writeI64(c("jsbi").BigInt(a.original_ping_timestamp_ms));else{var d="0";b.writeI64(c("jsbi").BigInt(d))}b.writeFieldEnd();if(a.stream_ids_missing!=null){b.writeFieldBegin({fname:"stream_ids_missing",ftype:(h||(h=c("ThriftTypes"))).LIST,fid:2});b.writeListBegin({etype:h.I64,size:a.stream_ids_missing.length});for(var d=a.stream_ids_missing,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;b.writeI64(c("jsbi").BigInt(g))}b.writeListEnd();b.writeFieldEnd()}if(a.stream_ids_behind!=null){b.writeFieldBegin({fname:"stream_ids_behind",ftype:(h||(h=c("ThriftTypes"))).LIST,fid:3});b.writeListBegin({etype:h.I64,size:a.stream_ids_behind.length});for(g=a.stream_ids_behind,f=Array.isArray(g),e=0,g=f?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(f){if(e>=g.length)break;d=g[e++]}else{e=g.next();if(e.done)break;d=e.value}d=d;b.writeI64(c("jsbi").BigInt(d))}b.writeListEnd();b.writeFieldEnd()}if(a.stream_ids_with_lost_amendments!=null){b.writeFieldBegin({fname:"stream_ids_with_lost_amendments",ftype:(h||(h=c("ThriftTypes"))).LIST,fid:4});b.writeListBegin({etype:h.I64,size:a.stream_ids_with_lost_amendments.length});for(d=a.stream_ids_with_lost_amendments,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;b.writeI64(c("jsbi").BigInt(g))}b.writeListEnd();b.writeFieldEnd()}if(a.stream_ids_with_wrong_status!=null){b.writeFieldBegin({fname:"stream_ids_with_wrong_status",ftype:(h||(h=c("ThriftTypes"))).LIST,fid:5});b.writeListBegin({etype:h.I64,size:a.stream_ids_with_wrong_status.length});for(g=a.stream_ids_with_wrong_status,f=Array.isArray(g),e=0,g=f?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(f){if(e>=g.length)break;d=g[e++]}else{e=g.next();if(e.done)break;d=e.value}a=d;b.writeI64(c("jsbi").BigInt(a))}b.writeListEnd();b.writeFieldEnd()}b.writeFieldStop();b.writeStructEnd()}function x(a,b){b.writeStructBegin("StreamResponseDelta");if(a.flow_status!=null){var d;b.writeFieldBegin({fname:"flow_status",ftype:(h||(h=c("ThriftTypes"))).I32,fid:1});b.writeI32((d=a.flow_status)!=null?d:0);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.log!=null){b.writeFieldBegin({fname:"log",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:2});r(a.log,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.rewrite!=null){b.writeFieldBegin({fname:"rewrite",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:3});o(a.rewrite,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.data!=null){b.writeFieldBegin({fname:"data",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:4});q(a.data,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.termination!=null){b.writeFieldBegin({fname:"termination",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:5});s(a.termination,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.amend_ack!=null){b.writeFieldBegin({fname:"amend_ack",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:6});t(a.amend_ack,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}b.writeFieldStop();b.writeStructEnd()}function y(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRING?b.new_headers=a.readString():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).STRING?b.new_body=a.readBinary():a.skip(e);break;case 3:e===(h||(h=c("ThriftTypes"))).STRING?b.patch_headers=a.readString():a.skip(e);break;case 4:e===(h||(h=c("ThriftTypes"))).BOOL?b.kill_body=a.readBool():a.skip(e);break;case 5:e===(h||(h=c("ThriftTypes"))).BOOL?b.temporary=a.readBool():a.skip(e);break;case 6:e===(h||(h=c("ThriftTypes"))).STRUCT?b.conditional_patch_headers=z(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return b}function z(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRING?b.expected_existing_headers=a.readString():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).STRING?b.patch_headers_if_match=a.readString():a.skip(e);break;case 3:e===(h||(h=c("ThriftTypes"))).STRING?b.patch_headers_otherwise=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.expected_existing_headers===void 0&&(b.expected_existing_headers="");b.patch_headers_if_match===void 0&&(b.patch_headers_if_match="");return b}function A(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRING?b.bytes=a.readBinary():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).STRING?b.metadata=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.bytes===void 0&&(b.bytes=Uint8Array.of());return b}function B(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRING?b.message=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.message===void 0&&(b.message="");return b}function C(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:f===(h||(h=c("ThriftTypes"))).I32?b.reason=d("RequestStreamCommonRequestStreamCommonTypes").TerminationReason.cast(a.readI32()):a.skip(f);break;case 2:f===(h||(h=c("ThriftTypes"))).STRING?b.message=a.readString():a.skip(f);break;case 3:f===(h||(h=c("ThriftTypes"))).I64?b.retry_delay_ms=a.readI64().toString():a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.reason===void 0&&(b.reason=d("RequestStreamCommonRequestStreamCommonTypes").TerminationReason.cast(0));return b}function D(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).I64?b.amendment_id=a.readI64().toString():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).BOOL?b.accepted=a.readBool():a.skip(e);break;case 3:e===(h||(h=c("ThriftTypes"))).STRING?b.result=a.readBinary():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return b}function E(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:f===(h||(h=c("ThriftTypes"))).I64?b.stream_id=a.readI64().toString():a.skip(f);break;case 2:f===(h||(h=c("ThriftTypes"))).I32?b.last_sequencer=a.readI32():a.skip(f);break;case 4:f===(h||(h=c("ThriftTypes"))).I32?b.amendment_count=a.readI32():a.skip(f);break;case 3:f===(h||(h=c("ThriftTypes"))).I32?b.last_status=d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.cast(a.readI32()):a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.stream_id===void 0&&(b.stream_id="0");b.last_sequencer===void 0&&(b.last_sequencer=0);b.amendment_count===void 0&&(b.amendment_count=0);b.last_status===void 0&&(b.last_status=d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.cast(0));return b}function F(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).I64?b.caller_timestamp_ms=a.readI64().toString():a.skip(e);break;case 2:if(e===(h||(h=c("ThriftTypes"))).LIST){b.streams_to_check=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=E(a);b.streams_to_check.push(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.caller_timestamp_ms===void 0&&(b.caller_timestamp_ms="0");return b}function G(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).I64?b.original_ping_timestamp_ms=a.readI64().toString():a.skip(e);break;case 2:if(e===(h||(h=c("ThriftTypes"))).LIST){b.stream_ids_missing=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=a.readI64().toString();b.stream_ids_missing.push(g)}}else a.skip(e);break;case 3:if(e===(h||(h=c("ThriftTypes"))).LIST){b.stream_ids_behind=[];g=a.readListBegin();for(f=0;f<g.size;f++){d=a.readI64().toString();b.stream_ids_behind.push(d)}}else a.skip(e);break;case 4:if(e===(h||(h=c("ThriftTypes"))).LIST){b.stream_ids_with_lost_amendments=[];d=a.readListBegin();for(f=0;f<d.size;f++){g=a.readI64().toString();b.stream_ids_with_lost_amendments.push(g)}}else a.skip(e);break;case 5:if(e===(h||(h=c("ThriftTypes"))).LIST){b.stream_ids_with_wrong_status=[];g=a.readListBegin();for(f=0;f<g.size;f++){d=a.readI64().toString();b.stream_ids_with_wrong_status.push(d)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.original_ping_timestamp_ms===void 0&&(b.original_ping_timestamp_ms="0");return b}function H(a){var b,e={};a.readStructBegin();while(!0){var f=a.readFieldBegin(),g=f.ftype;f=f.fid;if(g===(h||(h=c("ThriftTypes"))).STOP)break;switch(f){case 1:if(g===(h||(h=c("ThriftTypes"))).I32)if(b==null)e.flow_status=d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.cast(a.readI32()),b="flow_status";else throw new Error("more than one field have been deserialized in union type: StreamResponseDelta; current field: flow_status, previous deserialized field: "+b);else a.skip(g);break;case 2:if(g===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)e.log=B(a),b="log";else throw new Error("more than one field have been deserialized in union type: StreamResponseDelta; current field: log, previous deserialized field: "+b);else a.skip(g);break;case 3:if(g===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)e.rewrite=y(a),b="rewrite";else throw new Error("more than one field have been deserialized in union type: StreamResponseDelta; current field: rewrite, previous deserialized field: "+b);else a.skip(g);break;case 4:if(g===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)e.data=A(a),b="data";else throw new Error("more than one field have been deserialized in union type: StreamResponseDelta; current field: data, previous deserialized field: "+b);else a.skip(g);break;case 5:if(g===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)e.termination=C(a),b="termination";else throw new Error("more than one field have been deserialized in union type: StreamResponseDelta; current field: termination, previous deserialized field: "+b);else a.skip(g);break;case 6:if(g===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)e.amend_ack=D(a),b="amend_ack";else throw new Error("more than one field have been deserialized in union type: StreamResponseDelta; current field: amend_ack, previous deserialized field: "+b);else a.skip(g);break;default:a.skip(g)}a.readFieldEnd()}a.readStructEnd();return e}g.ResponseRewriteRequest$DefaultConstructor=a;g.ResponseRewriteConditionalPatchHeaders$DefaultConstructor=b;g.ResponseData$DefaultConstructor=e;g.LogMessage$DefaultConstructor=f;g.Termination$DefaultConstructor=i;g.AmendStreamAck$DefaultConstructor=j;g.StreamCheck$DefaultConstructor=k;g.Ping$DefaultConstructor=l;g.Pong$DefaultConstructor=m;g.StreamResponseDelta$DefaultConstructor=n;g.serializeResponseRewriteRequest=o;g.serializeResponseRewriteConditionalPatchHeaders=p;g.serializeResponseData=q;g.serializeLogMessage=r;g.serializeTermination=s;g.serializeAmendStreamAck=t;g.serializeStreamCheck=u;g.serializePing=v;g.serializePong=w;g.serializeStreamResponseDelta=x;g.deserializeResponseRewriteRequest=y;g.deserializeResponseRewriteConditionalPatchHeaders=z;g.deserializeResponseData=A;g.deserializeLogMessage=B;g.deserializeTermination=C;g.deserializeAmendStreamAck=D;g.deserializeStreamCheck=E;g.deserializePing=F;g.deserializePong=G;g.deserializeStreamResponseDelta=H}),98);
__d("RequestStreamSingleChannelSingleChannelRequestStreamTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({Ignored:100,Success:200,Queued:250,UnknownStream:400,HandledUnknownResult:450,Failure:500});c=b("$InternalEnum")({Request_headers:"request_headers",Request_body:"request_body",Amend:"amend",Ack:"ack",Response:"response",Ping:"ping",Pong:"pong"});e.exports={Ack:a,Payload$Types:c}}),null);
__d("RequestStreamSingleChannelSingleChannelRequestStreamSerializers",["RequestStreamCommonRequestStreamCommonSerializers","RequestStreamCommonRequestStreamCommonTypes","RequestStreamSingleChannelSingleChannelRequestStreamTypes","ThriftTypes","jsbi"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return{}}function b(){return{body:Uint8Array.of()}}function e(){return{amendment:Uint8Array.of()}}function f(){return{ack:d("RequestStreamSingleChannelSingleChannelRequestStreamTypes").Ack.cast(0)}}function i(){return{delta:[]}}function j(){return{}}function k(a,b){b.writeStructBegin("RequestStreamHeaders"),a.headers!=null&&(b.writeFieldBegin({fname:"headers",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1}),b.writeBinary(a.headers),b.writeFieldEnd()),a.instrumentation_data!=null&&(b.writeFieldBegin({fname:"instrumentation_data",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:2}),b.writeBinary(a.instrumentation_data),b.writeFieldEnd()),b.writeFieldStop(),b.writeStructEnd()}function l(a,b){b.writeStructBegin("RequestStreamBody");b.writeFieldBegin({fname:"body",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1});if(a.body!=null)b.writeBinary(a.body);else{a=Uint8Array.of();b.writeBinary(a)}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function m(a,b){b.writeStructBegin("AmendStream");a.amendment_id!=null&&(b.writeFieldBegin({fname:"amendment_id",ftype:(h||(h=c("ThriftTypes"))).I64,fid:1}),b.writeI64(c("jsbi").BigInt(a.amendment_id)),b.writeFieldEnd());b.writeFieldBegin({fname:"amendment",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:2});if(a.amendment!=null)b.writeBinary(a.amendment);else{var d=Uint8Array.of();b.writeBinary(d)}b.writeFieldEnd();a.is_query!=null&&(b.writeFieldBegin({fname:"is_query",ftype:(h||(h=c("ThriftTypes"))).BOOL,fid:3}),b.writeBool(a.is_query),b.writeFieldEnd());a.instrumentation_data!=null&&(b.writeFieldBegin({fname:"instrumentation_data",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:4}),b.writeBinary(a.instrumentation_data),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function n(a,b){b.writeStructBegin("StreamResponseAck");a.response_id!=null&&(b.writeFieldBegin({fname:"response_id",ftype:(h||(h=c("ThriftTypes"))).I64,fid:1}),b.writeI64(c("jsbi").BigInt(a.response_id)),b.writeFieldEnd());b.writeFieldBegin({fname:"ack",ftype:(h||(h=c("ThriftTypes"))).I32,fid:2});if(a.ack!=null){var e;b.writeI32((e=a.ack)!=null?e:0)}else{e=d("RequestStreamSingleChannelSingleChannelRequestStreamTypes").Ack.cast(0);b.writeI32((e=e)!=null?e:0)}b.writeFieldEnd();a.query_result!=null&&(b.writeFieldBegin({fname:"query_result",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:3}),b.writeBinary(a.query_result),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function o(a,b){b.writeStructBegin("StreamResponse");a.response_id!=null&&(b.writeFieldBegin({fname:"response_id",ftype:(h||(h=c("ThriftTypes"))).I64,fid:1}),b.writeI64(c("jsbi").BigInt(a.response_id)),b.writeFieldEnd());b.writeFieldBegin({fname:"delta",ftype:(h||(h=c("ThriftTypes"))).LIST,fid:2});if(a.delta!=null){b.writeListBegin({etype:(h||(h=c("ThriftTypes"))).STRUCT,size:a.delta.length});for(var e=a.delta,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(f){if(g>=e.length)break;i=e[g++]}else{g=e.next();if(g.done)break;i=g.value}i=i;d("RequestStreamCommonRequestStreamCommonSerializers").serializeStreamResponseDelta(i,b)}b.writeListEnd()}else{i=[];b.writeListBegin({etype:(h||(h=c("ThriftTypes"))).STRUCT,size:i.length});for(g=0;g<i.length;g++){f=i[g];d("RequestStreamCommonRequestStreamCommonSerializers").serializeStreamResponseDelta(f,b)}b.writeListEnd()}b.writeFieldEnd();if(a.ack_level!=null){b.writeFieldBegin({fname:"ack_level",ftype:(h||(h=c("ThriftTypes"))).I32,fid:3});b.writeI32((e=a.ack_level)!=null?e:0);b.writeFieldEnd()}a.query_request!=null&&(b.writeFieldBegin({fname:"query_request",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:4}),b.writeBinary(a.query_request),b.writeFieldEnd());a.instrumentation_data!=null&&(b.writeFieldBegin({fname:"instrumentation_data",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:5}),b.writeBinary(a.instrumentation_data),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function p(a,b){b.writeStructBegin("Payload");if(a.request_headers!=null){b.writeFieldBegin({fname:"request_headers",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:1});k(a.request_headers,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.request_body!=null){b.writeFieldBegin({fname:"request_body",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:2});l(a.request_body,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.amend!=null){b.writeFieldBegin({fname:"amend",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:3});m(a.amend,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.ack!=null){b.writeFieldBegin({fname:"ack",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:4});n(a.ack,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.response!=null){b.writeFieldBegin({fname:"response",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:5});o(a.response,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.ping!=null){b.writeFieldBegin({fname:"ping",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:6});d("RequestStreamCommonRequestStreamCommonSerializers").serializePing(a.ping,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.pong!=null){b.writeFieldBegin({fname:"pong",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:7});d("RequestStreamCommonRequestStreamCommonSerializers").serializePong(a.pong,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}b.writeFieldStop();b.writeStructEnd()}function q(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRING?b.headers=a.readBinary():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).STRING?b.instrumentation_data=a.readBinary():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return b}function r(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRING?b.body=a.readBinary():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.body===void 0&&(b.body=Uint8Array.of());return b}function s(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).I64?b.amendment_id=a.readI64().toString():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).STRING?b.amendment=a.readBinary():a.skip(e);break;case 3:e===(h||(h=c("ThriftTypes"))).BOOL?b.is_query=a.readBool():a.skip(e);break;case 4:e===(h||(h=c("ThriftTypes"))).STRING?b.instrumentation_data=a.readBinary():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.amendment===void 0&&(b.amendment=Uint8Array.of());return b}function t(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:f===(h||(h=c("ThriftTypes"))).I64?b.response_id=a.readI64().toString():a.skip(f);break;case 2:f===(h||(h=c("ThriftTypes"))).I32?b.ack=d("RequestStreamSingleChannelSingleChannelRequestStreamTypes").Ack.cast(a.readI32()):a.skip(f);break;case 3:f===(h||(h=c("ThriftTypes"))).STRING?b.query_result=a.readBinary():a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.ack===void 0&&(b.ack=d("RequestStreamSingleChannelSingleChannelRequestStreamTypes").Ack.cast(0));return b}function u(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:f===(h||(h=c("ThriftTypes"))).I64?b.response_id=a.readI64().toString():a.skip(f);break;case 2:if(f===(h||(h=c("ThriftTypes"))).LIST){b.delta=[];e=a.readListBegin();for(var g=0;g<e.size;g++){var i=d("RequestStreamCommonRequestStreamCommonSerializers").deserializeStreamResponseDelta(a);b.delta.push(i)}}else a.skip(f);break;case 3:f===(h||(h=c("ThriftTypes"))).I32?b.ack_level=d("RequestStreamCommonRequestStreamCommonTypes").AckLevel.cast(a.readI32()):a.skip(f);break;case 4:f===(h||(h=c("ThriftTypes"))).STRING?b.query_request=a.readBinary():a.skip(f);break;case 5:f===(h||(h=c("ThriftTypes"))).STRING?b.instrumentation_data=a.readBinary():a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.delta===void 0&&(b.delta=[]);return b}function v(a){var b,e={};a.readStructBegin();while(!0){var f=a.readFieldBegin(),g=f.ftype;f=f.fid;if(g===(h||(h=c("ThriftTypes"))).STOP)break;switch(f){case 1:if(g===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)e.request_headers=q(a),b="request_headers";else throw new Error("more than one field have been deserialized in union type: Payload; current field: request_headers, previous deserialized field: "+b);else a.skip(g);break;case 2:if(g===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)e.request_body=r(a),b="request_body";else throw new Error("more than one field have been deserialized in union type: Payload; current field: request_body, previous deserialized field: "+b);else a.skip(g);break;case 3:if(g===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)e.amend=s(a),b="amend";else throw new Error("more than one field have been deserialized in union type: Payload; current field: amend, previous deserialized field: "+b);else a.skip(g);break;case 4:if(g===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)e.ack=t(a),b="ack";else throw new Error("more than one field have been deserialized in union type: Payload; current field: ack, previous deserialized field: "+b);else a.skip(g);break;case 5:if(g===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)e.response=u(a),b="response";else throw new Error("more than one field have been deserialized in union type: Payload; current field: response, previous deserialized field: "+b);else a.skip(g);break;case 6:if(g===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)e.ping=d("RequestStreamCommonRequestStreamCommonSerializers").deserializePing(a),b="ping";else throw new Error("more than one field have been deserialized in union type: Payload; current field: ping, previous deserialized field: "+b);else a.skip(g);break;case 7:if(g===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)e.pong=d("RequestStreamCommonRequestStreamCommonSerializers").deserializePong(a),b="pong";else throw new Error("more than one field have been deserialized in union type: Payload; current field: pong, previous deserialized field: "+b);else a.skip(g);break;default:a.skip(g)}a.readFieldEnd()}a.readStructEnd();return e}g.RequestStreamHeaders$DefaultConstructor=a;g.RequestStreamBody$DefaultConstructor=b;g.AmendStream$DefaultConstructor=e;g.StreamResponseAck$DefaultConstructor=f;g.StreamResponse$DefaultConstructor=i;g.Payload$DefaultConstructor=j;g.serializeRequestStreamHeaders=k;g.serializeRequestStreamBody=l;g.serializeAmendStream=m;g.serializeStreamResponseAck=n;g.serializeStreamResponse=o;g.serializePayload=p;g.deserializeRequestStreamHeaders=q;g.deserializeRequestStreamBody=r;g.deserializeAmendStream=s;g.deserializeStreamResponseAck=t;g.deserializeStreamResponse=u;g.deserializePayload=v}),98);
__d("RequestStreamState",["RequestStreamCommonRequestStreamCommonTypes"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){switch(b){case d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Accepted:return a.seenAccepted?a:{flowStatus:d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Accepted,seenAccepted:!0};default:if(!a.seenAccepted||a.flowStatus===b)return a;else return{flowStatus:b,seenAccepted:!0}}}g.getNextState=a}),98);
__d("StreamRetryState",[],(function(a,b,c,d,e,f){"use strict";var g=1e3,h=2*60*1e3;a=function(){function a(){this.$1=0}var b=a.prototype;b.resetErrorAndRetryCount=function(){this.$1=0};b.onRetry=function(){this.$1+=1};b.getRetryCount=function(){return this.$1};b.getBackoffDelayMs=function(){if(this.$1<=1)return 0;if(this.$1===2)return g*Math.random();var a=g*Math.pow(2,this.$1-3),b=a*Math.random();a=a+b;return Math.min(a,h)};return a}();f["default"]=a}),66);
__d("DGWRequestStreamRef",["CompactSerializerPolyfill","DGWRequestStreamUtils","DGWStream","DGWStreamHandler","InflightAmends","Promise","RequestStreamCloseReason","RequestStreamCommonRequestStreamCommonTypes","RequestStreamE2EClientLoggerEvent","RequestStreamE2EClientLoggerMessageType","RequestStreamE2ELogger","RequestStreamE2ESampling","RequestStreamSingleChannelSingleChannelRequestStreamSerializers","RequestStreamSingleChannelSingleChannelRequestStreamTypes","RequestStreamState","RequestStreamTransport","RtiWebRequestStreamClient","StreamRetryState","err","gkx","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=4,j=0,k=1e3,l=2,m=c("gkx")("20915")?3e4:5e3,n="dgw_stream_send_ack_failure";function o(a){if(!a){a=c("err")(n);a.stack;throw a}}function p(a,b){if(a==null||a.length===0)return null;a=JSON.parse(a);a.auxId=b;return new TextEncoder().encode(JSON.stringify(a))}function q(a){var b={};a=a.delta;a.forEach(function(a){if(a.flow_status){b.type=d("RequestStreamCommonRequestStreamCommonTypes").StreamResponseDelta$Types.Flow_status;switch(a.flow_status){case d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Accepted:b.flow_status="Accepted";break;case d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Started:b.flow_status="Started";break;case d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Stopped:b.flow_status="Stopped";break}}else a.log?b.type=d("RequestStreamCommonRequestStreamCommonTypes").StreamResponseDelta$Types.Log:a.rewrite?b.type=d("RequestStreamCommonRequestStreamCommonTypes").StreamResponseDelta$Types.Rewrite:a.data?b.type=d("RequestStreamCommonRequestStreamCommonTypes").StreamResponseDelta$Types.Data:a.termination?b.type=d("RequestStreamCommonRequestStreamCommonTypes").StreamResponseDelta$Types.Termination:a.amend_ack&&(b.type=d("RequestStreamCommonRequestStreamCommonTypes").StreamResponseDelta$Types.Amend_ack)});return b}a=function(){function a(a,b,e,f,g,h){var j=this;this.$6=null;this.$7={};this.$10=!1;this.$15=new(c("StreamRetryState"))();this.$16=0;this.$17=0;this.$18=0;this.$21=0;var k=null;typeof b=="string"?k=new TextEncoder().encode(b):typeof b=="object"&&(k=b);this.$1={headers:a,body:k};this.$3=e;this.$4=f;this.$12=i;this.$9=!1;this.$14=!1;this.$20=h;g!=null&&(this.$22()||(g.dgwStreamGroupLoggingId=this.$20.getStreamGroupLoggingId()),g.dgwCountPriorStreamsInGroup=this.$20.guessStreamGroupPriorStreamCount(),g.transport="WEB_RS_STARGATE");this.$5=d("RequestStreamE2ESampling").validateInstrumentationData(a,g,f==null?void 0:f.requestLogContext,f==null?void 0:f.upsampleMultiplier);!this.$22()?this.$6=d("RequestStreamE2ELogger").createStreamLogger(a,this.$5,d("RequestStreamTransport").RequestStreamTransport.WEB_RS_STARGATE):this.$7.disableFalcoLogging=!0;(f==null?void 0:f.deviceId)!=null&&(this.$7.deviceId=f.deviceId);this.$6&&(this.$7.loggingId=this.$6.getRequestId());f&&f.overrideUrl!=null&&(this.$7.overrideUrl=f.overrideUrl);this.$8={flowStatus:d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Stopped,seenAccepted:!1};this.$19=new(c("InflightAmends"))(m,function(a,b){var d;(d=j.$6)==null?void 0:d.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").AMENDMENT_ACK,c("RequestStreamE2EClientLoggerEvent").RECEIVED,babelHelpers["extends"]({},j.$23(),{latency:b.toString()}),a)},function(a,b){if(b.message!==n){var d;(d=j.$6)==null?void 0:d.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").AMENDMENT_ACK,c("RequestStreamE2EClientLoggerEvent").FAILURE,babelHelpers["extends"]({},j.$23(),{reason:b.message}),a)}});(k=this.$6)==null?void 0:k.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,c("RequestStreamE2EClientLoggerEvent").RECEIVED,{data_size:(h=b==null?void 0:(e=b.length)==null?void 0:e.toString())!=null?h:"0"},"0","0")}var e=a.prototype;e.getInstrumentationData=function(){return this.$5};e.getE2EClientLogger=function(){return this.$6};e.amendWithAck=function(a){a=this.$24(a,!0);return a===null||a===void 0?(h||(h=b("Promise"))).resolve(!1):this.$19.getPromise(a)||(h||(h=b("Promise"))).resolve(!1)};e.amendWithoutAck=function(a){this.$24(a,!1)};e.cancel=function(){var a;(a=this.$6)==null?void 0:a.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").CANCEL,c("RequestStreamE2EClientLoggerEvent").RECEIVED);this.$9=!0;this.$25(d("RequestStreamCloseReason").RequestStreamCloseReason.UserIntention,"user cancel the stream",!0)};e.start=function(a){var e=this;a===void 0&&(a=!1);var f=String(this.$16++),g=Date.now();return this.$26(f).then(function(){var a;e.$14=!1;e.$21=0;var b=(Date.now()-g).toString();(a=e.$6)==null?void 0:a.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,c("RequestStreamE2EClientLoggerEvent").PUBACK,{latency:b},f,String(e.$18))})["catch"](function(g){g.stack;if(g.message===n&&e.$10)return;e.$14=!1;if(g!==d("DGWStream").StreamError.ESTABLISHMENT_ERROR){var i,j=g.message;g===d("DGWStream").StreamError.UNAUTHENTICATED?j="UNAUTHENTICATED":g===d("DGWStream").StreamError.UNAUTHORIZED&&(j="UNAUTHORIZED");(i=e.$6)==null?void 0:i.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,c("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:j},f,String(e.$18));e.$25(a?d("RequestStreamCloseReason").RequestStreamCloseReason.ReestablishError:d("RequestStreamCloseReason").RequestStreamCloseReason.StartStreamFailure,j,!0);if(g===d("DGWStream").StreamError.UNAUTHENTICATED||g===d("DGWStream").StreamError.UNAUTHORIZED)return;throw g}else{(i=e.$6)==null?void 0:i.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,c("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:(j=g.message)!=null?j:g},f,String(e.$18));e.$15.onRetry();var m=c("gkx")("20916")?e.$15.getBackoffDelayMs():k*Math.pow(l,e.$21);return new(h||(h=b("Promise")))(function(a){return window.setTimeout(a,m)}).then(function(){e.$21++;e.$18++;return e.start()})}})};e.getFlowStatus=function(){return this.$8.flowStatus};e.shouldTerminateOrRetry=function(a,e,f,g){var i=this;if(this.$14)return;var k=e;this.$12||(k="cannot retry for error: "+e+" because of hit max retry limitation");if(a!==d("RequestStreamCloseReason").RequestStreamCloseReason.ClientError){(e=this.$6)==null?void 0:e.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,c("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:k},null,String(this.$18))}e=f&&(c("gkx")("20916")||this.$12);this.$25(a,k,!e);if(e){var l=c("gkx")("20916")?Math.max((f=g)!=null?f:0,this.$15.getBackoffDelayMs()):(a=g)!=null?a:j;this.$14=!0;return new(h||(h=b("Promise")))(function(a){return window.setTimeout(a,l)}).then(function(){return i.$27()})["catch"](function(a){})}};e.$28=function(){return this.$11!=null};e.$24=function(a,b){var e,f=this,g=typeof a=="string"?new TextEncoder().encode(a):a,h=String(this.$17++);(e=this.$6)==null?void 0:e.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").AMENDMENT,c("RequestStreamE2EClientLoggerEvent").RECEIVED,{},h);e=p(this.$5,h);g={amend:{amendment:g,instrumentation_data:e}};b&&g.amend&&(g.amend.amendment_id=h);e=d("CompactSerializerPolyfill").serialize(g,d("RequestStreamSingleChannelSingleChannelRequestStreamSerializers").serializePayload);var i=Date.now();if(this.$29()&&this.$11!=null){b&&this.$19.add(h);this.$11.send(e).then(function(a){var b;o(a);a=(Date.now()-i).toString();(b=f.$6)==null?void 0:b.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").AMENDMENT,c("RequestStreamE2EClientLoggerEvent").PUBACK,{latency:a},h)})["catch"](function(a){var b;(b=f.$6)==null?void 0:b.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").AMENDMENT,c("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:a.message},h);f.$19.reject(h,a)});(g=this.$6)==null?void 0:g.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").AMENDMENT,c("RequestStreamE2EClientLoggerEvent").SENT,{data_size:(e=a==null?void 0:(b=a.length)==null?void 0:b.toString())!=null?e:"0"},h);return h}else{(g=this.$6)==null?void 0:g.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").AMENDMENT,c("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:"not_started"},h)}};e.$26=function(a){var e=this,f,g,h,j,k,l,m,n,p;return b("regeneratorRuntime").async(function(q){while(1)switch(q.prev=q.next){case 0:if(this.$9){q.next=39;break}g=this.$2||this.$1;q.prev=2;h=this.$30();this.$13=h;j=g.headers.www_sandbox;k=babelHelpers["extends"]({},g.headers,this.$31());j!=null&&(k=babelHelpers["extends"]({},k,{www_sandbox:j}));l=d("DGWRequestStreamUtils").convertHeaders(k,g.body!=null,this.$5);q.next=11;return b("regeneratorRuntime").awrap(this.$20.establishStream(l,h,this.$7));case 11:this.$11=q.sent;q.next=26;break;case 14:q.prev=14;q.t0=q["catch"](2);if(!(q.t0===d("DGWStream").StreamError.ESTABLISHMENT_ERROR)){q.next=18;break}throw q.t0;case 18:if(!(d("DGWStream").StreamError.isValid(q.t0)&&!d("DGWStream").isRetryableError(q.t0))){q.next=22;break}throw q.t0;case 22:if(!(d("DGWStream").StreamError.isValid(q.t0)&&d("DGWStream").isRetryableError(q.t0))){q.next=25;break}this.$32(q.t0);return q.abrupt("return");case 25:throw q.t0;case 26:if(!this.$9){q.next=29;break}this.$25(d("RequestStreamCloseReason").RequestStreamCloseReason.UserIntention,"user cancel the stream",!0);return q.abrupt("return");case 29:m=new Uint8Array([]);g.body!=null&&(n={request_body:{body:g.body}},m=d("CompactSerializerPolyfill").serialize(n,d("RequestStreamSingleChannelSingleChannelRequestStreamSerializers").serializePayload));if(this.$11){q.next=33;break}throw new Error("dgwstream_is_null");case 33:p=this.$11.send(m).then(function(a){o(a),e.$9&&e.$25(d("RequestStreamCloseReason").RequestStreamCloseReason.UserIntention,"user cancel the stream",!0)});(f=this.$6)==null?void 0:f.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,c("RequestStreamE2EClientLoggerEvent").SENT,{},a,String(this.$18));this.$12=i;return q.abrupt("return",p);case 39:throw new Error("stream_already_canceled");case 40:case"end":return q.stop()}},null,this,[[2,14]])};e.$29=function(){return this.$8.flowStatus===d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Started||this.$8.flowStatus===d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Accepted};e.$25=function(a,b,e){var f;this.$11&&a!==d("RequestStreamCloseReason").RequestStreamCloseReason.StreamError&&a!==d("RequestStreamCloseReason").RequestStreamCloseReason.RemoteTermination&&this.$11.close();c("gkx")("20917")&&this.$19.rejectAll(c("err")("stream terminating: "+b));(f=this.$13)==null?void 0:f.stop();this.$11=null;this.$10=!0;this.$33(d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Stopped)&&this.$3.onFlowStatus(d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Stopped);e&&!this.$9&&this.$3.onTermination("terminate stream because "+a+" with msg : "+b)};e.$33=function(a){var b=this.$8;this.$8=d("RequestStreamState").getNextState(b,a);return b!==this.$8};e.$27=function(){this.$12--;this.$18++;this.$15.onRetry();return this.start(!0)};e.$34=function(a){var b=this;a=d("CompactSerializerPolyfill").deserialize(a,d("RequestStreamSingleChannelSingleChannelRequestStreamSerializers").deserializePayload);if(a.response){var e=d("DGWRequestStreamUtils").getInstrumentationDataFieldsFromPayload(a),f=e==null?void 0:e.auxId;e=e==null?void 0:e.dfTraceId;if(!this.$28()){var g;(g=this.$6)==null?void 0:g.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").RESPONSE,c("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:"response_received_after_close"},f,String(this.$18),e);return}(g=this.$6)==null?void 0:g.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").RESPONSE,c("RequestStreamE2EClientLoggerEvent").RECEIVED,q(a.response),f,String(this.$18),e);g=a.response.delta;g.forEach(function(a){if(a.data)b.$15.resetErrorAndRetryCount(),b.$8.flowStatus===d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Started&&b.$3.onData(new TextDecoder("utf-8").decode(a.data.bytes));else if(a.flow_status){var c=a.flow_status;c===d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Started&&b.$15.resetErrorAndRetryCount();b.$33(c)&&b.$3.onFlowStatus(c)}else if(a.termination){c=(c=a.termination.message)!=null?c:"unknown termination msg";b.$2=null;b.shouldTerminateOrRetry(d("RequestStreamCloseReason").RequestStreamCloseReason.RemoteTermination,c,a.termination.reason===d("RequestStreamCommonRequestStreamCommonTypes").TerminationReason.TryAgain,a.termination.retry_delay_ms!=null?parseInt(a.termination.retry_delay_ms,10):null)}else if(a.log)b.$3.onLog(a.log.message);else if(a.amend_ack){c=a.amend_ack.amendment_id;if(c!=null){var e=a.amend_ack.accepted||!1;b.$19.resolve(c,e)}}else if(a.rewrite){c=d("DGWRequestStreamUtils").transformContextWithRewriteDelta(b.$1,a.rewrite);a.rewrite.temporary===!0?b.$2=c:b.$1=c}});(g=this.$6)==null?void 0:g.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").RESPONSE,c("RequestStreamE2EClientLoggerEvent").SENT,q(a.response),f,String(this.$18),e);a.response.ack_level===d("RequestStreamCommonRequestStreamCommonTypes").AckLevel.Device&&a.response.response_id!=null&&this.$35(a.response.response_id,f)}else{(g=this.$6)==null?void 0:g.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").RESPONSE,c("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:"unexpected_payload_type"},null,String(this.$18))}};e.$35=function(a,b){a={ack:{response_id:a,ack:d("RequestStreamSingleChannelSingleChannelRequestStreamTypes").Ack.Success}};a=d("CompactSerializerPolyfill").serialize(a,d("RequestStreamSingleChannelSingleChannelRequestStreamSerializers").serializePayload);if(this.$11!=null){this.$11.send(a);(a=this.$6)==null?void 0:a.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").RESPONSE_ACK,c("RequestStreamE2EClientLoggerEvent").SENT,{},b,String(this.$18))}else{(a=this.$6)==null?void 0:a.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").RESPONSE_ACK,c("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:"not_started"},b,String(this.$18))}};e.$22=function(){return this.$1.headers.method==="Falco"};e.$30=function(){return new(c("DGWStreamHandler"))(this.$36.bind(this),this.$37.bind(this),this.$32.bind(this),this.$38.bind(this),this.$39.bind(this))};e.$39=function(a){(a=this.$6)==null?void 0:a.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,c("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:"OnClose: Server Has FinishedSendingData"},null,String(this.$18));this.$25(d("RequestStreamCloseReason").RequestStreamCloseReason.ServerDataEnd,"Client receive OnServerHasFinishedSendingData and Server will not send more data",!0)};e.$36=function(a){(a=this.$6)==null?void 0:a.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,c("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:"OnClose: Server Close Connection"},null,String(this.$18));this.$25(d("RequestStreamCloseReason").RequestStreamCloseReason.RemoteTermination,"Client receive OnClose and Server will not send more data",!0)};e.$37=function(a){try{this.$34(a)}catch(b){(a=this.$6)==null?void 0:a.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").RESPONSE,c("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:b.message},null,String(this.$18));this.shouldTerminateOrRetry(d("RequestStreamCloseReason").RequestStreamCloseReason.ClientError,b.message,!1)}};e.$32=function(a){var b="",c=d("DGWStream").isRetryableError(a);b="StreamError: Received "+a;this.shouldTerminateOrRetry(d("RequestStreamCloseReason").RequestStreamCloseReason.StreamError,b,c)};e.$38=function(a,b){this.shouldTerminateOrRetry(d("RequestStreamCloseReason").RequestStreamCloseReason.ServerDrain,b,!0)};e.$31=function(){return c("RtiWebRequestStreamClient").overrideHeaders};e.$23=function(){var a={};c("gkx")("20918")&&(a.pending_amendments_size=this.$19.getSize().toString());return a};return a}();g["default"]=a}),98);
__d("DGWStreamGroupHandler",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b,c){this.$1=a,this.$2=b,this.$3=c}var b=a.prototype;b.onStreamGroupError=function(a){this.$1(a)};b.onStreamGroupMustDrain=function(a){this.$2(a)};b.onStreamGroupTransportClose=function(){this.$3()};return a}();f["default"]=a}),66);
__d("DGWStreamFactory",["DGWClient","DGWStreamGroupHandler","Promise","gkx","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i="realtime",j=1e4,k=null;a=function(){function a(){this.$3=0,this.$1=null,c("gkx")("20920")&&(this.$2=c("uuidv4")())}a.get=function(){k==null&&(k=new a());return k};var d=a.prototype;d.getStreamGroupLoggingId=function(){return this.$2};d.guessStreamGroupPriorStreamCount=function(){return this.$3};d.establishStream=function(a,d,e){var f=this;if(this.$1==null||!this.$1.canCreateGroupedStream()){var g={deviceId:e.deviceId,serviceId:i,disableFalcoLogging:e.disableFalcoLogging,streamGroupAppHeaders:{"stream-group":"group1"}};e.overrideUrl!=null&&(g.overrideUrl=e.overrideUrl);g.keepAliveMs=j;c("gkx")("20920")?(this.$2=c("uuidv4")(),g.loggingId=this.$2):this.$2=null;this.$3=0;try{this.$1=c("DGWClient")().createStreamGroup(new(c("DGWStreamGroupHandler"))(function(){f.$1=null},function(){f.$1=null},function(){f.$1=null}),g)}catch(a){return(h||(h=b("Promise"))).reject(a)}}this.$3++;return this.$1.establishStream({loggingId:e.loggingId,disableFalcoLogging:e.disableFalcoLogging,groupedStreamHeaders:a},d)};return a}();g["default"]=a}),98);
__d("DGWRequestStreamClient",["DGWRequestStreamRef","DGWStreamFactory","Promise","cr:2046346"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a){this.$1=a!=null?a:c("DGWStreamFactory").get()}var d=a.prototype;d.createStream=function(a,d,e,f,g){b("cr:2046346")!=null&&b("cr:2046346").startPulsarTest();return(h||(h=b("Promise"))).resolve(new(c("DGWRequestStreamRef"))(a,d,f,g,e,this.$1))};return a}();g["default"]=a}),98);